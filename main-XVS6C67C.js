import{A as zb,B as iv,C as Qg,D as wn,E as Mp,F as _U,G as AD,H as yU,I as DD,J as kU,K as bU,L as xU,M as CU,N as RD,O as EU,P as PD,Q as Sp,R as ov,S as MU,T as SU,U as IU,V as qb,a as Hb,aa as mt,b as Hc,c as is,ca as Iu,d as tv,da as TU,e as Da,ea as OD,f as gU,fa as sv,g as mU,ga as Wb,h as vU,ha as av,i as lt,ia as ND,j as yl,ja as LD,k as kl,l as nv,m as bl,ma as AU,n as Cp,o as Dr,p as rv,pa as DU,q as Ti,qa as RU,r as Ep,ra as PU,s as Uc,sa as lv,t as wU,ta as FD,u as ID,ua as OU,v as Ub,va as Ip,w as $b,wa as NU,x as Fn,y as TD,z as Rr}from"./chunk-4UEN2IRB.js";import{a as G,b as ye,c as dU,d as xp,e as ke,f as uU,g as Zg,h as hU,i as co,j as Su,k as Vb,l as jb,m as pU,n as rs,o as E,p as MD,q as SD,r as fU}from"./chunk-AO7ZYJVO.js";var fne=ke((RCt,pne)=>{"use strict";pne.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Th=ke(Yf=>{"use strict";var G8,T3e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Yf.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Yf.getSymbolTotalCodewords=function(e){return T3e[e]};Yf.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Yf.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');G8=e};Yf.isKanjiModeEnabled=function(){return typeof G8<"u"};Yf.toSJIS=function(e){return G8(e)}});var fS=ke(ua=>{"use strict";ua.L={bit:1};ua.M={bit:0};ua.Q={bit:3};ua.H={bit:2};function A3e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return ua.L;case"m":case"medium":return ua.M;case"q":case"quartile":return ua.Q;case"h":case"high":return ua.H;default:throw new Error("Unknown EC Level: "+n)}}ua.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};ua.from=function(e,t){if(ua.isValid(e))return e;try{return A3e(e)}catch{return t}}});var vne=ke((NCt,mne)=>{"use strict";function gne(){this.buffer=[],this.length=0}gne.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};mne.exports=gne});var _ne=ke((LCt,wne)=>{"use strict";function sy(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}sy.prototype.set=function(n,e,t,r){let i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};sy.prototype.get=function(n,e){return this.data[n*this.size+e]};sy.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};sy.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};wne.exports=sy});var yne=ke(gS=>{"use strict";var D3e=Th().getSymbolSize;gS.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,r=D3e(e),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};gS.getPositions=function(e){let t=[],r=gS.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||t.push([r[o],r[s]]);return t}});var xne=ke(bne=>{"use strict";var R3e=Th().getSymbolSize,kne=7;bne.getPositions=function(e){let t=R3e(e);return[[0,0],[t-kne,0],[0,t-kne]]}});var Cne=ke(ir=>{"use strict";ir.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Xf={N1:3,N2:3,N3:40,N4:10};ir.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ir.from=function(e){return ir.isValid(e)?parseInt(e,10):void 0};ir.getPenaltyN1=function(e){let t=e.size,r=0,i=0,o=0,s=null,a=null;for(let l=0;l<t;l++){i=o=0,s=a=null;for(let c=0;c<t;c++){let u=e.get(l,c);u===s?i++:(i>=5&&(r+=Xf.N1+(i-5)),s=u,i=1),u=e.get(c,l),u===a?o++:(o>=5&&(r+=Xf.N1+(o-5)),a=u,o=1)}i>=5&&(r+=Xf.N1+(i-5)),o>=5&&(r+=Xf.N1+(o-5))}return r};ir.getPenaltyN2=function(e){let t=e.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*Xf.N2};ir.getPenaltyN3=function(e){let t=e.size,r=0,i=0,o=0;for(let s=0;s<t;s++){i=o=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&r++}return r*Xf.N3};ir.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*Xf.N4};function P3e(n,e,t){switch(n){case ir.Patterns.PATTERN000:return(e+t)%2===0;case ir.Patterns.PATTERN001:return e%2===0;case ir.Patterns.PATTERN010:return t%3===0;case ir.Patterns.PATTERN011:return(e+t)%3===0;case ir.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case ir.Patterns.PATTERN101:return e*t%2+e*t%3===0;case ir.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case ir.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}ir.applyMask=function(e,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,P3e(e,o,i))};ir.getBestMask=function(e,t){let r=Object.keys(ir.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){t(s),ir.applyMask(s,e);let a=ir.getPenaltyN1(e)+ir.getPenaltyN2(e)+ir.getPenaltyN3(e)+ir.getPenaltyN4(e);ir.applyMask(s,e),a<o&&(o=a,i=s)}return i}});var Y8=ke(K8=>{"use strict";var Ah=fS(),mS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],vS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];K8.getBlocksCount=function(e,t){switch(t){case Ah.L:return mS[(e-1)*4+0];case Ah.M:return mS[(e-1)*4+1];case Ah.Q:return mS[(e-1)*4+2];case Ah.H:return mS[(e-1)*4+3];default:return}};K8.getTotalCodewordsCount=function(e,t){switch(t){case Ah.L:return vS[(e-1)*4+0];case Ah.M:return vS[(e-1)*4+1];case Ah.Q:return vS[(e-1)*4+2];case Ah.H:return vS[(e-1)*4+3];default:return}}});var Ene=ke(_S=>{"use strict";var ay=new Uint8Array(512),wS=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)ay[t]=e,wS[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)ay[t]=ay[t-255]})();_S.log=function(e){if(e<1)throw new Error("log("+e+")");return wS[e]};_S.exp=function(e){return ay[e]};_S.mul=function(e,t){return e===0||t===0?0:ay[wS[e]+wS[t]]}});var Mne=ke(ly=>{"use strict";var X8=Ene();ly.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=X8.mul(e[i],t[o]);return r};ly.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let i=r[0];for(let s=0;s<t.length;s++)r[s]^=X8.mul(t[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};ly.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=ly.mul(t,new Uint8Array([1,X8.exp(r)]));return t}});var Tne=ke(($Ct,Ine)=>{"use strict";var Sne=Mne();function Z8(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Z8.prototype.initialize=function(e){this.degree=e,this.genPoly=Sne.generateECPolynomial(this.degree)};Z8.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=Sne.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Ine.exports=Z8});var Q8=ke(Ane=>{"use strict";Ane.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var J8=ke($d=>{"use strict";var Dne="[0-9]+",O3e="[A-Z $%*+\\-./:]+",cy="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";cy=cy.replace(/u/g,"\\u");var N3e="(?:(?![A-Z0-9 $%*+\\-./:]|"+cy+`)(?:.|[\r
]))+`;$d.KANJI=new RegExp(cy,"g");$d.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$d.BYTE=new RegExp(N3e,"g");$d.NUMERIC=new RegExp(Dne,"g");$d.ALPHANUMERIC=new RegExp(O3e,"g");var L3e=new RegExp("^"+cy+"$"),F3e=new RegExp("^"+Dne+"$"),B3e=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$d.testKanji=function(e){return L3e.test(e)};$d.testNumeric=function(e){return F3e.test(e)};$d.testAlphanumeric=function(e){return B3e.test(e)}});var Dh=ke(oi=>{"use strict";var V3e=Q8(),eF=J8();oi.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};oi.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};oi.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};oi.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};oi.MIXED={bit:-1};oi.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!V3e.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};oi.getBestModeForData=function(e){return eF.testNumeric(e)?oi.NUMERIC:eF.testAlphanumeric(e)?oi.ALPHANUMERIC:eF.testKanji(e)?oi.KANJI:oi.BYTE};oi.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};oi.isValid=function(e){return e&&e.bit&&e.ccBits};function j3e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return oi.NUMERIC;case"alphanumeric":return oi.ALPHANUMERIC;case"kanji":return oi.KANJI;case"byte":return oi.BYTE;default:throw new Error("Unknown mode: "+n)}}oi.from=function(e,t){if(oi.isValid(e))return e;try{return j3e(e)}catch{return t}}});var Lne=ke(Zf=>{"use strict";var yS=Th(),H3e=Y8(),Rne=fS(),Rh=Dh(),tF=Q8(),One=7973,Pne=yS.getBCHDigit(One);function U3e(n,e,t){for(let r=1;r<=40;r++)if(e<=Zf.getCapacity(r,t,n))return r}function Nne(n,e){return Rh.getCharCountIndicator(n,e)+4}function $3e(n,e){let t=0;return n.forEach(function(r){let i=Nne(r.mode,e);t+=i+r.getBitsLength()}),t}function z3e(n,e){for(let t=1;t<=40;t++)if($3e(n,t)<=Zf.getCapacity(t,e,Rh.MIXED))return t}Zf.from=function(e,t){return tF.isValid(e)?parseInt(e,10):t};Zf.getCapacity=function(e,t,r){if(!tF.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Rh.BYTE);let i=yS.getSymbolTotalCodewords(e),o=H3e.getTotalCodewordsCount(e,t),s=(i-o)*8;if(r===Rh.MIXED)return s;let a=s-Nne(r,e);switch(r){case Rh.NUMERIC:return Math.floor(a/10*3);case Rh.ALPHANUMERIC:return Math.floor(a/11*2);case Rh.KANJI:return Math.floor(a/13);case Rh.BYTE:default:return Math.floor(a/8)}};Zf.getBestVersionForData=function(e,t){let r,i=Rne.from(t,Rne.M);if(Array.isArray(e)){if(e.length>1)return z3e(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return U3e(r.mode,r.getLength(),i)};Zf.getEncodedBits=function(e){if(!tF.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;yS.getBCHDigit(t)-Pne>=0;)t^=One<<yS.getBCHDigit(t)-Pne;return e<<12|t}});var jne=ke(Vne=>{"use strict";var nF=Th(),Bne=1335,q3e=21522,Fne=nF.getBCHDigit(Bne);Vne.getEncodedBits=function(e,t){let r=e.bit<<3|t,i=r<<10;for(;nF.getBCHDigit(i)-Fne>=0;)i^=Bne<<nF.getBCHDigit(i)-Fne;return(r<<10|i)^q3e}});var Une=ke((YCt,Hne)=>{"use strict";var W3e=Dh();function S1(n){this.mode=W3e.NUMERIC,this.data=n.toString()}S1.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};S1.prototype.getLength=function(){return this.data.length};S1.prototype.getBitsLength=function(){return S1.getBitsLength(this.data.length)};S1.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};Hne.exports=S1});var zne=ke((XCt,$ne)=>{"use strict";var G3e=Dh(),rF=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function I1(n){this.mode=G3e.ALPHANUMERIC,this.data=n}I1.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};I1.prototype.getLength=function(){return this.data.length};I1.prototype.getBitsLength=function(){return I1.getBitsLength(this.data.length)};I1.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=rF.indexOf(this.data[t])*45;r+=rF.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(rF.indexOf(this.data[t]),6)};$ne.exports=I1});var Wne=ke((ZCt,qne)=>{"use strict";var K3e=Dh();function T1(n){this.mode=K3e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}T1.getBitsLength=function(e){return e*8};T1.prototype.getLength=function(){return this.data.length};T1.prototype.getBitsLength=function(){return T1.getBitsLength(this.data.length)};T1.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};qne.exports=T1});var Kne=ke((QCt,Gne)=>{"use strict";var Y3e=Dh(),X3e=Th();function A1(n){this.mode=Y3e.KANJI,this.data=n}A1.getBitsLength=function(e){return e*13};A1.prototype.getLength=function(){return this.data.length};A1.prototype.getBitsLength=function(){return A1.getBitsLength(this.data.length)};A1.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=X3e.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};Gne.exports=A1});var Yne=ke((JCt,iF)=>{"use strict";var dy={single_source_shortest_paths:function(n,e,t){var r={},i={};i[e]=0;var o=dy.PriorityQueue.make();o.push(e,0);for(var s,a,l,c,u,p,g,v,w;!o.empty();){s=o.pop(),a=s.value,c=s.cost,u=n[a]||{};for(l in u)u.hasOwnProperty(l)&&(p=u[l],g=c+p,v=i[l],w=typeof i[l]>"u",(w||v>g)&&(i[l]=g,o.push(l,g),r[l]=a))}if(typeof t<"u"&&typeof i[t]>"u"){var y=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(y)}return r},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],r=e,i;r;)t.push(r),i=n[r],r=n[r];return t.reverse(),t},find_path:function(n,e,t){var r=dy.single_source_shortest_paths(n,e,t);return dy.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(n){var e=dy.PriorityQueue,t={},r;n=n||{};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof iF<"u"&&(iF.exports=dy)});var rre=ke(D1=>{"use strict";var Nn=Dh(),Qne=Une(),Jne=zne(),ere=Wne(),tre=Kne(),uy=J8(),kS=Th(),Z3e=Yne();function Xne(n){return unescape(encodeURIComponent(n)).length}function hy(n,e,t){let r=[],i;for(;(i=n.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function nre(n){let e=hy(uy.NUMERIC,Nn.NUMERIC,n),t=hy(uy.ALPHANUMERIC,Nn.ALPHANUMERIC,n),r,i;return kS.isKanjiModeEnabled()?(r=hy(uy.BYTE,Nn.BYTE,n),i=hy(uy.KANJI,Nn.KANJI,n)):(r=hy(uy.BYTE_KANJI,Nn.BYTE,n),i=[]),e.concat(t,r,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function oF(n,e){switch(e){case Nn.NUMERIC:return Qne.getBitsLength(n);case Nn.ALPHANUMERIC:return Jne.getBitsLength(n);case Nn.KANJI:return tre.getBitsLength(n);case Nn.BYTE:return ere.getBitsLength(n)}}function Q3e(n){return n.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function J3e(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];switch(r.mode){case Nn.NUMERIC:e.push([r,{data:r.data,mode:Nn.ALPHANUMERIC,length:r.length},{data:r.data,mode:Nn.BYTE,length:r.length}]);break;case Nn.ALPHANUMERIC:e.push([r,{data:r.data,mode:Nn.BYTE,length:r.length}]);break;case Nn.KANJI:e.push([r,{data:r.data,mode:Nn.BYTE,length:Xne(r.data)}]);break;case Nn.BYTE:e.push([{data:r.data,mode:Nn.BYTE,length:Xne(r.data)}])}}return e}function e5e(n,e){let t={},r={start:{}},i=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=""+o+l;a.push(u),t[u]={node:c,lastCount:0},r[u]={};for(let p=0;p<i.length;p++){let g=i[p];t[g]&&t[g].node.mode===c.mode?(r[g][u]=oF(t[g].lastCount+c.length,c.mode)-oF(t[g].lastCount,c.mode),t[g].lastCount+=c.length):(t[g]&&(t[g].lastCount=c.length),r[g][u]=oF(c.length,c.mode)+4+Nn.getCharCountIndicator(c.mode,e))}}i=a}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function Zne(n,e){let t,r=Nn.getBestModeForData(n);if(t=Nn.from(e,r),t!==Nn.BYTE&&t.bit<r.bit)throw new Error('"'+n+'" cannot be encoded with mode '+Nn.toString(t)+`.
 Suggested mode is: `+Nn.toString(r));switch(t===Nn.KANJI&&!kS.isKanjiModeEnabled()&&(t=Nn.BYTE),t){case Nn.NUMERIC:return new Qne(n);case Nn.ALPHANUMERIC:return new Jne(n);case Nn.KANJI:return new tre(n);case Nn.BYTE:return new ere(n)}}D1.fromArray=function(e){return e.reduce(function(t,r){return typeof r=="string"?t.push(Zne(r,null)):r.data&&t.push(Zne(r.data,r.mode)),t},[])};D1.fromString=function(e,t){let r=nre(e,kS.isKanjiModeEnabled()),i=J3e(r),o=e5e(i,t),s=Z3e.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return D1.fromArray(Q3e(a))};D1.rawSplit=function(e){return D1.fromArray(nre(e,kS.isKanjiModeEnabled()))}});var ore=ke(ire=>{"use strict";var xS=Th(),sF=fS(),t5e=vne(),n5e=_ne(),r5e=yne(),i5e=xne(),cF=Cne(),dF=Y8(),o5e=Tne(),bS=Lne(),s5e=jne(),a5e=Dh(),aF=rre();function l5e(n,e){let t=n.size,r=i5e.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function c5e(n){let e=n.size;for(let t=8;t<e-8;t++){let r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function d5e(n,e){let t=r5e.getPositions(e);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(i+s,o+a,!0,!0):n.set(i+s,o+a,!1,!0)}}function u5e(n,e){let t=n.size,r=bS.getEncodedBits(e),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+t-8-3,s=(r>>a&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function lF(n,e,t){let r=n.size,i=s5e.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function h5e(n,e){let t=n.size,r=-1,i=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),n.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function p5e(n,e,t){let r=new t5e;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),a5e.getCharCountIndicator(l.mode,n)),l.write(r)});let i=xS.getSymbolTotalCodewords(n),o=dF.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return f5e(r,n,e)}function f5e(n,e,t){let r=xS.getSymbolTotalCodewords(e),i=dF.getTotalCodewordsCount(e,t),o=r-i,s=dF.getBlocksCount(e,t),a=r%s,l=s-a,c=Math.floor(r/s),u=Math.floor(o/s),p=u+1,g=c-u,v=new o5e(g),w=0,y=new Array(s),x=new Array(s),b=0,R=new Uint8Array(n.buffer);for(let L=0;L<s;L++){let T=L<l?u:p;y[L]=R.slice(w,w+T),x[L]=v.encode(y[L]),w+=T,b=Math.max(b,T)}let V=new Uint8Array(r),j=0,$,Y;for($=0;$<b;$++)for(Y=0;Y<s;Y++)$<y[Y].length&&(V[j++]=y[Y][$]);for($=0;$<g;$++)for(Y=0;Y<s;Y++)V[j++]=x[Y][$];return V}function g5e(n,e,t,r){let i;if(Array.isArray(n))i=aF.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){let u=aF.rawSplit(n);c=bS.getBestVersionForData(u,t)}i=aF.fromString(n,c||40)}else throw new Error("Invalid data");let o=bS.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=p5e(e,t,i),a=xS.getSymbolSize(e),l=new n5e(a);return l5e(l,e),c5e(l),d5e(l,e),lF(l,t,0),e>=7&&u5e(l,e),h5e(l,s),isNaN(r)&&(r=cF.getBestMask(l,lF.bind(null,l,t))),cF.applyMask(r,l),lF(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}ire.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=sF.M,i,o;return typeof t<"u"&&(r=sF.from(t.errorCorrectionLevel,sF.M),i=bS.from(t.version),o=cF.from(t.maskPattern),t.toSJISFunc&&xS.setToSJISFunction(t.toSJISFunc)),g5e(e,i,r,o)}});var uF=ke(Qf=>{"use strict";function sre(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Qf.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:sre(e.color.dark||"#000000ff"),light:sre(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Qf.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Qf.getImageWidth=function(e,t){let r=Qf.getScale(e,t);return Math.floor((e+t.margin*2)*r)};Qf.qrToImageData=function(e,t,r){let i=t.modules.size,o=t.modules.data,s=Qf.getScale(i,r),a=Math.floor((i+r.margin*2)*s),l=r.margin*s,c=[r.color.light,r.color.dark];for(let u=0;u<a;u++)for(let p=0;p<a;p++){let g=(u*a+p)*4,v=r.color.light;if(u>=l&&p>=l&&u<a-l&&p<a-l){let w=Math.floor((u-l)/s),y=Math.floor((p-l)/s);v=c[o[w*i+y]?1:0]}e[g++]=v.r,e[g++]=v.g,e[g++]=v.b,e[g]=v.a}}});var are=ke(CS=>{"use strict";var hF=uF();function m5e(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function v5e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}CS.render=function(e,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=v5e()),i=hF.getOptions(i);let s=hF.getImageWidth(e.modules.size,i),a=o.getContext("2d"),l=a.createImageData(s,s);return hF.qrToImageData(l.data,e,i),m5e(a,o,s),a.putImageData(l,0,0),o};CS.renderToDataURL=function(e,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=CS.render(e,t,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var dre=ke(cre=>{"use strict";var w5e=uF();function lre(n,e){let t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function pF(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function _5e(n,e,t){let r="",i=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(r+=o?pF("M",l+t,.5+c+t):pF("m",i,0),i=0,o=!1),l+1<e&&n[a+1]||(r+=pF("h",s),s=0)):i++}return r}cre.render=function(e,t,r){let i=w5e.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+lre(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+lre(i.color.dark,"stroke")+' d="'+_5e(s,o,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,g),g}});var hre=ke(py=>{"use strict";var y5e=fne(),fF=ore(),ure=are(),k5e=dre();function gF(n,e,t,r,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!y5e())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,c){try{let u=fF.create(t,r);l(n(u,e,r))}catch(u){c(u)}})}try{let l=fF.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}py.create=fF.create;py.toCanvas=gF.bind(null,ure.render);py.toDataURL=gF.bind(null,ure.renderToDataURL);py.toString=gF.bind(null,function(n,e,t){return k5e.render(n,t)})});var SS=ke((L1,fy)=>{"use strict";(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",c=1,u=2,p=4,g=1,v=2,w=1,y=2,x=4,b=8,R=16,V=32,j=64,$=128,Y=256,L=512,T=30,I="...",B=800,U=16,X=1,z=2,tt=3,gt=1/0,Tt=9007199254740991,Re=17976931348623157e292,be=NaN,er=4294967295,So=er-1,ai=er>>>1,vn=[["ary",$],["bind",w],["bindKey",y],["curry",b],["curryRight",R],["flip",L],["partial",V],["partialRight",j],["rearg",Y]],ze="[object Arguments]",Wn="[object Array]",Si="[object AsyncFunction]",wr="[object Boolean]",et="[object Date]",io="[object DOMException]",Io="[object Error]",oo="[object Function]",ya="[object GeneratorFunction]",Zr="[object Map]",Mc="[object Number]",m2="[object Null]",ks="[object Object]",v2="[object Promise]",Mk="[object Proxy]",Xh="[object RegExp]",Zo="[object Set]",su="[object String]",au="[object Symbol]",Sk="[object Undefined]",Zh="[object WeakMap]",w2="[object WeakSet]",Sc="[object ArrayBuffer]",ul="[object DataView]",Qr="[object Float32Array]",li="[object Float64Array]",lu="[object Int8Array]",bg="[object Int16Array]",xg="[object Int32Array]",_2="[object Uint8Array]",Ic="[object Uint8ClampedArray]",Cg="[object Uint16Array]",Eg="[object Uint32Array]",y2=/\b__p \+= '';/g,mA=/\b(__p \+=) '' \+/g,vA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mg=/&(?:amp|lt|gt|quot|#39);/g,k2=/[&<>"']/g,Ik=RegExp(Mg.source),Qh=RegExp(k2.source),b2=/<%-([\s\S]+?)%>/g,x2=/<%([\s\S]+?)%>/g,hl=/<%=([\s\S]+?)%>/g,Tk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sg=/^\w*$/,Ak=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tc=/[\\^$.*+?()[\]{}|]/g,Dk=RegExp(Tc.source),ci=/^\s+/,Rk=/\s/,Jh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ep=/\{\n\/\* \[wrapped with (.+)\] \*/,wA=/,? & /,_A=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cu=/[()=,{}\[\]\/\s]/,yA=/\\(\\)?/g,kA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tp=/\w*$/,Pk=/^[-+]0x[0-9a-f]+$/i,C2=/^0b[01]+$/i,Ig=/^\[object .+?Constructor\]$/,pl=/^0o[0-7]+$/i,Ok=/^(?:0|[1-9]\d*)$/,Nk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,du=/($^)/,E2=/['\n\r\u2028\u2029\\]/g,np="\\ud800-\\udfff",Lk="\\u0300-\\u036f",bA="\\ufe20-\\ufe2f",Tg="\\u20d0-\\u20ff",M2=Lk+bA+Tg,Ag="\\u2700-\\u27bf",uu="a-z\\xdf-\\xf6\\xf8-\\xff",Ac="\\xac\\xb1\\xd7\\xf7",S2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xA="\\u2000-\\u206f",Fk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",I2="A-Z\\xc0-\\xd6\\xd8-\\xde",T2="\\ufe0e\\ufe0f",Dg=Ac+S2+xA+Fk,rp="['\u2019]",Bk="["+np+"]",A2="["+Dg+"]",Rg="["+M2+"]",Vk="\\d+",jk="["+Ag+"]",D2="["+uu+"]",Hk="[^"+np+Dg+Vk+Ag+uu+I2+"]",ka="\\ud83c[\\udffb-\\udfff]",ba="(?:"+Rg+"|"+ka+")",ip="[^"+np+"]",hu="(?:\\ud83c[\\udde6-\\uddff]){2}",Pg="[\\ud800-\\udbff][\\udc00-\\udfff]",bn="["+I2+"]",op="\\u200d",pu="(?:"+D2+"|"+Hk+")",sp="(?:"+bn+"|"+Hk+")",Uk="(?:"+rp+"(?:d|ll|m|re|s|t|ve))?",R2="(?:"+rp+"(?:D|LL|M|RE|S|T|VE))?",$k=ba+"?",zk="["+T2+"]?",CA="(?:"+op+"(?:"+[ip,hu,Pg].join("|")+")"+zk+$k+")*",EA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ap="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xa=zk+$k+CA,qk="(?:"+[jk,hu,Pg].join("|")+")"+xa,Wk="(?:"+[ip+Rg+"?",Rg,hu,Pg,Bk].join("|")+")",Gk=RegExp(rp,"g"),fu=RegExp(Rg,"g"),P2=RegExp(ka+"(?="+ka+")|"+Wk+xa,"g"),MA=RegExp([bn+"?"+D2+"+"+Uk+"(?="+[A2,bn,"$"].join("|")+")",sp+"+"+R2+"(?="+[A2,bn+pu,"$"].join("|")+")",bn+"?"+pu+"+"+Uk,bn+"+"+R2,ap,EA,Vk,qk].join("|"),"g"),SA=RegExp("["+op+np+M2+T2+"]"),fl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,IA=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],TA=-1,En={};En[Qr]=En[li]=En[lu]=En[bg]=En[xg]=En[_2]=En[Ic]=En[Cg]=En[Eg]=!0,En[ze]=En[Wn]=En[Sc]=En[wr]=En[ul]=En[et]=En[Io]=En[oo]=En[Zr]=En[Mc]=En[ks]=En[Xh]=En[Zo]=En[su]=En[Zh]=!1;var Mn={};Mn[ze]=Mn[Wn]=Mn[Sc]=Mn[ul]=Mn[wr]=Mn[et]=Mn[Qr]=Mn[li]=Mn[lu]=Mn[bg]=Mn[xg]=Mn[Zr]=Mn[Mc]=Mn[ks]=Mn[Xh]=Mn[Zo]=Mn[su]=Mn[au]=Mn[_2]=Mn[Ic]=Mn[Cg]=Mn[Eg]=!0,Mn[Io]=Mn[oo]=Mn[Zh]=!1;var Kk={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},lp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yk={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},O2=parseFloat,dr=parseInt,Xk=typeof global=="object"&&global&&global.Object===Object&&global,AA=typeof self=="object"&&self&&self.Object===Object&&self,Fr=Xk||AA||Function("return this")(),Og=typeof L1=="object"&&L1&&!L1.nodeType&&L1,gl=Og&&typeof fy=="object"&&fy&&!fy.nodeType&&fy,dp=gl&&gl.exports===Og,Ng=dp&&Xk.process,Tr=(function(){try{var Z=gl&&gl.require&&gl.require("util").types;return Z||Ng&&Ng.binding&&Ng.binding("util")}catch{}})(),N2=Tr&&Tr.isArrayBuffer,Zk=Tr&&Tr.isDate,gu=Tr&&Tr.isMap,L2=Tr&&Tr.isRegExp,Lg=Tr&&Tr.isSet,up=Tr&&Tr.isTypedArray;function so(Z,le,ie){switch(ie.length){case 0:return Z.call(le);case 1:return Z.call(le,ie[0]);case 2:return Z.call(le,ie[0],ie[1]);case 3:return Z.call(le,ie[0],ie[1],ie[2])}return Z.apply(le,ie)}function Fg(Z,le,ie,Ne){for(var Mt=-1,Sn=Z==null?0:Z.length;++Mt<Sn;){var hi=Z[Mt];le(Ne,hi,ie(hi),Z)}return Ne}function Qo(Z,le){for(var ie=-1,Ne=Z==null?0:Z.length;++ie<Ne&&le(Z[ie],ie,Z)!==!1;);return Z}function Qk(Z,le){for(var ie=Z==null?0:Z.length;ie--&&le(Z[ie],ie,Z)!==!1;);return Z}function mu(Z,le){for(var ie=-1,Ne=Z==null?0:Z.length;++ie<Ne;)if(!le(Z[ie],ie,Z))return!1;return!0}function Ca(Z,le){for(var ie=-1,Ne=Z==null?0:Z.length,Mt=0,Sn=[];++ie<Ne;){var hi=Z[ie];le(hi,ie,Z)&&(Sn[Mt++]=hi)}return Sn}function hp(Z,le){var ie=Z==null?0:Z.length;return!!ie&&Ma(Z,le,0)>-1}function pp(Z,le,ie){for(var Ne=-1,Mt=Z==null?0:Z.length;++Ne<Mt;)if(ie(le,Z[Ne]))return!0;return!1}function Hn(Z,le){for(var ie=-1,Ne=Z==null?0:Z.length,Mt=Array(Ne);++ie<Ne;)Mt[ie]=le(Z[ie],ie,Z);return Mt}function Ea(Z,le){for(var ie=-1,Ne=le.length,Mt=Z.length;++ie<Ne;)Z[Mt+ie]=le[ie];return Z}function vu(Z,le,ie,Ne){var Mt=-1,Sn=Z==null?0:Z.length;for(Ne&&Sn&&(ie=Z[++Mt]);++Mt<Sn;)ie=le(ie,Z[Mt],Mt,Z);return ie}function Jk(Z,le,ie,Ne){var Mt=Z==null?0:Z.length;for(Ne&&Mt&&(ie=Z[--Mt]);Mt--;)ie=le(ie,Z[Mt],Mt,Z);return ie}function Bg(Z,le){for(var ie=-1,Ne=Z==null?0:Z.length;++ie<Ne;)if(le(Z[ie],ie,Z))return!0;return!1}var Dc=ml("length");function eb(Z){return Z.split("")}function tb(Z){return Z.match(_A)||[]}function F2(Z,le,ie){var Ne;return ie(Z,function(Mt,Sn,hi){if(le(Mt,Sn,hi))return Ne=Sn,!1}),Ne}function fp(Z,le,ie,Ne){for(var Mt=Z.length,Sn=ie+(Ne?1:-1);Ne?Sn--:++Sn<Mt;)if(le(Z[Sn],Sn,Z))return Sn;return-1}function Ma(Z,le,ie){return le===le?ace(Z,le,ie):fp(Z,B2,ie)}function To(Z,le,ie,Ne){for(var Mt=ie-1,Sn=Z.length;++Mt<Sn;)if(Ne(Z[Mt],le))return Mt;return-1}function B2(Z){return Z!==Z}function V2(Z,le){var ie=Z==null?0:Z.length;return ie?O(Z,le)/ie:be}function ml(Z){return function(le){return le==null?n:le[Z]}}function f(Z){return function(le){return Z==null?n:Z[le]}}function _(Z,le,ie,Ne,Mt){return Mt(Z,function(Sn,hi,Gn){ie=Ne?(Ne=!1,Sn):le(ie,Sn,hi,Gn)}),ie}function C(Z,le){var ie=Z.length;for(Z.sort(le);ie--;)Z[ie]=Z[ie].value;return Z}function O(Z,le){for(var ie,Ne=-1,Mt=Z.length;++Ne<Mt;){var Sn=le(Z[Ne]);Sn!==n&&(ie=ie===n?Sn:ie+Sn)}return ie}function J(Z,le){for(var ie=-1,Ne=Array(Z);++ie<Z;)Ne[ie]=le(ie);return Ne}function re(Z,le){return Hn(le,function(ie){return[ie,Z[ie]]})}function Ee(Z){return Z&&Z.slice(0,yj(Z)+1).replace(ci,"")}function Bt(Z){return function(le){return Z(le)}}function Br(Z,le){return Hn(le,function(ie){return Z[ie]})}function Zt(Z,le){return Z.has(le)}function di(Z,le){for(var ie=-1,Ne=Z.length;++ie<Ne&&Ma(le,Z[ie],0)>-1;);return ie}function ui(Z,le){for(var ie=Z.length;ie--&&Ma(le,Z[ie],0)>-1;);return ie}function wu(Z,le){for(var ie=Z.length,Ne=0;ie--;)Z[ie]===le&&++Ne;return Ne}var bs=f(Kk),Vg=f(lp);function j2(Z){return"\\"+Yk[Z]}function rce(Z,le){return Z==null?n:Z[le]}function jg(Z){return SA.test(Z)}function ice(Z){return fl.test(Z)}function oce(Z){for(var le,ie=[];!(le=Z.next()).done;)ie.push(le.value);return ie}function DA(Z){var le=-1,ie=Array(Z.size);return Z.forEach(function(Ne,Mt){ie[++le]=[Mt,Ne]}),ie}function _j(Z,le){return function(ie){return Z(le(ie))}}function _u(Z,le){for(var ie=-1,Ne=Z.length,Mt=0,Sn=[];++ie<Ne;){var hi=Z[ie];(hi===le||hi===l)&&(Z[ie]=l,Sn[Mt++]=ie)}return Sn}function nb(Z){var le=-1,ie=Array(Z.size);return Z.forEach(function(Ne){ie[++le]=Ne}),ie}function sce(Z){var le=-1,ie=Array(Z.size);return Z.forEach(function(Ne){ie[++le]=[Ne,Ne]}),ie}function ace(Z,le,ie){for(var Ne=ie-1,Mt=Z.length;++Ne<Mt;)if(Z[Ne]===le)return Ne;return-1}function lce(Z,le,ie){for(var Ne=ie+1;Ne--;)if(Z[Ne]===le)return Ne;return Ne}function Hg(Z){return jg(Z)?dce(Z):Dc(Z)}function Sa(Z){return jg(Z)?uce(Z):eb(Z)}function yj(Z){for(var le=Z.length;le--&&Rk.test(Z.charAt(le)););return le}var cce=f(cp);function dce(Z){for(var le=P2.lastIndex=0;P2.test(Z);)++le;return le}function uce(Z){return Z.match(P2)||[]}function hce(Z){return Z.match(MA)||[]}var pce=function Z(le){le=le==null?Fr:yu.defaults(Fr.Object(),le,yu.pick(Fr,IA));var ie=le.Array,Ne=le.Date,Mt=le.Error,Sn=le.Function,hi=le.Math,Gn=le.Object,RA=le.RegExp,fce=le.String,$s=le.TypeError,rb=ie.prototype,gce=Sn.prototype,Ug=Gn.prototype,ib=le["__core-js_shared__"],ob=gce.toString,Ln=Ug.hasOwnProperty,mce=0,kj=(function(){var d=/[^.]+$/.exec(ib&&ib.keys&&ib.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})(),sb=Ug.toString,vce=ob.call(Gn),wce=Fr._,_ce=RA("^"+ob.call(Ln).replace(Tc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ab=dp?le.Buffer:n,ku=le.Symbol,lb=le.Uint8Array,bj=ab?ab.allocUnsafe:n,cb=_j(Gn.getPrototypeOf,Gn),xj=Gn.create,Cj=Ug.propertyIsEnumerable,db=rb.splice,Ej=ku?ku.isConcatSpreadable:n,H2=ku?ku.iterator:n,gp=ku?ku.toStringTag:n,ub=(function(){try{var d=yp(Gn,"defineProperty");return d({},"",{}),d}catch{}})(),yce=le.clearTimeout!==Fr.clearTimeout&&le.clearTimeout,kce=Ne&&Ne.now!==Fr.Date.now&&Ne.now,bce=le.setTimeout!==Fr.setTimeout&&le.setTimeout,hb=hi.ceil,pb=hi.floor,PA=Gn.getOwnPropertySymbols,xce=ab?ab.isBuffer:n,Mj=le.isFinite,Cce=rb.join,Ece=_j(Gn.keys,Gn),pi=hi.max,ao=hi.min,Mce=Ne.now,Sce=le.parseInt,Sj=hi.random,Ice=rb.reverse,OA=yp(le,"DataView"),U2=yp(le,"Map"),NA=yp(le,"Promise"),$g=yp(le,"Set"),$2=yp(le,"WeakMap"),z2=yp(Gn,"create"),fb=$2&&new $2,zg={},Tce=kp(OA),Ace=kp(U2),Dce=kp(NA),Rce=kp($g),Pce=kp($2),gb=ku?ku.prototype:n,q2=gb?gb.valueOf:n,Ij=gb?gb.toString:n;function P(d){if(Ar(d)&&!At(d)&&!(d instanceof on)){if(d instanceof zs)return d;if(Ln.call(d,"__wrapped__"))return TH(d)}return new zs(d)}var qg=(function(){function d(){}return function(h){if(!_r(h))return{};if(xj)return xj(h);d.prototype=h;var m=new d;return d.prototype=n,m}})();function mb(){}function zs(d,h){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}P.templateSettings={escape:b2,evaluate:x2,interpolate:hl,variable:"",imports:{_:P}},P.prototype=mb.prototype,P.prototype.constructor=P,zs.prototype=qg(mb.prototype),zs.prototype.constructor=zs;function on(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=er,this.__views__=[]}function Oce(){var d=new on(this.__wrapped__);return d.__actions__=Jo(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Jo(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Jo(this.__views__),d}function Nce(){if(this.__filtered__){var d=new on(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Lce(){var d=this.__wrapped__.value(),h=this.__dir__,m=At(d),k=h<0,S=m?d.length:0,F=Kde(0,S,this.__views__),q=F.start,K=F.end,Q=K-q,pe=k?K:q-1,me=this.__iteratees__,_e=me.length,Ie=0,qe=ao(Q,this.__takeCount__);if(!m||!k&&S==Q&&qe==Q)return Qj(d,this.__actions__);var ht=[];e:for(;Q--&&Ie<qe;){pe+=h;for(var Ut=-1,pt=d[pe];++Ut<_e;){var en=me[Ut],sn=en.iteratee,Es=en.type,Ro=sn(pt);if(Es==z)pt=Ro;else if(!Ro){if(Es==X)continue e;break e}}ht[Ie++]=pt}return ht}on.prototype=qg(mb.prototype),on.prototype.constructor=on;function mp(d){var h=-1,m=d==null?0:d.length;for(this.clear();++h<m;){var k=d[h];this.set(k[0],k[1])}}function Fce(){this.__data__=z2?z2(null):{},this.size=0}function Bce(d){var h=this.has(d)&&delete this.__data__[d];return this.size-=h?1:0,h}function Vce(d){var h=this.__data__;if(z2){var m=h[d];return m===s?n:m}return Ln.call(h,d)?h[d]:n}function jce(d){var h=this.__data__;return z2?h[d]!==n:Ln.call(h,d)}function Hce(d,h){var m=this.__data__;return this.size+=this.has(d)?0:1,m[d]=z2&&h===n?s:h,this}mp.prototype.clear=Fce,mp.prototype.delete=Bce,mp.prototype.get=Vce,mp.prototype.has=jce,mp.prototype.set=Hce;function Rc(d){var h=-1,m=d==null?0:d.length;for(this.clear();++h<m;){var k=d[h];this.set(k[0],k[1])}}function Uce(){this.__data__=[],this.size=0}function $ce(d){var h=this.__data__,m=vb(h,d);if(m<0)return!1;var k=h.length-1;return m==k?h.pop():db.call(h,m,1),--this.size,!0}function zce(d){var h=this.__data__,m=vb(h,d);return m<0?n:h[m][1]}function qce(d){return vb(this.__data__,d)>-1}function Wce(d,h){var m=this.__data__,k=vb(m,d);return k<0?(++this.size,m.push([d,h])):m[k][1]=h,this}Rc.prototype.clear=Uce,Rc.prototype.delete=$ce,Rc.prototype.get=zce,Rc.prototype.has=qce,Rc.prototype.set=Wce;function Pc(d){var h=-1,m=d==null?0:d.length;for(this.clear();++h<m;){var k=d[h];this.set(k[0],k[1])}}function Gce(){this.size=0,this.__data__={hash:new mp,map:new(U2||Rc),string:new mp}}function Kce(d){var h=Tb(this,d).delete(d);return this.size-=h?1:0,h}function Yce(d){return Tb(this,d).get(d)}function Xce(d){return Tb(this,d).has(d)}function Zce(d,h){var m=Tb(this,d),k=m.size;return m.set(d,h),this.size+=m.size==k?0:1,this}Pc.prototype.clear=Gce,Pc.prototype.delete=Kce,Pc.prototype.get=Yce,Pc.prototype.has=Xce,Pc.prototype.set=Zce;function vp(d){var h=-1,m=d==null?0:d.length;for(this.__data__=new Pc;++h<m;)this.add(d[h])}function Qce(d){return this.__data__.set(d,s),this}function Jce(d){return this.__data__.has(d)}vp.prototype.add=vp.prototype.push=Qce,vp.prototype.has=Jce;function Ia(d){var h=this.__data__=new Rc(d);this.size=h.size}function ede(){this.__data__=new Rc,this.size=0}function tde(d){var h=this.__data__,m=h.delete(d);return this.size=h.size,m}function nde(d){return this.__data__.get(d)}function rde(d){return this.__data__.has(d)}function ide(d,h){var m=this.__data__;if(m instanceof Rc){var k=m.__data__;if(!U2||k.length<t-1)return k.push([d,h]),this.size=++m.size,this;m=this.__data__=new Pc(k)}return m.set(d,h),this.size=m.size,this}Ia.prototype.clear=ede,Ia.prototype.delete=tde,Ia.prototype.get=nde,Ia.prototype.has=rde,Ia.prototype.set=ide;function Tj(d,h){var m=At(d),k=!m&&bp(d),S=!m&&!k&&Mu(d),F=!m&&!k&&!S&&Yg(d),q=m||k||S||F,K=q?J(d.length,fce):[],Q=K.length;for(var pe in d)(h||Ln.call(d,pe))&&!(q&&(pe=="length"||S&&(pe=="offset"||pe=="parent")||F&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||Fc(pe,Q)))&&K.push(pe);return K}function Aj(d){var h=d.length;return h?d[WA(0,h-1)]:n}function ode(d,h){return Ab(Jo(d),wp(h,0,d.length))}function sde(d){return Ab(Jo(d))}function LA(d,h,m){(m!==n&&!Ta(d[h],m)||m===n&&!(h in d))&&Oc(d,h,m)}function W2(d,h,m){var k=d[h];(!(Ln.call(d,h)&&Ta(k,m))||m===n&&!(h in d))&&Oc(d,h,m)}function vb(d,h){for(var m=d.length;m--;)if(Ta(d[m][0],h))return m;return-1}function ade(d,h,m,k){return bu(d,function(S,F,q){h(k,S,m(S),q)}),k}function Dj(d,h){return d&&wl(h,Ii(h),d)}function lde(d,h){return d&&wl(h,ts(h),d)}function Oc(d,h,m){h=="__proto__"&&ub?ub(d,h,{configurable:!0,enumerable:!0,value:m,writable:!0}):d[h]=m}function FA(d,h){for(var m=-1,k=h.length,S=ie(k),F=d==null;++m<k;)S[m]=F?n:vD(d,h[m]);return S}function wp(d,h,m){return d===d&&(m!==n&&(d=d<=m?d:m),h!==n&&(d=d>=h?d:h)),d}function qs(d,h,m,k,S,F){var q,K=h&c,Q=h&u,pe=h&p;if(m&&(q=S?m(d,k,S,F):m(d)),q!==n)return q;if(!_r(d))return d;var me=At(d);if(me){if(q=Xde(d),!K)return Jo(d,q)}else{var _e=lo(d),Ie=_e==oo||_e==ya;if(Mu(d))return tH(d,K);if(_e==ks||_e==ze||Ie&&!S){if(q=Q||Ie?{}:yH(d),!K)return Q?Vde(d,lde(q,d)):Bde(d,Dj(q,d))}else{if(!Mn[_e])return S?d:{};q=Zde(d,_e,K)}}F||(F=new Ia);var qe=F.get(d);if(qe)return qe;F.set(d,q),YH(d)?d.forEach(function(pt){q.add(qs(pt,h,m,pt,d,F))}):GH(d)&&d.forEach(function(pt,en){q.set(en,qs(pt,h,m,en,d,F))});var ht=pe?Q?rD:nD:Q?ts:Ii,Ut=me?n:ht(d);return Qo(Ut||d,function(pt,en){Ut&&(en=pt,pt=d[en]),W2(q,en,qs(pt,h,m,en,d,F))}),q}function cde(d){var h=Ii(d);return function(m){return Rj(m,d,h)}}function Rj(d,h,m){var k=m.length;if(d==null)return!k;for(d=Gn(d);k--;){var S=m[k],F=h[S],q=d[S];if(q===n&&!(S in d)||!F(q))return!1}return!0}function Pj(d,h,m){if(typeof d!="function")throw new $s(i);return J2(function(){d.apply(n,m)},h)}function G2(d,h,m,k){var S=-1,F=hp,q=!0,K=d.length,Q=[],pe=h.length;if(!K)return Q;m&&(h=Hn(h,Bt(m))),k?(F=pp,q=!1):h.length>=t&&(F=Zt,q=!1,h=new vp(h));e:for(;++S<K;){var me=d[S],_e=m==null?me:m(me);if(me=k||me!==0?me:0,q&&_e===_e){for(var Ie=pe;Ie--;)if(h[Ie]===_e)continue e;Q.push(me)}else F(h,_e,k)||Q.push(me)}return Q}var bu=sH(vl),Oj=sH(VA,!0);function dde(d,h){var m=!0;return bu(d,function(k,S,F){return m=!!h(k,S,F),m}),m}function wb(d,h,m){for(var k=-1,S=d.length;++k<S;){var F=d[k],q=h(F);if(q!=null&&(K===n?q===q&&!Cs(q):m(q,K)))var K=q,Q=F}return Q}function ude(d,h,m,k){var S=d.length;for(m=Vt(m),m<0&&(m=-m>S?0:S+m),k=k===n||k>S?S:Vt(k),k<0&&(k+=S),k=m>k?0:ZH(k);m<k;)d[m++]=h;return d}function Nj(d,h){var m=[];return bu(d,function(k,S,F){h(k,S,F)&&m.push(k)}),m}function $i(d,h,m,k,S){var F=-1,q=d.length;for(m||(m=Jde),S||(S=[]);++F<q;){var K=d[F];h>0&&m(K)?h>1?$i(K,h-1,m,k,S):Ea(S,K):k||(S[S.length]=K)}return S}var BA=aH(),Lj=aH(!0);function vl(d,h){return d&&BA(d,h,Ii)}function VA(d,h){return d&&Lj(d,h,Ii)}function _b(d,h){return Ca(h,function(m){return Bc(d[m])})}function _p(d,h){h=Cu(h,d);for(var m=0,k=h.length;d!=null&&m<k;)d=d[_l(h[m++])];return m&&m==k?d:n}function Fj(d,h,m){var k=h(d);return At(d)?k:Ea(k,m(d))}function Ao(d){return d==null?d===n?Sk:m2:gp&&gp in Gn(d)?Gde(d):sue(d)}function jA(d,h){return d>h}function hde(d,h){return d!=null&&Ln.call(d,h)}function pde(d,h){return d!=null&&h in Gn(d)}function fde(d,h,m){return d>=ao(h,m)&&d<pi(h,m)}function HA(d,h,m){for(var k=m?pp:hp,S=d[0].length,F=d.length,q=F,K=ie(F),Q=1/0,pe=[];q--;){var me=d[q];q&&h&&(me=Hn(me,Bt(h))),Q=ao(me.length,Q),K[q]=!m&&(h||S>=120&&me.length>=120)?new vp(q&&me):n}me=d[0];var _e=-1,Ie=K[0];e:for(;++_e<S&&pe.length<Q;){var qe=me[_e],ht=h?h(qe):qe;if(qe=m||qe!==0?qe:0,!(Ie?Zt(Ie,ht):k(pe,ht,m))){for(q=F;--q;){var Ut=K[q];if(!(Ut?Zt(Ut,ht):k(d[q],ht,m)))continue e}Ie&&Ie.push(ht),pe.push(qe)}}return pe}function gde(d,h,m,k){return vl(d,function(S,F,q){h(k,m(S),F,q)}),k}function K2(d,h,m){h=Cu(h,d),d=CH(d,h);var k=d==null?d:d[_l(Gs(h))];return k==null?n:so(k,d,m)}function Bj(d){return Ar(d)&&Ao(d)==ze}function mde(d){return Ar(d)&&Ao(d)==Sc}function vde(d){return Ar(d)&&Ao(d)==et}function Y2(d,h,m,k,S){return d===h?!0:d==null||h==null||!Ar(d)&&!Ar(h)?d!==d&&h!==h:wde(d,h,m,k,Y2,S)}function wde(d,h,m,k,S,F){var q=At(d),K=At(h),Q=q?Wn:lo(d),pe=K?Wn:lo(h);Q=Q==ze?ks:Q,pe=pe==ze?ks:pe;var me=Q==ks,_e=pe==ks,Ie=Q==pe;if(Ie&&Mu(d)){if(!Mu(h))return!1;q=!0,me=!1}if(Ie&&!me)return F||(F=new Ia),q||Yg(d)?vH(d,h,m,k,S,F):qde(d,h,Q,m,k,S,F);if(!(m&g)){var qe=me&&Ln.call(d,"__wrapped__"),ht=_e&&Ln.call(h,"__wrapped__");if(qe||ht){var Ut=qe?d.value():d,pt=ht?h.value():h;return F||(F=new Ia),S(Ut,pt,m,k,F)}}return Ie?(F||(F=new Ia),Wde(d,h,m,k,S,F)):!1}function _de(d){return Ar(d)&&lo(d)==Zr}function UA(d,h,m,k){var S=m.length,F=S,q=!k;if(d==null)return!F;for(d=Gn(d);S--;){var K=m[S];if(q&&K[2]?K[1]!==d[K[0]]:!(K[0]in d))return!1}for(;++S<F;){K=m[S];var Q=K[0],pe=d[Q],me=K[1];if(q&&K[2]){if(pe===n&&!(Q in d))return!1}else{var _e=new Ia;if(k)var Ie=k(pe,me,Q,d,h,_e);if(!(Ie===n?Y2(me,pe,g|v,k,_e):Ie))return!1}}return!0}function Vj(d){if(!_r(d)||tue(d))return!1;var h=Bc(d)?_ce:Ig;return h.test(kp(d))}function yde(d){return Ar(d)&&Ao(d)==Xh}function kde(d){return Ar(d)&&lo(d)==Zo}function bde(d){return Ar(d)&&Lb(d.length)&&!!En[Ao(d)]}function jj(d){return typeof d=="function"?d:d==null?ns:typeof d=="object"?At(d)?$j(d[0],d[1]):Uj(d):lU(d)}function $A(d){if(!Q2(d))return Ece(d);var h=[];for(var m in Gn(d))Ln.call(d,m)&&m!="constructor"&&h.push(m);return h}function xde(d){if(!_r(d))return oue(d);var h=Q2(d),m=[];for(var k in d)k=="constructor"&&(h||!Ln.call(d,k))||m.push(k);return m}function zA(d,h){return d<h}function Hj(d,h){var m=-1,k=es(d)?ie(d.length):[];return bu(d,function(S,F,q){k[++m]=h(S,F,q)}),k}function Uj(d){var h=oD(d);return h.length==1&&h[0][2]?bH(h[0][0],h[0][1]):function(m){return m===d||UA(m,d,h)}}function $j(d,h){return aD(d)&&kH(h)?bH(_l(d),h):function(m){var k=vD(m,d);return k===n&&k===h?wD(m,d):Y2(h,k,g|v)}}function yb(d,h,m,k,S){d!==h&&BA(h,function(F,q){if(S||(S=new Ia),_r(F))Cde(d,h,q,m,yb,k,S);else{var K=k?k(cD(d,q),F,q+"",d,h,S):n;K===n&&(K=F),LA(d,q,K)}},ts)}function Cde(d,h,m,k,S,F,q){var K=cD(d,m),Q=cD(h,m),pe=q.get(Q);if(pe){LA(d,m,pe);return}var me=F?F(K,Q,m+"",d,h,q):n,_e=me===n;if(_e){var Ie=At(Q),qe=!Ie&&Mu(Q),ht=!Ie&&!qe&&Yg(Q);me=Q,Ie||qe||ht?At(K)?me=K:Vr(K)?me=Jo(K):qe?(_e=!1,me=tH(Q,!0)):ht?(_e=!1,me=nH(Q,!0)):me=[]:ev(Q)||bp(Q)?(me=K,bp(K)?me=QH(K):(!_r(K)||Bc(K))&&(me=yH(Q))):_e=!1}_e&&(q.set(Q,me),S(me,Q,k,F,q),q.delete(Q)),LA(d,m,me)}function zj(d,h){var m=d.length;if(m)return h+=h<0?m:0,Fc(h,m)?d[h]:n}function qj(d,h,m){h.length?h=Hn(h,function(F){return At(F)?function(q){return _p(q,F.length===1?F[0]:F)}:F}):h=[ns];var k=-1;h=Hn(h,Bt(at()));var S=Hj(d,function(F,q,K){var Q=Hn(h,function(pe){return pe(F)});return{criteria:Q,index:++k,value:F}});return C(S,function(F,q){return Fde(F,q,m)})}function Ede(d,h){return Wj(d,h,function(m,k){return wD(d,k)})}function Wj(d,h,m){for(var k=-1,S=h.length,F={};++k<S;){var q=h[k],K=_p(d,q);m(K,q)&&X2(F,Cu(q,d),K)}return F}function Mde(d){return function(h){return _p(h,d)}}function qA(d,h,m,k){var S=k?To:Ma,F=-1,q=h.length,K=d;for(d===h&&(h=Jo(h)),m&&(K=Hn(d,Bt(m)));++F<q;)for(var Q=0,pe=h[F],me=m?m(pe):pe;(Q=S(K,me,Q,k))>-1;)K!==d&&db.call(K,Q,1),db.call(d,Q,1);return d}function Gj(d,h){for(var m=d?h.length:0,k=m-1;m--;){var S=h[m];if(m==k||S!==F){var F=S;Fc(S)?db.call(d,S,1):YA(d,S)}}return d}function WA(d,h){return d+pb(Sj()*(h-d+1))}function Sde(d,h,m,k){for(var S=-1,F=pi(hb((h-d)/(m||1)),0),q=ie(F);F--;)q[k?F:++S]=d,d+=m;return q}function GA(d,h){var m="";if(!d||h<1||h>Tt)return m;do h%2&&(m+=d),h=pb(h/2),h&&(d+=d);while(h);return m}function Wt(d,h){return dD(xH(d,h,ns),d+"")}function Ide(d){return Aj(Xg(d))}function Tde(d,h){var m=Xg(d);return Ab(m,wp(h,0,m.length))}function X2(d,h,m,k){if(!_r(d))return d;h=Cu(h,d);for(var S=-1,F=h.length,q=F-1,K=d;K!=null&&++S<F;){var Q=_l(h[S]),pe=m;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return d;if(S!=q){var me=K[Q];pe=k?k(me,Q,K):n,pe===n&&(pe=_r(me)?me:Fc(h[S+1])?[]:{})}W2(K,Q,pe),K=K[Q]}return d}var Kj=fb?function(d,h){return fb.set(d,h),d}:ns,Ade=ub?function(d,h){return ub(d,"toString",{configurable:!0,enumerable:!1,value:yD(h),writable:!0})}:ns;function Dde(d){return Ab(Xg(d))}function Ws(d,h,m){var k=-1,S=d.length;h<0&&(h=-h>S?0:S+h),m=m>S?S:m,m<0&&(m+=S),S=h>m?0:m-h>>>0,h>>>=0;for(var F=ie(S);++k<S;)F[k]=d[k+h];return F}function Rde(d,h){var m;return bu(d,function(k,S,F){return m=h(k,S,F),!m}),!!m}function kb(d,h,m){var k=0,S=d==null?k:d.length;if(typeof h=="number"&&h===h&&S<=ai){for(;k<S;){var F=k+S>>>1,q=d[F];q!==null&&!Cs(q)&&(m?q<=h:q<h)?k=F+1:S=F}return S}return KA(d,h,ns,m)}function KA(d,h,m,k){var S=0,F=d==null?0:d.length;if(F===0)return 0;h=m(h);for(var q=h!==h,K=h===null,Q=Cs(h),pe=h===n;S<F;){var me=pb((S+F)/2),_e=m(d[me]),Ie=_e!==n,qe=_e===null,ht=_e===_e,Ut=Cs(_e);if(q)var pt=k||ht;else pe?pt=ht&&(k||Ie):K?pt=ht&&Ie&&(k||!qe):Q?pt=ht&&Ie&&!qe&&(k||!Ut):qe||Ut?pt=!1:pt=k?_e<=h:_e<h;pt?S=me+1:F=me}return ao(F,So)}function Yj(d,h){for(var m=-1,k=d.length,S=0,F=[];++m<k;){var q=d[m],K=h?h(q):q;if(!m||!Ta(K,Q)){var Q=K;F[S++]=q===0?0:q}}return F}function Xj(d){return typeof d=="number"?d:Cs(d)?be:+d}function xs(d){if(typeof d=="string")return d;if(At(d))return Hn(d,xs)+"";if(Cs(d))return Ij?Ij.call(d):"";var h=d+"";return h=="0"&&1/d==-gt?"-0":h}function xu(d,h,m){var k=-1,S=hp,F=d.length,q=!0,K=[],Q=K;if(m)q=!1,S=pp;else if(F>=t){var pe=h?null:$de(d);if(pe)return nb(pe);q=!1,S=Zt,Q=new vp}else Q=h?[]:K;e:for(;++k<F;){var me=d[k],_e=h?h(me):me;if(me=m||me!==0?me:0,q&&_e===_e){for(var Ie=Q.length;Ie--;)if(Q[Ie]===_e)continue e;h&&Q.push(_e),K.push(me)}else S(Q,_e,m)||(Q!==K&&Q.push(_e),K.push(me))}return K}function YA(d,h){return h=Cu(h,d),d=CH(d,h),d==null||delete d[_l(Gs(h))]}function Zj(d,h,m,k){return X2(d,h,m(_p(d,h)),k)}function bb(d,h,m,k){for(var S=d.length,F=k?S:-1;(k?F--:++F<S)&&h(d[F],F,d););return m?Ws(d,k?0:F,k?F+1:S):Ws(d,k?F+1:0,k?S:F)}function Qj(d,h){var m=d;return m instanceof on&&(m=m.value()),vu(h,function(k,S){return S.func.apply(S.thisArg,Ea([k],S.args))},m)}function XA(d,h,m){var k=d.length;if(k<2)return k?xu(d[0]):[];for(var S=-1,F=ie(k);++S<k;)for(var q=d[S],K=-1;++K<k;)K!=S&&(F[S]=G2(F[S]||q,d[K],h,m));return xu($i(F,1),h,m)}function Jj(d,h,m){for(var k=-1,S=d.length,F=h.length,q={};++k<S;){var K=k<F?h[k]:n;m(q,d[k],K)}return q}function ZA(d){return Vr(d)?d:[]}function QA(d){return typeof d=="function"?d:ns}function Cu(d,h){return At(d)?d:aD(d,h)?[d]:IH(An(d))}var Pde=Wt;function Eu(d,h,m){var k=d.length;return m=m===n?k:m,!h&&m>=k?d:Ws(d,h,m)}var eH=yce||function(d){return Fr.clearTimeout(d)};function tH(d,h){if(h)return d.slice();var m=d.length,k=bj?bj(m):new d.constructor(m);return d.copy(k),k}function JA(d){var h=new d.constructor(d.byteLength);return new lb(h).set(new lb(d)),h}function Ode(d,h){var m=h?JA(d.buffer):d.buffer;return new d.constructor(m,d.byteOffset,d.byteLength)}function Nde(d){var h=new d.constructor(d.source,tp.exec(d));return h.lastIndex=d.lastIndex,h}function Lde(d){return q2?Gn(q2.call(d)):{}}function nH(d,h){var m=h?JA(d.buffer):d.buffer;return new d.constructor(m,d.byteOffset,d.length)}function rH(d,h){if(d!==h){var m=d!==n,k=d===null,S=d===d,F=Cs(d),q=h!==n,K=h===null,Q=h===h,pe=Cs(h);if(!K&&!pe&&!F&&d>h||F&&q&&Q&&!K&&!pe||k&&q&&Q||!m&&Q||!S)return 1;if(!k&&!F&&!pe&&d<h||pe&&m&&S&&!k&&!F||K&&m&&S||!q&&S||!Q)return-1}return 0}function Fde(d,h,m){for(var k=-1,S=d.criteria,F=h.criteria,q=S.length,K=m.length;++k<q;){var Q=rH(S[k],F[k]);if(Q){if(k>=K)return Q;var pe=m[k];return Q*(pe=="desc"?-1:1)}}return d.index-h.index}function iH(d,h,m,k){for(var S=-1,F=d.length,q=m.length,K=-1,Q=h.length,pe=pi(F-q,0),me=ie(Q+pe),_e=!k;++K<Q;)me[K]=h[K];for(;++S<q;)(_e||S<F)&&(me[m[S]]=d[S]);for(;pe--;)me[K++]=d[S++];return me}function oH(d,h,m,k){for(var S=-1,F=d.length,q=-1,K=m.length,Q=-1,pe=h.length,me=pi(F-K,0),_e=ie(me+pe),Ie=!k;++S<me;)_e[S]=d[S];for(var qe=S;++Q<pe;)_e[qe+Q]=h[Q];for(;++q<K;)(Ie||S<F)&&(_e[qe+m[q]]=d[S++]);return _e}function Jo(d,h){var m=-1,k=d.length;for(h||(h=ie(k));++m<k;)h[m]=d[m];return h}function wl(d,h,m,k){var S=!m;m||(m={});for(var F=-1,q=h.length;++F<q;){var K=h[F],Q=k?k(m[K],d[K],K,m,d):n;Q===n&&(Q=d[K]),S?Oc(m,K,Q):W2(m,K,Q)}return m}function Bde(d,h){return wl(d,sD(d),h)}function Vde(d,h){return wl(d,wH(d),h)}function xb(d,h){return function(m,k){var S=At(m)?Fg:ade,F=h?h():{};return S(m,d,at(k,2),F)}}function Wg(d){return Wt(function(h,m){var k=-1,S=m.length,F=S>1?m[S-1]:n,q=S>2?m[2]:n;for(F=d.length>3&&typeof F=="function"?(S--,F):n,q&&Do(m[0],m[1],q)&&(F=S<3?n:F,S=1),h=Gn(h);++k<S;){var K=m[k];K&&d(h,K,k,F)}return h})}function sH(d,h){return function(m,k){if(m==null)return m;if(!es(m))return d(m,k);for(var S=m.length,F=h?S:-1,q=Gn(m);(h?F--:++F<S)&&k(q[F],F,q)!==!1;);return m}}function aH(d){return function(h,m,k){for(var S=-1,F=Gn(h),q=k(h),K=q.length;K--;){var Q=q[d?K:++S];if(m(F[Q],Q,F)===!1)break}return h}}function jde(d,h,m){var k=h&w,S=Z2(d);function F(){var q=this&&this!==Fr&&this instanceof F?S:d;return q.apply(k?m:this,arguments)}return F}function lH(d){return function(h){h=An(h);var m=jg(h)?Sa(h):n,k=m?m[0]:h.charAt(0),S=m?Eu(m,1).join(""):h.slice(1);return k[d]()+S}}function Gg(d){return function(h){return vu(sU(oU(h).replace(Gk,"")),d,"")}}function Z2(d){return function(){var h=arguments;switch(h.length){case 0:return new d;case 1:return new d(h[0]);case 2:return new d(h[0],h[1]);case 3:return new d(h[0],h[1],h[2]);case 4:return new d(h[0],h[1],h[2],h[3]);case 5:return new d(h[0],h[1],h[2],h[3],h[4]);case 6:return new d(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new d(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var m=qg(d.prototype),k=d.apply(m,h);return _r(k)?k:m}}function Hde(d,h,m){var k=Z2(d);function S(){for(var F=arguments.length,q=ie(F),K=F,Q=Kg(S);K--;)q[K]=arguments[K];var pe=F<3&&q[0]!==Q&&q[F-1]!==Q?[]:_u(q,Q);if(F-=pe.length,F<m)return pH(d,h,Cb,S.placeholder,n,q,pe,n,n,m-F);var me=this&&this!==Fr&&this instanceof S?k:d;return so(me,this,q)}return S}function cH(d){return function(h,m,k){var S=Gn(h);if(!es(h)){var F=at(m,3);h=Ii(h),m=function(K){return F(S[K],K,S)}}var q=d(h,m,k);return q>-1?S[F?h[q]:q]:n}}function dH(d){return Lc(function(h){var m=h.length,k=m,S=zs.prototype.thru;for(d&&h.reverse();k--;){var F=h[k];if(typeof F!="function")throw new $s(i);if(S&&!q&&Ib(F)=="wrapper")var q=new zs([],!0)}for(k=q?k:m;++k<m;){F=h[k];var K=Ib(F),Q=K=="wrapper"?iD(F):n;Q&&lD(Q[0])&&Q[1]==($|b|V|Y)&&!Q[4].length&&Q[9]==1?q=q[Ib(Q[0])].apply(q,Q[3]):q=F.length==1&&lD(F)?q[K]():q.thru(F)}return function(){var pe=arguments,me=pe[0];if(q&&pe.length==1&&At(me))return q.plant(me).value();for(var _e=0,Ie=m?h[_e].apply(this,pe):me;++_e<m;)Ie=h[_e].call(this,Ie);return Ie}})}function Cb(d,h,m,k,S,F,q,K,Q,pe){var me=h&$,_e=h&w,Ie=h&y,qe=h&(b|R),ht=h&L,Ut=Ie?n:Z2(d);function pt(){for(var en=arguments.length,sn=ie(en),Es=en;Es--;)sn[Es]=arguments[Es];if(qe)var Ro=Kg(pt),Ms=wu(sn,Ro);if(k&&(sn=iH(sn,k,S,qe)),F&&(sn=oH(sn,F,q,qe)),en-=Ms,qe&&en<pe){var jr=_u(sn,Ro);return pH(d,h,Cb,pt.placeholder,m,sn,jr,K,Q,pe-en)}var Aa=_e?m:this,jc=Ie?Aa[d]:d;return en=sn.length,K?sn=aue(sn,K):ht&&en>1&&sn.reverse(),me&&Q<en&&(sn.length=Q),this&&this!==Fr&&this instanceof pt&&(jc=Ut||Z2(jc)),jc.apply(Aa,sn)}return pt}function uH(d,h){return function(m,k){return gde(m,d,h(k),{})}}function Eb(d,h){return function(m,k){var S;if(m===n&&k===n)return h;if(m!==n&&(S=m),k!==n){if(S===n)return k;typeof m=="string"||typeof k=="string"?(m=xs(m),k=xs(k)):(m=Xj(m),k=Xj(k)),S=d(m,k)}return S}}function eD(d){return Lc(function(h){return h=Hn(h,Bt(at())),Wt(function(m){var k=this;return d(h,function(S){return so(S,k,m)})})})}function Mb(d,h){h=h===n?" ":xs(h);var m=h.length;if(m<2)return m?GA(h,d):h;var k=GA(h,hb(d/Hg(h)));return jg(h)?Eu(Sa(k),0,d).join(""):k.slice(0,d)}function Ude(d,h,m,k){var S=h&w,F=Z2(d);function q(){for(var K=-1,Q=arguments.length,pe=-1,me=k.length,_e=ie(me+Q),Ie=this&&this!==Fr&&this instanceof q?F:d;++pe<me;)_e[pe]=k[pe];for(;Q--;)_e[pe++]=arguments[++K];return so(Ie,S?m:this,_e)}return q}function hH(d){return function(h,m,k){return k&&typeof k!="number"&&Do(h,m,k)&&(m=k=n),h=Vc(h),m===n?(m=h,h=0):m=Vc(m),k=k===n?h<m?1:-1:Vc(k),Sde(h,m,k,d)}}function Sb(d){return function(h,m){return typeof h=="string"&&typeof m=="string"||(h=Ks(h),m=Ks(m)),d(h,m)}}function pH(d,h,m,k,S,F,q,K,Q,pe){var me=h&b,_e=me?q:n,Ie=me?n:q,qe=me?F:n,ht=me?n:F;h|=me?V:j,h&=~(me?j:V),h&x||(h&=~(w|y));var Ut=[d,h,S,qe,_e,ht,Ie,K,Q,pe],pt=m.apply(n,Ut);return lD(d)&&EH(pt,Ut),pt.placeholder=k,MH(pt,d,h)}function tD(d){var h=hi[d];return function(m,k){if(m=Ks(m),k=k==null?0:ao(Vt(k),292),k&&Mj(m)){var S=(An(m)+"e").split("e"),F=h(S[0]+"e"+(+S[1]+k));return S=(An(F)+"e").split("e"),+(S[0]+"e"+(+S[1]-k))}return h(m)}}var $de=$g&&1/nb(new $g([,-0]))[1]==gt?function(d){return new $g(d)}:xD;function fH(d){return function(h){var m=lo(h);return m==Zr?DA(h):m==Zo?sce(h):re(h,d(h))}}function Nc(d,h,m,k,S,F,q,K){var Q=h&y;if(!Q&&typeof d!="function")throw new $s(i);var pe=k?k.length:0;if(pe||(h&=~(V|j),k=S=n),q=q===n?q:pi(Vt(q),0),K=K===n?K:Vt(K),pe-=S?S.length:0,h&j){var me=k,_e=S;k=S=n}var Ie=Q?n:iD(d),qe=[d,h,m,k,S,me,_e,F,q,K];if(Ie&&iue(qe,Ie),d=qe[0],h=qe[1],m=qe[2],k=qe[3],S=qe[4],K=qe[9]=qe[9]===n?Q?0:d.length:pi(qe[9]-pe,0),!K&&h&(b|R)&&(h&=~(b|R)),!h||h==w)var ht=jde(d,h,m);else h==b||h==R?ht=Hde(d,h,K):(h==V||h==(w|V))&&!S.length?ht=Ude(d,h,m,k):ht=Cb.apply(n,qe);var Ut=Ie?Kj:EH;return MH(Ut(ht,qe),d,h)}function gH(d,h,m,k){return d===n||Ta(d,Ug[m])&&!Ln.call(k,m)?h:d}function mH(d,h,m,k,S,F){return _r(d)&&_r(h)&&(F.set(h,d),yb(d,h,n,mH,F),F.delete(h)),d}function zde(d){return ev(d)?n:d}function vH(d,h,m,k,S,F){var q=m&g,K=d.length,Q=h.length;if(K!=Q&&!(q&&Q>K))return!1;var pe=F.get(d),me=F.get(h);if(pe&&me)return pe==h&&me==d;var _e=-1,Ie=!0,qe=m&v?new vp:n;for(F.set(d,h),F.set(h,d);++_e<K;){var ht=d[_e],Ut=h[_e];if(k)var pt=q?k(Ut,ht,_e,h,d,F):k(ht,Ut,_e,d,h,F);if(pt!==n){if(pt)continue;Ie=!1;break}if(qe){if(!Bg(h,function(en,sn){if(!Zt(qe,sn)&&(ht===en||S(ht,en,m,k,F)))return qe.push(sn)})){Ie=!1;break}}else if(!(ht===Ut||S(ht,Ut,m,k,F))){Ie=!1;break}}return F.delete(d),F.delete(h),Ie}function qde(d,h,m,k,S,F,q){switch(m){case ul:if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case Sc:return!(d.byteLength!=h.byteLength||!F(new lb(d),new lb(h)));case wr:case et:case Mc:return Ta(+d,+h);case Io:return d.name==h.name&&d.message==h.message;case Xh:case su:return d==h+"";case Zr:var K=DA;case Zo:var Q=k&g;if(K||(K=nb),d.size!=h.size&&!Q)return!1;var pe=q.get(d);if(pe)return pe==h;k|=v,q.set(d,h);var me=vH(K(d),K(h),k,S,F,q);return q.delete(d),me;case au:if(q2)return q2.call(d)==q2.call(h)}return!1}function Wde(d,h,m,k,S,F){var q=m&g,K=nD(d),Q=K.length,pe=nD(h),me=pe.length;if(Q!=me&&!q)return!1;for(var _e=Q;_e--;){var Ie=K[_e];if(!(q?Ie in h:Ln.call(h,Ie)))return!1}var qe=F.get(d),ht=F.get(h);if(qe&&ht)return qe==h&&ht==d;var Ut=!0;F.set(d,h),F.set(h,d);for(var pt=q;++_e<Q;){Ie=K[_e];var en=d[Ie],sn=h[Ie];if(k)var Es=q?k(sn,en,Ie,h,d,F):k(en,sn,Ie,d,h,F);if(!(Es===n?en===sn||S(en,sn,m,k,F):Es)){Ut=!1;break}pt||(pt=Ie=="constructor")}if(Ut&&!pt){var Ro=d.constructor,Ms=h.constructor;Ro!=Ms&&"constructor"in d&&"constructor"in h&&!(typeof Ro=="function"&&Ro instanceof Ro&&typeof Ms=="function"&&Ms instanceof Ms)&&(Ut=!1)}return F.delete(d),F.delete(h),Ut}function Lc(d){return dD(xH(d,n,RH),d+"")}function nD(d){return Fj(d,Ii,sD)}function rD(d){return Fj(d,ts,wH)}var iD=fb?function(d){return fb.get(d)}:xD;function Ib(d){for(var h=d.name+"",m=zg[h],k=Ln.call(zg,h)?m.length:0;k--;){var S=m[k],F=S.func;if(F==null||F==d)return S.name}return h}function Kg(d){var h=Ln.call(P,"placeholder")?P:d;return h.placeholder}function at(){var d=P.iteratee||kD;return d=d===kD?jj:d,arguments.length?d(arguments[0],arguments[1]):d}function Tb(d,h){var m=d.__data__;return eue(h)?m[typeof h=="string"?"string":"hash"]:m.map}function oD(d){for(var h=Ii(d),m=h.length;m--;){var k=h[m],S=d[k];h[m]=[k,S,kH(S)]}return h}function yp(d,h){var m=rce(d,h);return Vj(m)?m:n}function Gde(d){var h=Ln.call(d,gp),m=d[gp];try{d[gp]=n;var k=!0}catch{}var S=sb.call(d);return k&&(h?d[gp]=m:delete d[gp]),S}var sD=PA?function(d){return d==null?[]:(d=Gn(d),Ca(PA(d),function(h){return Cj.call(d,h)}))}:CD,wH=PA?function(d){for(var h=[];d;)Ea(h,sD(d)),d=cb(d);return h}:CD,lo=Ao;(OA&&lo(new OA(new ArrayBuffer(1)))!=ul||U2&&lo(new U2)!=Zr||NA&&lo(NA.resolve())!=v2||$g&&lo(new $g)!=Zo||$2&&lo(new $2)!=Zh)&&(lo=function(d){var h=Ao(d),m=h==ks?d.constructor:n,k=m?kp(m):"";if(k)switch(k){case Tce:return ul;case Ace:return Zr;case Dce:return v2;case Rce:return Zo;case Pce:return Zh}return h});function Kde(d,h,m){for(var k=-1,S=m.length;++k<S;){var F=m[k],q=F.size;switch(F.type){case"drop":d+=q;break;case"dropRight":h-=q;break;case"take":h=ao(h,d+q);break;case"takeRight":d=pi(d,h-q);break}}return{start:d,end:h}}function Yde(d){var h=d.match(ep);return h?h[1].split(wA):[]}function _H(d,h,m){h=Cu(h,d);for(var k=-1,S=h.length,F=!1;++k<S;){var q=_l(h[k]);if(!(F=d!=null&&m(d,q)))break;d=d[q]}return F||++k!=S?F:(S=d==null?0:d.length,!!S&&Lb(S)&&Fc(q,S)&&(At(d)||bp(d)))}function Xde(d){var h=d.length,m=new d.constructor(h);return h&&typeof d[0]=="string"&&Ln.call(d,"index")&&(m.index=d.index,m.input=d.input),m}function yH(d){return typeof d.constructor=="function"&&!Q2(d)?qg(cb(d)):{}}function Zde(d,h,m){var k=d.constructor;switch(h){case Sc:return JA(d);case wr:case et:return new k(+d);case ul:return Ode(d,m);case Qr:case li:case lu:case bg:case xg:case _2:case Ic:case Cg:case Eg:return nH(d,m);case Zr:return new k;case Mc:case su:return new k(d);case Xh:return Nde(d);case Zo:return new k;case au:return Lde(d)}}function Qde(d,h){var m=h.length;if(!m)return d;var k=m-1;return h[k]=(m>1?"& ":"")+h[k],h=h.join(m>2?", ":" "),d.replace(Jh,`{
/* [wrapped with `+h+`] */
`)}function Jde(d){return At(d)||bp(d)||!!(Ej&&d&&d[Ej])}function Fc(d,h){var m=typeof d;return h=h??Tt,!!h&&(m=="number"||m!="symbol"&&Ok.test(d))&&d>-1&&d%1==0&&d<h}function Do(d,h,m){if(!_r(m))return!1;var k=typeof h;return(k=="number"?es(m)&&Fc(h,m.length):k=="string"&&h in m)?Ta(m[h],d):!1}function aD(d,h){if(At(d))return!1;var m=typeof d;return m=="number"||m=="symbol"||m=="boolean"||d==null||Cs(d)?!0:Sg.test(d)||!Tk.test(d)||h!=null&&d in Gn(h)}function eue(d){var h=typeof d;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?d!=="__proto__":d===null}function lD(d){var h=Ib(d),m=P[h];if(typeof m!="function"||!(h in on.prototype))return!1;if(d===m)return!0;var k=iD(m);return!!k&&d===k[0]}function tue(d){return!!kj&&kj in d}var nue=ib?Bc:ED;function Q2(d){var h=d&&d.constructor,m=typeof h=="function"&&h.prototype||Ug;return d===m}function kH(d){return d===d&&!_r(d)}function bH(d,h){return function(m){return m==null?!1:m[d]===h&&(h!==n||d in Gn(m))}}function rue(d){var h=Ob(d,function(k){return m.size===a&&m.clear(),k}),m=h.cache;return h}function iue(d,h){var m=d[1],k=h[1],S=m|k,F=S<(w|y|$),q=k==$&&m==b||k==$&&m==Y&&d[7].length<=h[8]||k==($|Y)&&h[7].length<=h[8]&&m==b;if(!(F||q))return d;k&w&&(d[2]=h[2],S|=m&w?0:x);var K=h[3];if(K){var Q=d[3];d[3]=Q?iH(Q,K,h[4]):K,d[4]=Q?_u(d[3],l):h[4]}return K=h[5],K&&(Q=d[5],d[5]=Q?oH(Q,K,h[6]):K,d[6]=Q?_u(d[5],l):h[6]),K=h[7],K&&(d[7]=K),k&$&&(d[8]=d[8]==null?h[8]:ao(d[8],h[8])),d[9]==null&&(d[9]=h[9]),d[0]=h[0],d[1]=S,d}function oue(d){var h=[];if(d!=null)for(var m in Gn(d))h.push(m);return h}function sue(d){return sb.call(d)}function xH(d,h,m){return h=pi(h===n?d.length-1:h,0),function(){for(var k=arguments,S=-1,F=pi(k.length-h,0),q=ie(F);++S<F;)q[S]=k[h+S];S=-1;for(var K=ie(h+1);++S<h;)K[S]=k[S];return K[h]=m(q),so(d,this,K)}}function CH(d,h){return h.length<2?d:_p(d,Ws(h,0,-1))}function aue(d,h){for(var m=d.length,k=ao(h.length,m),S=Jo(d);k--;){var F=h[k];d[k]=Fc(F,m)?S[F]:n}return d}function cD(d,h){if(!(h==="constructor"&&typeof d[h]=="function")&&h!="__proto__")return d[h]}var EH=SH(Kj),J2=bce||function(d,h){return Fr.setTimeout(d,h)},dD=SH(Ade);function MH(d,h,m){var k=h+"";return dD(d,Qde(k,lue(Yde(k),m)))}function SH(d){var h=0,m=0;return function(){var k=Mce(),S=U-(k-m);if(m=k,S>0){if(++h>=B)return arguments[0]}else h=0;return d.apply(n,arguments)}}function Ab(d,h){var m=-1,k=d.length,S=k-1;for(h=h===n?k:h;++m<h;){var F=WA(m,S),q=d[F];d[F]=d[m],d[m]=q}return d.length=h,d}var IH=rue(function(d){var h=[];return d.charCodeAt(0)===46&&h.push(""),d.replace(Ak,function(m,k,S,F){h.push(S?F.replace(yA,"$1"):k||m)}),h});function _l(d){if(typeof d=="string"||Cs(d))return d;var h=d+"";return h=="0"&&1/d==-gt?"-0":h}function kp(d){if(d!=null){try{return ob.call(d)}catch{}try{return d+""}catch{}}return""}function lue(d,h){return Qo(vn,function(m){var k="_."+m[0];h&m[1]&&!hp(d,k)&&d.push(k)}),d.sort()}function TH(d){if(d instanceof on)return d.clone();var h=new zs(d.__wrapped__,d.__chain__);return h.__actions__=Jo(d.__actions__),h.__index__=d.__index__,h.__values__=d.__values__,h}function cue(d,h,m){(m?Do(d,h,m):h===n)?h=1:h=pi(Vt(h),0);var k=d==null?0:d.length;if(!k||h<1)return[];for(var S=0,F=0,q=ie(hb(k/h));S<k;)q[F++]=Ws(d,S,S+=h);return q}function due(d){for(var h=-1,m=d==null?0:d.length,k=0,S=[];++h<m;){var F=d[h];F&&(S[k++]=F)}return S}function uue(){var d=arguments.length;if(!d)return[];for(var h=ie(d-1),m=arguments[0],k=d;k--;)h[k-1]=arguments[k];return Ea(At(m)?Jo(m):[m],$i(h,1))}var hue=Wt(function(d,h){return Vr(d)?G2(d,$i(h,1,Vr,!0)):[]}),pue=Wt(function(d,h){var m=Gs(h);return Vr(m)&&(m=n),Vr(d)?G2(d,$i(h,1,Vr,!0),at(m,2)):[]}),fue=Wt(function(d,h){var m=Gs(h);return Vr(m)&&(m=n),Vr(d)?G2(d,$i(h,1,Vr,!0),n,m):[]});function gue(d,h,m){var k=d==null?0:d.length;return k?(h=m||h===n?1:Vt(h),Ws(d,h<0?0:h,k)):[]}function mue(d,h,m){var k=d==null?0:d.length;return k?(h=m||h===n?1:Vt(h),h=k-h,Ws(d,0,h<0?0:h)):[]}function vue(d,h){return d&&d.length?bb(d,at(h,3),!0,!0):[]}function wue(d,h){return d&&d.length?bb(d,at(h,3),!0):[]}function _ue(d,h,m,k){var S=d==null?0:d.length;return S?(m&&typeof m!="number"&&Do(d,h,m)&&(m=0,k=S),ude(d,h,m,k)):[]}function AH(d,h,m){var k=d==null?0:d.length;if(!k)return-1;var S=m==null?0:Vt(m);return S<0&&(S=pi(k+S,0)),fp(d,at(h,3),S)}function DH(d,h,m){var k=d==null?0:d.length;if(!k)return-1;var S=k-1;return m!==n&&(S=Vt(m),S=m<0?pi(k+S,0):ao(S,k-1)),fp(d,at(h,3),S,!0)}function RH(d){var h=d==null?0:d.length;return h?$i(d,1):[]}function yue(d){var h=d==null?0:d.length;return h?$i(d,gt):[]}function kue(d,h){var m=d==null?0:d.length;return m?(h=h===n?1:Vt(h),$i(d,h)):[]}function bue(d){for(var h=-1,m=d==null?0:d.length,k={};++h<m;){var S=d[h];k[S[0]]=S[1]}return k}function PH(d){return d&&d.length?d[0]:n}function xue(d,h,m){var k=d==null?0:d.length;if(!k)return-1;var S=m==null?0:Vt(m);return S<0&&(S=pi(k+S,0)),Ma(d,h,S)}function Cue(d){var h=d==null?0:d.length;return h?Ws(d,0,-1):[]}var Eue=Wt(function(d){var h=Hn(d,ZA);return h.length&&h[0]===d[0]?HA(h):[]}),Mue=Wt(function(d){var h=Gs(d),m=Hn(d,ZA);return h===Gs(m)?h=n:m.pop(),m.length&&m[0]===d[0]?HA(m,at(h,2)):[]}),Sue=Wt(function(d){var h=Gs(d),m=Hn(d,ZA);return h=typeof h=="function"?h:n,h&&m.pop(),m.length&&m[0]===d[0]?HA(m,n,h):[]});function Iue(d,h){return d==null?"":Cce.call(d,h)}function Gs(d){var h=d==null?0:d.length;return h?d[h-1]:n}function Tue(d,h,m){var k=d==null?0:d.length;if(!k)return-1;var S=k;return m!==n&&(S=Vt(m),S=S<0?pi(k+S,0):ao(S,k-1)),h===h?lce(d,h,S):fp(d,B2,S,!0)}function Aue(d,h){return d&&d.length?zj(d,Vt(h)):n}var Due=Wt(OH);function OH(d,h){return d&&d.length&&h&&h.length?qA(d,h):d}function Rue(d,h,m){return d&&d.length&&h&&h.length?qA(d,h,at(m,2)):d}function Pue(d,h,m){return d&&d.length&&h&&h.length?qA(d,h,n,m):d}var Oue=Lc(function(d,h){var m=d==null?0:d.length,k=FA(d,h);return Gj(d,Hn(h,function(S){return Fc(S,m)?+S:S}).sort(rH)),k});function Nue(d,h){var m=[];if(!(d&&d.length))return m;var k=-1,S=[],F=d.length;for(h=at(h,3);++k<F;){var q=d[k];h(q,k,d)&&(m.push(q),S.push(k))}return Gj(d,S),m}function uD(d){return d==null?d:Ice.call(d)}function Lue(d,h,m){var k=d==null?0:d.length;return k?(m&&typeof m!="number"&&Do(d,h,m)?(h=0,m=k):(h=h==null?0:Vt(h),m=m===n?k:Vt(m)),Ws(d,h,m)):[]}function Fue(d,h){return kb(d,h)}function Bue(d,h,m){return KA(d,h,at(m,2))}function Vue(d,h){var m=d==null?0:d.length;if(m){var k=kb(d,h);if(k<m&&Ta(d[k],h))return k}return-1}function jue(d,h){return kb(d,h,!0)}function Hue(d,h,m){return KA(d,h,at(m,2),!0)}function Uue(d,h){var m=d==null?0:d.length;if(m){var k=kb(d,h,!0)-1;if(Ta(d[k],h))return k}return-1}function $ue(d){return d&&d.length?Yj(d):[]}function zue(d,h){return d&&d.length?Yj(d,at(h,2)):[]}function que(d){var h=d==null?0:d.length;return h?Ws(d,1,h):[]}function Wue(d,h,m){return d&&d.length?(h=m||h===n?1:Vt(h),Ws(d,0,h<0?0:h)):[]}function Gue(d,h,m){var k=d==null?0:d.length;return k?(h=m||h===n?1:Vt(h),h=k-h,Ws(d,h<0?0:h,k)):[]}function Kue(d,h){return d&&d.length?bb(d,at(h,3),!1,!0):[]}function Yue(d,h){return d&&d.length?bb(d,at(h,3)):[]}var Xue=Wt(function(d){return xu($i(d,1,Vr,!0))}),Zue=Wt(function(d){var h=Gs(d);return Vr(h)&&(h=n),xu($i(d,1,Vr,!0),at(h,2))}),Que=Wt(function(d){var h=Gs(d);return h=typeof h=="function"?h:n,xu($i(d,1,Vr,!0),n,h)});function Jue(d){return d&&d.length?xu(d):[]}function ehe(d,h){return d&&d.length?xu(d,at(h,2)):[]}function the(d,h){return h=typeof h=="function"?h:n,d&&d.length?xu(d,n,h):[]}function hD(d){if(!(d&&d.length))return[];var h=0;return d=Ca(d,function(m){if(Vr(m))return h=pi(m.length,h),!0}),J(h,function(m){return Hn(d,ml(m))})}function NH(d,h){if(!(d&&d.length))return[];var m=hD(d);return h==null?m:Hn(m,function(k){return so(h,n,k)})}var nhe=Wt(function(d,h){return Vr(d)?G2(d,h):[]}),rhe=Wt(function(d){return XA(Ca(d,Vr))}),ihe=Wt(function(d){var h=Gs(d);return Vr(h)&&(h=n),XA(Ca(d,Vr),at(h,2))}),ohe=Wt(function(d){var h=Gs(d);return h=typeof h=="function"?h:n,XA(Ca(d,Vr),n,h)}),she=Wt(hD);function ahe(d,h){return Jj(d||[],h||[],W2)}function lhe(d,h){return Jj(d||[],h||[],X2)}var che=Wt(function(d){var h=d.length,m=h>1?d[h-1]:n;return m=typeof m=="function"?(d.pop(),m):n,NH(d,m)});function LH(d){var h=P(d);return h.__chain__=!0,h}function dhe(d,h){return h(d),d}function Db(d,h){return h(d)}var uhe=Lc(function(d){var h=d.length,m=h?d[0]:0,k=this.__wrapped__,S=function(F){return FA(F,d)};return h>1||this.__actions__.length||!(k instanceof on)||!Fc(m)?this.thru(S):(k=k.slice(m,+m+(h?1:0)),k.__actions__.push({func:Db,args:[S],thisArg:n}),new zs(k,this.__chain__).thru(function(F){return h&&!F.length&&F.push(n),F}))});function hhe(){return LH(this)}function phe(){return new zs(this.value(),this.__chain__)}function fhe(){this.__values__===n&&(this.__values__=XH(this.value()));var d=this.__index__>=this.__values__.length,h=d?n:this.__values__[this.__index__++];return{done:d,value:h}}function ghe(){return this}function mhe(d){for(var h,m=this;m instanceof mb;){var k=TH(m);k.__index__=0,k.__values__=n,h?S.__wrapped__=k:h=k;var S=k;m=m.__wrapped__}return S.__wrapped__=d,h}function vhe(){var d=this.__wrapped__;if(d instanceof on){var h=d;return this.__actions__.length&&(h=new on(this)),h=h.reverse(),h.__actions__.push({func:Db,args:[uD],thisArg:n}),new zs(h,this.__chain__)}return this.thru(uD)}function whe(){return Qj(this.__wrapped__,this.__actions__)}var _he=xb(function(d,h,m){Ln.call(d,m)?++d[m]:Oc(d,m,1)});function yhe(d,h,m){var k=At(d)?mu:dde;return m&&Do(d,h,m)&&(h=n),k(d,at(h,3))}function khe(d,h){var m=At(d)?Ca:Nj;return m(d,at(h,3))}var bhe=cH(AH),xhe=cH(DH);function Che(d,h){return $i(Rb(d,h),1)}function Ehe(d,h){return $i(Rb(d,h),gt)}function Mhe(d,h,m){return m=m===n?1:Vt(m),$i(Rb(d,h),m)}function FH(d,h){var m=At(d)?Qo:bu;return m(d,at(h,3))}function BH(d,h){var m=At(d)?Qk:Oj;return m(d,at(h,3))}var She=xb(function(d,h,m){Ln.call(d,m)?d[m].push(h):Oc(d,m,[h])});function Ihe(d,h,m,k){d=es(d)?d:Xg(d),m=m&&!k?Vt(m):0;var S=d.length;return m<0&&(m=pi(S+m,0)),Fb(d)?m<=S&&d.indexOf(h,m)>-1:!!S&&Ma(d,h,m)>-1}var The=Wt(function(d,h,m){var k=-1,S=typeof h=="function",F=es(d)?ie(d.length):[];return bu(d,function(q){F[++k]=S?so(h,q,m):K2(q,h,m)}),F}),Ahe=xb(function(d,h,m){Oc(d,m,h)});function Rb(d,h){var m=At(d)?Hn:Hj;return m(d,at(h,3))}function Dhe(d,h,m,k){return d==null?[]:(At(h)||(h=h==null?[]:[h]),m=k?n:m,At(m)||(m=m==null?[]:[m]),qj(d,h,m))}var Rhe=xb(function(d,h,m){d[m?0:1].push(h)},function(){return[[],[]]});function Phe(d,h,m){var k=At(d)?vu:_,S=arguments.length<3;return k(d,at(h,4),m,S,bu)}function Ohe(d,h,m){var k=At(d)?Jk:_,S=arguments.length<3;return k(d,at(h,4),m,S,Oj)}function Nhe(d,h){var m=At(d)?Ca:Nj;return m(d,Nb(at(h,3)))}function Lhe(d){var h=At(d)?Aj:Ide;return h(d)}function Fhe(d,h,m){(m?Do(d,h,m):h===n)?h=1:h=Vt(h);var k=At(d)?ode:Tde;return k(d,h)}function Bhe(d){var h=At(d)?sde:Dde;return h(d)}function Vhe(d){if(d==null)return 0;if(es(d))return Fb(d)?Hg(d):d.length;var h=lo(d);return h==Zr||h==Zo?d.size:$A(d).length}function jhe(d,h,m){var k=At(d)?Bg:Rde;return m&&Do(d,h,m)&&(h=n),k(d,at(h,3))}var Hhe=Wt(function(d,h){if(d==null)return[];var m=h.length;return m>1&&Do(d,h[0],h[1])?h=[]:m>2&&Do(h[0],h[1],h[2])&&(h=[h[0]]),qj(d,$i(h,1),[])}),Pb=kce||function(){return Fr.Date.now()};function Uhe(d,h){if(typeof h!="function")throw new $s(i);return d=Vt(d),function(){if(--d<1)return h.apply(this,arguments)}}function VH(d,h,m){return h=m?n:h,h=d&&h==null?d.length:h,Nc(d,$,n,n,n,n,h)}function jH(d,h){var m;if(typeof h!="function")throw new $s(i);return d=Vt(d),function(){return--d>0&&(m=h.apply(this,arguments)),d<=1&&(h=n),m}}var pD=Wt(function(d,h,m){var k=w;if(m.length){var S=_u(m,Kg(pD));k|=V}return Nc(d,k,h,m,S)}),HH=Wt(function(d,h,m){var k=w|y;if(m.length){var S=_u(m,Kg(HH));k|=V}return Nc(h,k,d,m,S)});function UH(d,h,m){h=m?n:h;var k=Nc(d,b,n,n,n,n,n,h);return k.placeholder=UH.placeholder,k}function $H(d,h,m){h=m?n:h;var k=Nc(d,R,n,n,n,n,n,h);return k.placeholder=$H.placeholder,k}function zH(d,h,m){var k,S,F,q,K,Q,pe=0,me=!1,_e=!1,Ie=!0;if(typeof d!="function")throw new $s(i);h=Ks(h)||0,_r(m)&&(me=!!m.leading,_e="maxWait"in m,F=_e?pi(Ks(m.maxWait)||0,h):F,Ie="trailing"in m?!!m.trailing:Ie);function qe(jr){var Aa=k,jc=S;return k=S=n,pe=jr,q=d.apply(jc,Aa),q}function ht(jr){return pe=jr,K=J2(en,h),me?qe(jr):q}function Ut(jr){var Aa=jr-Q,jc=jr-pe,cU=h-Aa;return _e?ao(cU,F-jc):cU}function pt(jr){var Aa=jr-Q,jc=jr-pe;return Q===n||Aa>=h||Aa<0||_e&&jc>=F}function en(){var jr=Pb();if(pt(jr))return sn(jr);K=J2(en,Ut(jr))}function sn(jr){return K=n,Ie&&k?qe(jr):(k=S=n,q)}function Es(){K!==n&&eH(K),pe=0,k=Q=S=K=n}function Ro(){return K===n?q:sn(Pb())}function Ms(){var jr=Pb(),Aa=pt(jr);if(k=arguments,S=this,Q=jr,Aa){if(K===n)return ht(Q);if(_e)return eH(K),K=J2(en,h),qe(Q)}return K===n&&(K=J2(en,h)),q}return Ms.cancel=Es,Ms.flush=Ro,Ms}var $he=Wt(function(d,h){return Pj(d,1,h)}),zhe=Wt(function(d,h,m){return Pj(d,Ks(h)||0,m)});function qhe(d){return Nc(d,L)}function Ob(d,h){if(typeof d!="function"||h!=null&&typeof h!="function")throw new $s(i);var m=function(){var k=arguments,S=h?h.apply(this,k):k[0],F=m.cache;if(F.has(S))return F.get(S);var q=d.apply(this,k);return m.cache=F.set(S,q)||F,q};return m.cache=new(Ob.Cache||Pc),m}Ob.Cache=Pc;function Nb(d){if(typeof d!="function")throw new $s(i);return function(){var h=arguments;switch(h.length){case 0:return!d.call(this);case 1:return!d.call(this,h[0]);case 2:return!d.call(this,h[0],h[1]);case 3:return!d.call(this,h[0],h[1],h[2])}return!d.apply(this,h)}}function Whe(d){return jH(2,d)}var Ghe=Pde(function(d,h){h=h.length==1&&At(h[0])?Hn(h[0],Bt(at())):Hn($i(h,1),Bt(at()));var m=h.length;return Wt(function(k){for(var S=-1,F=ao(k.length,m);++S<F;)k[S]=h[S].call(this,k[S]);return so(d,this,k)})}),fD=Wt(function(d,h){var m=_u(h,Kg(fD));return Nc(d,V,n,h,m)}),qH=Wt(function(d,h){var m=_u(h,Kg(qH));return Nc(d,j,n,h,m)}),Khe=Lc(function(d,h){return Nc(d,Y,n,n,n,h)});function Yhe(d,h){if(typeof d!="function")throw new $s(i);return h=h===n?h:Vt(h),Wt(d,h)}function Xhe(d,h){if(typeof d!="function")throw new $s(i);return h=h==null?0:pi(Vt(h),0),Wt(function(m){var k=m[h],S=Eu(m,0,h);return k&&Ea(S,k),so(d,this,S)})}function Zhe(d,h,m){var k=!0,S=!0;if(typeof d!="function")throw new $s(i);return _r(m)&&(k="leading"in m?!!m.leading:k,S="trailing"in m?!!m.trailing:S),zH(d,h,{leading:k,maxWait:h,trailing:S})}function Qhe(d){return VH(d,1)}function Jhe(d,h){return fD(QA(h),d)}function epe(){if(!arguments.length)return[];var d=arguments[0];return At(d)?d:[d]}function tpe(d){return qs(d,p)}function npe(d,h){return h=typeof h=="function"?h:n,qs(d,p,h)}function rpe(d){return qs(d,c|p)}function ipe(d,h){return h=typeof h=="function"?h:n,qs(d,c|p,h)}function ope(d,h){return h==null||Rj(d,h,Ii(h))}function Ta(d,h){return d===h||d!==d&&h!==h}var spe=Sb(jA),ape=Sb(function(d,h){return d>=h}),bp=Bj((function(){return arguments})())?Bj:function(d){return Ar(d)&&Ln.call(d,"callee")&&!Cj.call(d,"callee")},At=ie.isArray,lpe=N2?Bt(N2):mde;function es(d){return d!=null&&Lb(d.length)&&!Bc(d)}function Vr(d){return Ar(d)&&es(d)}function cpe(d){return d===!0||d===!1||Ar(d)&&Ao(d)==wr}var Mu=xce||ED,dpe=Zk?Bt(Zk):vde;function upe(d){return Ar(d)&&d.nodeType===1&&!ev(d)}function hpe(d){if(d==null)return!0;if(es(d)&&(At(d)||typeof d=="string"||typeof d.splice=="function"||Mu(d)||Yg(d)||bp(d)))return!d.length;var h=lo(d);if(h==Zr||h==Zo)return!d.size;if(Q2(d))return!$A(d).length;for(var m in d)if(Ln.call(d,m))return!1;return!0}function ppe(d,h){return Y2(d,h)}function fpe(d,h,m){m=typeof m=="function"?m:n;var k=m?m(d,h):n;return k===n?Y2(d,h,n,m):!!k}function gD(d){if(!Ar(d))return!1;var h=Ao(d);return h==Io||h==io||typeof d.message=="string"&&typeof d.name=="string"&&!ev(d)}function gpe(d){return typeof d=="number"&&Mj(d)}function Bc(d){if(!_r(d))return!1;var h=Ao(d);return h==oo||h==ya||h==Si||h==Mk}function WH(d){return typeof d=="number"&&d==Vt(d)}function Lb(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=Tt}function _r(d){var h=typeof d;return d!=null&&(h=="object"||h=="function")}function Ar(d){return d!=null&&typeof d=="object"}var GH=gu?Bt(gu):_de;function mpe(d,h){return d===h||UA(d,h,oD(h))}function vpe(d,h,m){return m=typeof m=="function"?m:n,UA(d,h,oD(h),m)}function wpe(d){return KH(d)&&d!=+d}function _pe(d){if(nue(d))throw new Mt(r);return Vj(d)}function ype(d){return d===null}function kpe(d){return d==null}function KH(d){return typeof d=="number"||Ar(d)&&Ao(d)==Mc}function ev(d){if(!Ar(d)||Ao(d)!=ks)return!1;var h=cb(d);if(h===null)return!0;var m=Ln.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&ob.call(m)==vce}var mD=L2?Bt(L2):yde;function bpe(d){return WH(d)&&d>=-Tt&&d<=Tt}var YH=Lg?Bt(Lg):kde;function Fb(d){return typeof d=="string"||!At(d)&&Ar(d)&&Ao(d)==su}function Cs(d){return typeof d=="symbol"||Ar(d)&&Ao(d)==au}var Yg=up?Bt(up):bde;function xpe(d){return d===n}function Cpe(d){return Ar(d)&&lo(d)==Zh}function Epe(d){return Ar(d)&&Ao(d)==w2}var Mpe=Sb(zA),Spe=Sb(function(d,h){return d<=h});function XH(d){if(!d)return[];if(es(d))return Fb(d)?Sa(d):Jo(d);if(H2&&d[H2])return oce(d[H2]());var h=lo(d),m=h==Zr?DA:h==Zo?nb:Xg;return m(d)}function Vc(d){if(!d)return d===0?d:0;if(d=Ks(d),d===gt||d===-gt){var h=d<0?-1:1;return h*Re}return d===d?d:0}function Vt(d){var h=Vc(d),m=h%1;return h===h?m?h-m:h:0}function ZH(d){return d?wp(Vt(d),0,er):0}function Ks(d){if(typeof d=="number")return d;if(Cs(d))return be;if(_r(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=_r(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=Ee(d);var m=C2.test(d);return m||pl.test(d)?dr(d.slice(2),m?2:8):Pk.test(d)?be:+d}function QH(d){return wl(d,ts(d))}function Ipe(d){return d?wp(Vt(d),-Tt,Tt):d===0?d:0}function An(d){return d==null?"":xs(d)}var Tpe=Wg(function(d,h){if(Q2(h)||es(h)){wl(h,Ii(h),d);return}for(var m in h)Ln.call(h,m)&&W2(d,m,h[m])}),JH=Wg(function(d,h){wl(h,ts(h),d)}),Bb=Wg(function(d,h,m,k){wl(h,ts(h),d,k)}),Ape=Wg(function(d,h,m,k){wl(h,Ii(h),d,k)}),Dpe=Lc(FA);function Rpe(d,h){var m=qg(d);return h==null?m:Dj(m,h)}var Ppe=Wt(function(d,h){d=Gn(d);var m=-1,k=h.length,S=k>2?h[2]:n;for(S&&Do(h[0],h[1],S)&&(k=1);++m<k;)for(var F=h[m],q=ts(F),K=-1,Q=q.length;++K<Q;){var pe=q[K],me=d[pe];(me===n||Ta(me,Ug[pe])&&!Ln.call(d,pe))&&(d[pe]=F[pe])}return d}),Ope=Wt(function(d){return d.push(n,mH),so(eU,n,d)});function Npe(d,h){return F2(d,at(h,3),vl)}function Lpe(d,h){return F2(d,at(h,3),VA)}function Fpe(d,h){return d==null?d:BA(d,at(h,3),ts)}function Bpe(d,h){return d==null?d:Lj(d,at(h,3),ts)}function Vpe(d,h){return d&&vl(d,at(h,3))}function jpe(d,h){return d&&VA(d,at(h,3))}function Hpe(d){return d==null?[]:_b(d,Ii(d))}function Upe(d){return d==null?[]:_b(d,ts(d))}function vD(d,h,m){var k=d==null?n:_p(d,h);return k===n?m:k}function $pe(d,h){return d!=null&&_H(d,h,hde)}function wD(d,h){return d!=null&&_H(d,h,pde)}var zpe=uH(function(d,h,m){h!=null&&typeof h.toString!="function"&&(h=sb.call(h)),d[h]=m},yD(ns)),qpe=uH(function(d,h,m){h!=null&&typeof h.toString!="function"&&(h=sb.call(h)),Ln.call(d,h)?d[h].push(m):d[h]=[m]},at),Wpe=Wt(K2);function Ii(d){return es(d)?Tj(d):$A(d)}function ts(d){return es(d)?Tj(d,!0):xde(d)}function Gpe(d,h){var m={};return h=at(h,3),vl(d,function(k,S,F){Oc(m,h(k,S,F),k)}),m}function Kpe(d,h){var m={};return h=at(h,3),vl(d,function(k,S,F){Oc(m,S,h(k,S,F))}),m}var Ype=Wg(function(d,h,m){yb(d,h,m)}),eU=Wg(function(d,h,m,k){yb(d,h,m,k)}),Xpe=Lc(function(d,h){var m={};if(d==null)return m;var k=!1;h=Hn(h,function(F){return F=Cu(F,d),k||(k=F.length>1),F}),wl(d,rD(d),m),k&&(m=qs(m,c|u|p,zde));for(var S=h.length;S--;)YA(m,h[S]);return m});function Zpe(d,h){return tU(d,Nb(at(h)))}var Qpe=Lc(function(d,h){return d==null?{}:Ede(d,h)});function tU(d,h){if(d==null)return{};var m=Hn(rD(d),function(k){return[k]});return h=at(h),Wj(d,m,function(k,S){return h(k,S[0])})}function Jpe(d,h,m){h=Cu(h,d);var k=-1,S=h.length;for(S||(S=1,d=n);++k<S;){var F=d==null?n:d[_l(h[k])];F===n&&(k=S,F=m),d=Bc(F)?F.call(d):F}return d}function efe(d,h,m){return d==null?d:X2(d,h,m)}function tfe(d,h,m,k){return k=typeof k=="function"?k:n,d==null?d:X2(d,h,m,k)}var nU=fH(Ii),rU=fH(ts);function nfe(d,h,m){var k=At(d),S=k||Mu(d)||Yg(d);if(h=at(h,4),m==null){var F=d&&d.constructor;S?m=k?new F:[]:_r(d)?m=Bc(F)?qg(cb(d)):{}:m={}}return(S?Qo:vl)(d,function(q,K,Q){return h(m,q,K,Q)}),m}function rfe(d,h){return d==null?!0:YA(d,h)}function ife(d,h,m){return d==null?d:Zj(d,h,QA(m))}function ofe(d,h,m,k){return k=typeof k=="function"?k:n,d==null?d:Zj(d,h,QA(m),k)}function Xg(d){return d==null?[]:Br(d,Ii(d))}function sfe(d){return d==null?[]:Br(d,ts(d))}function afe(d,h,m){return m===n&&(m=h,h=n),m!==n&&(m=Ks(m),m=m===m?m:0),h!==n&&(h=Ks(h),h=h===h?h:0),wp(Ks(d),h,m)}function lfe(d,h,m){return h=Vc(h),m===n?(m=h,h=0):m=Vc(m),d=Ks(d),fde(d,h,m)}function cfe(d,h,m){if(m&&typeof m!="boolean"&&Do(d,h,m)&&(h=m=n),m===n&&(typeof h=="boolean"?(m=h,h=n):typeof d=="boolean"&&(m=d,d=n)),d===n&&h===n?(d=0,h=1):(d=Vc(d),h===n?(h=d,d=0):h=Vc(h)),d>h){var k=d;d=h,h=k}if(m||d%1||h%1){var S=Sj();return ao(d+S*(h-d+O2("1e-"+((S+"").length-1))),h)}return WA(d,h)}var dfe=Gg(function(d,h,m){return h=h.toLowerCase(),d+(m?iU(h):h)});function iU(d){return _D(An(d).toLowerCase())}function oU(d){return d=An(d),d&&d.replace(Nk,bs).replace(fu,"")}function ufe(d,h,m){d=An(d),h=xs(h);var k=d.length;m=m===n?k:wp(Vt(m),0,k);var S=m;return m-=h.length,m>=0&&d.slice(m,S)==h}function hfe(d){return d=An(d),d&&Qh.test(d)?d.replace(k2,Vg):d}function pfe(d){return d=An(d),d&&Dk.test(d)?d.replace(Tc,"\\$&"):d}var ffe=Gg(function(d,h,m){return d+(m?"-":"")+h.toLowerCase()}),gfe=Gg(function(d,h,m){return d+(m?" ":"")+h.toLowerCase()}),mfe=lH("toLowerCase");function vfe(d,h,m){d=An(d),h=Vt(h);var k=h?Hg(d):0;if(!h||k>=h)return d;var S=(h-k)/2;return Mb(pb(S),m)+d+Mb(hb(S),m)}function wfe(d,h,m){d=An(d),h=Vt(h);var k=h?Hg(d):0;return h&&k<h?d+Mb(h-k,m):d}function _fe(d,h,m){d=An(d),h=Vt(h);var k=h?Hg(d):0;return h&&k<h?Mb(h-k,m)+d:d}function yfe(d,h,m){return m||h==null?h=0:h&&(h=+h),Sce(An(d).replace(ci,""),h||0)}function kfe(d,h,m){return(m?Do(d,h,m):h===n)?h=1:h=Vt(h),GA(An(d),h)}function bfe(){var d=arguments,h=An(d[0]);return d.length<3?h:h.replace(d[1],d[2])}var xfe=Gg(function(d,h,m){return d+(m?"_":"")+h.toLowerCase()});function Cfe(d,h,m){return m&&typeof m!="number"&&Do(d,h,m)&&(h=m=n),m=m===n?er:m>>>0,m?(d=An(d),d&&(typeof h=="string"||h!=null&&!mD(h))&&(h=xs(h),!h&&jg(d))?Eu(Sa(d),0,m):d.split(h,m)):[]}var Efe=Gg(function(d,h,m){return d+(m?" ":"")+_D(h)});function Mfe(d,h,m){return d=An(d),m=m==null?0:wp(Vt(m),0,d.length),h=xs(h),d.slice(m,m+h.length)==h}function Sfe(d,h,m){var k=P.templateSettings;m&&Do(d,h,m)&&(h=n),d=An(d),h=Bb({},h,k,gH);var S=Bb({},h.imports,k.imports,gH),F=Ii(S),q=Br(S,F),K,Q,pe=0,me=h.interpolate||du,_e="__p += '",Ie=RA((h.escape||du).source+"|"+me.source+"|"+(me===hl?kA:du).source+"|"+(h.evaluate||du).source+"|$","g"),qe="//# sourceURL="+(Ln.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++TA+"]")+`
`;d.replace(Ie,function(pt,en,sn,Es,Ro,Ms){return sn||(sn=Es),_e+=d.slice(pe,Ms).replace(E2,j2),en&&(K=!0,_e+=`' +
__e(`+en+`) +
'`),Ro&&(Q=!0,_e+=`';
`+Ro+`;
__p += '`),sn&&(_e+=`' +
((__t = (`+sn+`)) == null ? '' : __t) +
'`),pe=Ms+pt.length,pt}),_e+=`';
`;var ht=Ln.call(h,"variable")&&h.variable;if(!ht)_e=`with (obj) {
`+_e+`
}
`;else if(cu.test(ht))throw new Mt(o);_e=(Q?_e.replace(y2,""):_e).replace(mA,"$1").replace(vA,"$1;"),_e="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var Ut=aU(function(){return Sn(F,qe+"return "+_e).apply(n,q)});if(Ut.source=_e,gD(Ut))throw Ut;return Ut}function Ife(d){return An(d).toLowerCase()}function Tfe(d){return An(d).toUpperCase()}function Afe(d,h,m){if(d=An(d),d&&(m||h===n))return Ee(d);if(!d||!(h=xs(h)))return d;var k=Sa(d),S=Sa(h),F=di(k,S),q=ui(k,S)+1;return Eu(k,F,q).join("")}function Dfe(d,h,m){if(d=An(d),d&&(m||h===n))return d.slice(0,yj(d)+1);if(!d||!(h=xs(h)))return d;var k=Sa(d),S=ui(k,Sa(h))+1;return Eu(k,0,S).join("")}function Rfe(d,h,m){if(d=An(d),d&&(m||h===n))return d.replace(ci,"");if(!d||!(h=xs(h)))return d;var k=Sa(d),S=di(k,Sa(h));return Eu(k,S).join("")}function Pfe(d,h){var m=T,k=I;if(_r(h)){var S="separator"in h?h.separator:S;m="length"in h?Vt(h.length):m,k="omission"in h?xs(h.omission):k}d=An(d);var F=d.length;if(jg(d)){var q=Sa(d);F=q.length}if(m>=F)return d;var K=m-Hg(k);if(K<1)return k;var Q=q?Eu(q,0,K).join(""):d.slice(0,K);if(S===n)return Q+k;if(q&&(K+=Q.length-K),mD(S)){if(d.slice(K).search(S)){var pe,me=Q;for(S.global||(S=RA(S.source,An(tp.exec(S))+"g")),S.lastIndex=0;pe=S.exec(me);)var _e=pe.index;Q=Q.slice(0,_e===n?K:_e)}}else if(d.indexOf(xs(S),K)!=K){var Ie=Q.lastIndexOf(S);Ie>-1&&(Q=Q.slice(0,Ie))}return Q+k}function Ofe(d){return d=An(d),d&&Ik.test(d)?d.replace(Mg,cce):d}var Nfe=Gg(function(d,h,m){return d+(m?" ":"")+h.toUpperCase()}),_D=lH("toUpperCase");function sU(d,h,m){return d=An(d),h=m?n:h,h===n?ice(d)?hce(d):tb(d):d.match(h)||[]}var aU=Wt(function(d,h){try{return so(d,n,h)}catch(m){return gD(m)?m:new Mt(m)}}),Lfe=Lc(function(d,h){return Qo(h,function(m){m=_l(m),Oc(d,m,pD(d[m],d))}),d});function Ffe(d){var h=d==null?0:d.length,m=at();return d=h?Hn(d,function(k){if(typeof k[1]!="function")throw new $s(i);return[m(k[0]),k[1]]}):[],Wt(function(k){for(var S=-1;++S<h;){var F=d[S];if(so(F[0],this,k))return so(F[1],this,k)}})}function Bfe(d){return cde(qs(d,c))}function yD(d){return function(){return d}}function Vfe(d,h){return d==null||d!==d?h:d}var jfe=dH(),Hfe=dH(!0);function ns(d){return d}function kD(d){return jj(typeof d=="function"?d:qs(d,c))}function Ufe(d){return Uj(qs(d,c))}function $fe(d,h){return $j(d,qs(h,c))}var zfe=Wt(function(d,h){return function(m){return K2(m,d,h)}}),qfe=Wt(function(d,h){return function(m){return K2(d,m,h)}});function bD(d,h,m){var k=Ii(h),S=_b(h,k);m==null&&!(_r(h)&&(S.length||!k.length))&&(m=h,h=d,d=this,S=_b(h,Ii(h)));var F=!(_r(m)&&"chain"in m)||!!m.chain,q=Bc(d);return Qo(S,function(K){var Q=h[K];d[K]=Q,q&&(d.prototype[K]=function(){var pe=this.__chain__;if(F||pe){var me=d(this.__wrapped__),_e=me.__actions__=Jo(this.__actions__);return _e.push({func:Q,args:arguments,thisArg:d}),me.__chain__=pe,me}return Q.apply(d,Ea([this.value()],arguments))})}),d}function Wfe(){return Fr._===this&&(Fr._=wce),this}function xD(){}function Gfe(d){return d=Vt(d),Wt(function(h){return zj(h,d)})}var Kfe=eD(Hn),Yfe=eD(mu),Xfe=eD(Bg);function lU(d){return aD(d)?ml(_l(d)):Mde(d)}function Zfe(d){return function(h){return d==null?n:_p(d,h)}}var Qfe=hH(),Jfe=hH(!0);function CD(){return[]}function ED(){return!1}function ege(){return{}}function tge(){return""}function nge(){return!0}function rge(d,h){if(d=Vt(d),d<1||d>Tt)return[];var m=er,k=ao(d,er);h=at(h),d-=er;for(var S=J(k,h);++m<d;)h(m);return S}function ige(d){return At(d)?Hn(d,_l):Cs(d)?[d]:Jo(IH(An(d)))}function oge(d){var h=++mce;return An(d)+h}var sge=Eb(function(d,h){return d+h},0),age=tD("ceil"),lge=Eb(function(d,h){return d/h},1),cge=tD("floor");function dge(d){return d&&d.length?wb(d,ns,jA):n}function uge(d,h){return d&&d.length?wb(d,at(h,2),jA):n}function hge(d){return V2(d,ns)}function pge(d,h){return V2(d,at(h,2))}function fge(d){return d&&d.length?wb(d,ns,zA):n}function gge(d,h){return d&&d.length?wb(d,at(h,2),zA):n}var mge=Eb(function(d,h){return d*h},1),vge=tD("round"),wge=Eb(function(d,h){return d-h},0);function _ge(d){return d&&d.length?O(d,ns):0}function yge(d,h){return d&&d.length?O(d,at(h,2)):0}return P.after=Uhe,P.ary=VH,P.assign=Tpe,P.assignIn=JH,P.assignInWith=Bb,P.assignWith=Ape,P.at=Dpe,P.before=jH,P.bind=pD,P.bindAll=Lfe,P.bindKey=HH,P.castArray=epe,P.chain=LH,P.chunk=cue,P.compact=due,P.concat=uue,P.cond=Ffe,P.conforms=Bfe,P.constant=yD,P.countBy=_he,P.create=Rpe,P.curry=UH,P.curryRight=$H,P.debounce=zH,P.defaults=Ppe,P.defaultsDeep=Ope,P.defer=$he,P.delay=zhe,P.difference=hue,P.differenceBy=pue,P.differenceWith=fue,P.drop=gue,P.dropRight=mue,P.dropRightWhile=vue,P.dropWhile=wue,P.fill=_ue,P.filter=khe,P.flatMap=Che,P.flatMapDeep=Ehe,P.flatMapDepth=Mhe,P.flatten=RH,P.flattenDeep=yue,P.flattenDepth=kue,P.flip=qhe,P.flow=jfe,P.flowRight=Hfe,P.fromPairs=bue,P.functions=Hpe,P.functionsIn=Upe,P.groupBy=She,P.initial=Cue,P.intersection=Eue,P.intersectionBy=Mue,P.intersectionWith=Sue,P.invert=zpe,P.invertBy=qpe,P.invokeMap=The,P.iteratee=kD,P.keyBy=Ahe,P.keys=Ii,P.keysIn=ts,P.map=Rb,P.mapKeys=Gpe,P.mapValues=Kpe,P.matches=Ufe,P.matchesProperty=$fe,P.memoize=Ob,P.merge=Ype,P.mergeWith=eU,P.method=zfe,P.methodOf=qfe,P.mixin=bD,P.negate=Nb,P.nthArg=Gfe,P.omit=Xpe,P.omitBy=Zpe,P.once=Whe,P.orderBy=Dhe,P.over=Kfe,P.overArgs=Ghe,P.overEvery=Yfe,P.overSome=Xfe,P.partial=fD,P.partialRight=qH,P.partition=Rhe,P.pick=Qpe,P.pickBy=tU,P.property=lU,P.propertyOf=Zfe,P.pull=Due,P.pullAll=OH,P.pullAllBy=Rue,P.pullAllWith=Pue,P.pullAt=Oue,P.range=Qfe,P.rangeRight=Jfe,P.rearg=Khe,P.reject=Nhe,P.remove=Nue,P.rest=Yhe,P.reverse=uD,P.sampleSize=Fhe,P.set=efe,P.setWith=tfe,P.shuffle=Bhe,P.slice=Lue,P.sortBy=Hhe,P.sortedUniq=$ue,P.sortedUniqBy=zue,P.split=Cfe,P.spread=Xhe,P.tail=que,P.take=Wue,P.takeRight=Gue,P.takeRightWhile=Kue,P.takeWhile=Yue,P.tap=dhe,P.throttle=Zhe,P.thru=Db,P.toArray=XH,P.toPairs=nU,P.toPairsIn=rU,P.toPath=ige,P.toPlainObject=QH,P.transform=nfe,P.unary=Qhe,P.union=Xue,P.unionBy=Zue,P.unionWith=Que,P.uniq=Jue,P.uniqBy=ehe,P.uniqWith=the,P.unset=rfe,P.unzip=hD,P.unzipWith=NH,P.update=ife,P.updateWith=ofe,P.values=Xg,P.valuesIn=sfe,P.without=nhe,P.words=sU,P.wrap=Jhe,P.xor=rhe,P.xorBy=ihe,P.xorWith=ohe,P.zip=she,P.zipObject=ahe,P.zipObjectDeep=lhe,P.zipWith=che,P.entries=nU,P.entriesIn=rU,P.extend=JH,P.extendWith=Bb,bD(P,P),P.add=sge,P.attempt=aU,P.camelCase=dfe,P.capitalize=iU,P.ceil=age,P.clamp=afe,P.clone=tpe,P.cloneDeep=rpe,P.cloneDeepWith=ipe,P.cloneWith=npe,P.conformsTo=ope,P.deburr=oU,P.defaultTo=Vfe,P.divide=lge,P.endsWith=ufe,P.eq=Ta,P.escape=hfe,P.escapeRegExp=pfe,P.every=yhe,P.find=bhe,P.findIndex=AH,P.findKey=Npe,P.findLast=xhe,P.findLastIndex=DH,P.findLastKey=Lpe,P.floor=cge,P.forEach=FH,P.forEachRight=BH,P.forIn=Fpe,P.forInRight=Bpe,P.forOwn=Vpe,P.forOwnRight=jpe,P.get=vD,P.gt=spe,P.gte=ape,P.has=$pe,P.hasIn=wD,P.head=PH,P.identity=ns,P.includes=Ihe,P.indexOf=xue,P.inRange=lfe,P.invoke=Wpe,P.isArguments=bp,P.isArray=At,P.isArrayBuffer=lpe,P.isArrayLike=es,P.isArrayLikeObject=Vr,P.isBoolean=cpe,P.isBuffer=Mu,P.isDate=dpe,P.isElement=upe,P.isEmpty=hpe,P.isEqual=ppe,P.isEqualWith=fpe,P.isError=gD,P.isFinite=gpe,P.isFunction=Bc,P.isInteger=WH,P.isLength=Lb,P.isMap=GH,P.isMatch=mpe,P.isMatchWith=vpe,P.isNaN=wpe,P.isNative=_pe,P.isNil=kpe,P.isNull=ype,P.isNumber=KH,P.isObject=_r,P.isObjectLike=Ar,P.isPlainObject=ev,P.isRegExp=mD,P.isSafeInteger=bpe,P.isSet=YH,P.isString=Fb,P.isSymbol=Cs,P.isTypedArray=Yg,P.isUndefined=xpe,P.isWeakMap=Cpe,P.isWeakSet=Epe,P.join=Iue,P.kebabCase=ffe,P.last=Gs,P.lastIndexOf=Tue,P.lowerCase=gfe,P.lowerFirst=mfe,P.lt=Mpe,P.lte=Spe,P.max=dge,P.maxBy=uge,P.mean=hge,P.meanBy=pge,P.min=fge,P.minBy=gge,P.stubArray=CD,P.stubFalse=ED,P.stubObject=ege,P.stubString=tge,P.stubTrue=nge,P.multiply=mge,P.nth=Aue,P.noConflict=Wfe,P.noop=xD,P.now=Pb,P.pad=vfe,P.padEnd=wfe,P.padStart=_fe,P.parseInt=yfe,P.random=cfe,P.reduce=Phe,P.reduceRight=Ohe,P.repeat=kfe,P.replace=bfe,P.result=Jpe,P.round=vge,P.runInContext=Z,P.sample=Lhe,P.size=Vhe,P.snakeCase=xfe,P.some=jhe,P.sortedIndex=Fue,P.sortedIndexBy=Bue,P.sortedIndexOf=Vue,P.sortedLastIndex=jue,P.sortedLastIndexBy=Hue,P.sortedLastIndexOf=Uue,P.startCase=Efe,P.startsWith=Mfe,P.subtract=wge,P.sum=_ge,P.sumBy=yge,P.template=Sfe,P.times=rge,P.toFinite=Vc,P.toInteger=Vt,P.toLength=ZH,P.toLower=Ife,P.toNumber=Ks,P.toSafeInteger=Ipe,P.toString=An,P.toUpper=Tfe,P.trim=Afe,P.trimEnd=Dfe,P.trimStart=Rfe,P.truncate=Pfe,P.unescape=Ofe,P.uniqueId=oge,P.upperCase=Nfe,P.upperFirst=_D,P.each=FH,P.eachRight=BH,P.first=PH,bD(P,(function(){var d={};return vl(P,function(h,m){Ln.call(P.prototype,m)||(d[m]=h)}),d})(),{chain:!1}),P.VERSION=e,Qo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){P[d].placeholder=P}),Qo(["drop","take"],function(d,h){on.prototype[d]=function(m){m=m===n?1:pi(Vt(m),0);var k=this.__filtered__&&!h?new on(this):this.clone();return k.__filtered__?k.__takeCount__=ao(m,k.__takeCount__):k.__views__.push({size:ao(m,er),type:d+(k.__dir__<0?"Right":"")}),k},on.prototype[d+"Right"]=function(m){return this.reverse()[d](m).reverse()}}),Qo(["filter","map","takeWhile"],function(d,h){var m=h+1,k=m==X||m==tt;on.prototype[d]=function(S){var F=this.clone();return F.__iteratees__.push({iteratee:at(S,3),type:m}),F.__filtered__=F.__filtered__||k,F}}),Qo(["head","last"],function(d,h){var m="take"+(h?"Right":"");on.prototype[d]=function(){return this[m](1).value()[0]}}),Qo(["initial","tail"],function(d,h){var m="drop"+(h?"":"Right");on.prototype[d]=function(){return this.__filtered__?new on(this):this[m](1)}}),on.prototype.compact=function(){return this.filter(ns)},on.prototype.find=function(d){return this.filter(d).head()},on.prototype.findLast=function(d){return this.reverse().find(d)},on.prototype.invokeMap=Wt(function(d,h){return typeof d=="function"?new on(this):this.map(function(m){return K2(m,d,h)})}),on.prototype.reject=function(d){return this.filter(Nb(at(d)))},on.prototype.slice=function(d,h){d=Vt(d);var m=this;return m.__filtered__&&(d>0||h<0)?new on(m):(d<0?m=m.takeRight(-d):d&&(m=m.drop(d)),h!==n&&(h=Vt(h),m=h<0?m.dropRight(-h):m.take(h-d)),m)},on.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},on.prototype.toArray=function(){return this.take(er)},vl(on.prototype,function(d,h){var m=/^(?:filter|find|map|reject)|While$/.test(h),k=/^(?:head|last)$/.test(h),S=P[k?"take"+(h=="last"?"Right":""):h],F=k||/^find/.test(h);S&&(P.prototype[h]=function(){var q=this.__wrapped__,K=k?[1]:arguments,Q=q instanceof on,pe=K[0],me=Q||At(q),_e=function(en){var sn=S.apply(P,Ea([en],K));return k&&Ie?sn[0]:sn};me&&m&&typeof pe=="function"&&pe.length!=1&&(Q=me=!1);var Ie=this.__chain__,qe=!!this.__actions__.length,ht=F&&!Ie,Ut=Q&&!qe;if(!F&&me){q=Ut?q:new on(this);var pt=d.apply(q,K);return pt.__actions__.push({func:Db,args:[_e],thisArg:n}),new zs(pt,Ie)}return ht&&Ut?d.apply(this,K):(pt=this.thru(_e),ht?k?pt.value()[0]:pt.value():pt)})}),Qo(["pop","push","shift","sort","splice","unshift"],function(d){var h=rb[d],m=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",k=/^(?:pop|shift)$/.test(d);P.prototype[d]=function(){var S=arguments;if(k&&!this.__chain__){var F=this.value();return h.apply(At(F)?F:[],S)}return this[m](function(q){return h.apply(At(q)?q:[],S)})}}),vl(on.prototype,function(d,h){var m=P[h];if(m){var k=m.name+"";Ln.call(zg,k)||(zg[k]=[]),zg[k].push({name:h,func:m})}}),zg[Cb(n,y).name]=[{name:"wrapper",func:n}],on.prototype.clone=Oce,on.prototype.reverse=Nce,on.prototype.value=Lce,P.prototype.at=uhe,P.prototype.chain=hhe,P.prototype.commit=phe,P.prototype.next=fhe,P.prototype.plant=mhe,P.prototype.reverse=vhe,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=whe,P.prototype.first=P.prototype.head,H2&&(P.prototype[H2]=ghe),P},yu=pce();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Fr._=yu,define(function(){return yu})):gl?((gl.exports=yu)._=yu,Og._=yu):Fr._=yu}).call(L1)});var nk=ke(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.regexpCode=yn.getEsmExportName=yn.getProperty=yn.safeStringify=yn.stringify=yn.strConcat=yn.addCodeArg=yn.str=yn._=yn.nil=yn._Code=yn.Name=yn.IDENTIFIER=yn._CodeOrName=void 0;var ek=class{};yn._CodeOrName=ek;yn.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var fg=class extends ek{constructor(e){if(super(),!yn.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};yn.Name=fg;var ma=class extends ek{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((t,r)=>`${t}${r}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((t,r)=>(r instanceof fg&&(t[r.str]=(t[r.str]||0)+1),t),{})}};yn._Code=ma;yn.nil=new ma("");function cse(n,...e){let t=[n[0]],r=0;for(;r<e.length;)S9(t,e[r]),t.push(n[++r]);return new ma(t)}yn._=cse;var M9=new ma("+");function dse(n,...e){let t=[tk(n[0])],r=0;for(;r<e.length;)t.push(M9),S9(t,e[r]),t.push(M9,tk(n[++r]));return xBe(t),new ma(t)}yn.str=dse;function S9(n,e){e instanceof ma?n.push(...e._items):e instanceof fg?n.push(e):n.push(MBe(e))}yn.addCodeArg=S9;function xBe(n){let e=1;for(;e<n.length-1;){if(n[e]===M9){let t=CBe(n[e-1],n[e+1]);if(t!==void 0){n.splice(e-1,3,t);continue}n[e++]="+"}e++}}function CBe(n,e){if(e==='""')return n;if(n==='""')return e;if(typeof n=="string")return e instanceof fg||n[n.length-1]!=='"'?void 0:typeof e!="string"?`${n.slice(0,-1)}${e}"`:e[0]==='"'?n.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(n instanceof fg))return`"${n}${e.slice(1)}`}function EBe(n,e){return e.emptyStr()?n:n.emptyStr()?e:dse`${n}${e}`}yn.strConcat=EBe;function MBe(n){return typeof n=="number"||typeof n=="boolean"||n===null?n:tk(Array.isArray(n)?n.join(","):n)}function SBe(n){return new ma(tk(n))}yn.stringify=SBe;function tk(n){return JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}yn.safeStringify=tk;function IBe(n){return typeof n=="string"&&yn.IDENTIFIER.test(n)?new ma(`.${n}`):cse`[${n}]`}yn.getProperty=IBe;function TBe(n){if(typeof n=="string"&&yn.IDENTIFIER.test(n))return new ma(`${n}`);throw new Error(`CodeGen: invalid export name: ${n}, use explicit $id name mapping`)}yn.getEsmExportName=TBe;function ABe(n){return new ma(n.toString())}yn.regexpCode=ABe});var A9=ke(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.ValueScope=ws.ValueScopeName=ws.Scope=ws.varKinds=ws.UsedValueState=void 0;var vs=nk(),I9=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},IT=(function(n){return n[n.Started=0]="Started",n[n.Completed=1]="Completed",n})(IT||(ws.UsedValueState=IT={}));ws.varKinds={const:new vs.Name("const"),let:new vs.Name("let"),var:new vs.Name("var")};var TT=class{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof vs.Name?e:this.name(e)}name(e){return new vs.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if(!((r=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||r===void 0)&&r.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ws.Scope=TT;var AT=class extends vs.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,vs._)`.${new vs.Name(t)}[${r}]`}};ws.ValueScopeName=AT;var DBe=(0,vs._)`\n`,T9=class extends TT{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ye(G({},e),{_n:e.lines?DBe:vs.nil})}get(){return this._scope}name(e){return new AT(e,this._newName(e))}value(e,t){var r;if(t.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:o}=i,s=(r=t.key)!==null&&r!==void 0?r:t.ref,a=this._values[o];if(a){let u=a.get(s);if(u)return u}else a=this._values[o]=new Map;a.set(s,i);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=t.ref,i.setValue(t,{property:o,itemIndex:c}),i}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,r=>{if(r.scopePath===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return(0,vs._)`${e}${r.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},t,r)}_reduceValues(e,t,r={},i){let o=vs.nil;for(let s in e){let a=e[s];if(!a)continue;let l=r[s]=r[s]||new Map;a.forEach(c=>{if(l.has(c))return;l.set(c,IT.Started);let u=t(c);if(u){let p=this.opts.es5?ws.varKinds.var:ws.varKinds.const;o=(0,vs._)`${o}${p} ${c} = ${u};${this.opts._n}`}else if(u=i?.(c))o=(0,vs._)`${o}${u}${this.opts._n}`;else throw new I9(c);l.set(c,IT.Completed)})}return o}};ws.ValueScope=T9});var qt=ke(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.or=Xt.and=Xt.not=Xt.CodeGen=Xt.operators=Xt.varKinds=Xt.ValueScopeName=Xt.ValueScope=Xt.Scope=Xt.Name=Xt.regexpCode=Xt.stringify=Xt.getProperty=Xt.nil=Xt.strConcat=Xt.str=Xt._=void 0;var cn=nk(),sl=A9(),Uh=nk();Object.defineProperty(Xt,"_",{enumerable:!0,get:function(){return Uh._}});Object.defineProperty(Xt,"str",{enumerable:!0,get:function(){return Uh.str}});Object.defineProperty(Xt,"strConcat",{enumerable:!0,get:function(){return Uh.strConcat}});Object.defineProperty(Xt,"nil",{enumerable:!0,get:function(){return Uh.nil}});Object.defineProperty(Xt,"getProperty",{enumerable:!0,get:function(){return Uh.getProperty}});Object.defineProperty(Xt,"stringify",{enumerable:!0,get:function(){return Uh.stringify}});Object.defineProperty(Xt,"regexpCode",{enumerable:!0,get:function(){return Uh.regexpCode}});Object.defineProperty(Xt,"Name",{enumerable:!0,get:function(){return Uh.Name}});var NT=A9();Object.defineProperty(Xt,"Scope",{enumerable:!0,get:function(){return NT.Scope}});Object.defineProperty(Xt,"ValueScope",{enumerable:!0,get:function(){return NT.ValueScope}});Object.defineProperty(Xt,"ValueScopeName",{enumerable:!0,get:function(){return NT.ValueScopeName}});Object.defineProperty(Xt,"varKinds",{enumerable:!0,get:function(){return NT.varKinds}});Xt.operators={GT:new cn._Code(">"),GTE:new cn._Code(">="),LT:new cn._Code("<"),LTE:new cn._Code("<="),EQ:new cn._Code("==="),NEQ:new cn._Code("!=="),NOT:new cn._Code("!"),OR:new cn._Code("||"),AND:new cn._Code("&&"),ADD:new cn._Code("+")};var tu=class{optimizeNodes(){return this}optimizeNames(e,t){return this}},D9=class extends tu{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?sl.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${r} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=t2(this.rhs,e,t)),this}get names(){return this.rhs instanceof cn._CodeOrName?this.rhs.names:{}}},RT=class extends tu{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof cn.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=t2(this.rhs,e,t),this}get names(){let e=this.lhs instanceof cn.Name?{}:G({},this.lhs.names);return OT(e,this.rhs)}},R9=class extends RT{constructor(e,t,r,i){super(e,r,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},P9=class extends tu{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},O9=class extends tu{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},N9=class extends tu{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},L9=class extends tu{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=t2(this.code,e,t),this}get names(){return this.code instanceof cn._CodeOrName?this.code.names:{}}},rk=class extends tu{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,i=r.length;for(;i--;){let o=r[i];o.optimizeNames(e,t)||(RBe(e,o.names),r.splice(i,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>gg(e,t.names),{})}},nu=class extends rk{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},F9=class extends rk{},B9=(()=>{class n extends nu{}return n.kind="else",n})(),DT=(()=>{class n extends nu{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let i=r.optimizeNodes();r=this.else=Array.isArray(i)?new B9(i):i}if(r)return t===!1?r instanceof n?r:r.nodes:this.nodes.length?this:new n(gse(t),r instanceof n?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var i;if(this.else=(i=this.else)===null||i===void 0?void 0:i.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=t2(this.condition,t,r),this}get names(){let t=super.names;return OT(t,this.condition),this.else&&gg(t,this.else.names),t}}return n.kind="if",n})(),LT=(()=>{class n extends nu{}return n.kind="for",n})(),V9=class extends LT{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=t2(this.iteration,e,t),this}get names(){return gg(super.names,this.iteration.names)}},j9=class extends LT{constructor(e,t,r,i){super(),this.varKind=e,this.name=t,this.from=r,this.to=i}render(e){let t=e.es5?sl.varKinds.var:this.varKind,{name:r,from:i,to:o}=this;return`for(${t} ${r}=${i}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){let e=OT(super.names,this.from);return OT(e,this.to)}},PT=class extends LT{constructor(e,t,r,i){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=t2(this.iterable,e,t),this}get names(){return gg(super.names,this.iterable.names)}},use=(()=>{class n extends nu{constructor(t,r,i){super(),this.name=t,this.args=r,this.async=i}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}return n.kind="func",n})(),hse=(()=>{class n extends rk{render(t){return"return "+super.render(t)}}return n.kind="return",n})(),H9=class extends nu{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(t=this.finally)===null||t===void 0||t.optimizeNodes(),this}optimizeNames(e,t){var r,i;return super.optimizeNames(e,t),(r=this.catch)===null||r===void 0||r.optimizeNames(e,t),(i=this.finally)===null||i===void 0||i.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&gg(e,this.catch.names),this.finally&&gg(e,this.finally.names),e}},pse=(()=>{class n extends nu{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}return n.kind="catch",n})(),fse=(()=>{class n extends nu{render(t){return"finally"+super.render(t)}}return n.kind="finally",n})(),U9=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ye(G({},t),{_n:t.lines?`
`:""}),this._extScope=e,this._scope=new sl.Scope({parent:e}),this._nodes=[new F9]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,i){let o=this._scope.toName(t);return r!==void 0&&i&&(this._constants[o.str]=r),this._leafNode(new D9(e,o,r)),o}const(e,t,r){return this._def(sl.varKinds.const,e,t,r)}let(e,t,r){return this._def(sl.varKinds.let,e,t,r)}var(e,t,r){return this._def(sl.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new RT(e,t,r))}add(e,t){return this._leafNode(new R9(e,Xt.operators.ADD,t))}code(e){return typeof e=="function"?e():e!==cn.nil&&this._leafNode(new L9(e)),this}object(...e){let t=["{"];for(let[r,i]of e)t.length>1&&t.push(","),t.push(r),(r!==i||this.opts.es5)&&(t.push(":"),(0,cn.addCodeArg)(t,i));return t.push("}"),new cn._Code(t)}if(e,t,r){if(this._blockNode(new DT(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new DT(e))}else(){return this._elseNode(new B9)}endIf(){return this._endBlockNode(DT,B9)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new V9(e),t)}forRange(e,t,r,i,o=this.opts.es5?sl.varKinds.var:sl.varKinds.let){let s=this._scope.toName(e);return this._for(new j9(o,s,t,r),()=>i(s))}forOf(e,t,r,i=sl.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let s=t instanceof cn.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,cn._)`${s}.length`,a=>{this.var(o,(0,cn._)`${s}[${a}]`),r(o)})}return this._for(new PT("of",i,o,t),()=>r(o))}forIn(e,t,r,i=this.opts.es5?sl.varKinds.var:sl.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,cn._)`Object.keys(${t})`,r);let o=this._scope.toName(e);return this._for(new PT("in",i,o,t),()=>r(o))}endFor(){return this._endBlockNode(LT)}label(e){return this._leafNode(new P9(e))}break(e){return this._leafNode(new O9(e))}return(e){let t=new hse;if(this._blockNode(t),this.code(e),t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(hse)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new H9;if(this._blockNode(i),this.code(e),t){let o=this.name("e");this._currNode=i.catch=new pse(o),t(o)}return r&&(this._currNode=i.finally=new fse,this.code(r)),this._endBlockNode(pse,fse)}throw(e){return this._leafNode(new N9(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(t===void 0)throw new Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||e!==void 0&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=cn.nil,r,i){return this._blockNode(new use(e,t,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(use)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof DT))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}};Xt.CodeGen=U9;function gg(n,e){for(let t in e)n[t]=(n[t]||0)+(e[t]||0);return n}function OT(n,e){return e instanceof cn._CodeOrName?gg(n,e.names):n}function t2(n,e,t){if(n instanceof cn.Name)return r(n);if(!i(n))return n;return new cn._Code(n._items.reduce((o,s)=>(s instanceof cn.Name&&(s=r(s)),s instanceof cn._Code?o.push(...s._items):o.push(s),o),[]));function r(o){let s=t[o.str];return s===void 0||e[o.str]!==1?o:(delete e[o.str],s)}function i(o){return o instanceof cn._Code&&o._items.some(s=>s instanceof cn.Name&&e[s.str]===1&&t[s.str]!==void 0)}}function RBe(n,e){for(let t in e)n[t]=(n[t]||0)-(e[t]||0)}function gse(n){return typeof n=="boolean"||typeof n=="number"||n===null?!n:(0,cn._)`!${$9(n)}`}Xt.not=gse;var PBe=mse(Xt.operators.AND);function OBe(...n){return n.reduce(PBe)}Xt.and=OBe;var NBe=mse(Xt.operators.OR);function LBe(...n){return n.reduce(NBe)}Xt.or=LBe;function mse(n){return(e,t)=>e===cn.nil?t:t===cn.nil?e:(0,cn._)`${$9(e)} ${n} ${$9(t)}`}function $9(n){return n instanceof cn.Name?n:(0,cn._)`(${n})`}});var kn=ke(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.checkStrictMode=Jt.getErrorPath=Jt.Type=Jt.useFunc=Jt.setEvaluated=Jt.evaluatedPropsToName=Jt.mergeEvaluated=Jt.eachItem=Jt.unescapeJsonPointer=Jt.escapeJsonPointer=Jt.escapeFragment=Jt.unescapeFragment=Jt.schemaRefOrVal=Jt.schemaHasRulesButRef=Jt.schemaHasRules=Jt.checkUnknownRules=Jt.alwaysValidSchema=Jt.toHash=void 0;var Jn=qt(),FBe=nk();function BBe(n){let e={};for(let t of n)e[t]=!0;return e}Jt.toHash=BBe;function VBe(n,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(_se(n,e),!yse(e,n.self.RULES.all))}Jt.alwaysValidSchema=VBe;function _se(n,e=n.schema){let{opts:t,self:r}=n;if(!t.strictSchema||typeof e=="boolean")return;let i=r.RULES.keywords;for(let o in e)i[o]||xse(n,`unknown keyword: "${o}"`)}Jt.checkUnknownRules=_se;function yse(n,e){if(typeof n=="boolean")return!n;for(let t in n)if(e[t])return!0;return!1}Jt.schemaHasRules=yse;function jBe(n,e){if(typeof n=="boolean")return!n;for(let t in n)if(t!=="$ref"&&e.all[t])return!0;return!1}Jt.schemaHasRulesButRef=jBe;function HBe({topSchemaRef:n,schemaPath:e},t,r,i){if(!i){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,Jn._)`${t}`}return(0,Jn._)`${n}${e}${(0,Jn.getProperty)(r)}`}Jt.schemaRefOrVal=HBe;function UBe(n){return kse(decodeURIComponent(n))}Jt.unescapeFragment=UBe;function $Be(n){return encodeURIComponent(q9(n))}Jt.escapeFragment=$Be;function q9(n){return typeof n=="number"?`${n}`:n.replace(/~/g,"~0").replace(/\//g,"~1")}Jt.escapeJsonPointer=q9;function kse(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}Jt.unescapeJsonPointer=kse;function zBe(n,e){if(Array.isArray(n))for(let t of n)e(t);else e(n)}Jt.eachItem=zBe;function vse({mergeNames:n,mergeToName:e,mergeValues:t,resultToName:r}){return(i,o,s,a)=>{let l=s===void 0?o:s instanceof Jn.Name?(o instanceof Jn.Name?n(i,o,s):e(i,o,s),s):o instanceof Jn.Name?(e(i,s,o),o):t(o,s);return a===Jn.Name&&!(l instanceof Jn.Name)?r(i,l):l}}Jt.mergeEvaluated={props:vse({mergeNames:(n,e,t)=>n.if((0,Jn._)`${t} !== true && ${e} !== undefined`,()=>{n.if((0,Jn._)`${e} === true`,()=>n.assign(t,!0),()=>n.assign(t,(0,Jn._)`${t} || {}`).code((0,Jn._)`Object.assign(${t}, ${e})`))}),mergeToName:(n,e,t)=>n.if((0,Jn._)`${t} !== true`,()=>{e===!0?n.assign(t,!0):(n.assign(t,(0,Jn._)`${t} || {}`),W9(n,t,e))}),mergeValues:(n,e)=>n===!0?!0:G(G({},n),e),resultToName:bse}),items:vse({mergeNames:(n,e,t)=>n.if((0,Jn._)`${t} !== true && ${e} !== undefined`,()=>n.assign(t,(0,Jn._)`${e} === true ? true : ${t} > ${e} ? ${t} : ${e}`)),mergeToName:(n,e,t)=>n.if((0,Jn._)`${t} !== true`,()=>n.assign(t,e===!0?!0:(0,Jn._)`${t} > ${e} ? ${t} : ${e}`)),mergeValues:(n,e)=>n===!0?!0:Math.max(n,e),resultToName:(n,e)=>n.var("items",e)})};function bse(n,e){if(e===!0)return n.var("props",!0);let t=n.var("props",(0,Jn._)`{}`);return e!==void 0&&W9(n,t,e),t}Jt.evaluatedPropsToName=bse;function W9(n,e,t){Object.keys(t).forEach(r=>n.assign((0,Jn._)`${e}${(0,Jn.getProperty)(r)}`,!0))}Jt.setEvaluated=W9;var wse={};function qBe(n,e){return n.scopeValue("func",{ref:e,code:wse[e.code]||(wse[e.code]=new FBe._Code(e.code))})}Jt.useFunc=qBe;var z9=(function(n){return n[n.Num=0]="Num",n[n.Str=1]="Str",n})(z9||(Jt.Type=z9={}));function WBe(n,e,t){if(n instanceof Jn.Name){let r=e===z9.Num;return t?r?(0,Jn._)`"[" + ${n} + "]"`:(0,Jn._)`"['" + ${n} + "']"`:r?(0,Jn._)`"/" + ${n}`:(0,Jn._)`"/" + ${n}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,Jn.getProperty)(n).toString():"/"+q9(n)}Jt.getErrorPath=WBe;function xse(n,e,t=n.opts.strictSchema){if(t){if(e=`strict mode: ${e}`,t===!0)throw new Error(e);n.self.logger.warn(e)}}Jt.checkStrictMode=xse});var ru=ke(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});var Co=qt(),GBe={data:new Co.Name("data"),valCxt:new Co.Name("valCxt"),instancePath:new Co.Name("instancePath"),parentData:new Co.Name("parentData"),parentDataProperty:new Co.Name("parentDataProperty"),rootData:new Co.Name("rootData"),dynamicAnchors:new Co.Name("dynamicAnchors"),vErrors:new Co.Name("vErrors"),errors:new Co.Name("errors"),this:new Co.Name("this"),self:new Co.Name("self"),scope:new Co.Name("scope"),json:new Co.Name("json"),jsonPos:new Co.Name("jsonPos"),jsonLen:new Co.Name("jsonLen"),jsonPart:new Co.Name("jsonPart")};G9.default=GBe});var ik=ke(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.extendErrors=Eo.resetErrorsCount=Eo.reportExtraError=Eo.reportError=Eo.keyword$DataError=Eo.keywordError=void 0;var mn=qt(),FT=kn(),Yo=ru();Eo.keywordError={message:({keyword:n})=>(0,mn.str)`must pass "${n}" keyword validation`};Eo.keyword$DataError={message:({keyword:n,schemaType:e})=>e?(0,mn.str)`"${n}" keyword must be ${e} ($data)`:(0,mn.str)`"${n}" keyword is invalid ($data)`};function KBe(n,e=Eo.keywordError,t,r){let{it:i}=n,{gen:o,compositeRule:s,allErrors:a}=i,l=Mse(n,e,t);r??(s||a)?Cse(o,l):Ese(i,(0,mn._)`[${l}]`)}Eo.reportError=KBe;function YBe(n,e=Eo.keywordError,t){let{it:r}=n,{gen:i,compositeRule:o,allErrors:s}=r,a=Mse(n,e,t);Cse(i,a),o||s||Ese(r,Yo.default.vErrors)}Eo.reportExtraError=YBe;function XBe(n,e){n.assign(Yo.default.errors,e),n.if((0,mn._)`${Yo.default.vErrors} !== null`,()=>n.if(e,()=>n.assign((0,mn._)`${Yo.default.vErrors}.length`,e),()=>n.assign(Yo.default.vErrors,null)))}Eo.resetErrorsCount=XBe;function ZBe({gen:n,keyword:e,schemaValue:t,data:r,errsCount:i,it:o}){if(i===void 0)throw new Error("ajv implementation error");let s=n.name("err");n.forRange("i",i,Yo.default.errors,a=>{n.const(s,(0,mn._)`${Yo.default.vErrors}[${a}]`),n.if((0,mn._)`${s}.instancePath === undefined`,()=>n.assign((0,mn._)`${s}.instancePath`,(0,mn.strConcat)(Yo.default.instancePath,o.errorPath))),n.assign((0,mn._)`${s}.schemaPath`,(0,mn.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(n.assign((0,mn._)`${s}.schema`,t),n.assign((0,mn._)`${s}.data`,r))})}Eo.extendErrors=ZBe;function Cse(n,e){let t=n.const("err",e);n.if((0,mn._)`${Yo.default.vErrors} === null`,()=>n.assign(Yo.default.vErrors,(0,mn._)`[${t}]`),(0,mn._)`${Yo.default.vErrors}.push(${t})`),n.code((0,mn._)`${Yo.default.errors}++`)}function Ese(n,e){let{gen:t,validateName:r,schemaEnv:i}=n;i.$async?t.throw((0,mn._)`new ${n.ValidationError}(${e})`):(t.assign((0,mn._)`${r}.errors`,e),t.return(!1))}var mg={keyword:new mn.Name("keyword"),schemaPath:new mn.Name("schemaPath"),params:new mn.Name("params"),propertyName:new mn.Name("propertyName"),message:new mn.Name("message"),schema:new mn.Name("schema"),parentSchema:new mn.Name("parentSchema")};function Mse(n,e,t){let{createErrors:r}=n.it;return r===!1?(0,mn._)`{}`:QBe(n,e,t)}function QBe(n,e,t={}){let{gen:r,it:i}=n,o=[JBe(i,t),e7e(n,t)];return t7e(n,e,o),r.object(...o)}function JBe({errorPath:n},{instancePath:e}){let t=e?(0,mn.str)`${n}${(0,FT.getErrorPath)(e,FT.Type.Str)}`:n;return[Yo.default.instancePath,(0,mn.strConcat)(Yo.default.instancePath,t)]}function e7e({keyword:n,it:{errSchemaPath:e}},{schemaPath:t,parentSchema:r}){let i=r?e:(0,mn.str)`${e}/${n}`;return t&&(i=(0,mn.str)`${i}${(0,FT.getErrorPath)(t,FT.Type.Str)}`),[mg.schemaPath,i]}function t7e(n,{params:e,message:t},r){let{keyword:i,data:o,schemaValue:s,it:a}=n,{opts:l,propertyName:c,topSchemaRef:u,schemaPath:p}=a;r.push([mg.keyword,i],[mg.params,typeof e=="function"?e(n):e||(0,mn._)`{}`]),l.messages&&r.push([mg.message,typeof t=="function"?t(n):t]),l.verbose&&r.push([mg.schema,s],[mg.parentSchema,(0,mn._)`${u}${p}`],[Yo.default.data,o]),c&&r.push([mg.propertyName,c])}});var Ise=ke(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.boolOrEmptySchema=n2.topBoolOrEmptySchema=void 0;var n7e=ik(),r7e=qt(),i7e=ru(),o7e={message:"boolean schema is false"};function s7e(n){let{gen:e,schema:t,validateName:r}=n;t===!1?Sse(n,!1):typeof t=="object"&&t.$async===!0?e.return(i7e.default.data):(e.assign((0,r7e._)`${r}.errors`,null),e.return(!0))}n2.topBoolOrEmptySchema=s7e;function a7e(n,e){let{gen:t,schema:r}=n;r===!1?(t.var(e,!1),Sse(n)):t.var(e,!0)}n2.boolOrEmptySchema=a7e;function Sse(n,e){let{gen:t,data:r}=n,i={gen:t,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:n};(0,n7e.reportError)(i,o7e,void 0,e)}});var K9=ke(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});r2.getRules=r2.isJSONType=void 0;var l7e=["string","number","integer","boolean","null","object","array"],c7e=new Set(l7e);function d7e(n){return typeof n=="string"&&c7e.has(n)}r2.isJSONType=d7e;function u7e(){let n={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ye(G({},n),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},n.number,n.string,n.array,n.object],post:{rules:[]},all:{},keywords:{}}}r2.getRules=u7e});var Y9=ke($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.shouldUseRule=$h.shouldUseGroup=$h.schemaHasRulesForType=void 0;function h7e({schema:n,self:e},t){let r=e.RULES.types[t];return r&&r!==!0&&Tse(n,r)}$h.schemaHasRulesForType=h7e;function Tse(n,e){return e.rules.some(t=>Ase(n,t))}$h.shouldUseGroup=Tse;function Ase(n,e){var t;return n[e.keyword]!==void 0||((t=e.definition.implements)===null||t===void 0?void 0:t.some(r=>n[r]!==void 0))}$h.shouldUseRule=Ase});var ok=ke(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.reportTypeError=Mo.checkDataTypes=Mo.checkDataType=Mo.coerceAndCheckDataType=Mo.getJSONTypes=Mo.getSchemaTypes=Mo.DataType=void 0;var p7e=K9(),f7e=Y9(),g7e=ik(),Ht=qt(),Dse=kn(),i2=(function(n){return n[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong",n})(i2||(Mo.DataType=i2={}));function m7e(n){let e=Rse(n.type);if(e.includes("null")){if(n.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&n.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');n.nullable===!0&&e.push("null")}return e}Mo.getSchemaTypes=m7e;function Rse(n){let e=Array.isArray(n)?n:n?[n]:[];if(e.every(p7e.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Mo.getJSONTypes=Rse;function v7e(n,e){let{gen:t,data:r,opts:i}=n,o=w7e(e,i.coerceTypes),s=e.length>0&&!(o.length===0&&e.length===1&&(0,f7e.schemaHasRulesForType)(n,e[0]));if(s){let a=Z9(e,r,i.strictNumbers,i2.Wrong);t.if(a,()=>{o.length?_7e(n,e,o):Q9(n)})}return s}Mo.coerceAndCheckDataType=v7e;var Pse=new Set(["string","number","integer","boolean","null"]);function w7e(n,e){return e?n.filter(t=>Pse.has(t)||e==="array"&&t==="array"):[]}function _7e(n,e,t){let{gen:r,data:i,opts:o}=n,s=r.let("dataType",(0,Ht._)`typeof ${i}`),a=r.let("coerced",(0,Ht._)`undefined`);o.coerceTypes==="array"&&r.if((0,Ht._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,Ht._)`${i}[0]`).assign(s,(0,Ht._)`typeof ${i}`).if(Z9(e,i,o.strictNumbers),()=>r.assign(a,i))),r.if((0,Ht._)`${a} !== undefined`);for(let c of t)(Pse.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);r.else(),Q9(n),r.endIf(),r.if((0,Ht._)`${a} !== undefined`,()=>{r.assign(i,a),y7e(n,a)});function l(c){switch(c){case"string":r.elseIf((0,Ht._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,Ht._)`"" + ${i}`).elseIf((0,Ht._)`${i} === null`).assign(a,(0,Ht._)`""`);return;case"number":r.elseIf((0,Ht._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Ht._)`+${i}`);return;case"integer":r.elseIf((0,Ht._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Ht._)`+${i}`);return;case"boolean":r.elseIf((0,Ht._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Ht._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,Ht._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,Ht._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,Ht._)`[${i}]`)}}}function y7e({gen:n,parentData:e,parentDataProperty:t},r){n.if((0,Ht._)`${e} !== undefined`,()=>n.assign((0,Ht._)`${e}[${t}]`,r))}function X9(n,e,t,r=i2.Correct){let i=r===i2.Correct?Ht.operators.EQ:Ht.operators.NEQ,o;switch(n){case"null":return(0,Ht._)`${e} ${i} null`;case"array":o=(0,Ht._)`Array.isArray(${e})`;break;case"object":o=(0,Ht._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=s((0,Ht._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=s();break;default:return(0,Ht._)`typeof ${e} ${i} ${n}`}return r===i2.Correct?o:(0,Ht.not)(o);function s(a=Ht.nil){return(0,Ht.and)((0,Ht._)`typeof ${e} == "number"`,a,t?(0,Ht._)`isFinite(${e})`:Ht.nil)}}Mo.checkDataType=X9;function Z9(n,e,t,r){if(n.length===1)return X9(n[0],e,t,r);let i,o=(0,Dse.toHash)(n);if(o.array&&o.object){let s=(0,Ht._)`typeof ${e} != "object"`;i=o.null?s:(0,Ht._)`!${e} || ${s}`,delete o.null,delete o.array,delete o.object}else i=Ht.nil;o.number&&delete o.integer;for(let s in o)i=(0,Ht.and)(i,X9(s,e,t,r));return i}Mo.checkDataTypes=Z9;var k7e={message:({schema:n})=>`must be ${n}`,params:({schema:n,schemaValue:e})=>typeof n=="string"?(0,Ht._)`{type: ${n}}`:(0,Ht._)`{type: ${e}}`};function Q9(n){let e=b7e(n);(0,g7e.reportError)(e,k7e)}Mo.reportTypeError=Q9;function b7e(n){let{gen:e,data:t,schema:r}=n,i=(0,Dse.schemaRefOrVal)(n,r,"type");return{gen:e,keyword:"type",data:t,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:n}}});var Nse=ke(BT=>{"use strict";Object.defineProperty(BT,"__esModule",{value:!0});BT.assignDefaults=void 0;var o2=qt(),x7e=kn();function C7e(n,e){let{properties:t,items:r}=n.schema;if(e==="object"&&t)for(let i in t)Ose(n,i,t[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,o)=>Ose(n,o,i.default))}BT.assignDefaults=C7e;function Ose(n,e,t){let{gen:r,compositeRule:i,data:o,opts:s}=n;if(t===void 0)return;let a=(0,o2._)`${o}${(0,o2.getProperty)(e)}`;if(i){(0,x7e.checkStrictMode)(n,`default is ignored for: ${a}`);return}let l=(0,o2._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,o2._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,o2._)`${a} = ${(0,o2.stringify)(t)}`)}});var va=ke(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.validateUnion=qn.validateArray=qn.usePattern=qn.callValidateCode=qn.schemaProperties=qn.allSchemaProperties=qn.noPropertyInData=qn.propertyInData=qn.isOwnProperty=qn.hasPropFunc=qn.reportMissingProp=qn.checkMissingProp=qn.checkReportMissingProp=void 0;var lr=qt(),J9=kn(),zh=ru(),E7e=kn();function M7e(n,e){let{gen:t,data:r,it:i}=n;t.if(tV(t,r,e,i.opts.ownProperties),()=>{n.setParams({missingProperty:(0,lr._)`${e}`},!0),n.error()})}qn.checkReportMissingProp=M7e;function S7e({gen:n,data:e,it:{opts:t}},r,i){return(0,lr.or)(...r.map(o=>(0,lr.and)(tV(n,e,o,t.ownProperties),(0,lr._)`${i} = ${o}`)))}qn.checkMissingProp=S7e;function I7e(n,e){n.setParams({missingProperty:e},!0),n.error()}qn.reportMissingProp=I7e;function Lse(n){return n.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,lr._)`Object.prototype.hasOwnProperty`})}qn.hasPropFunc=Lse;function eV(n,e,t){return(0,lr._)`${Lse(n)}.call(${e}, ${t})`}qn.isOwnProperty=eV;function T7e(n,e,t,r){let i=(0,lr._)`${e}${(0,lr.getProperty)(t)} !== undefined`;return r?(0,lr._)`${i} && ${eV(n,e,t)}`:i}qn.propertyInData=T7e;function tV(n,e,t,r){let i=(0,lr._)`${e}${(0,lr.getProperty)(t)} === undefined`;return r?(0,lr.or)(i,(0,lr.not)(eV(n,e,t))):i}qn.noPropertyInData=tV;function Fse(n){return n?Object.keys(n).filter(e=>e!=="__proto__"):[]}qn.allSchemaProperties=Fse;function A7e(n,e){return Fse(e).filter(t=>!(0,J9.alwaysValidSchema)(n,e[t]))}qn.schemaProperties=A7e;function D7e({schemaCode:n,data:e,it:{gen:t,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,l,c){let u=c?(0,lr._)`${n}, ${e}, ${r}${i}`:e,p=[[zh.default.instancePath,(0,lr.strConcat)(zh.default.instancePath,o)],[zh.default.parentData,s.parentData],[zh.default.parentDataProperty,s.parentDataProperty],[zh.default.rootData,zh.default.rootData]];s.opts.dynamicRef&&p.push([zh.default.dynamicAnchors,zh.default.dynamicAnchors]);let g=(0,lr._)`${u}, ${t.object(...p)}`;return l!==lr.nil?(0,lr._)`${a}.call(${l}, ${g})`:(0,lr._)`${a}(${g})`}qn.callValidateCode=D7e;var R7e=(0,lr._)`new RegExp`;function P7e({gen:n,it:{opts:e}},t){let r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(t,r);return n.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,lr._)`${i.code==="new RegExp"?R7e:(0,E7e.useFunc)(n,i)}(${t}, ${r})`})}qn.usePattern=P7e;function O7e(n){let{gen:e,data:t,keyword:r,it:i}=n,o=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(o,!0),s(()=>e.break()),o;function s(a){let l=e.const("len",(0,lr._)`${t}.length`);e.forRange("i",0,l,c=>{n.subschema({keyword:r,dataProp:c,dataPropType:J9.Type.Num},o),e.if((0,lr.not)(o),a)})}}qn.validateArray=O7e;function N7e(n){let{gen:e,schema:t,keyword:r,it:i}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");if(t.some(l=>(0,J9.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>t.forEach((l,c)=>{let u=n.subschema({keyword:r,schemaProp:c,compositeRule:!0},a);e.assign(s,(0,lr._)`${s} || ${a}`),n.mergeValidEvaluated(u,a)||e.if((0,lr.not)(s))})),n.result(s,()=>n.reset(),()=>n.error(!0))}qn.validateUnion=N7e});var jse=ke(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.validateKeywordUsage=yc.validSchemaType=yc.funcKeywordCode=yc.macroKeywordCode=void 0;var Xo=qt(),vg=ru(),L7e=va(),F7e=ik();function B7e(n,e){let{gen:t,keyword:r,schema:i,parentSchema:o,it:s}=n,a=e.macro.call(s.self,i,o,s),l=Vse(t,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let c=t.name("valid");n.subschema({schema:a,schemaPath:Xo.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},c),n.pass(c,()=>n.error(!0))}yc.macroKeywordCode=B7e;function V7e(n,e){var t;let{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=n;H7e(l,e);let c=!a&&e.compile?e.compile.call(l.self,o,s,l):e.validate,u=Vse(r,i,c),p=r.let("valid");n.block$data(p,g),n.ok((t=e.valid)!==null&&t!==void 0?t:p);function g(){if(e.errors===!1)y(),e.modifying&&Bse(n),x(()=>n.error());else{let b=e.async?v():w();e.modifying&&Bse(n),x(()=>j7e(n,b))}}function v(){let b=r.let("ruleErrs",null);return r.try(()=>y((0,Xo._)`await `),R=>r.assign(p,!1).if((0,Xo._)`${R} instanceof ${l.ValidationError}`,()=>r.assign(b,(0,Xo._)`${R}.errors`),()=>r.throw(R))),b}function w(){let b=(0,Xo._)`${u}.errors`;return r.assign(b,null),y(Xo.nil),b}function y(b=e.async?(0,Xo._)`await `:Xo.nil){let R=l.opts.passContext?vg.default.this:vg.default.self,V=!("compile"in e&&!a||e.schema===!1);r.assign(p,(0,Xo._)`${b}${(0,L7e.callValidateCode)(n,u,R,V)}`,e.modifying)}function x(b){var R;r.if((0,Xo.not)((R=e.valid)!==null&&R!==void 0?R:p),b)}}yc.funcKeywordCode=V7e;function Bse(n){let{gen:e,data:t,it:r}=n;e.if(r.parentData,()=>e.assign(t,(0,Xo._)`${r.parentData}[${r.parentDataProperty}]`))}function j7e(n,e){let{gen:t}=n;t.if((0,Xo._)`Array.isArray(${e})`,()=>{t.assign(vg.default.vErrors,(0,Xo._)`${vg.default.vErrors} === null ? ${e} : ${vg.default.vErrors}.concat(${e})`).assign(vg.default.errors,(0,Xo._)`${vg.default.vErrors}.length`),(0,F7e.extendErrors)(n)},()=>n.error())}function H7e({schemaEnv:n},e){if(e.async&&!n.$async)throw new Error("async keyword in sync schema")}function Vse(n,e,t){if(t===void 0)throw new Error(`keyword "${e}" failed to compile`);return n.scopeValue("keyword",typeof t=="function"?{ref:t}:{ref:t,code:(0,Xo.stringify)(t)})}function U7e(n,e,t=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(n):r==="object"?n&&typeof n=="object"&&!Array.isArray(n):typeof n==r||t&&typeof n>"u")}yc.validSchemaType=U7e;function $7e({schema:n,opts:e,self:t,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");let s=i.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(n,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(n[o])){let l=`keyword "${o}" value is invalid at path "${r}": `+t.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")t.logger.error(l);else throw new Error(l)}}yc.validateKeywordUsage=$7e});var Use=ke(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.extendSubschemaMode=qh.extendSubschemaData=qh.getSubschema=void 0;var kc=qt(),Hse=kn();function z7e(n,{keyword:e,schemaProp:t,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=n.schema[e];return t===void 0?{schema:a,schemaPath:(0,kc._)`${n.schemaPath}${(0,kc.getProperty)(e)}`,errSchemaPath:`${n.errSchemaPath}/${e}`}:{schema:a[t],schemaPath:(0,kc._)`${n.schemaPath}${(0,kc.getProperty)(e)}${(0,kc.getProperty)(t)}`,errSchemaPath:`${n.errSchemaPath}/${e}/${(0,Hse.escapeFragment)(t)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}qh.getSubschema=z7e;function q7e(n,e,{dataProp:t,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&t!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(t!==void 0){let{errorPath:c,dataPathArr:u,opts:p}=e,g=a.let("data",(0,kc._)`${e.data}${(0,kc.getProperty)(t)}`,!0);l(g),n.errorPath=(0,kc.str)`${c}${(0,Hse.getErrorPath)(t,r,p.jsPropertySyntax)}`,n.parentDataProperty=(0,kc._)`${t}`,n.dataPathArr=[...u,n.parentDataProperty]}if(i!==void 0){let c=i instanceof kc.Name?i:a.let("data",i,!0);l(c),s!==void 0&&(n.propertyName=s)}o&&(n.dataTypes=o);function l(c){n.data=c,n.dataLevel=e.dataLevel+1,n.dataTypes=[],e.definedProperties=new Set,n.parentData=e.data,n.dataNames=[...e.dataNames,c]}}qh.extendSubschemaData=q7e;function W7e(n,{jtdDiscriminator:e,jtdMetadata:t,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(n.compositeRule=r),i!==void 0&&(n.createErrors=i),o!==void 0&&(n.allErrors=o),n.jtdDiscriminator=e,n.jtdMetadata=t}qh.extendSubschemaMode=W7e});var nV=ke((qTt,$se)=>{"use strict";$se.exports=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}});var qse=ke((WTt,zse)=>{"use strict";var Wh=zse.exports=function(n,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var r=typeof t=="function"?t:t.pre||function(){},i=t.post||function(){};VT(e,r,i,n,"",n)};Wh.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Wh.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Wh.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Wh.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function VT(n,e,t,r,i,o,s,a,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,o,s,a,l,c);for(var u in r){var p=r[u];if(Array.isArray(p)){if(u in Wh.arrayKeywords)for(var g=0;g<p.length;g++)VT(n,e,t,p[g],i+"/"+u+"/"+g,o,i,u,r,g)}else if(u in Wh.propsKeywords){if(p&&typeof p=="object")for(var v in p)VT(n,e,t,p[v],i+"/"+u+"/"+G7e(v),o,i,u,r,v)}else(u in Wh.keywords||n.allKeys&&!(u in Wh.skipKeywords))&&VT(n,e,t,p,i+"/"+u,o,i,u,r)}t(r,i,o,s,a,l,c)}}function G7e(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}});var sk=ke(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.getSchemaRefs=_s.resolveUrl=_s.normalizeId=_s._getFullPath=_s.getFullPath=_s.inlineRef=void 0;var K7e=kn(),Y7e=nV(),X7e=qse(),Z7e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Q7e(n,e=!0){return typeof n=="boolean"?!0:e===!0?!rV(n):e?Wse(n)<=e:!1}_s.inlineRef=Q7e;var J7e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rV(n){for(let e in n){if(J7e.has(e))return!0;let t=n[e];if(Array.isArray(t)&&t.some(rV)||typeof t=="object"&&rV(t))return!0}return!1}function Wse(n){let e=0;for(let t in n){if(t==="$ref")return 1/0;if(e++,!Z7e.has(t)&&(typeof n[t]=="object"&&(0,K7e.eachItem)(n[t],r=>e+=Wse(r)),e===1/0))return 1/0}return e}function Gse(n,e="",t){t!==!1&&(e=s2(e));let r=n.parse(e);return Kse(n,r)}_s.getFullPath=Gse;function Kse(n,e){return n.serialize(e).split("#")[0]+"#"}_s._getFullPath=Kse;var e9e=/#\/?$/;function s2(n){return n?n.replace(e9e,""):""}_s.normalizeId=s2;function t9e(n,e,t){return t=s2(t),n.resolve(e,t)}_s.resolveUrl=t9e;var n9e=/^[a-z_][-a-z0-9._]*$/i;function r9e(n,e){if(typeof n=="boolean")return{};let{schemaId:t,uriResolver:r}=this.opts,i=s2(n[t]||e),o={"":i},s=Gse(r,i,!1),a={},l=new Set;return X7e(n,{allKeys:!0},(p,g,v,w)=>{if(w===void 0)return;let y=s+g,x=o[w];typeof p[t]=="string"&&(x=b.call(this,p[t])),R.call(this,p.$anchor),R.call(this,p.$dynamicAnchor),o[g]=x;function b(V){let j=this.opts.uriResolver.resolve;if(V=s2(x?j(x,V):V),l.has(V))throw u(V);l.add(V);let $=this.refs[V];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?c(p,$.schema,V):V!==s2(y)&&(V[0]==="#"?(c(p,a[V],V),a[V]=p):this.refs[V]=y),V}function R(V){if(typeof V=="string"){if(!n9e.test(V))throw new Error(`invalid anchor "${V}"`);b.call(this,`#${V}`)}}}),a;function c(p,g,v){if(g!==void 0&&!Y7e(p,g))throw u(v)}function u(p){return new Error(`reference "${p}" resolves to more than one schema`)}}_s.getSchemaRefs=r9e});var ck=ke(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.getData=Gh.KeywordCxt=Gh.validateFunctionCode=void 0;var Jse=Ise(),Yse=ok(),oV=Y9(),jT=ok(),i9e=Nse(),lk=jse(),iV=Use(),Ze=qt(),Ct=ru(),o9e=sk(),iu=kn(),ak=ik();function s9e(n){if(nae(n)&&(rae(n),tae(n))){c9e(n);return}eae(n,()=>(0,Jse.topBoolOrEmptySchema)(n))}Gh.validateFunctionCode=s9e;function eae({gen:n,validateName:e,schema:t,schemaEnv:r,opts:i},o){i.code.es5?n.func(e,(0,Ze._)`${Ct.default.data}, ${Ct.default.valCxt}`,r.$async,()=>{n.code((0,Ze._)`"use strict"; ${Xse(t,i)}`),l9e(n,i),n.code(o)}):n.func(e,(0,Ze._)`${Ct.default.data}, ${a9e(i)}`,r.$async,()=>n.code(Xse(t,i)).code(o))}function a9e(n){return(0,Ze._)`{${Ct.default.instancePath}="", ${Ct.default.parentData}, ${Ct.default.parentDataProperty}, ${Ct.default.rootData}=${Ct.default.data}${n.dynamicRef?(0,Ze._)`, ${Ct.default.dynamicAnchors}={}`:Ze.nil}}={}`}function l9e(n,e){n.if(Ct.default.valCxt,()=>{n.var(Ct.default.instancePath,(0,Ze._)`${Ct.default.valCxt}.${Ct.default.instancePath}`),n.var(Ct.default.parentData,(0,Ze._)`${Ct.default.valCxt}.${Ct.default.parentData}`),n.var(Ct.default.parentDataProperty,(0,Ze._)`${Ct.default.valCxt}.${Ct.default.parentDataProperty}`),n.var(Ct.default.rootData,(0,Ze._)`${Ct.default.valCxt}.${Ct.default.rootData}`),e.dynamicRef&&n.var(Ct.default.dynamicAnchors,(0,Ze._)`${Ct.default.valCxt}.${Ct.default.dynamicAnchors}`)},()=>{n.var(Ct.default.instancePath,(0,Ze._)`""`),n.var(Ct.default.parentData,(0,Ze._)`undefined`),n.var(Ct.default.parentDataProperty,(0,Ze._)`undefined`),n.var(Ct.default.rootData,Ct.default.data),e.dynamicRef&&n.var(Ct.default.dynamicAnchors,(0,Ze._)`{}`)})}function c9e(n){let{schema:e,opts:t,gen:r}=n;eae(n,()=>{t.$comment&&e.$comment&&oae(n),f9e(n),r.let(Ct.default.vErrors,null),r.let(Ct.default.errors,0),t.unevaluated&&d9e(n),iae(n),v9e(n)})}function d9e(n){let{gen:e,validateName:t}=n;n.evaluated=e.const("evaluated",(0,Ze._)`${t}.evaluated`),e.if((0,Ze._)`${n.evaluated}.dynamicProps`,()=>e.assign((0,Ze._)`${n.evaluated}.props`,(0,Ze._)`undefined`)),e.if((0,Ze._)`${n.evaluated}.dynamicItems`,()=>e.assign((0,Ze._)`${n.evaluated}.items`,(0,Ze._)`undefined`))}function Xse(n,e){let t=typeof n=="object"&&n[e.schemaId];return t&&(e.code.source||e.code.process)?(0,Ze._)`/*# sourceURL=${t} */`:Ze.nil}function u9e(n,e){if(nae(n)&&(rae(n),tae(n))){h9e(n,e);return}(0,Jse.boolOrEmptySchema)(n,e)}function tae({schema:n,self:e}){if(typeof n=="boolean")return!n;for(let t in n)if(e.RULES.all[t])return!0;return!1}function nae(n){return typeof n.schema!="boolean"}function h9e(n,e){let{schema:t,gen:r,opts:i}=n;i.$comment&&t.$comment&&oae(n),g9e(n),m9e(n);let o=r.const("_errs",Ct.default.errors);iae(n,o),r.var(e,(0,Ze._)`${o} === ${Ct.default.errors}`)}function rae(n){(0,iu.checkUnknownRules)(n),p9e(n)}function iae(n,e){if(n.opts.jtd)return Zse(n,[],!1,e);let t=(0,Yse.getSchemaTypes)(n.schema),r=(0,Yse.coerceAndCheckDataType)(n,t);Zse(n,t,!r,e)}function p9e(n){let{schema:e,errSchemaPath:t,opts:r,self:i}=n;e.$ref&&r.ignoreKeywordsWithRef&&(0,iu.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}function f9e(n){let{schema:e,opts:t}=n;e.default!==void 0&&t.useDefaults&&t.strictSchema&&(0,iu.checkStrictMode)(n,"default is ignored in the schema root")}function g9e(n){let e=n.schema[n.opts.schemaId];e&&(n.baseId=(0,o9e.resolveUrl)(n.opts.uriResolver,n.baseId,e))}function m9e(n){if(n.schema.$async&&!n.schemaEnv.$async)throw new Error("async schema in sync schema")}function oae({gen:n,schemaEnv:e,schema:t,errSchemaPath:r,opts:i}){let o=t.$comment;if(i.$comment===!0)n.code((0,Ze._)`${Ct.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){let s=(0,Ze.str)`${r}/$comment`,a=n.scopeValue("root",{ref:e.root});n.code((0,Ze._)`${Ct.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function v9e(n){let{gen:e,schemaEnv:t,validateName:r,ValidationError:i,opts:o}=n;t.$async?e.if((0,Ze._)`${Ct.default.errors} === 0`,()=>e.return(Ct.default.data),()=>e.throw((0,Ze._)`new ${i}(${Ct.default.vErrors})`)):(e.assign((0,Ze._)`${r}.errors`,Ct.default.vErrors),o.unevaluated&&w9e(n),e.return((0,Ze._)`${Ct.default.errors} === 0`))}function w9e({gen:n,evaluated:e,props:t,items:r}){t instanceof Ze.Name&&n.assign((0,Ze._)`${e}.props`,t),r instanceof Ze.Name&&n.assign((0,Ze._)`${e}.items`,r)}function Zse(n,e,t,r){let{gen:i,schema:o,data:s,allErrors:a,opts:l,self:c}=n,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,iu.schemaHasRulesButRef)(o,u))){i.block(()=>aae(n,"$ref",u.all.$ref.definition));return}l.jtd||_9e(n,e),i.block(()=>{for(let g of u.rules)p(g);p(u.post)});function p(g){(0,oV.shouldUseGroup)(o,g)&&(g.type?(i.if((0,jT.checkDataType)(g.type,s,l.strictNumbers)),Qse(n,g),e.length===1&&e[0]===g.type&&t&&(i.else(),(0,jT.reportTypeError)(n)),i.endIf()):Qse(n,g),a||i.if((0,Ze._)`${Ct.default.errors} === ${r||0}`))}}function Qse(n,e){let{gen:t,schema:r,opts:{useDefaults:i}}=n;i&&(0,i9e.assignDefaults)(n,e.type),t.block(()=>{for(let o of e.rules)(0,oV.shouldUseRule)(r,o)&&aae(n,o.keyword,o.definition,e.type)})}function _9e(n,e){n.schemaEnv.meta||!n.opts.strictTypes||(y9e(n,e),n.opts.allowUnionTypes||k9e(n,e),b9e(n,n.dataTypes))}function y9e(n,e){if(e.length){if(!n.dataTypes.length){n.dataTypes=e;return}e.forEach(t=>{sae(n.dataTypes,t)||sV(n,`type "${t}" not allowed by context "${n.dataTypes.join(",")}"`)}),C9e(n,e)}}function k9e(n,e){e.length>1&&!(e.length===2&&e.includes("null"))&&sV(n,"use allowUnionTypes to allow union type keyword")}function b9e(n,e){let t=n.self.RULES.all;for(let r in t){let i=t[r];if(typeof i=="object"&&(0,oV.shouldUseRule)(n.schema,i)){let{type:o}=i.definition;o.length&&!o.some(s=>x9e(e,s))&&sV(n,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function x9e(n,e){return n.includes(e)||e==="number"&&n.includes("integer")}function sae(n,e){return n.includes(e)||e==="integer"&&n.includes("number")}function C9e(n,e){let t=[];for(let r of n.dataTypes)sae(e,r)?t.push(r):e.includes("integer")&&r==="number"&&t.push("integer");n.dataTypes=t}function sV(n,e){let t=n.schemaEnv.baseId+n.errSchemaPath;e+=` at "${t}" (strictTypes)`,(0,iu.checkStrictMode)(n,e,n.opts.strictTypes)}var HT=class{constructor(e,t,r){if((0,lk.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,iu.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",lae(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,lk.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Ct.default.errors))}result(e,t,r){this.failResult((0,Ze.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,Ze.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,Ze._)`${t} !== undefined && (${(0,Ze.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?ak.reportExtraError:ak.reportError)(this,this.def.error,t)}$dataError(){(0,ak.reportError)(this,this.def.$dataError||ak.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ak.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=Ze.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=Ze.nil,t=Ze.nil){if(!this.$data)return;let{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,Ze.or)((0,Ze._)`${i} === undefined`,t)),e!==Ze.nil&&r.assign(e,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Ze.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:i,it:o}=this;return(0,Ze.or)(s(),a());function s(){if(r.length){if(!(t instanceof Ze.Name))throw new Error("ajv implementation error");let l=Array.isArray(r)?r:[r];return(0,Ze._)`${(0,jT.checkDataTypes)(l,t,o.opts.strictNumbers,jT.DataType.Wrong)}`}return Ze.nil}function a(){if(i.validateSchema){let l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ze._)`!${l}(${t})`}return Ze.nil}}subschema(e,t){let r=(0,iV.getSubschema)(this.it,e);(0,iV.extendSubschemaData)(r,this.it,e),(0,iV.extendSubschemaMode)(r,e);let i=ye(G(G({},this.it),r),{items:void 0,props:void 0});return u9e(i,t),i}mergeEvaluated(e,t){let{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=iu.mergeEvaluated.props(i,e.props,r.props,t)),r.items!==!0&&e.items!==void 0&&(r.items=iu.mergeEvaluated.items(i,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(t,()=>this.mergeEvaluated(e,Ze.Name)),!0}};Gh.KeywordCxt=HT;function aae(n,e,t,r){let i=new HT(n,t,e);"code"in t?t.code(i,r):i.$data&&t.validate?(0,lk.funcKeywordCode)(i,t):"macro"in t?(0,lk.macroKeywordCode)(i,t):(t.compile||t.validate)&&(0,lk.funcKeywordCode)(i,t)}var E9e=/^\/(?:[^~]|~0|~1)*$/,M9e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function lae(n,{dataLevel:e,dataNames:t,dataPathArr:r}){let i,o;if(n==="")return Ct.default.rootData;if(n[0]==="/"){if(!E9e.test(n))throw new Error(`Invalid JSON-pointer: ${n}`);i=n,o=Ct.default.rootData}else{let c=M9e.exec(n);if(!c)throw new Error(`Invalid JSON-pointer: ${n}`);let u=+c[1];if(i=c[2],i==="#"){if(u>=e)throw new Error(l("property/index",u));return r[e-u]}if(u>e)throw new Error(l("data",u));if(o=t[e-u],!i)return o}let s=o,a=i.split("/");for(let c of a)c&&(o=(0,Ze._)`${o}${(0,Ze.getProperty)((0,iu.unescapeJsonPointer)(c))}`,s=(0,Ze._)`${s} && ${o}`);return s;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}Gh.getData=lae});var UT=ke(lV=>{"use strict";Object.defineProperty(lV,"__esModule",{value:!0});var aV=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};lV.default=aV});var dk=ke(uV=>{"use strict";Object.defineProperty(uV,"__esModule",{value:!0});var cV=sk(),dV=class extends Error{constructor(e,t,r,i){super(i||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,cV.resolveUrl)(e,t,r),this.missingSchema=(0,cV.normalizeId)((0,cV.getFullPath)(e,this.missingRef))}};uV.default=dV});var zT=ke(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.resolveSchema=wa.getCompilingSchema=wa.resolveRef=wa.compileSchema=wa.SchemaEnv=void 0;var al=qt(),S9e=UT(),wg=ru(),ll=sk(),cae=kn(),I9e=ck(),a2=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,ll.normalizeId)(r?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r?.$async,this.refs={}}};wa.SchemaEnv=a2;function pV(n){let e=dae.call(this,n);if(e)return e;let t=(0,ll.getFullPath)(this.opts.uriResolver,n.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new al.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o}),a;n.$async&&(a=s.scopeValue("Error",{ref:S9e.default,code:(0,al._)`require("ajv/dist/runtime/validation_error").default`}));let l=s.scopeName("validate");n.validateName=l;let c={gen:s,allErrors:this.opts.allErrors,data:wg.default.data,parentData:wg.default.parentData,parentDataProperty:wg.default.parentDataProperty,dataNames:[wg.default.data],dataPathArr:[al.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:n.schema,code:(0,al.stringify)(n.schema)}:{ref:n.schema}),validateName:l,ValidationError:a,schema:n.schema,schemaEnv:n,rootId:t,baseId:n.baseId||t,schemaPath:al.nil,errSchemaPath:n.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,al._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(n),(0,I9e.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);let p=s.toString();u=`${s.scopeRefs(wg.default.scope)}return ${p}`,this.opts.code.process&&(u=this.opts.code.process(u,n));let v=new Function(`${wg.default.self}`,`${wg.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:v}),v.errors=null,v.schema=n.schema,v.schemaEnv=n,n.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:l,validateCode:p,scopeValues:s._values}),this.opts.unevaluated){let{props:w,items:y}=c;v.evaluated={props:w instanceof al.Name?void 0:w,items:y instanceof al.Name?void 0:y,dynamicProps:w instanceof al.Name,dynamicItems:y instanceof al.Name},v.source&&(v.source.evaluated=(0,al.stringify)(v.evaluated))}return n.validate=v,n}catch(p){throw delete n.validate,delete n.validateName,u&&this.logger.error("Error compiling schema, function code:",u),p}finally{this._compilations.delete(n)}}wa.compileSchema=pV;function T9e(n,e,t){var r;t=(0,ll.resolveUrl)(this.opts.uriResolver,e,t);let i=n.refs[t];if(i)return i;let o=R9e.call(this,n,t);if(o===void 0){let s=(r=n.localRefs)===null||r===void 0?void 0:r[t],{schemaId:a}=this.opts;s&&(o=new a2({schema:s,schemaId:a,root:n,baseId:e}))}if(o!==void 0)return n.refs[t]=A9e.call(this,o)}wa.resolveRef=T9e;function A9e(n){return(0,ll.inlineRef)(n.schema,this.opts.inlineRefs)?n.schema:n.validate?n:pV.call(this,n)}function dae(n){for(let e of this._compilations)if(D9e(e,n))return e}wa.getCompilingSchema=dae;function D9e(n,e){return n.schema===e.schema&&n.root===e.root&&n.baseId===e.baseId}function R9e(n,e){let t;for(;typeof(t=this.refs[e])=="string";)e=t;return t||this.schemas[e]||$T.call(this,n,e)}function $T(n,e){let t=this.opts.uriResolver.parse(e),r=(0,ll._getFullPath)(this.opts.uriResolver,t),i=(0,ll.getFullPath)(this.opts.uriResolver,n.baseId,void 0);if(Object.keys(n.schema).length>0&&r===i)return hV.call(this,t,n);let o=(0,ll.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){let a=$T.call(this,n,s);return typeof a?.schema!="object"?void 0:hV.call(this,t,a)}if(typeof s?.schema=="object"){if(s.validate||pV.call(this,s),o===(0,ll.normalizeId)(e)){let{schema:a}=s,{schemaId:l}=this.opts,c=a[l];return c&&(i=(0,ll.resolveUrl)(this.opts.uriResolver,i,c)),new a2({schema:a,schemaId:l,root:n,baseId:i})}return hV.call(this,t,s)}}wa.resolveSchema=$T;var P9e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function hV(n,{baseId:e,schema:t,root:r}){var i;if(((i=n.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of n.fragment.slice(1).split("/")){if(typeof t=="boolean")return;let l=t[(0,cae.unescapeFragment)(a)];if(l===void 0)return;t=l;let c=typeof t=="object"&&t[this.opts.schemaId];!P9e.has(a)&&c&&(e=(0,ll.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,cae.schemaHasRulesButRef)(t,this.RULES)){let a=(0,ll.resolveUrl)(this.opts.uriResolver,e,t.$ref);o=$T.call(this,r,a)}let{schemaId:s}=this.opts;if(o=o||new a2({schema:t,schemaId:s,root:r,baseId:e}),o.schema!==o.root.schema)return o}});var uae=ke((JTt,O9e)=>{O9e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var gV=ke((eAt,gae)=>{"use strict";var N9e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),pae=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function fV(n){let e="",t=0,r=0;for(r=0;r<n.length;r++)if(t=n[r].charCodeAt(0),t!==48){if(!(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102))return"";e+=n[r];break}for(r+=1;r<n.length;r++){if(t=n[r].charCodeAt(0),!(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102))return"";e+=n[r]}return e}var L9e=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function hae(n){return n.length=0,!0}function F9e(n,e,t){if(n.length){let r=fV(n);if(r!=="")e.push(r);else return t.error=!0,!1;n.length=0}return!0}function B9e(n){let e=0,t={error:!1,address:"",zone:""},r=[],i=[],o=!1,s=!1,a=F9e;for(let l=0;l<n.length;l++){let c=n[l];if(!(c==="["||c==="]"))if(c===":"){if(o===!0&&(s=!0),!a(i,r,t))break;if(++e>7){t.error=!0;break}l>0&&n[l-1]===":"&&(o=!0),r.push(":");continue}else if(c==="%"){if(!a(i,r,t))break;a=hae}else{i.push(c);continue}}return i.length&&(a===hae?t.zone=i.join(""):s?r.push(i.join("")):r.push(fV(i))),t.address=r.join(""),t}function fae(n){if(V9e(n,":")<2)return{host:n,isIPV6:!1};let e=B9e(n);if(e.error)return{host:n,isIPV6:!1};{let t=e.address,r=e.address;return e.zone&&(t+="%"+e.zone,r+="%25"+e.zone),{host:t,isIPV6:!0,escapedHost:r}}}function V9e(n,e){let t=0;for(let r=0;r<n.length;r++)n[r]===e&&t++;return t}function j9e(n){let e=n,t=[],r=-1,i=0;for(;i=e.length;){if(i===1){if(e===".")break;if(e==="/"){t.push("/");break}else{t.push(e);break}}else if(i===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){t.push("/");break}}else if(i===3&&e==="/.."){t.length!==0&&t.pop(),t.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),t.length!==0&&t.pop();continue}}if((r=e.indexOf("/",1))===-1){t.push(e);break}else t.push(e.slice(0,r)),e=e.slice(r)}return t.join("")}function H9e(n,e){let t=e!==!0?escape:unescape;return n.scheme!==void 0&&(n.scheme=t(n.scheme)),n.userinfo!==void 0&&(n.userinfo=t(n.userinfo)),n.host!==void 0&&(n.host=t(n.host)),n.path!==void 0&&(n.path=t(n.path)),n.query!==void 0&&(n.query=t(n.query)),n.fragment!==void 0&&(n.fragment=t(n.fragment)),n}function U9e(n){let e=[];if(n.userinfo!==void 0&&(e.push(n.userinfo),e.push("@")),n.host!==void 0){let t=unescape(n.host);if(!pae(t)){let r=fae(t);r.isIPV6===!0?t=`[${r.escapedHost}]`:t=n.host}e.push(t)}return(typeof n.port=="number"||typeof n.port=="string")&&(e.push(":"),e.push(String(n.port))),e.length?e.join(""):void 0}gae.exports={nonSimpleDomain:L9e,recomposeAuthority:U9e,normalizeComponentEncoding:H9e,removeDotSegments:j9e,isIPv4:pae,isUUID:N9e,normalizeIPv6:fae,stringArrayToHexStripped:fV}});var yae=ke((tAt,_ae)=>{"use strict";var{isUUID:$9e}=gV(),z9e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,q9e=["http","https","ws","wss","urn","urn:uuid"];function W9e(n){return q9e.indexOf(n)!==-1}function mV(n){return n.secure===!0?!0:n.secure===!1?!1:n.scheme?n.scheme.length===3&&(n.scheme[0]==="w"||n.scheme[0]==="W")&&(n.scheme[1]==="s"||n.scheme[1]==="S")&&(n.scheme[2]==="s"||n.scheme[2]==="S"):!1}function mae(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n}function vae(n){let e=String(n.scheme).toLowerCase()==="https";return(n.port===(e?443:80)||n.port==="")&&(n.port=void 0),n.path||(n.path="/"),n}function G9e(n){return n.secure=mV(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n}function K9e(n){if((n.port===(mV(n)?443:80)||n.port==="")&&(n.port=void 0),typeof n.secure=="boolean"&&(n.scheme=n.secure?"wss":"ws",n.secure=void 0),n.resourceName){let[e,t]=n.resourceName.split("?");n.path=e&&e!=="/"?e:void 0,n.query=t,n.resourceName=void 0}return n.fragment=void 0,n}function Y9e(n,e){if(!n.path)return n.error="URN can not be parsed",n;let t=n.path.match(z9e);if(t){let r=e.scheme||n.scheme||"urn";n.nid=t[1].toLowerCase(),n.nss=t[2];let i=`${r}:${e.nid||n.nid}`,o=vV(i);n.path=void 0,o&&(n=o.parse(n,e))}else n.error=n.error||"URN can not be parsed.";return n}function X9e(n,e){if(n.nid===void 0)throw new Error("URN without nid cannot be serialized");let t=e.scheme||n.scheme||"urn",r=n.nid.toLowerCase(),i=`${t}:${e.nid||r}`,o=vV(i);o&&(n=o.serialize(n,e));let s=n,a=n.nss;return s.path=`${r||e.nid}:${a}`,e.skipEscape=!0,s}function Z9e(n,e){let t=n;return t.uuid=t.nss,t.nss=void 0,!e.tolerant&&(!t.uuid||!$9e(t.uuid))&&(t.error=t.error||"UUID is not valid."),t}function Q9e(n){let e=n;return e.nss=(n.uuid||"").toLowerCase(),e}var wae={scheme:"http",domainHost:!0,parse:mae,serialize:vae},J9e={scheme:"https",domainHost:wae.domainHost,parse:mae,serialize:vae},qT={scheme:"ws",domainHost:!0,parse:G9e,serialize:K9e},eVe={scheme:"wss",domainHost:qT.domainHost,parse:qT.parse,serialize:qT.serialize},tVe={scheme:"urn",parse:Y9e,serialize:X9e,skipNormalize:!0},nVe={scheme:"urn:uuid",parse:Z9e,serialize:Q9e,skipNormalize:!0},WT={http:wae,https:J9e,ws:qT,wss:eVe,urn:tVe,"urn:uuid":nVe};Object.setPrototypeOf(WT,null);function vV(n){return n&&(WT[n]||WT[n.toLowerCase()])||void 0}_ae.exports={wsIsSecure:mV,SCHEMES:WT,isValidSchemeName:W9e,getSchemeHandler:vV}});var xae=ke((nAt,KT)=>{"use strict";var{normalizeIPv6:rVe,removeDotSegments:uk,recomposeAuthority:iVe,normalizeComponentEncoding:GT,isIPv4:oVe,nonSimpleDomain:sVe}=gV(),{SCHEMES:aVe,getSchemeHandler:kae}=yae();function lVe(n,e){return typeof n=="string"?n=bc(ou(n,e),e):typeof n=="object"&&(n=ou(bc(n,e),e)),n}function cVe(n,e,t){let r=t?Object.assign({scheme:"null"},t):{scheme:"null"},i=bae(ou(n,r),ou(e,r),r,!0);return r.skipEscape=!0,bc(i,r)}function bae(n,e,t,r){let i={};return r||(n=ou(bc(n,t),t),e=ou(bc(e,t),t)),t=t||{},!t.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=uk(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=uk(e.path||""),i.query=e.query):(e.path?(e.path[0]==="/"?i.path=uk(e.path):((n.userinfo!==void 0||n.host!==void 0||n.port!==void 0)&&!n.path?i.path="/"+e.path:n.path?i.path=n.path.slice(0,n.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=uk(i.path)),i.query=e.query):(i.path=n.path,e.query!==void 0?i.query=e.query:i.query=n.query),i.userinfo=n.userinfo,i.host=n.host,i.port=n.port),i.scheme=n.scheme),i.fragment=e.fragment,i}function dVe(n,e,t){return typeof n=="string"?(n=unescape(n),n=bc(GT(ou(n,t),!0),ye(G({},t),{skipEscape:!0}))):typeof n=="object"&&(n=bc(GT(n,!0),ye(G({},t),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=bc(GT(ou(e,t),!0),ye(G({},t),{skipEscape:!0}))):typeof e=="object"&&(e=bc(GT(e,!0),ye(G({},t),{skipEscape:!0}))),n.toLowerCase()===e.toLowerCase()}function bc(n,e){let t={host:n.host,scheme:n.scheme,userinfo:n.userinfo,port:n.port,path:n.path,query:n.query,nid:n.nid,nss:n.nss,uuid:n.uuid,fragment:n.fragment,reference:n.reference,resourceName:n.resourceName,secure:n.secure,error:""},r=Object.assign({},e),i=[],o=kae(r.scheme||t.scheme);o&&o.serialize&&o.serialize(t,r),t.path!==void 0&&(r.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),r.reference!=="suffix"&&t.scheme&&i.push(t.scheme,":");let s=iVe(t);if(s!==void 0&&(r.reference!=="suffix"&&i.push("//"),i.push(s),t.path&&t.path[0]!=="/"&&i.push("/")),t.path!==void 0){let a=t.path;!r.absolutePath&&(!o||!o.absolutePath)&&(a=uk(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),i.push(a)}return t.query!==void 0&&i.push("?",t.query),t.fragment!==void 0&&i.push("#",t.fragment),i.join("")}var uVe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ou(n,e){let t=Object.assign({},e),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=!1;t.reference==="suffix"&&(t.scheme?n=t.scheme+":"+n:n="//"+n);let o=n.match(uVe);if(o){if(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5]),r.host)if(oVe(r.host)===!1){let l=rVe(r.host);r.host=l.host.toLowerCase(),i=l.isIPV6}else i=!0;r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");let s=kae(t.scheme||r.scheme);if(!t.unicodeSupport&&(!s||!s.unicodeSupport)&&r.host&&(t.domainHost||s&&s.domainHost)&&i===!1&&sVe(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(a){r.error=r.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(n.indexOf("%")!==-1&&(r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),r.host!==void 0&&(r.host=unescape(r.host))),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var wV={SCHEMES:aVe,normalize:lVe,resolve:cVe,resolveComponent:bae,equal:dVe,serialize:bc,parse:ou};KT.exports=wV;KT.exports.default=wV;KT.exports.fastUri=wV});var Eae=ke(_V=>{"use strict";Object.defineProperty(_V,"__esModule",{value:!0});var Cae=xae();Cae.code='require("ajv/dist/runtime/uri").default';_V.default=Cae});var Pae=ke(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.CodeGen=no.Name=no.nil=no.stringify=no.str=no._=no.KeywordCxt=void 0;var hVe=ck();Object.defineProperty(no,"KeywordCxt",{enumerable:!0,get:function(){return hVe.KeywordCxt}});var l2=qt();Object.defineProperty(no,"_",{enumerable:!0,get:function(){return l2._}});Object.defineProperty(no,"str",{enumerable:!0,get:function(){return l2.str}});Object.defineProperty(no,"stringify",{enumerable:!0,get:function(){return l2.stringify}});Object.defineProperty(no,"nil",{enumerable:!0,get:function(){return l2.nil}});Object.defineProperty(no,"Name",{enumerable:!0,get:function(){return l2.Name}});Object.defineProperty(no,"CodeGen",{enumerable:!0,get:function(){return l2.CodeGen}});var pVe=UT(),Aae=dk(),fVe=K9(),hk=zT(),gVe=qt(),pk=sk(),YT=ok(),kV=kn(),Mae=uae(),mVe=Eae(),Dae=(n,e)=>new RegExp(n,e);Dae.code="new RegExp";var vVe=["removeAdditional","useDefaults","coerceTypes"],wVe=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_Ve={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},yVe={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Sae=200;function kVe(n){var e,t,r,i,o,s,a,l,c,u,p,g,v,w,y,x,b,R,V,j,$,Y,L,T,I;let B=n.strict,U=(e=n.code)===null||e===void 0?void 0:e.optimize,X=U===!0||U===void 0?1:U||0,z=(r=(t=n.code)===null||t===void 0?void 0:t.regExp)!==null&&r!==void 0?r:Dae,tt=(i=n.uriResolver)!==null&&i!==void 0?i:mVe.default;return{strictSchema:(s=(o=n.strictSchema)!==null&&o!==void 0?o:B)!==null&&s!==void 0?s:!0,strictNumbers:(l=(a=n.strictNumbers)!==null&&a!==void 0?a:B)!==null&&l!==void 0?l:!0,strictTypes:(u=(c=n.strictTypes)!==null&&c!==void 0?c:B)!==null&&u!==void 0?u:"log",strictTuples:(g=(p=n.strictTuples)!==null&&p!==void 0?p:B)!==null&&g!==void 0?g:"log",strictRequired:(w=(v=n.strictRequired)!==null&&v!==void 0?v:B)!==null&&w!==void 0?w:!1,code:n.code?ye(G({},n.code),{optimize:X,regExp:z}):{optimize:X,regExp:z},loopRequired:(y=n.loopRequired)!==null&&y!==void 0?y:Sae,loopEnum:(x=n.loopEnum)!==null&&x!==void 0?x:Sae,meta:(b=n.meta)!==null&&b!==void 0?b:!0,messages:(R=n.messages)!==null&&R!==void 0?R:!0,inlineRefs:(V=n.inlineRefs)!==null&&V!==void 0?V:!0,schemaId:(j=n.schemaId)!==null&&j!==void 0?j:"$id",addUsedSchema:($=n.addUsedSchema)!==null&&$!==void 0?$:!0,validateSchema:(Y=n.validateSchema)!==null&&Y!==void 0?Y:!0,validateFormats:(L=n.validateFormats)!==null&&L!==void 0?L:!0,unicodeRegExp:(T=n.unicodeRegExp)!==null&&T!==void 0?T:!0,int32range:(I=n.int32range)!==null&&I!==void 0?I:!0,uriResolver:tt}}var fk=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=G(G({},e),kVe(e));let{es5:t,lines:r}=this.opts.code;this.scope=new gVe.ValueScope({scope:{},prefixes:wVe,es5:t,lines:r}),this.logger=SVe(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,fVe.getRules)(),Iae.call(this,_Ve,e,"NOT SUPPORTED"),Iae.call(this,yVe,e,"DEPRECATED","warn"),this._metaOpts=EVe.call(this),e.formats&&xVe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&CVe.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),bVe.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,i=Mae;r==="id"&&(i=G({},Mae),i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:void 0}validate(e,t){let r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let i=r(t);return"$async"in r||(this.errors=r.errors),i}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return i.call(this,e,t);function i(u,p){return E(this,null,function*(){yield o.call(this,u.$schema);let g=this._addSchema(u,p);return g.validate||s.call(this,g)})}function o(u){return E(this,null,function*(){u&&!this.getSchema(u)&&(yield i.call(this,{$ref:u},!0))})}function s(u){return E(this,null,function*(){try{return this._compileSchemaEnv(u)}catch(p){if(!(p instanceof Aae.default))throw p;return a.call(this,p),yield l.call(this,p.missingSchema),s.call(this,u)}})}function a({missingSchema:u,missingRef:p}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${p} cannot be resolved`)}function l(u){return E(this,null,function*(){let p=yield c.call(this,u);this.refs[u]||(yield o.call(this,p.$schema)),this.refs[u]||this.addSchema(p,u,t)})}function c(u){return E(this,null,function*(){let p=this._loading[u];if(p)return p;try{return yield this._loading[u]=r(u)}finally{delete this._loading[u]}})}}addSchema(e,t,r,i=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,r,i);return this}let o;if(typeof e=="object"){let{schemaId:s}=this.opts;if(o=e[s],o!==void 0&&typeof o!="string")throw new Error(`schema ${s} must be string`)}return t=(0,pk.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,i,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if(typeof e=="boolean")return!0;let r;if(r=e.$schema,r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(r,e);if(!i&&t){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return i}getSchema(e){let t;for(;typeof(t=Tae.call(this,e))=="string";)e=t;if(t===void 0){let{schemaId:r}=this.opts,i=new hk.SchemaEnv({schema:{},schemaId:r});if(t=hk.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=Tae.call(this,e);return typeof t=="object"&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,pk.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if(typeof e=="string")r=e,typeof t=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if(typeof e=="object"&&t===void 0){if(t=e,r=t.keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(TVe.call(this,r,t),!t)return(0,kV.eachItem)(r,o=>yV.call(this,o)),this;DVe.call(this,t);let i=ye(G({},t),{type:(0,YT.getJSONTypes)(t.type),schemaType:(0,YT.getJSONTypes)(t.schemaType)});return(0,kV.eachItem)(r,i.type.length===0?o=>yV.call(this,o,i):o=>i.type.forEach(s=>yV.call(this,o,i,s))),this}getKeyword(e){let t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(let r of t.rules){let i=r.rules.findIndex(o=>o.keyword===e);i>=0&&r.rules.splice(i,1)}return this}addFormat(e,t){return typeof t=="string"&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${r}${i.instancePath} ${i.message}`).reduce((i,o)=>i+t+o)}$dataMetaSchema(e,t){let r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of t){let o=i.split("/").slice(1),s=e;for(let a of o)s=s[a];for(let a in r){let l=r[a];if(typeof l!="object")continue;let{$data:c}=l.definition,u=s[a];c&&u&&(s[a]=Rae(u))}}return e}_removeAllSchemas(e,t){for(let r in e){let i=e[r];(!t||t.test(r))&&(typeof i=="string"?delete e[r]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[r]))}}_addSchema(e,t,r,i=this.opts.validateSchema,o=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(e);if(l!==void 0)return l;r=(0,pk.normalizeId)(s||r);let c=pk.getSchemaRefs.call(this,e,r);return l=new hk.SchemaEnv({schema:e,schemaId:a,meta:t,baseId:r,localRefs:c}),this._cache.set(l.schema,l),o&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=l),i&&this.validateSchema(e,!0),l}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):hk.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{hk.compileSchema.call(this,e)}finally{this.opts=t}}};fk.ValidationError=pVe.default;fk.MissingRefError=Aae.default;no.default=fk;function Iae(n,e,t,r="error"){for(let i in n){let o=i;o in e&&this.logger[r](`${t}: option ${i}. ${n[o]}`)}}function Tae(n){return n=(0,pk.normalizeId)(n),this.schemas[n]||this.refs[n]}function bVe(){let n=this.opts.schemas;if(n)if(Array.isArray(n))this.addSchema(n);else for(let e in n)this.addSchema(n[e],e)}function xVe(){for(let n in this.opts.formats){let e=this.opts.formats[n];e&&this.addFormat(n,e)}}function CVe(n){if(Array.isArray(n)){this.addVocabulary(n);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in n){let t=n[e];t.keyword||(t.keyword=e),this.addKeyword(t)}}function EVe(){let n=G({},this.opts);for(let e of vVe)delete n[e];return n}var MVe={log(){},warn(){},error(){}};function SVe(n){if(n===!1)return MVe;if(n===void 0)return console;if(n.log&&n.warn&&n.error)return n;throw new Error("logger must implement log, warn and error methods")}var IVe=/^[a-z_$][a-z0-9_$:-]*$/i;function TVe(n,e){let{RULES:t}=this;if((0,kV.eachItem)(n,r=>{if(t.keywords[r])throw new Error(`Keyword ${r} is already defined`);if(!IVe.test(r))throw new Error(`Keyword ${r} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function yV(n,e,t){var r;let i=e?.post;if(t&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=i?o.post:o.rules.find(({type:l})=>l===t);if(s||(s={type:t,rules:[]},o.rules.push(s)),o.keywords[n]=!0,!e)return;let a={keyword:n,definition:ye(G({},e),{type:(0,YT.getJSONTypes)(e.type),schemaType:(0,YT.getJSONTypes)(e.schemaType)})};e.before?AVe.call(this,s,a,e.before):s.rules.push(a),o.all[n]=a,(r=e.implements)===null||r===void 0||r.forEach(l=>this.addKeyword(l))}function AVe(n,e,t){let r=n.rules.findIndex(i=>i.keyword===t);r>=0?n.rules.splice(r,0,e):(n.rules.push(e),this.logger.warn(`rule ${t} is not defined`))}function DVe(n){let{metaSchema:e}=n;e!==void 0&&(n.$data&&this.opts.$data&&(e=Rae(e)),n.validateSchema=this.compile(e,!0))}var RVe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Rae(n){return{anyOf:[n,RVe]}}});var Oae=ke(bV=>{"use strict";Object.defineProperty(bV,"__esModule",{value:!0});var PVe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};bV.default=PVe});var Bae=ke(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.callRef=_g.getValidate=void 0;var OVe=dk(),Nae=va(),ys=qt(),c2=ru(),Lae=zT(),XT=kn(),NVe={keyword:"$ref",schemaType:"string",code(n){let{gen:e,schema:t,it:r}=n,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=r,{root:c}=o;if((t==="#"||t==="#/")&&i===c.baseId)return p();let u=Lae.resolveRef.call(l,c,i,t);if(u===void 0)throw new OVe.default(r.opts.uriResolver,i,t);if(u instanceof Lae.SchemaEnv)return g(u);return v(u);function p(){if(o===c)return ZT(n,s,o,o.$async);let w=e.scopeValue("root",{ref:c});return ZT(n,(0,ys._)`${w}.validate`,c,c.$async)}function g(w){let y=Fae(n,w);ZT(n,y,w,w.$async)}function v(w){let y=e.scopeValue("schema",a.code.source===!0?{ref:w,code:(0,ys.stringify)(w)}:{ref:w}),x=e.name("valid"),b=n.subschema({schema:w,dataTypes:[],schemaPath:ys.nil,topSchemaRef:y,errSchemaPath:t},x);n.mergeEvaluated(b),n.ok(x)}}};function Fae(n,e){let{gen:t}=n;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,ys._)`${t.scopeValue("wrapper",{ref:e})}.validate`}_g.getValidate=Fae;function ZT(n,e,t,r){let{gen:i,it:o}=n,{allErrors:s,schemaEnv:a,opts:l}=o,c=l.passContext?c2.default.this:ys.nil;r?u():p();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let w=i.let("valid");i.try(()=>{i.code((0,ys._)`await ${(0,Nae.callValidateCode)(n,e,c)}`),v(e),s||i.assign(w,!0)},y=>{i.if((0,ys._)`!(${y} instanceof ${o.ValidationError})`,()=>i.throw(y)),g(y),s||i.assign(w,!1)}),n.ok(w)}function p(){n.result((0,Nae.callValidateCode)(n,e,c),()=>v(e),()=>g(e))}function g(w){let y=(0,ys._)`${w}.errors`;i.assign(c2.default.vErrors,(0,ys._)`${c2.default.vErrors} === null ? ${y} : ${c2.default.vErrors}.concat(${y})`),i.assign(c2.default.errors,(0,ys._)`${c2.default.vErrors}.length`)}function v(w){var y;if(!o.opts.unevaluated)return;let x=(y=t?.validate)===null||y===void 0?void 0:y.evaluated;if(o.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(o.props=XT.mergeEvaluated.props(i,x.props,o.props));else{let b=i.var("props",(0,ys._)`${w}.evaluated.props`);o.props=XT.mergeEvaluated.props(i,b,o.props,ys.Name)}if(o.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(o.items=XT.mergeEvaluated.items(i,x.items,o.items));else{let b=i.var("items",(0,ys._)`${w}.evaluated.items`);o.items=XT.mergeEvaluated.items(i,b,o.items,ys.Name)}}}_g.callRef=ZT;_g.default=NVe});var Vae=ke(xV=>{"use strict";Object.defineProperty(xV,"__esModule",{value:!0});var LVe=Oae(),FVe=Bae(),BVe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",LVe.default,FVe.default];xV.default=BVe});var jae=ke(CV=>{"use strict";Object.defineProperty(CV,"__esModule",{value:!0});var QT=qt(),Kh=QT.operators,JT={maximum:{okStr:"<=",ok:Kh.LTE,fail:Kh.GT},minimum:{okStr:">=",ok:Kh.GTE,fail:Kh.LT},exclusiveMaximum:{okStr:"<",ok:Kh.LT,fail:Kh.GTE},exclusiveMinimum:{okStr:">",ok:Kh.GT,fail:Kh.LTE}},VVe={message:({keyword:n,schemaCode:e})=>(0,QT.str)`must be ${JT[n].okStr} ${e}`,params:({keyword:n,schemaCode:e})=>(0,QT._)`{comparison: ${JT[n].okStr}, limit: ${e}}`},jVe={keyword:Object.keys(JT),type:"number",schemaType:"number",$data:!0,error:VVe,code(n){let{keyword:e,data:t,schemaCode:r}=n;n.fail$data((0,QT._)`${t} ${JT[e].fail} ${r} || isNaN(${t})`)}};CV.default=jVe});var Hae=ke(EV=>{"use strict";Object.defineProperty(EV,"__esModule",{value:!0});var gk=qt(),HVe={message:({schemaCode:n})=>(0,gk.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,gk._)`{multipleOf: ${n}}`},UVe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:HVe,code(n){let{gen:e,data:t,schemaCode:r,it:i}=n,o=i.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,gk._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,gk._)`${s} !== parseInt(${s})`;n.fail$data((0,gk._)`(${r} === 0 || (${s} = ${t}/${r}, ${a}))`)}};EV.default=UVe});var $ae=ke(MV=>{"use strict";Object.defineProperty(MV,"__esModule",{value:!0});function Uae(n){let e=n.length,t=0,r=0,i;for(;r<e;)t++,i=n.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=n.charCodeAt(r),(i&64512)===56320&&r++);return t}MV.default=Uae;Uae.code='require("ajv/dist/runtime/ucs2length").default'});var zae=ke(SV=>{"use strict";Object.defineProperty(SV,"__esModule",{value:!0});var yg=qt(),$Ve=kn(),zVe=$ae(),qVe={message({keyword:n,schemaCode:e}){let t=n==="maxLength"?"more":"fewer";return(0,yg.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:n})=>(0,yg._)`{limit: ${n}}`},WVe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:qVe,code(n){let{keyword:e,data:t,schemaCode:r,it:i}=n,o=e==="maxLength"?yg.operators.GT:yg.operators.LT,s=i.opts.unicode===!1?(0,yg._)`${t}.length`:(0,yg._)`${(0,$Ve.useFunc)(n.gen,zVe.default)}(${t})`;n.fail$data((0,yg._)`${s} ${o} ${r}`)}};SV.default=WVe});var qae=ke(IV=>{"use strict";Object.defineProperty(IV,"__esModule",{value:!0});var GVe=va(),eA=qt(),KVe={message:({schemaCode:n})=>(0,eA.str)`must match pattern "${n}"`,params:({schemaCode:n})=>(0,eA._)`{pattern: ${n}}`},YVe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:KVe,code(n){let{data:e,$data:t,schema:r,schemaCode:i,it:o}=n,s=o.opts.unicodeRegExp?"u":"",a=t?(0,eA._)`(new RegExp(${i}, ${s}))`:(0,GVe.usePattern)(n,r);n.fail$data((0,eA._)`!${a}.test(${e})`)}};IV.default=YVe});var Wae=ke(TV=>{"use strict";Object.defineProperty(TV,"__esModule",{value:!0});var mk=qt(),XVe={message({keyword:n,schemaCode:e}){let t=n==="maxProperties"?"more":"fewer";return(0,mk.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:n})=>(0,mk._)`{limit: ${n}}`},ZVe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:XVe,code(n){let{keyword:e,data:t,schemaCode:r}=n,i=e==="maxProperties"?mk.operators.GT:mk.operators.LT;n.fail$data((0,mk._)`Object.keys(${t}).length ${i} ${r}`)}};TV.default=ZVe});var Gae=ke(AV=>{"use strict";Object.defineProperty(AV,"__esModule",{value:!0});var vk=va(),wk=qt(),QVe=kn(),JVe={message:({params:{missingProperty:n}})=>(0,wk.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,wk._)`{missingProperty: ${n}}`},eje={keyword:"required",type:"object",schemaType:"array",$data:!0,error:JVe,code(n){let{gen:e,schema:t,schemaCode:r,data:i,$data:o,it:s}=n,{opts:a}=s;if(!o&&t.length===0)return;let l=t.length>=a.loopRequired;if(s.allErrors?c():u(),a.strictRequired){let v=n.parentSchema.properties,{definedProperties:w}=n.it;for(let y of t)if(v?.[y]===void 0&&!w.has(y)){let x=s.schemaEnv.baseId+s.errSchemaPath,b=`required property "${y}" is not defined at "${x}" (strictRequired)`;(0,QVe.checkStrictMode)(s,b,s.opts.strictRequired)}}function c(){if(l||o)n.block$data(wk.nil,p);else for(let v of t)(0,vk.checkReportMissingProp)(n,v)}function u(){let v=e.let("missing");if(l||o){let w=e.let("valid",!0);n.block$data(w,()=>g(v,w)),n.ok(w)}else e.if((0,vk.checkMissingProp)(n,t,v)),(0,vk.reportMissingProp)(n,v),e.else()}function p(){e.forOf("prop",r,v=>{n.setParams({missingProperty:v}),e.if((0,vk.noPropertyInData)(e,i,v,a.ownProperties),()=>n.error())})}function g(v,w){n.setParams({missingProperty:v}),e.forOf(v,r,()=>{e.assign(w,(0,vk.propertyInData)(e,i,v,a.ownProperties)),e.if((0,wk.not)(w),()=>{n.error(),e.break()})},wk.nil)}}};AV.default=eje});var Kae=ke(DV=>{"use strict";Object.defineProperty(DV,"__esModule",{value:!0});var _k=qt(),tje={message({keyword:n,schemaCode:e}){let t=n==="maxItems"?"more":"fewer";return(0,_k.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:n})=>(0,_k._)`{limit: ${n}}`},nje={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:tje,code(n){let{keyword:e,data:t,schemaCode:r}=n,i=e==="maxItems"?_k.operators.GT:_k.operators.LT;n.fail$data((0,_k._)`${t}.length ${i} ${r}`)}};DV.default=nje});var tA=ke(RV=>{"use strict";Object.defineProperty(RV,"__esModule",{value:!0});var Yae=nV();Yae.code='require("ajv/dist/runtime/equal").default';RV.default=Yae});var Xae=ke(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});var PV=ok(),ro=qt(),rje=kn(),ije=tA(),oje={message:({params:{i:n,j:e}})=>(0,ro.str)`must NOT have duplicate items (items ## ${e} and ${n} are identical)`,params:({params:{i:n,j:e}})=>(0,ro._)`{i: ${n}, j: ${e}}`},sje={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:oje,code(n){let{gen:e,data:t,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=n;if(!r&&!i)return;let l=e.let("valid"),c=o.items?(0,PV.getSchemaTypes)(o.items):[];n.block$data(l,u,(0,ro._)`${s} === false`),n.ok(l);function u(){let w=e.let("i",(0,ro._)`${t}.length`),y=e.let("j");n.setParams({i:w,j:y}),e.assign(l,!0),e.if((0,ro._)`${w} > 1`,()=>(p()?g:v)(w,y))}function p(){return c.length>0&&!c.some(w=>w==="object"||w==="array")}function g(w,y){let x=e.name("item"),b=(0,PV.checkDataTypes)(c,x,a.opts.strictNumbers,PV.DataType.Wrong),R=e.const("indices",(0,ro._)`{}`);e.for((0,ro._)`;${w}--;`,()=>{e.let(x,(0,ro._)`${t}[${w}]`),e.if(b,(0,ro._)`continue`),c.length>1&&e.if((0,ro._)`typeof ${x} == "string"`,(0,ro._)`${x} += "_"`),e.if((0,ro._)`typeof ${R}[${x}] == "number"`,()=>{e.assign(y,(0,ro._)`${R}[${x}]`),n.error(),e.assign(l,!1).break()}).code((0,ro._)`${R}[${x}] = ${w}`)})}function v(w,y){let x=(0,rje.useFunc)(e,ije.default),b=e.name("outer");e.label(b).for((0,ro._)`;${w}--;`,()=>e.for((0,ro._)`${y} = ${w}; ${y}--;`,()=>e.if((0,ro._)`${x}(${t}[${w}], ${t}[${y}])`,()=>{n.error(),e.assign(l,!1).break(b)})))}}};OV.default=sje});var Zae=ke(LV=>{"use strict";Object.defineProperty(LV,"__esModule",{value:!0});var NV=qt(),aje=kn(),lje=tA(),cje={message:"must be equal to constant",params:({schemaCode:n})=>(0,NV._)`{allowedValue: ${n}}`},dje={keyword:"const",$data:!0,error:cje,code(n){let{gen:e,data:t,$data:r,schemaCode:i,schema:o}=n;r||o&&typeof o=="object"?n.fail$data((0,NV._)`!${(0,aje.useFunc)(e,lje.default)}(${t}, ${i})`):n.fail((0,NV._)`${o} !== ${t}`)}};LV.default=dje});var Qae=ke(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});var yk=qt(),uje=kn(),hje=tA(),pje={message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,yk._)`{allowedValues: ${n}}`},fje={keyword:"enum",schemaType:"array",$data:!0,error:pje,code(n){let{gen:e,data:t,$data:r,schema:i,schemaCode:o,it:s}=n;if(!r&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=s.opts.loopEnum,l,c=()=>l??(l=(0,uje.useFunc)(e,hje.default)),u;if(a||r)u=e.let("valid"),n.block$data(u,p);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let v=e.const("vSchema",o);u=(0,yk.or)(...i.map((w,y)=>g(v,y)))}n.pass(u);function p(){e.assign(u,!1),e.forOf("v",o,v=>e.if((0,yk._)`${c()}(${t}, ${v})`,()=>e.assign(u,!0).break()))}function g(v,w){let y=i[w];return typeof y=="object"&&y!==null?(0,yk._)`${c()}(${t}, ${v}[${w}])`:(0,yk._)`${t} === ${y}`}}};FV.default=fje});var Jae=ke(BV=>{"use strict";Object.defineProperty(BV,"__esModule",{value:!0});var gje=jae(),mje=Hae(),vje=zae(),wje=qae(),_je=Wae(),yje=Gae(),kje=Kae(),bje=Xae(),xje=Zae(),Cje=Qae(),Eje=[gje.default,mje.default,vje.default,wje.default,_je.default,yje.default,kje.default,bje.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xje.default,Cje.default];BV.default=Eje});var jV=ke(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});kk.validateAdditionalItems=void 0;var kg=qt(),VV=kn(),Mje={message:({params:{len:n}})=>(0,kg.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,kg._)`{limit: ${n}}`},Sje={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Mje,code(n){let{parentSchema:e,it:t}=n,{items:r}=e;if(!Array.isArray(r)){(0,VV.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}ele(n,r)}};function ele(n,e){let{gen:t,schema:r,data:i,keyword:o,it:s}=n;s.items=!0;let a=t.const("len",(0,kg._)`${i}.length`);if(r===!1)n.setParams({len:e.length}),n.pass((0,kg._)`${a} <= ${e.length}`);else if(typeof r=="object"&&!(0,VV.alwaysValidSchema)(s,r)){let c=t.var("valid",(0,kg._)`${a} <= ${e.length}`);t.if((0,kg.not)(c),()=>l(c)),n.ok(c)}function l(c){t.forRange("i",e.length,a,u=>{n.subschema({keyword:o,dataProp:u,dataPropType:VV.Type.Num},c),s.allErrors||t.if((0,kg.not)(c),()=>t.break())})}}kk.validateAdditionalItems=ele;kk.default=Sje});var HV=ke(bk=>{"use strict";Object.defineProperty(bk,"__esModule",{value:!0});bk.validateTuple=void 0;var tle=qt(),nA=kn(),Ije=va(),Tje={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){let{schema:e,it:t}=n;if(Array.isArray(e))return nle(n,"additionalItems",e);t.items=!0,!(0,nA.alwaysValidSchema)(t,e)&&n.ok((0,Ije.validateArray)(n))}};function nle(n,e,t=n.schema){let{gen:r,parentSchema:i,data:o,keyword:s,it:a}=n;u(i),a.opts.unevaluated&&t.length&&a.items!==!0&&(a.items=nA.mergeEvaluated.items(r,t.length,a.items));let l=r.name("valid"),c=r.const("len",(0,tle._)`${o}.length`);t.forEach((p,g)=>{(0,nA.alwaysValidSchema)(a,p)||(r.if((0,tle._)`${c} > ${g}`,()=>n.subschema({keyword:s,schemaProp:g,dataProp:g},l)),n.ok(l))});function u(p){let{opts:g,errSchemaPath:v}=a,w=t.length,y=w===p.minItems&&(w===p.maxItems||p[e]===!1);if(g.strictTuples&&!y){let x=`"${s}" is ${w}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;(0,nA.checkStrictMode)(a,x,g.strictTuples)}}}bk.validateTuple=nle;bk.default=Tje});var rle=ke(UV=>{"use strict";Object.defineProperty(UV,"__esModule",{value:!0});var Aje=HV(),Dje={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,Aje.validateTuple)(n,"items")};UV.default=Dje});var ole=ke($V=>{"use strict";Object.defineProperty($V,"__esModule",{value:!0});var ile=qt(),Rje=kn(),Pje=va(),Oje=jV(),Nje={message:({params:{len:n}})=>(0,ile.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,ile._)`{limit: ${n}}`},Lje={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Nje,code(n){let{schema:e,parentSchema:t,it:r}=n,{prefixItems:i}=t;r.items=!0,!(0,Rje.alwaysValidSchema)(r,e)&&(i?(0,Oje.validateAdditionalItems)(n,i):n.ok((0,Pje.validateArray)(n)))}};$V.default=Lje});var sle=ke(zV=>{"use strict";Object.defineProperty(zV,"__esModule",{value:!0});var _a=qt(),rA=kn(),Fje={message:({params:{min:n,max:e}})=>e===void 0?(0,_a.str)`must contain at least ${n} valid item(s)`:(0,_a.str)`must contain at least ${n} and no more than ${e} valid item(s)`,params:({params:{min:n,max:e}})=>e===void 0?(0,_a._)`{minContains: ${n}}`:(0,_a._)`{minContains: ${n}, maxContains: ${e}}`},Bje={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Fje,code(n){let{gen:e,schema:t,parentSchema:r,data:i,it:o}=n,s,a,{minContains:l,maxContains:c}=r;o.opts.next?(s=l===void 0?1:l,a=c):s=1;let u=e.const("len",(0,_a._)`${i}.length`);if(n.setParams({min:s,max:a}),a===void 0&&s===0){(0,rA.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,rA.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),n.fail();return}if((0,rA.alwaysValidSchema)(o,t)){let y=(0,_a._)`${u} >= ${s}`;a!==void 0&&(y=(0,_a._)`${y} && ${u} <= ${a}`),n.pass(y);return}o.items=!0;let p=e.name("valid");a===void 0&&s===1?v(p,()=>e.if(p,()=>e.break())):s===0?(e.let(p,!0),a!==void 0&&e.if((0,_a._)`${i}.length > 0`,g)):(e.let(p,!1),g()),n.result(p,()=>n.reset());function g(){let y=e.name("_valid"),x=e.let("count",0);v(y,()=>e.if(y,()=>w(x)))}function v(y,x){e.forRange("i",0,u,b=>{n.subschema({keyword:"contains",dataProp:b,dataPropType:rA.Type.Num,compositeRule:!0},y),x()})}function w(y){e.code((0,_a._)`${y}++`),a===void 0?e.if((0,_a._)`${y} >= ${s}`,()=>e.assign(p,!0).break()):(e.if((0,_a._)`${y} > ${a}`,()=>e.assign(p,!1).break()),s===1?e.assign(p,!0):e.if((0,_a._)`${y} >= ${s}`,()=>e.assign(p,!0)))}}};zV.default=Bje});var cle=ke(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.validateSchemaDeps=xc.validatePropertyDeps=xc.error=void 0;var qV=qt(),Vje=kn(),xk=va();xc.error={message:({params:{property:n,depsCount:e,deps:t}})=>{let r=e===1?"property":"properties";return(0,qV.str)`must have ${r} ${t} when property ${n} is present`},params:({params:{property:n,depsCount:e,deps:t,missingProperty:r}})=>(0,qV._)`{property: ${n},
    missingProperty: ${r},
    depsCount: ${e},
    deps: ${t}}`};var jje={keyword:"dependencies",type:"object",schemaType:"object",error:xc.error,code(n){let[e,t]=Hje(n);ale(n,e),lle(n,t)}};function Hje({schema:n}){let e={},t={};for(let r in n){if(r==="__proto__")continue;let i=Array.isArray(n[r])?e:t;i[r]=n[r]}return[e,t]}function ale(n,e=n.schema){let{gen:t,data:r,it:i}=n;if(Object.keys(e).length===0)return;let o=t.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let l=(0,xk.propertyInData)(t,r,s,i.opts.ownProperties);n.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),i.allErrors?t.if(l,()=>{for(let c of a)(0,xk.checkReportMissingProp)(n,c)}):(t.if((0,qV._)`${l} && (${(0,xk.checkMissingProp)(n,a,o)})`),(0,xk.reportMissingProp)(n,o),t.else())}}xc.validatePropertyDeps=ale;function lle(n,e=n.schema){let{gen:t,data:r,keyword:i,it:o}=n,s=t.name("valid");for(let a in e)(0,Vje.alwaysValidSchema)(o,e[a])||(t.if((0,xk.propertyInData)(t,r,a,o.opts.ownProperties),()=>{let l=n.subschema({keyword:i,schemaProp:a},s);n.mergeValidEvaluated(l,s)},()=>t.var(s,!0)),n.ok(s))}xc.validateSchemaDeps=lle;xc.default=jje});var ule=ke(WV=>{"use strict";Object.defineProperty(WV,"__esModule",{value:!0});var dle=qt(),Uje=kn(),$je={message:"property name must be valid",params:({params:n})=>(0,dle._)`{propertyName: ${n.propertyName}}`},zje={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:$je,code(n){let{gen:e,schema:t,data:r,it:i}=n;if((0,Uje.alwaysValidSchema)(i,t))return;let o=e.name("valid");e.forIn("key",r,s=>{n.setParams({propertyName:s}),n.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,dle.not)(o),()=>{n.error(!0),i.allErrors||e.break()})}),n.ok(o)}};WV.default=zje});var KV=ke(GV=>{"use strict";Object.defineProperty(GV,"__esModule",{value:!0});var iA=va(),cl=qt(),qje=ru(),oA=kn(),Wje={message:"must NOT have additional properties",params:({params:n})=>(0,cl._)`{additionalProperty: ${n.additionalProperty}}`},Gje={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Wje,code(n){let{gen:e,schema:t,parentSchema:r,data:i,errsCount:o,it:s}=n;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,oA.alwaysValidSchema)(s,t))return;let c=(0,iA.allSchemaProperties)(r.properties),u=(0,iA.allSchemaProperties)(r.patternProperties);p(),n.ok((0,cl._)`${o} === ${qje.default.errors}`);function p(){e.forIn("key",i,x=>{!c.length&&!u.length?w(x):e.if(g(x),()=>w(x))})}function g(x){let b;if(c.length>8){let R=(0,oA.schemaRefOrVal)(s,r.properties,"properties");b=(0,iA.isOwnProperty)(e,R,x)}else c.length?b=(0,cl.or)(...c.map(R=>(0,cl._)`${x} === ${R}`)):b=cl.nil;return u.length&&(b=(0,cl.or)(b,...u.map(R=>(0,cl._)`${(0,iA.usePattern)(n,R)}.test(${x})`))),(0,cl.not)(b)}function v(x){e.code((0,cl._)`delete ${i}[${x}]`)}function w(x){if(l.removeAdditional==="all"||l.removeAdditional&&t===!1){v(x);return}if(t===!1){n.setParams({additionalProperty:x}),n.error(),a||e.break();return}if(typeof t=="object"&&!(0,oA.alwaysValidSchema)(s,t)){let b=e.name("valid");l.removeAdditional==="failing"?(y(x,b,!1),e.if((0,cl.not)(b),()=>{n.reset(),v(x)})):(y(x,b),a||e.if((0,cl.not)(b),()=>e.break()))}}function y(x,b,R){let V={keyword:"additionalProperties",dataProp:x,dataPropType:oA.Type.Str};R===!1&&Object.assign(V,{compositeRule:!0,createErrors:!1,allErrors:!1}),n.subschema(V,b)}}};GV.default=Gje});var fle=ke(XV=>{"use strict";Object.defineProperty(XV,"__esModule",{value:!0});var Kje=ck(),hle=va(),YV=kn(),ple=KV(),Yje={keyword:"properties",type:"object",schemaType:"object",code(n){let{gen:e,schema:t,parentSchema:r,data:i,it:o}=n;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&ple.default.code(new Kje.KeywordCxt(o,ple.default,"additionalProperties"));let s=(0,hle.allSchemaProperties)(t);for(let p of s)o.definedProperties.add(p);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=YV.mergeEvaluated.props(e,(0,YV.toHash)(s),o.props));let a=s.filter(p=>!(0,YV.alwaysValidSchema)(o,t[p]));if(a.length===0)return;let l=e.name("valid");for(let p of a)c(p)?u(p):(e.if((0,hle.propertyInData)(e,i,p,o.opts.ownProperties)),u(p),o.allErrors||e.else().var(l,!0),e.endIf()),n.it.definedProperties.add(p),n.ok(l);function c(p){return o.opts.useDefaults&&!o.compositeRule&&t[p].default!==void 0}function u(p){n.subschema({keyword:"properties",schemaProp:p,dataProp:p},l)}}};XV.default=Yje});var wle=ke(ZV=>{"use strict";Object.defineProperty(ZV,"__esModule",{value:!0});var gle=va(),sA=qt(),mle=kn(),vle=kn(),Xje={keyword:"patternProperties",type:"object",schemaType:"object",code(n){let{gen:e,schema:t,data:r,parentSchema:i,it:o}=n,{opts:s}=o,a=(0,gle.allSchemaProperties)(t),l=a.filter(y=>(0,mle.alwaysValidSchema)(o,t[y]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let c=s.strictSchema&&!s.allowMatchingProperties&&i.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof sA.Name)&&(o.props=(0,vle.evaluatedPropsToName)(e,o.props));let{props:p}=o;g();function g(){for(let y of a)c&&v(y),o.allErrors?w(y):(e.var(u,!0),w(y),e.if(u))}function v(y){for(let x in c)new RegExp(y).test(x)&&(0,mle.checkStrictMode)(o,`property ${x} matches pattern ${y} (use allowMatchingProperties)`)}function w(y){e.forIn("key",r,x=>{e.if((0,sA._)`${(0,gle.usePattern)(n,y)}.test(${x})`,()=>{let b=l.includes(y);b||n.subschema({keyword:"patternProperties",schemaProp:y,dataProp:x,dataPropType:vle.Type.Str},u),o.opts.unevaluated&&p!==!0?e.assign((0,sA._)`${p}[${x}]`,!0):!b&&!o.allErrors&&e.if((0,sA.not)(u),()=>e.break())})})}}};ZV.default=Xje});var _le=ke(QV=>{"use strict";Object.defineProperty(QV,"__esModule",{value:!0});var Zje=kn(),Qje={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){let{gen:e,schema:t,it:r}=n;if((0,Zje.alwaysValidSchema)(r,t)){n.fail();return}let i=e.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),n.failResult(i,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};QV.default=Qje});var yle=ke(JV=>{"use strict";Object.defineProperty(JV,"__esModule",{value:!0});var Jje=va(),eHe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Jje.validateUnion,error:{message:"must match a schema in anyOf"}};JV.default=eHe});var kle=ke(ej=>{"use strict";Object.defineProperty(ej,"__esModule",{value:!0});var aA=qt(),tHe=kn(),nHe={message:"must match exactly one schema in oneOf",params:({params:n})=>(0,aA._)`{passingSchemas: ${n.passing}}`},rHe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:nHe,code(n){let{gen:e,schema:t,parentSchema:r,it:i}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;let o=t,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");n.setParams({passing:a}),e.block(c),n.result(s,()=>n.reset(),()=>n.error(!0));function c(){o.forEach((u,p)=>{let g;(0,tHe.alwaysValidSchema)(i,u)?e.var(l,!0):g=n.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},l),p>0&&e.if((0,aA._)`${l} && ${s}`).assign(s,!1).assign(a,(0,aA._)`[${a}, ${p}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,p),g&&n.mergeEvaluated(g,aA.Name)})})}}};ej.default=rHe});var ble=ke(tj=>{"use strict";Object.defineProperty(tj,"__esModule",{value:!0});var iHe=kn(),oHe={keyword:"allOf",schemaType:"array",code(n){let{gen:e,schema:t,it:r}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");let i=e.name("valid");t.forEach((o,s)=>{if((0,iHe.alwaysValidSchema)(r,o))return;let a=n.subschema({keyword:"allOf",schemaProp:s},i);n.ok(i),n.mergeEvaluated(a)})}};tj.default=oHe});var Ele=ke(nj=>{"use strict";Object.defineProperty(nj,"__esModule",{value:!0});var lA=qt(),Cle=kn(),sHe={message:({params:n})=>(0,lA.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,lA._)`{failingKeyword: ${n.ifClause}}`},aHe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:sHe,code(n){let{gen:e,parentSchema:t,it:r}=n;t.then===void 0&&t.else===void 0&&(0,Cle.checkStrictMode)(r,'"if" without "then" and "else" is ignored');let i=xle(r,"then"),o=xle(r,"else");if(!i&&!o)return;let s=e.let("valid",!0),a=e.name("_valid");if(l(),n.reset(),i&&o){let u=e.let("ifClause");n.setParams({ifClause:u}),e.if(a,c("then",u),c("else",u))}else i?e.if(a,c("then")):e.if((0,lA.not)(a),c("else"));n.pass(s,()=>n.error(!0));function l(){let u=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);n.mergeEvaluated(u)}function c(u,p){return()=>{let g=n.subschema({keyword:u},a);e.assign(s,a),n.mergeValidEvaluated(g,s),p?e.assign(p,(0,lA._)`${u}`):n.setParams({ifClause:u})}}}};function xle(n,e){let t=n.schema[e];return t!==void 0&&!(0,Cle.alwaysValidSchema)(n,t)}nj.default=aHe});var Mle=ke(rj=>{"use strict";Object.defineProperty(rj,"__esModule",{value:!0});var lHe=kn(),cHe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:e,it:t}){e.if===void 0&&(0,lHe.checkStrictMode)(t,`"${n}" without "if" is ignored`)}};rj.default=cHe});var Sle=ke(ij=>{"use strict";Object.defineProperty(ij,"__esModule",{value:!0});var dHe=jV(),uHe=rle(),hHe=HV(),pHe=ole(),fHe=sle(),gHe=cle(),mHe=ule(),vHe=KV(),wHe=fle(),_He=wle(),yHe=_le(),kHe=yle(),bHe=kle(),xHe=ble(),CHe=Ele(),EHe=Mle();function MHe(n=!1){let e=[yHe.default,kHe.default,bHe.default,xHe.default,CHe.default,EHe.default,mHe.default,vHe.default,gHe.default,wHe.default,_He.default];return n?e.push(uHe.default,pHe.default):e.push(dHe.default,hHe.default),e.push(fHe.default),e}ij.default=MHe});var Ile=ke(oj=>{"use strict";Object.defineProperty(oj,"__esModule",{value:!0});var Xr=qt(),SHe={message:({schemaCode:n})=>(0,Xr.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,Xr._)`{format: ${n}}`},IHe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:SHe,code(n,e){let{gen:t,data:r,$data:i,schema:o,schemaCode:s,it:a}=n,{opts:l,errSchemaPath:c,schemaEnv:u,self:p}=a;if(!l.validateFormats)return;i?g():v();function g(){let w=t.scopeValue("formats",{ref:p.formats,code:l.code.formats}),y=t.const("fDef",(0,Xr._)`${w}[${s}]`),x=t.let("fType"),b=t.let("format");t.if((0,Xr._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>t.assign(x,(0,Xr._)`${y}.type || "string"`).assign(b,(0,Xr._)`${y}.validate`),()=>t.assign(x,(0,Xr._)`"string"`).assign(b,y)),n.fail$data((0,Xr.or)(R(),V()));function R(){return l.strictSchema===!1?Xr.nil:(0,Xr._)`${s} && !${b}`}function V(){let j=u.$async?(0,Xr._)`(${y}.async ? await ${b}(${r}) : ${b}(${r}))`:(0,Xr._)`${b}(${r})`,$=(0,Xr._)`(typeof ${b} == "function" ? ${j} : ${b}.test(${r}))`;return(0,Xr._)`${b} && ${b} !== true && ${x} === ${e} && !${$}`}}function v(){let w=p.formats[o];if(!w){R();return}if(w===!0)return;let[y,x,b]=V(w);y===e&&n.pass(j());function R(){if(l.strictSchema===!1){p.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function V($){let Y=$ instanceof RegExp?(0,Xr.regexpCode)($):l.code.formats?(0,Xr._)`${l.code.formats}${(0,Xr.getProperty)(o)}`:void 0,L=t.scopeValue("formats",{key:o,ref:$,code:Y});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Xr._)`${L}.validate`]:["string",$,L]}function j(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Xr._)`await ${b}(${r})`}return typeof x=="function"?(0,Xr._)`${b}(${r})`:(0,Xr._)`${b}.test(${r})`}}}};oj.default=IHe});var Tle=ke(sj=>{"use strict";Object.defineProperty(sj,"__esModule",{value:!0});var THe=Ile(),AHe=[THe.default];sj.default=AHe});var Ale=ke(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.contentVocabulary=d2.metadataVocabulary=void 0;d2.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];d2.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Rle=ke(aj=>{"use strict";Object.defineProperty(aj,"__esModule",{value:!0});var DHe=Vae(),RHe=Jae(),PHe=Sle(),OHe=Tle(),Dle=Ale(),NHe=[DHe.default,RHe.default,(0,PHe.default)(),OHe.default,Dle.metadataVocabulary,Dle.contentVocabulary];aj.default=NHe});var Ole=ke(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});cA.DiscrError=void 0;var Ple=(function(n){return n.Tag="tag",n.Mapping="mapping",n})(Ple||(cA.DiscrError=Ple={}))});var Lle=ke(cj=>{"use strict";Object.defineProperty(cj,"__esModule",{value:!0});var u2=qt(),lj=Ole(),Nle=zT(),LHe=dk(),FHe=kn(),BHe={message:({params:{discrError:n,tagName:e}})=>n===lj.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:n,tag:e,tagName:t}})=>(0,u2._)`{error: ${n}, tag: ${t}, tagValue: ${e}}`},VHe={keyword:"discriminator",type:"object",schemaType:"object",error:BHe,code(n){let{gen:e,data:t,schema:r,parentSchema:i,it:o}=n,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let l=e.let("valid",!1),c=e.const("tag",(0,u2._)`${t}${(0,u2.getProperty)(a)}`);e.if((0,u2._)`typeof ${c} == "string"`,()=>u(),()=>n.error(!1,{discrError:lj.DiscrError.Tag,tag:c,tagName:a})),n.ok(l);function u(){let v=g();e.if(!1);for(let w in v)e.elseIf((0,u2._)`${c} === ${w}`),e.assign(l,p(v[w]));e.else(),n.error(!1,{discrError:lj.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function p(v){let w=e.name("valid"),y=n.subschema({keyword:"oneOf",schemaProp:v},w);return n.mergeEvaluated(y,u2.Name),w}function g(){var v;let w={},y=b(i),x=!0;for(let j=0;j<s.length;j++){let $=s[j];if($?.$ref&&!(0,FHe.schemaHasRulesButRef)($,o.self.RULES)){let L=$.$ref;if($=Nle.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,L),$ instanceof Nle.SchemaEnv&&($=$.schema),$===void 0)throw new LHe.default(o.opts.uriResolver,o.baseId,L)}let Y=(v=$?.properties)===null||v===void 0?void 0:v[a];if(typeof Y!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);x=x&&(y||b($)),R(Y,j)}if(!x)throw new Error(`discriminator: "${a}" must be required`);return w;function b({required:j}){return Array.isArray(j)&&j.includes(a)}function R(j,$){if(j.const)V(j.const,$);else if(j.enum)for(let Y of j.enum)V(Y,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function V(j,$){if(typeof j!="string"||j in w)throw new Error(`discriminator: "${a}" values must be unique strings`);w[j]=$}}}};cj.default=VHe});var Fle=ke((WAt,jHe)=>{jHe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var uj=ke((cr,dj)=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.MissingRefError=cr.ValidationError=cr.CodeGen=cr.Name=cr.nil=cr.stringify=cr.str=cr._=cr.KeywordCxt=cr.Ajv=void 0;var HHe=Pae(),UHe=Rle(),$He=Lle(),Ble=Fle(),zHe=["/properties"],dA="http://json-schema.org/draft-07/schema",h2=class extends HHe.default{_addVocabularies(){super._addVocabularies(),UHe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword($He.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Ble,zHe):Ble;this.addMetaSchema(e,dA,!1),this.refs["http://json-schema.org/schema"]=dA}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(dA)?dA:void 0)}};cr.Ajv=h2;dj.exports=cr=h2;dj.exports.Ajv=h2;Object.defineProperty(cr,"__esModule",{value:!0});cr.default=h2;var qHe=ck();Object.defineProperty(cr,"KeywordCxt",{enumerable:!0,get:function(){return qHe.KeywordCxt}});var p2=qt();Object.defineProperty(cr,"_",{enumerable:!0,get:function(){return p2._}});Object.defineProperty(cr,"str",{enumerable:!0,get:function(){return p2.str}});Object.defineProperty(cr,"stringify",{enumerable:!0,get:function(){return p2.stringify}});Object.defineProperty(cr,"nil",{enumerable:!0,get:function(){return p2.nil}});Object.defineProperty(cr,"Name",{enumerable:!0,get:function(){return p2.Name}});Object.defineProperty(cr,"CodeGen",{enumerable:!0,get:function(){return p2.CodeGen}});var WHe=UT();Object.defineProperty(cr,"ValidationError",{enumerable:!0,get:function(){return WHe.default}});var GHe=dk();Object.defineProperty(cr,"MissingRefError",{enumerable:!0,get:function(){return GHe.default}})});var Wle=ke(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.formatNames=Ec.fastFormats=Ec.fullFormats=void 0;function Cc(n,e){return{validate:n,compare:e}}Ec.fullFormats={date:Cc(Ule,gj),time:Cc(pj(!0),mj),"date-time":Cc(Vle(!0),zle),"iso-time":Cc(pj(),$le),"iso-date-time":Cc(Vle(),qle),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:JHe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:sUe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:eUe,int32:{type:"number",validate:rUe},int64:{type:"number",validate:iUe},float:{type:"number",validate:Hle},double:{type:"number",validate:Hle},password:!0,binary:!0};Ec.fastFormats=ye(G({},Ec.fullFormats),{date:Cc(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,gj),time:Cc(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,mj),"date-time":Cc(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,zle),"iso-time":Cc(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,$le),"iso-date-time":Cc(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,qle),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Ec.formatNames=Object.keys(Ec.fullFormats);function KHe(n){return n%4===0&&(n%100!==0||n%400===0)}var YHe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,XHe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ule(n){let e=YHe.exec(n);if(!e)return!1;let t=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r===2&&KHe(t)?29:XHe[r])}function gj(n,e){if(n&&e)return n>e?1:n<e?-1:0}var hj=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function pj(n){return function(t){let r=hj.exec(t);if(!r)return!1;let i=+r[1],o=+r[2],s=+r[3],a=r[4],l=r[5]==="-"?-1:1,c=+(r[6]||0),u=+(r[7]||0);if(c>23||u>59||n&&!a)return!1;if(i<=23&&o<=59&&s<60)return!0;let p=o-u*l,g=i-c*l-(p<0?1:0);return(g===23||g===-1)&&(p===59||p===-1)&&s<61}}function mj(n,e){if(!(n&&e))return;let t=new Date("2020-01-01T"+n).valueOf(),r=new Date("2020-01-01T"+e).valueOf();if(t&&r)return t-r}function $le(n,e){if(!(n&&e))return;let t=hj.exec(n),r=hj.exec(e);if(t&&r)return n=t[1]+t[2]+t[3],e=r[1]+r[2]+r[3],n>e?1:n<e?-1:0}var fj=/t|\s/i;function Vle(n){let e=pj(n);return function(r){let i=r.split(fj);return i.length===2&&Ule(i[0])&&e(i[1])}}function zle(n,e){if(!(n&&e))return;let t=new Date(n).valueOf(),r=new Date(e).valueOf();if(t&&r)return t-r}function qle(n,e){if(!(n&&e))return;let[t,r]=n.split(fj),[i,o]=e.split(fj),s=gj(t,i);if(s!==void 0)return s||mj(r,o)}var ZHe=/\/|:/,QHe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function JHe(n){return ZHe.test(n)&&QHe.test(n)}var jle=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function eUe(n){return jle.lastIndex=0,jle.test(n)}var tUe=-(2**31),nUe=2**31-1;function rUe(n){return Number.isInteger(n)&&n<=nUe&&n>=tUe}function iUe(n){return Number.isInteger(n)}function Hle(){return!0}var oUe=/[^\\]\\Z/;function sUe(n){if(oUe.test(n))return!1;try{return new RegExp(n),!0}catch{return!1}}});var Gle=ke(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.formatLimitDefinition=void 0;var aUe=uj(),dl=qt(),Yh=dl.operators,uA={formatMaximum:{okStr:"<=",ok:Yh.LTE,fail:Yh.GT},formatMinimum:{okStr:">=",ok:Yh.GTE,fail:Yh.LT},formatExclusiveMaximum:{okStr:"<",ok:Yh.LT,fail:Yh.GTE},formatExclusiveMinimum:{okStr:">",ok:Yh.GT,fail:Yh.LTE}},lUe={message:({keyword:n,schemaCode:e})=>(0,dl.str)`should be ${uA[n].okStr} ${e}`,params:({keyword:n,schemaCode:e})=>(0,dl._)`{comparison: ${uA[n].okStr}, limit: ${e}}`};f2.formatLimitDefinition={keyword:Object.keys(uA),type:"string",schemaType:"string",$data:!0,error:lUe,code(n){let{gen:e,data:t,schemaCode:r,keyword:i,it:o}=n,{opts:s,self:a}=o;if(!s.validateFormats)return;let l=new aUe.KeywordCxt(o,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let g=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),v=e.const("fmt",(0,dl._)`${g}[${l.schemaCode}]`);n.fail$data((0,dl.or)((0,dl._)`typeof ${v} != "object"`,(0,dl._)`${v} instanceof RegExp`,(0,dl._)`typeof ${v}.compare != "function"`,p(v)))}function u(){let g=l.schema,v=a.formats[g];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${i}": format "${g}" does not define "compare" function`);let w=e.scopeValue("formats",{key:g,ref:v,code:s.code.formats?(0,dl._)`${s.code.formats}${(0,dl.getProperty)(g)}`:void 0});n.fail$data(p(w))}function p(g){return(0,dl._)`${g}.compare(${t}, ${r}) ${uA[i].fail} 0`}},dependencies:["format"]};var cUe=n=>(n.addKeyword(f2.formatLimitDefinition),n);f2.default=cUe});var Zle=ke((Ck,Xle)=>{"use strict";Object.defineProperty(Ck,"__esModule",{value:!0});var g2=Wle(),dUe=Gle(),vj=qt(),Kle=new vj.Name("fullFormats"),uUe=new vj.Name("fastFormats"),wj=(n,e={keywords:!0})=>{if(Array.isArray(e))return Yle(n,e,g2.fullFormats,Kle),n;let[t,r]=e.mode==="fast"?[g2.fastFormats,uUe]:[g2.fullFormats,Kle],i=e.formats||g2.formatNames;return Yle(n,i,t,r),e.keywords&&(0,dUe.default)(n),n};wj.get=(n,e="full")=>{let r=(e==="fast"?g2.fastFormats:g2.fullFormats)[n];if(!r)throw new Error(`Unknown format "${n}"`);return r};function Yle(n,e,t,r){var i,o;(i=(o=n.opts.code).formats)!==null&&i!==void 0||(o.formats=(0,vj._)`require("ajv-formats/dist/formats").${r}`);for(let s of e)n.addFormat(s,t[s])}Xle.exports=Ck=wj;Object.defineProperty(Ck,"__esModule",{value:!0});Ck.default=wj});var BD;function Gb(){return BD}function xl(n){let e=BD;return BD=n,e}var LU=Symbol("NotFound");function Jg(n){return n===LU||n?.name==="\u0275NotFound"}function cv(n,e){return Object.is(n,e)}var uo=null,Kb=!1,VD=1,kge=null,Pr=Symbol("SIGNAL");function vt(n){let e=uo;return uo=n,e}function Yb(){return uo}var Au={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zc(n){if(Kb)throw new Error("");if(uo===null)return;uo.consumerOnSignalRead(n);let e=uo.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=uo.recomputing;if(r&&(t=e!==void 0?e.nextProducer:uo.producers,t!==void 0&&t.producer===n)){uo.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===uo&&(!r||xge(i,uo)))return;let o=t0(uo),s={producer:n,consumer:uo,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};uo.producersTail=s,e!==void 0?e.nextProducer=s:uo.producers=s,o&&BU(n,s)}function FU(){VD++}function Ap(n){if(!(t0(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===VD)){if(!n.producerMustRecompute(n)&&!Dp(n)){e0(n);return}n.producerRecomputeValue(n),e0(n)}}function jD(n){if(n.consumers===void 0)return;let e=Kb;Kb=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||bge(r)}}finally{Kb=e}}function HD(){return uo?.consumerAllowSignalWrites!==!1}function bge(n){n.dirty=!0,jD(n),n.consumerMarkedDirty?.(n)}function e0(n){n.dirty=!1,n.lastCleanEpoch=VD}function qc(n){return n&&(n.producersTail=void 0,n.recomputing=!0),vt(n)}function Du(n,e){if(vt(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(t0(n))do r=UD(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Dp(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Ap(t),r!==t.version))return!0}return!1}function Ru(n){if(t0(n)){let e=n.producers;for(;e!==void 0;)e=UD(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function BU(n,e){let t=n.consumersTail,r=t0(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)BU(i.producer,i)}function UD(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!t0(e)){let o=e.producers;for(;o!==void 0;)o=UD(o)}return t}function t0(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function dv(n){kge?.(n)}function xge(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function uv(n,e){let t=Object.create(Cge);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ap(t),zc(t),t.value===$c)throw t.error;return t.value};return r[Pr]=t,dv(t),r}var Tu=Symbol("UNSET"),Tp=Symbol("COMPUTING"),$c=Symbol("ERRORED"),Cge=ye(G({},Au),{value:Tu,dirty:!0,error:null,equal:cv,kind:"computed",producerMustRecompute(n){return n.value===Tu||n.value===Tp},producerRecomputeValue(n){if(n.value===Tp)throw new Error("");let e=n.value;n.value=Tp;let t=qc(n),r,i=!1;try{r=n.computation(),vt(null),i=e!==Tu&&e!==$c&&r!==$c&&n.equal(e,r)}catch(o){r=$c,n.error=o}finally{Du(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Ege(){throw new Error}var VU=Ege;function jU(n){VU(n)}function $D(n){VU=n}var Mge=null;function zD(n,e){let t=Object.create(hv);t.value=n,e!==void 0&&(t.equal=e);let r=()=>HU(t);return r[Pr]=t,dv(t),[r,s=>Pu(t,s),s=>Xb(t,s)]}function HU(n){return zc(n),n.value}function Pu(n,e){HD()||jU(n),n.equal(n.value,e)||(n.value=e,Sge(n))}function Xb(n,e){HD()||jU(n),Pu(n,e(n.value))}var hv=ye(G({},Au),{equal:cv,value:void 0,kind:"signal"});function Sge(n){n.version++,FU(),jD(n),Mge?.(n)}function ct(n){return typeof n=="function"}function n0(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zb=n0(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rp(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var xn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ct(r))try{r()}catch(o){e=o instanceof Zb?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{UU(o)}catch(s){e=e??[],s instanceof Zb?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zb(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UU(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rp(t,e)}remove(e){let{_finalizers:t}=this;t&&Rp(t,e),e instanceof n&&e._removeParent(this)}};xn.EMPTY=(()=>{let n=new xn;return n.closed=!0,n})();var qD=xn.EMPTY;function Qb(n){return n instanceof xn||n&&"closed"in n&&ct(n.remove)&&ct(n.add)&&ct(n.unsubscribe)}function UU(n){ct(n)?n():n.unsubscribe()}var Ra={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var r0={setTimeout(n,e,...t){let{delegate:r}=r0;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=r0;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Jb(n){r0.setTimeout(()=>{let{onUnhandledError:e}=Ra;if(e)e(n);else throw n})}function Pp(){}var $U=WD("C",void 0,void 0);function zU(n){return WD("E",void 0,n)}function qU(n){return WD("N",n,void 0)}function WD(n,e,t){return{kind:n,value:e,error:t}}var Op=null;function i0(n){if(Ra.useDeprecatedSynchronousErrorHandling){let e=!Op;if(e&&(Op={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Op;if(Op=null,t)throw r}}else n()}function WU(n){Ra.useDeprecatedSynchronousErrorHandling&&Op&&(Op.errorThrown=!0,Op.error=n)}var Np=class extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qb(e)&&e.add(this)):this.destination=Age}static create(e,t,r){return new Pa(e,t,r)}next(e){this.isStopped?KD(qU(e),this):this._next(e)}error(e){this.isStopped?KD(zU(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?KD($U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ige=Function.prototype.bind;function GD(n,e){return Ige.call(n,e)}var YD=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ex(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ex(r)}else ex(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ex(t)}}},Pa=class extends Np{constructor(e,t,r){super();let i;if(ct(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ra.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&GD(e.next,o),error:e.error&&GD(e.error,o),complete:e.complete&&GD(e.complete,o)}):i=e}this.destination=new YD(i)}};function ex(n){Ra.useDeprecatedSynchronousErrorHandling?WU(n):Jb(n)}function Tge(n){throw n}function KD(n,e){let{onStoppedNotification:t}=Ra;t&&r0.setTimeout(()=>t(n,e))}var Age={closed:!0,next:Pp,error:Tge,complete:Pp};var o0=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Po(n){return n}function XD(...n){return ZD(n)}function ZD(n){return n.length===0?Po:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Rge(t)?t:new Pa(t,r,i);return i0(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=GU(r),new r((i,o)=>{let s=new Pa({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[o0](){return this}pipe(...t){return ZD(t)(this)}toPromise(t){return t=GU(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function GU(n){var e;return(e=n??Ra.Promise)!==null&&e!==void 0?e:Promise}function Dge(n){return n&&ct(n.next)&&ct(n.error)&&ct(n.complete)}function Rge(n){return n&&n instanceof Np||Dge(n)&&Qb(n)}function QD(n){return ct(n?.lift)}function bt(n){return e=>{if(QD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(n,e,t,r,i){return new JD(n,e,t,r,i)}var JD=class extends Np{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function s0(){return bt((n,e)=>{let t=null;n._refCount++;let r=yt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var a0=class extends Qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,QD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;let t=this.getSubject();e.add(this.source.subscribe(yt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return s0()(this)}};var KU=n0(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class n extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new tx(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new KU}next(t){i0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){i0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){i0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qD:(this.currentObservers=null,o.push(t),new xn(()=>{this.currentObservers=null,Rp(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Qe;return t.source=this,t}}return n.create=(e,t)=>new tx(e,t),n})(),tx=class extends Pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:qD}};var Hr=class extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pv={now(){return(pv.delegate||Date).now()},delegate:void 0};var Lp=class extends Pe{constructor(e=1/0,t=1/0,r=pv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var nx=class extends xn{constructor(e,t){super()}schedule(e,t=0){return this}};var fv={setInterval(n,e,...t){let{delegate:r}=fv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=fv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var l0=class extends nx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return fv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&fv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rp(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var c0=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};c0.now=pv.now;var d0=class extends c0{constructor(e,t=c0.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ys=new d0(l0),e3=Ys;var rx=class extends l0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ix=class extends d0{};var t3=new ix(rx);var Ai=new Qe(n=>n.complete());function ox(n){return n&&ct(n.schedule)}function n3(n){return n[n.length-1]}function sx(n){return ct(n3(n))?n.pop():void 0}function Cl(n){return ox(n3(n))?n.pop():void 0}function YU(n,e){return typeof n3(n)=="number"?n.pop():e}function ax(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ZU(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function XU(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fp(n){return this instanceof Fp?(this.v=n,this):new Fp(n)}function QU(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,p)}}function a(v,w){r[v]&&(i[v]=function(y){return new Promise(function(x,b){o.push([v,y,x,b])>1||l(v,y)})},w&&(i[v]=w(i[v])))}function l(v,w){try{c(r[v](w))}catch(y){g(o[0][3],y)}}function c(v){v.value instanceof Fp?Promise.resolve(v.value.v).then(u,p):g(o[0][2],v)}function u(v){l("next",v)}function p(v){l("throw",v)}function g(v,w){v(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function JU(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof XU=="function"?XU(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var u0=n=>n&&typeof n.length=="number"&&typeof n!="function";function lx(n){return ct(n?.then)}function cx(n){return ct(n[o0])}function dx(n){return Symbol.asyncIterator&&ct(n?.[Symbol.asyncIterator])}function ux(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Pge(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hx=Pge();function px(n){return ct(n?.[hx])}function fx(n){return QU(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fp(t.read());if(i)return yield Fp(void 0);yield yield Fp(r)}}finally{t.releaseLock()}})}function gx(n){return ct(n?.getReader)}function In(n){if(n instanceof Qe)return n;if(n!=null){if(cx(n))return Oge(n);if(u0(n))return Nge(n);if(lx(n))return Lge(n);if(dx(n))return e$(n);if(px(n))return Fge(n);if(gx(n))return Bge(n)}throw ux(n)}function Oge(n){return new Qe(e=>{let t=n[o0]();if(ct(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nge(n){return new Qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Lge(n){return new Qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jb)})}function Fge(n){return new Qe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function e$(n){return new Qe(e=>{Vge(n,e).catch(t=>e.error(t))})}function Bge(n){return e$(fx(n))}function Vge(n,e){var t,r,i,o;return ZU(this,void 0,void 0,function*(){try{for(t=JU(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function os(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ou(n,e=0){return bt((t,r)=>{t.subscribe(yt(r,i=>os(r,n,()=>r.next(i),e),()=>os(r,n,()=>r.complete(),e),i=>os(r,n,()=>r.error(i),e)))})}function Nu(n,e=0){return bt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function t$(n,e){return In(n).pipe(Nu(e),Ou(e))}function n$(n,e){return In(n).pipe(Nu(e),Ou(e))}function r$(n,e){return new Qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function i$(n,e){return new Qe(t=>{let r;return os(t,e,()=>{r=n[hx](),os(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ct(r?.return)&&r.return()})}function mx(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qe(t=>{os(t,e,()=>{let r=n[Symbol.asyncIterator]();os(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function o$(n,e){return mx(fx(n),e)}function s$(n,e){if(n!=null){if(cx(n))return t$(n,e);if(u0(n))return r$(n,e);if(lx(n))return n$(n,e);if(dx(n))return mx(n,e);if(px(n))return i$(n,e);if(gx(n))return o$(n,e)}throw ux(n)}function Un(n,e){return e?s$(n,e):In(n)}function Xe(...n){let e=Cl(n);return Un(n,e)}function h0(n,e){let t=ct(n)?n:()=>n,r=i=>i.error(t());return new Qe(e?i=>e.schedule(r,0,i):r)}function p0(n){return!!n&&(n instanceof Qe||ct(n.lift)&&ct(n.subscribe))}var Oa=n0(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Bp(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Pa({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Oa)}});n.subscribe(o)})}function a$(n){return n instanceof Date&&!isNaN(n)}function nt(n,e){return bt((t,r)=>{let i=0;t.subscribe(yt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:jge}=Array;function Hge(n,e){return jge(e)?n(...e):n(e)}function f0(n){return nt(e=>Hge(n,e))}var{isArray:Uge}=Array,{getPrototypeOf:$ge,prototype:zge,keys:qge}=Object;function vx(n){if(n.length===1){let e=n[0];if(Uge(e))return{args:e,keys:null};if(Wge(e)){let t=qge(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Wge(n){return n&&typeof n=="object"&&$ge(n)===zge}function wx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _x(...n){let e=Cl(n),t=sx(n),{args:r,keys:i}=vx(n);if(r.length===0)return Un([],e);let o=new Qe(Gge(r,e,i?s=>wx(i,s):Po));return t?o.pipe(f0(t)):o}function Gge(n,e,t=Po){return r=>{l$(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)l$(e,()=>{let c=Un(n[l],e),u=!1;c.subscribe(yt(r,p=>{o[l]=p,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function l$(n,e,t){n?os(t,n,e):e()}function c$(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,p=!1,g=()=>{p&&!l.length&&!c&&e.complete()},v=y=>c<r?w(y):l.push(y),w=y=>{o&&e.next(y),c++;let x=!1;In(t(y,u++)).subscribe(yt(e,b=>{i?.(b),o?v(b):e.next(b)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;l.length&&c<r;){let b=l.shift();s?os(e,s,()=>w(b)):w(b)}g()}catch(b){e.error(b)}}))};return n.subscribe(yt(e,v,()=>{p=!0,g()})),()=>{a?.()}}function yr(n,e,t=1/0){return ct(e)?yr((r,i)=>nt((o,s)=>e(r,o,i,s))(In(n(r,i))),t):(typeof e=="number"&&(t=e),bt((r,i)=>c$(r,i,n,t)))}function yx(n=1/0){return yr(Po,n)}function d$(){return yx(1)}function Lu(...n){return d$()(Un(n,Cl(n)))}function Vp(n){return new Qe(e=>{In(n()).subscribe(e)})}function r3(...n){let e=sx(n),{args:t,keys:r}=vx(n),i=new Qe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let p=!1;In(t[u]).subscribe(yt(o,g=>{p||(p=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?wx(r,a):a),o.complete())}))}});return e?i.pipe(f0(e)):i}var Kge=["addListener","removeListener"],Yge=["addEventListener","removeEventListener"],Xge=["on","off"];function Cn(n,e,t,r){if(ct(t)&&(r=t,t=void 0),r)return Cn(n,e,t).pipe(f0(r));let[i,o]=Jge(n)?Yge.map(s=>a=>n[s](e,a,t)):Zge(n)?Kge.map(u$(n,e)):Qge(n)?Xge.map(u$(n,e)):[];if(!i&&u0(n))return yr(s=>Cn(s,e,t))(In(n));if(!i)throw new TypeError("Invalid event target");return new Qe(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function u$(n,e){return t=>r=>n[t](e,r)}function Zge(n){return ct(n.addListener)&&ct(n.removeListener)}function Qge(n){return ct(n.on)&&ct(n.off)}function Jge(n){return ct(n.addEventListener)&&ct(n.removeEventListener)}function Wc(n=0,e,t=e3){let r=-1;return e!=null&&(ox(e)?t=e:r=e),new Qe(i=>{let o=a$(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function kx(n=0,e=Ys){return n<0&&(n=0),Wc(n,n,e)}function bx(...n){let e=Cl(n),t=YU(n,1/0),r=n;return r.length?r.length===1?In(r[0]):yx(t)(Un(r,e)):Ai}function an(n,e){return bt((t,r)=>{let i=0;t.subscribe(yt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function h$(n){return bt((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(yt(t,c=>{r=!0,i=c,o||In(n(c)).subscribe(o=yt(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function xx(n,e=Ys){return h$(()=>Wc(n,e))}function Oo(n){return bt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(yt(t,void 0,void 0,s=>{o=In(n(s,Oo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function p$(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(yt(s,u=>{let p=c++;l=a?n(l,u,p):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Fu(n,e){return ct(e)?yr(n,e,1):yr(n,1)}function Gc(n,e=Ys){return bt((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}a()}t.subscribe(yt(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Bu(n){return bt((e,t)=>{let r=!1;e.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ur(n){return n<=0?()=>Ai:bt((e,t)=>{let r=0;e.subscribe(yt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function f$(){return bt((n,e)=>{n.subscribe(yt(e,Pp))})}function g$(n){return nt(()=>n)}function i3(n,e){return e?t=>Lu(e.pipe(Ur(1),f$()),t.pipe(i3(n))):yr((t,r)=>In(n(t,r)).pipe(Ur(1),g$(t)))}function o3(n,e=Ys){let t=Wc(n,e);return i3(()=>t)}function Cx(n,e=Po){return n=n??e0e,bt((t,r)=>{let i,o=!0;t.subscribe(yt(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function e0e(n,e){return n===e}function Ex(n=t0e){return bt((e,t)=>{let r=!1;e.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function t0e(){return new Oa}function jp(n){return bt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kc(n,e){let t=arguments.length>=2;return r=>r.pipe(n?an((i,o)=>n(i,o,r)):Po,Ur(1),t?Bu(e):Ex(()=>new Oa))}function g0(n){return n<=0?()=>Ai:bt((e,t)=>{let r=[];e.subscribe(yt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function s3(n,e){let t=arguments.length>=2;return r=>r.pipe(n?an((i,o)=>n(i,o,r)):Po,g0(1),t?Bu(e):Ex(()=>new Oa))}function a3(n,e){return bt(p$(n,e,arguments.length>=2,!0))}function m$(n={}){let{connector:e=()=>new Pe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=l=void 0,u=p=!1},w=()=>{let y=s;v(),y?.unsubscribe()};return bt((y,x)=>{c++,!p&&!u&&g();let b=l=l??e();x.add(()=>{c--,c===0&&!p&&!u&&(a=l3(w,i))}),b.subscribe(x),!s&&c>0&&(s=new Pa({next:R=>b.next(R),error:R=>{p=!0,g(),a=l3(v,t,R),b.error(R)},complete:()=>{u=!0,g(),a=l3(v,r),b.complete()}}),In(y).subscribe(s))})(o)}}function l3(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Pa({next:()=>{r.unsubscribe(),n()}});return In(e(...t)).subscribe(r)}function Mx(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,m$({connector:()=>new Lp(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gv(n){return an((e,t)=>n<=t)}function Vu(...n){let e=Cl(n);return bt((t,r)=>{(e?Lu(n,t,e):Lu(n,t)).subscribe(r)})}function $r(n,e){return bt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(yt(r,l=>{i?.unsubscribe();let c=0,u=o++;In(n(l,u)).subscribe(i=yt(r,p=>r.next(e?e(l,p,u,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $e(n){return bt((e,t)=>{In(n).subscribe(yt(t,()=>t.complete(),Pp)),!t.closed&&e.subscribe(t)})}function c3(n,e=!1){return bt((t,r)=>{let i=0;t.subscribe(yt(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function Jr(n,e,t){let r=ct(n)||e||t?{next:n,error:e,complete:t}:n;return r?bt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(yt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Po}function d3(n,e,t){let r=Object.create(n0e);r.source=n,r.computation=e,t!=null&&(r.equal=t);let o=()=>{if(Ap(r),zc(r),r.value===$c)throw r.error;return r.value};return o[Pr]=r,dv(r),o}function v$(n,e){Ap(n),Pu(n,e),e0(n)}function w$(n,e){Ap(n),Xb(n,e),e0(n)}var n0e=ye(G({},Au),{value:Tu,dirty:!0,error:null,equal:cv,kind:"linkedSignal",producerMustRecompute(n){return n.value===Tu||n.value===Tp},producerRecomputeValue(n){if(n.value===Tp)throw new Error("");let e=n.value;n.value=Tp;let t=qc(n),r;try{let i=n.source(),o=e===Tu||e===$c?void 0:{source:n.sourceValue,value:e};r=n.computation(i,o),n.sourceValue=i}catch(i){r=$c,n.error=i}finally{Du(n,t)}if(e!==Tu&&r!==$c&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function _$(n){let e=vt(null);try{return n()}finally{vt(e)}}var y$=ye(G({},Au),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function k$(n){if(n.dirty=!1,n.hasRun&&!Dp(n))return;n.hasRun=!0;let e=qc(n);try{n.cleanup(),n.fn()}finally{Du(n,e)}}var Dx="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Se=class extends Error{code;constructor(e,t){super(Zc(e,t)),this.code=e}};function r0e(n){return`NG0${Math.abs(n)}`}function Zc(n,e){return`${r0e(n)}${e?": "+e:""}`}var v0=globalThis;function Dn(n){for(let e in n)if(n[e]===Dn)return e;throw Error("")}function C$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xc(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Xc).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Rx(n,e){return n?e?`${n} ${e}`:n:e||""}var i0e=Dn({__forward_ref__:Dn});function Yn(n){return n.__forward_ref__=Yn,n.toString=function(){return Xc(this())},n}function fi(n){return b3(n)?n():n}function b3(n){return typeof n=="function"&&n.hasOwnProperty(i0e)&&n.__forward_ref__===Yn}function E$(n,e){n==null&&x3(e,n,null,"!=")}function x3(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $t(n){return{providers:n.providers||[],imports:n.imports||[]}}function kv(n){return o0e(n,Px)}function C3(n){return kv(n)!==null}function o0e(n,e){return n.hasOwnProperty(e)&&n[e]||null}function s0e(n){let e=n?.[Px]??null;return e||null}function h3(n){return n&&n.hasOwnProperty(Ix)?n[Ix]:null}var Px=Dn({\u0275prov:Dn}),Ix=Dn({\u0275inj:Dn}),ue=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function E3(n){return n&&!!n.\u0275providers}var M3=Dn({\u0275cmp:Dn}),S3=Dn({\u0275dir:Dn}),I3=Dn({\u0275pipe:Dn}),T3=Dn({\u0275mod:Dn}),wv=Dn({\u0275fac:Dn}),qp=Dn({__NG_ELEMENT_ID__:Dn}),b$=Dn({__NG_ENV_ID__:Dn});function Wp(n){return typeof n=="string"?n:n==null?"":String(n)}function Tx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Wp(n)}var A3=Dn({ngErrorCode:Dn}),M$=Dn({ngErrorMessage:Dn}),vv=Dn({ngTokenPath:Dn});function D3(n,e){return S$("",-200,e)}function Ox(n,e){throw new Se(-201,!1)}function a0e(n,e){n[vv]??=[];let t=n[vv],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(E$(e.provide,"Token with multi: true should have a provide property"),r=Tx(e.provide)):r=Tx(e),t[0]!==r&&n[vv].unshift(r)}function l0e(n,e){let t=n[vv],r=n[A3],i=n[M$]||n.message;return n.message=d0e(i,r,t,e),n}function S$(n,e,t){let r=new Se(e,n);return r[A3]=e,r[M$]=n,t&&(r[vv]=t),r}function c0e(n){return n[A3]}function d0e(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Zc(e,`${n}${o}${i}`)}var p3;function I$(){return p3}function No(n){let e=p3;return p3=n,e}function R3(n,e,t){let r=kv(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ox(n,"Injector")}var u0e={},Hp=u0e,f3="__NG_DI_FLAG__",g3=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Up(t)||0;try{return this.injector.get(e,r&8?null:Hp,r)}catch(i){if(Jg(i))return i;throw i}}};function h0e(n,e=0){let t=Gb();if(t===void 0)throw new Se(-203,!1);if(t===null)return R3(n,void 0,e);{let r=p0e(e),i=t.retrieve(n,r);if(Jg(i)){if(r.optional)return null;throw i}return i}}function Ae(n,e=0){return(I$()||h0e)(fi(n),e)}function M(n,e){return Ae(n,Up(e))}function Up(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function p0e(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function m3(n){let e=[];for(let t=0;t<n.length;t++){let r=fi(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Se(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=f0e(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ae(i,o))}else e.push(Ae(r))}return e}function T$(n,e){return n[f3]=e,n.prototype[f3]=e,n}function f0e(n){return n[f3]}function ju(n,e){let t=n.hasOwnProperty(wv);return t?n[wv]:null}function A$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function D$(n){return n.flat(Number.POSITIVE_INFINITY)}function Nx(n,e){n.forEach(t=>Array.isArray(t)?Nx(t,e):e(t))}function P3(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bv(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function R$(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function P$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function xv(n,e,t){let r=w0(n,e);return r>=0?n[r|1]=t:(r=~r,P$(n,r,e,t)),r}function Lx(n,e){let t=w0(n,e);if(t>=0)return n[t|1]}function w0(n,e){return g0e(n,e,1)}function g0e(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Na={},ho=[],El=new ue(""),O3=new ue("",-1),N3=new ue(""),_v=class{get(e,t=Hp){if(t===Hp){let i=S$("",-201);throw i.name="\u0275NotFound",i}return t}};function L3(n){return n[T3]||null}function Qc(n){return n[M3]||null}function Fx(n){return n[S3]||null}function O$(n){return n[I3]||null}function Di(n){return{\u0275providers:n}}function N$(n){return Di([{provide:El,multi:!0,useValue:n}])}function L$(...n){return{\u0275providers:F3(!0,n),\u0275fromNgModule:!0}}function F3(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Nx(e,s=>{let a=s;Ax(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&F$(i,o),t}function F$(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];B3(i,o=>{e(o,r)})}}function Ax(n,e,t,r){if(n=fi(n),!n)return!1;let i=null,o=h3(n),s=!o&&Qc(n);if(!o&&!s){let l=n.ngModule;if(o=h3(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ax(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Nx(o.imports,u=>{Ax(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&F$(c,e)}if(!a){let c=ju(i)||(()=>new i);e({provide:i,useFactory:c,deps:ho},i),e({provide:N3,useValue:i,multi:!0},i),e({provide:El,useValue:()=>Ae(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;B3(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function B3(n,e){for(let t of n)E3(t)&&(t=t.\u0275providers),Array.isArray(t)?B3(t,e):e(t)}var m0e=Dn({provide:String,useValue:Dn});function B$(n){return n!==null&&typeof n=="object"&&m0e in n}function v0e(n){return!!(n&&n.useExisting)}function w0e(n){return!!(n&&n.useFactory)}function $p(n){return typeof n=="function"}function V$(n){return!!n.useClass}var Cv=new ue(""),Sx={},x$={},u3;function _0(){return u3===void 0&&(u3=new _v),u3}var Kn=class{},zp=class extends Kn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,w3(e,s=>this.processProvider(s)),this.records.set(O3,m0(void 0,this)),i.has("environment")&&this.records.set(Kn,m0(void 0,this));let o=this.records.get(Cv);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N3,ho,{self:!0}))}retrieve(e,t){let r=Up(t)||0;try{return this.get(e,Hp,r)}catch(i){if(Jg(i))return i;throw i}}destroy(){mv(this),this._destroyed=!0;let e=vt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),vt(e)}}onDestroy(e){return mv(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){mv(this);let t=xl(this),r=No(void 0),i;try{return e()}finally{xl(t),No(r)}}get(e,t=Hp,r){if(mv(this),e.hasOwnProperty(b$))return e[b$](this);let i=Up(r),o,s=xl(this),a=No(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=x0e(e)&&kv(e);u&&this.injectableDefInScope(u)?c=m0(v3(e),Sx):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?_0():this.parent;return t=i&8&&t===Hp?null:t,l.get(e,t)}catch(l){let c=c0e(l);throw c===-200||c===-201?new Se(c,null):l}finally{No(a),xl(s)}}resolveInjectorInitializers(){let e=vt(null),t=xl(this),r=No(void 0),i;try{let o=this.get(El,ho,{self:!0});for(let s of o)s()}finally{xl(t),No(r),vt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Xc(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=fi(e);let t=$p(e)?e:fi(e&&e.provide),r=y0e(e);if(!$p(e)&&e.multi===!0){let i=this.records.get(t);i||(i=m0(void 0,Sx,!0),i.factory=()=>m3(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=vt(null);try{if(t.value===x$)throw D3(Xc(e));return t.value===Sx&&(t.value=x$,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&b0e(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{vt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=fi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function v3(n){let e=kv(n),t=e!==null?e.factory:ju(n);if(t!==null)return t;if(n instanceof ue)throw new Se(204,!1);if(n instanceof Function)return _0e(n);throw new Se(204,!1)}function _0e(n){if(n.length>0)throw new Se(204,!1);let t=s0e(n);return t!==null?()=>t.factory(n):()=>new n}function y0e(n){if(B$(n))return m0(void 0,n.useValue);{let e=V3(n);return m0(e,Sx)}}function V3(n,e,t){let r;if($p(n)){let i=fi(n);return ju(i)||v3(i)}else if(B$(n))r=()=>fi(n.useValue);else if(w0e(n))r=()=>n.useFactory(...m3(n.deps||[]));else if(v0e(n))r=(i,o)=>Ae(fi(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=fi(n&&(n.useClass||n.provide));if(k0e(n))r=()=>new i(...m3(n.deps));else return ju(i)||v3(i)}return r}function mv(n){if(n.destroyed)throw new Se(205,!1)}function m0(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function k0e(n){return!!n.deps}function b0e(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function x0e(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function w3(n,e){for(let t of n)Array.isArray(t)?w3(t,e):t&&E3(t)?w3(t.\u0275providers,e):e(t)}function $n(n,e){let t;n instanceof zp?(mv(n),t=n):t=new g3(n);let r,i=xl(t),o=No(void 0);try{return e()}finally{xl(i),No(o)}}function j$(){return I$()!==void 0||Gb()!=null}var La=0,ot=1,wt=2,gi=3,Zs=4,Lo=5,Gp=6,y0=7,zr=8,Kp=9,Ml=10,Xn=11,k0=12,j3=13,Yp=14,Fo=15,Uu=16,Xp=17,Sl=18,Ev=19,H3=20,Yc=21,Bx=22,Jc=23,Is=24,Zp=25,or=26,H$=1,U3=6,$u=7,Mv=8,Qp=9,Ri=10;function Il(n){return Array.isArray(n)&&typeof n[H$]=="object"}function Fa(n){return Array.isArray(n)&&n[H$]===!0}function $3(n){return(n.flags&4)!==0}function ed(n){return n.componentOffset>-1}function b0(n){return(n.flags&1)===1}function Ba(n){return!!n.template}function x0(n){return(n[wt]&512)!==0}function Jp(n){return(n[wt]&256)===256}var z3="svg",U$="math";function Qs(n){for(;Array.isArray(n);)n=n[La];return n}function q3(n,e){return Qs(e[n])}function Js(n,e){return Qs(e[n.index])}function Sv(n,e){return n.data[e]}function Vx(n,e){return n[e]}function W3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ea(n,e){let t=e[n];return Il(t)?t:t[La]}function $$(n){return(n[wt]&4)===4}function jx(n){return(n[wt]&128)===128}function z$(n){return Fa(n[gi])}function ta(n,e){return e==null?null:n[e]}function G3(n){n[Xp]=0}function K3(n){n[wt]&1024||(n[wt]|=1024,jx(n)&&zu(n))}function q$(n,e){for(;n>0;)e=e[Yp],n--;return e}function Iv(n){return!!(n[wt]&9216||n[Is]?.dirty)}function Hx(n){n[Ml].changeDetectionScheduler?.notify(8),n[wt]&64&&(n[wt]|=1024),Iv(n)&&zu(n)}function zu(n){n[Ml].changeDetectionScheduler?.notify(0);let e=Hu(n);for(;e!==null&&!(e[wt]&8192||(e[wt]|=8192,!jx(e)));)e=Hu(e)}function Y3(n,e){if(Jp(n))throw new Se(911,!1);n[Yc]===null&&(n[Yc]=[]),n[Yc].push(e)}function W$(n,e){if(n[Yc]===null)return;let t=n[Yc].indexOf(e);t!==-1&&n[Yc].splice(t,1)}function Hu(n){let e=n[gi];return Fa(e)?e[gi]:e}function X3(n){return n[y0]??=[]}function Z3(n){return n.cleanup??=[]}function G$(n,e,t,r){let i=X3(e);i.push(t),n.firstCreatePass&&Z3(n).push(r,i.length-1)}var Rt={lFrame:oz(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Tv=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(Tv||{}),C0e=0,_3=!1;function K$(){return Rt.lFrame.elementDepthCount}function Y$(){Rt.lFrame.elementDepthCount++}function Q3(){Rt.lFrame.elementDepthCount--}function Ux(){return Rt.bindingsEnabled}function J3(){return Rt.skipHydrationRootTNode!==null}function e5(n){return Rt.skipHydrationRootTNode===n}function t5(){Rt.skipHydrationRootTNode=null}function st(){return Rt.lFrame.lView}function ur(){return Rt.lFrame.tView}function We(n){return Rt.lFrame.contextLView=n,n[zr]}function Ge(n){return Rt.lFrame.contextLView=null,n}function mi(){let n=n5();for(;n!==null&&n.type===64;)n=n.parent;return n}function n5(){return Rt.lFrame.currentTNode}function X$(){let n=Rt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function C0(n,e){let t=Rt.lFrame;t.currentTNode=n,t.isParent=e}function r5(){return Rt.lFrame.isParent}function i5(){Rt.lFrame.isParent=!1}function Z$(){return Rt.lFrame.contextLView}function o5(n){x3("Must never be called in production mode"),C0e=n}function s5(){return _3}function E0(n){let e=_3;return _3=n,e}function ef(){let n=Rt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Q$(){return Rt.lFrame.bindingIndex}function J$(n){return Rt.lFrame.bindingIndex=n}function qu(){return Rt.lFrame.bindingIndex++}function $x(n){let e=Rt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ez(){return Rt.lFrame.inI18n}function tz(n,e){let t=Rt.lFrame;t.bindingIndex=t.bindingRootIndex=n,zx(e)}function nz(){return Rt.lFrame.currentDirectiveIndex}function zx(n){Rt.lFrame.currentDirectiveIndex=n}function rz(n){let e=Rt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qx(){return Rt.lFrame.currentQueryIndex}function Av(n){Rt.lFrame.currentQueryIndex=n}function E0e(n){let e=n[ot];return e.type===2?e.declTNode:e.type===1?n[Lo]:null}function a5(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=E0e(o),i===null||(o=o[Yp],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Rt.lFrame=iz();return r.currentTNode=e,r.lView=n,!0}function Wx(n){let e=iz(),t=n[ot];Rt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iz(){let n=Rt.lFrame,e=n===null?null:n.child;return e===null?oz(n):e}function oz(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function sz(){let n=Rt.lFrame;return Rt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var l5=sz;function Gx(){let n=sz();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function az(n){return(Rt.lFrame.contextLView=q$(n,Rt.lFrame.contextLView))[zr]}function Tl(){return Rt.lFrame.selectedIndex}function Wu(n){Rt.lFrame.selectedIndex=n}function Dv(){let n=Rt.lFrame;return Sv(n.tView,n.selectedIndex)}function na(){Rt.lFrame.currentNamespace=z3}function Kx(){M0e()}function M0e(){Rt.lFrame.currentNamespace=null}function lz(){return Rt.lFrame.currentNamespace}var cz=!0;function Yx(){return cz}function Rv(n){cz=n}var S0e={elements:void 0};function Xx(){return S0e}function y3(n,e=null,t=null,r){let i=c5(n,e,t,r);return i.resolveInjectorInitializers(),i}function c5(n,e=null,t=null,r,i=new Set){let o=[t||ho,L$(n)];return r=r||(typeof n=="object"?void 0:Xc(n)),new zp(o,e||_0(),r||null,i)}var Fe=class n{static THROW_IF_NOT_FOUND=Hp;static NULL=new _v;static create(e,t){if(Array.isArray(e))return y3({name:""},t,e,"");{let r=e.name??"";return y3({name:r},e.parent,e.providers,r)}}static \u0275prov=ce({token:n,providedIn:"any",factory:()=>Ae(O3)});static __NG_ELEMENT_ID__=-1},_t=new ue(""),sr=(()=>{class n{static __NG_ELEMENT_ID__=I0e;static __NG_ENV_ID__=t=>t}return n})(),yv=class extends sr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Jp(this._lView)}onDestroy(e){let t=this._lView;return Y3(t,e),()=>W$(t,e)}};function I0e(){return new yv(st())}var Ss=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Bo=new ue("",{providedIn:"root",factory:()=>{let n=M(Kn),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Ss),e.handleError(t))}}}),dz={provide:El,useValue:()=>void M(Ss),multi:!0},T0e=new ue("",{providedIn:"root",factory:()=>{let n=M(_t).defaultView;if(!n)return;let e=M(Bo),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(sr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function d5(){return Di([N$(()=>void M(T0e))])}function Pv(n){return typeof n=="function"&&n[Pr]!==void 0}function Te(n,e){let[t,r,i]=zD(n,e?.equal),o=t,s=o[Pr];return o.set=r,o.update=i,o.asReadonly=Ov.bind(o),o}function Ov(){let n=this[Pr];if(n.readonlyFn===void 0){let e=()=>this();e[Pr]=n,n.readonlyFn=e}return n.readonlyFn}var Xs=class{},M0=new ue("",{providedIn:"root",factory:()=>!1});var u5=new ue(""),h5=new ue("");var tf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=A0e}return n})();function A0e(){return new tf(st(),mi())}var Al=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Hr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Qe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),td=(()=>{class n{internalPendingTasks=M(Al);scheduler=M(Xs);errorHandler=M(Bo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function nf(...n){}var Nv=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new k3})}return n})(),k3=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function O0(n){return{toString:n}.toString()}var Zx="__parameters__";function L0e(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function F0e(n,e,t){return O0(()=>{let r=L0e(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let p=l.hasOwnProperty(Zx)?l[Zx]:Object.defineProperty(l,Zx,{value:[]})[Zx];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ei=T$(F0e("Optional"),8);function B0e(n){return typeof n=="function"}var sC=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Wz(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var wi=(()=>{let n=()=>Gz;return n.ngInherit=!0,n})();function Gz(n){return n.type.prototype.ngOnChanges&&(n.setInput=j0e),V0e}function V0e(){let n=Yz(this),e=n?.current;if(e){let t=n.previous;if(t===Na)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function j0e(n,e,t,r,i){let o=this.declaredInputs[r],s=Yz(n)||H0e(n,{previous:Na,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new sC(c&&c.currentValue,t,l===Na),Wz(n,e,i,t)}var Kz="__ngSimpleChanges__";function Yz(n){return n[Kz]||null}function H0e(n,e){return n[Kz]=e}var uz=[];var Bn=function(n,e=null,t){for(let r=0;r<uz.length;r++){let i=uz[r];i(n,e,t)}};function U0e(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Gz(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Xz(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function tC(n,e,t){Zz(n,e,3,t)}function nC(n,e,t,r){(n[wt]&3)===t&&Zz(n,e,t,r)}function p5(n,e){let t=n[wt];(t&3)===e&&(t&=16383,t+=1,n[wt]=t)}function Zz(n,e,t,r){let i=r!==void 0?n[Xp]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Xp]+=65536),(a<o||o==-1)&&($0e(n,t,e,l),n[Xp]=(n[Xp]&4294901760)+l+2),l++}function hz(n,e){Bn(4,n,e);let t=vt(null);try{e.call(n)}finally{vt(t),Bn(5,n,e)}}function $0e(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[wt]>>14<n[Xp]>>16&&(n[wt]&3)===e&&(n[wt]+=16384,hz(a,o)):hz(a,o)}var I0=-1,of=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function z0e(n){return(n.flags&8)!==0}function q0e(n){return(n.flags&16)!==0}function W0e(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];G0e(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Qz(n){return n===3||n===4||n===6}function G0e(n){return n.charCodeAt(0)===64}function T0(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?pz(n,t,i,null,e[++r]):pz(n,t,i,null,null))}}return n}function pz(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Jz(n){return n!==I0}function aC(n){return n&32767}function K0e(n){return n>>16}function lC(n,e){let t=K0e(n),r=e;for(;t>0;)r=r[Yp],t--;return r}var C5=!0;function cC(n){let e=C5;return C5=n,e}var Y0e=256,eq=Y0e-1,tq=5,X0e=0,Dl={};function Z0e(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qp)&&(r=t[qp]),r==null&&(r=t[qp]=X0e++);let i=r&eq,o=1<<i;e.data[n+(i>>tq)]|=o}function dC(n,e){let t=nq(n,e);if(t!==-1)return t;let r=e[ot];r.firstCreatePass&&(n.injectorIndex=e.length,f5(r.data,n),f5(e,null),f5(r.blueprint,null));let i=cR(n,e),o=n.injectorIndex;if(Jz(i)){let s=aC(i),a=lC(i,e),l=a[ot].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function f5(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nq(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function cR(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=aq(i),r===null)return I0;if(t++,i=i[Yp],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return I0}function E5(n,e,t){Z0e(n,e,t)}function Q0e(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Qz(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function rq(n,e,t){if(t&8||n!==void 0)return n;Ox(e,"NodeInjector")}function iq(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Kp],o=No(void 0);try{return i?i.get(e,r,t&8):R3(e,r,t&8)}finally{No(o)}}return rq(r,e,t)}function oq(n,e,t,r=0,i){if(n!==null){if(e[wt]&2048&&!(r&2)){let s=nme(n,e,t,r,Dl);if(s!==Dl)return s}let o=sq(n,e,t,r,Dl);if(o!==Dl)return o}return iq(e,t,r,i)}function sq(n,e,t,r,i){let o=eme(t);if(typeof o=="function"){if(!a5(e,n,r))return r&1?rq(i,t,r):iq(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ox(t);else return s}finally{l5()}}else if(typeof o=="number"){let s=null,a=nq(n,e),l=I0,c=r&1?e[Fo][Lo]:null;for((a===-1||r&4)&&(l=a===-1?cR(n,e):e[a+8],l===I0||!gz(r,!1)?a=-1:(s=e[ot],a=aC(l),e=lC(l,e)));a!==-1;){let u=e[ot];if(fz(o,a,u.data)){let p=J0e(a,e,t,s,r,c);if(p!==Dl)return p}l=e[a+8],l!==I0&&gz(r,e[ot].data[a+8]===c)&&fz(o,a,e)?(s=u,a=aC(l),e=lC(l,e)):a=-1}}return i}function J0e(n,e,t,r,i,o){let s=e[ot],a=s.data[n+8],l=r==null?ed(a)&&C5:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=rC(a,s,t,l,c);return u!==null?Bv(e,s,u,a,i):Dl}function rC(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,p=r?a:a+u,g=i?a+u:c;for(let v=p;v<g;v++){let w=s[v];if(v<l&&t===w||v>=l&&w.type===t)return v}if(i){let v=s[l];if(v&&Ba(v)&&v.type===t)return l}return null}function Bv(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof of){let a=o;if(a.resolving){let v=Tx(s[t]);throw D3(v)}let l=cC(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,p=a.injectImpl?No(a.injectImpl):null,g=a5(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&U0e(t,s[t],e)}finally{p!==null&&No(p),cC(l),a.resolving=!1,l5()}}return o}function eme(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qp)?n[qp]:void 0;return typeof e=="number"?e>=0?e&eq:tme:e}function fz(n,e,t){let r=1<<n;return!!(t[e+(n>>tq)]&r)}function gz(n,e){return!(n&2)&&!(n&1&&e)}var rf=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oq(this._tNode,this._lView,e,Up(r),t)}};function tme(){return new rf(mi(),st())}function zn(n){return O0(()=>{let e=n.prototype.constructor,t=e[wv]||M5(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[wv]||M5(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function M5(n){return b3(n)?()=>{let e=M5(fi(n));return e&&e()}:ju(n)}function nme(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[wt]&2048&&!x0(s);){let a=sq(o,s,t,r|2,Dl);if(a!==Dl)return a;let l=o.parent;if(!l){let c=s[H3];if(c){let u=c.get(t,Dl,r);if(u!==Dl)return u}l=aq(s),s=s[Yp]}o=l}return i}function aq(n){let e=n[ot],t=e.type;return t===2?e.declTNode:t===1?n[Lo]:null}function dR(n){return Q0e(mi(),n)}function rme(){return N0(mi(),st())}function N0(n,e){return new ft(Js(n,e))}var ft=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=rme}return n})();function lq(n){return n instanceof ft?n.nativeElement:n}function ime(){return this._results[Symbol.iterator]()}var sf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Pe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=D$(e);(this._changesDetected=!A$(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ime};function cq(n){return(n.flags&128)===128}var uR=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(uR||{}),dq=new Map,ome=0;function sme(){return ome++}function ame(n){dq.set(n[Ev],n)}function S5(n){dq.delete(n[Ev])}var mz="__ngContext__";function A0(n,e){Il(e)?(n[mz]=e[Ev],ame(e)):n[mz]=e}function uq(n){return pq(n[k0])}function hq(n){return pq(n[Zs])}function pq(n){for(;n!==null&&!Fa(n);)n=n[Zs];return n}var I5;function hR(n){I5=n}function fq(){if(I5!==void 0)return I5;if(typeof document<"u")return document;throw new Se(210,!1)}var Ku=new ue("",{providedIn:"root",factory:()=>lme}),lme="ng",CC=new ue(""),hr=new ue("",{providedIn:"platform",factory:()=>"unknown"});var Wv=new ue(""),EC=new ue("",{providedIn:"root",factory:()=>fq().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cme="h",dme="b";var gq="r";var mq="di";var vq=!1,wq=new ue("",{providedIn:"root",factory:()=>vq});var ume=(n,e,t,r)=>{};function hme(n,e,t,r){ume(n,e,t,r)}function MC(n){return(n.flags&32)===32}var pme=()=>null;function _q(n,e,t=!1){return pme(n,e,t)}function yq(n,e){let t=n.contentQueries;if(t!==null){let r=vt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Av(o),a.contentQueries(2,e[s],s)}}}finally{vt(r)}}}function T5(n,e,t){Av(0);let r=vt(null);try{e(n,t)}finally{vt(r)}}function pR(n,e,t){if($3(e)){let r=vt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{vt(r)}}}var nd=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(nd||{}),Qx;function fme(){if(Qx===void 0&&(Qx=null,v0.trustedTypes))try{Qx=v0.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qx}function SC(n){return fme()?.createHTML(n)||n}var rd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dx})`}},A5=class extends rd{getTypeName(){return"HTML"}},D5=class extends rd{getTypeName(){return"Style"}},R5=class extends rd{getTypeName(){return"Script"}},P5=class extends rd{getTypeName(){return"URL"}},O5=class extends rd{getTypeName(){return"ResourceURL"}};function Ha(n){return n instanceof rd?n.changingThisBreaksApplicationSecurity:n}function Yu(n,e){let t=kq(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Dx})`)}return t===e}function kq(n){return n instanceof rd&&n.getTypeName()||null}function fR(n){return new A5(n)}function gR(n){return new D5(n)}function mR(n){return new R5(n)}function vR(n){return new P5(n)}function wR(n){return new O5(n)}function gme(n){let e=new L5(n);return mme()?new N5(e):e}var N5=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(SC(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},L5=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=SC(e),t}};function mme(){try{return!!new window.DOMParser().parseFromString(SC(""),"text/html")}catch{return!1}}var vme=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gv(n){return n=String(n),n.match(vme)?n:"unsafe:"+n}function id(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Kv(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var bq=id("area,br,col,hr,img,wbr"),xq=id("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cq=id("rp,rt"),wme=Kv(Cq,xq),_me=Kv(xq,id("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yme=Kv(Cq,id("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vz=Kv(bq,_me,yme,wme),Eq=id("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kme=id("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bme=id("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),xme=Kv(Eq,kme,bme),Cme=id("script,style,template"),F5=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=Sme(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Mme(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=wz(e).toLowerCase();if(!vz.hasOwnProperty(t))return this.sanitizedSomething=!0,!Cme.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!xme.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Eq[a]&&(l=Gv(l)),this.buf.push(" ",s,'="',_z(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=wz(e).toLowerCase();vz.hasOwnProperty(t)&&!bq.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_z(e))}};function Eme(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Mme(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw Mq(e);return e}function Sme(n){let e=n.firstChild;if(e&&Eme(n,e))throw Mq(e);return e}function wz(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function Mq(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Ime=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tme=/([^\#-~ |!])/g;function _z(n){return n.replace(/&/g,"&amp;").replace(Ime,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Tme,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jx;function _R(n,e){let t=null;try{Jx=Jx||gme(n);let r=e?String(e):"";t=Jx.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Jx.getInertBodyElement(r)}while(r!==o);let a=new F5().sanitizeChildren(yz(t)||t);return SC(a)}finally{if(t){let r=yz(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function yz(n){return"content"in n&&Ame(n)?n.content:null}function Ame(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Pl=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Pl||{});function _i(n){let e=Dme();return e?e.sanitize(Pl.URL,n)||"":Yu(n,"URL")?Ha(n):Gv(Wp(n))}function Dme(){let n=st();return n&&n[Ml].sanitizer}var Rme=/^>|^->|<!--|-->|--!>|<!-$/g,Pme=/(<|>)/g,Ome="\u200B$1\u200B";function Nme(n){return n.replace(Rme,e=>e.replace(Pme,Ome))}function yR(n){return n.ownerDocument.defaultView}function Sq(n){return n instanceof Function?n():n}function Lme(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Iq="ng-template";function Fme(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Lme(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(kR(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function kR(n){return n.type===4&&n.value!==Iq}function Bme(n,e,t){let r=n.type===4&&!t?Iq:n.value;return e===r}function Vme(n,e,t){let r=4,i=n.attrs,o=i!==null?Ume(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Va(r)&&!Va(l))return!1;if(s&&Va(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Bme(n,l,t)||l===""&&e.length===1){if(Va(r))return!1;s=!0}}else if(r&8){if(i===null||!Fme(n,i,l,t)){if(Va(r))return!1;s=!0}}else{let c=e[++a],u=jme(l,i,kR(n),t);if(u===-1){if(Va(r))return!1;s=!0;continue}if(c!==""){let p;if(u>o?p="":p=i[u+1].toLowerCase(),r&2&&c!==p){if(Va(r))return!1;s=!0}}}}return Va(r)||s}function Va(n){return(n&1)===0}function jme(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $me(e,n)}function Tq(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vme(n,e[r],t))return!0;return!1}function Hme(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Ume(n){for(let e=0;e<n.length;e++){let t=n[e];if(Qz(t))return e}return n.length}function $me(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zme(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function kz(n,e){return n?":not("+e.trim()+")":e}function qme(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Va(s)&&(e+=kz(o,i),i=""),r=s,o=o||!Va(r);t++}return i!==""&&(e+=kz(o,i)),e}function Wme(n){return n.map(qme).join(",")}function Gme(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Va(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vo={};function Kme(n,e){return n.createText(e)}function Yme(n,e,t){n.setValue(e,t)}function Xme(n,e){return n.createComment(Nme(e))}function Aq(n,e,t){return n.createElement(e,t)}function uC(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Dq(n,e,t){n.appendChild(e,t)}function bz(n,e,t,r,i){r!==null?uC(n,e,t,r,i):Dq(n,e,t)}function Rq(n,e,t){n.removeChild(null,e,t)}function Zme(n,e,t){n.setAttribute(e,"style",t)}function Qme(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Pq(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&W0e(n,e,r),i!==null&&Qme(n,e,i),o!==null&&Zme(n,e,o)}function bR(n,e,t,r,i,o,s,a,l,c,u){let p=or+r,g=p+i,v=Jme(p,g),w=typeof c=="function"?c():c;return v[ot]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function Jme(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vo);return t}function e1e(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=bR(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xR(n,e,t,r,i,o,s,a,l,c,u){let p=e.blueprint.slice();return p[La]=i,p[wt]=r|4|128|8|64|1024,(c!==null||n&&n[wt]&2048)&&(p[wt]|=2048),G3(p),p[gi]=p[Yp]=n,p[zr]=t,p[Ml]=s||n&&n[Ml],p[Xn]=a||n&&n[Xn],p[Kp]=l||n&&n[Kp]||null,p[Lo]=o,p[Ev]=sme(),p[Gp]=u,p[H3]=c,p[Fo]=e.type==2?n[Fo]:p,p}function t1e(n,e,t){let r=Js(e,n),i=e1e(t),o=n[Ml].rendererFactory,s=CR(n,xR(n,i,null,Oq(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Oq(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Nq(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function CR(n,e){return n[k0]?n[j3][Zs]=e:n[k0]=e,n[j3]=e,e}function N(n=1){Lq(ur(),st(),Tl()+n,!1)}function Lq(n,e,t,r){if(!r)if((e[wt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tC(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nC(e,o,0,t)}Wu(t)}var IC=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(IC||{});function B5(n,e,t,r){let i=vt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&IC.SignalBased)!==0&&(l=e[o][Pr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Wz(e,l,o,r)}finally{vt(i)}}var Rl=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Rl||{}),n1e;function ER(n,e){return n1e(n,e)}function S0(n,e,t,r,i){if(r!=null){let o,s=!1;Fa(r)?o=r:Il(r)&&(s=!0,r=r[La]);let a=Qs(r);n===0&&t!==null?i==null?Dq(e,t,a):uC(e,t,a,i||null,!0):n===1&&t!==null?uC(e,t,a,i||null,!0):n===2?Rq(e,a,s):n===3&&e.destroyNode(a),o!=null&&h1e(e,n,o,t,i)}}function r1e(n,e){Fq(n,e),e[La]=null,e[Lo]=null}function i1e(n,e,t,r,i,o){r[La]=i,r[Lo]=e,AC(n,r,t,1,i,o)}function Fq(n,e){e[Ml].changeDetectionScheduler?.notify(9),AC(n,e,e[Xn],2,null,null)}function o1e(n){let e=n[k0];if(!e)return g5(n[ot],n);for(;e;){let t=null;if(Il(e))t=e[k0];else{let r=e[Ri];r&&(t=r)}if(!t){for(;e&&!e[Zs]&&e!==n;)Il(e)&&g5(e[ot],e),e=e[gi];e===null&&(e=n),Il(e)&&g5(e[ot],e),t=e&&e[Zs]}e=t}}function MR(n,e){let t=n[Qp],r=t.indexOf(e);t.splice(r,1)}function TC(n,e){if(Jp(e))return;let t=e[Xn];t.destroyNode&&AC(n,e,t,3,null,null),o1e(e)}function g5(n,e){if(Jp(e))return;let t=vt(null);try{e[wt]&=-129,e[wt]|=256,e[Is]&&Ru(e[Is]),a1e(n,e),s1e(n,e),e[ot].type===1&&e[Xn].destroy();let r=e[Uu];if(r!==null&&Fa(e[gi])){r!==e[gi]&&MR(r,e);let i=e[Sl];i!==null&&i.detachView(n)}S5(e)}finally{vt(t)}}function s1e(n,e){let t=n.cleanup,r=e[y0];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[y0]=null);let i=e[Yc];if(i!==null){e[Yc]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Jc];if(o!==null){e[Jc]=null;for(let s of o)s.destroy()}}function a1e(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof of)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Bn(4,a,l);try{l.call(a)}finally{Bn(5,a,l)}}else{Bn(4,i,o);try{o.call(i)}finally{Bn(5,i,o)}}}}}function Bq(n,e,t){return l1e(n,e.parent,t)}function l1e(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[La];if(ed(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===nd.None||i===nd.Emulated)return null}return Js(r,t)}function Vq(n,e,t){return d1e(n,e,t)}function c1e(n,e,t){return n.type&40?Js(n,t):null}var d1e=c1e,xz;function SR(n,e,t,r){let i=Bq(n,r,e),o=e[Xn],s=r.parent||e[Lo],a=Vq(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)bz(o,i,t[l],a,!1);else bz(o,i,t,a,!1);xz!==void 0&&xz(o,r,e,t,i)}function Lv(n,e){if(e!==null){let t=e.type;if(t&3)return Js(e,n);if(t&4)return V5(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Lv(n,r);{let i=n[e.index];return Fa(i)?V5(-1,i):Qs(i)}}else{if(t&128)return Lv(n,e.next);if(t&32)return ER(e,n)()||Qs(n[e.index]);{let r=jq(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hu(n[Fo]);return Lv(i,r)}else return Lv(n,e.next)}}}return null}function jq(n,e){if(e!==null){let r=n[Fo][Lo],i=e.projection;return r.projection[i]}return null}function V5(n,e){let t=Ri+n+1;if(t<e.length){let r=e[t],i=r[ot].firstChild;if(i!==null)return Lv(r,i)}return e[$u]}function IR(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&A0(Qs(a),r),t.flags|=2),!MC(t))if(l&8)IR(n,e,t.child,r,i,o,!1),S0(e,n,i,a,o);else if(l&32){let c=ER(t,r),u;for(;u=c();)S0(e,n,i,u,o);S0(e,n,i,a,o)}else l&16?Hq(n,e,r,t,i,o):S0(e,n,i,a,o);t=s?t.projectionNext:t.next}}function AC(n,e,t,r,i,o){IR(t,r,n.firstChild,e,i,o,!1)}function u1e(n,e,t){let r=e[Xn],i=Bq(n,t,e),o=t.parent||e[Lo],s=Vq(o,t,e);Hq(r,0,e,t,i,s)}function Hq(n,e,t,r,i,o){let s=t[Fo],l=s[Lo].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];S0(e,n,i,u,o)}else{let c=l,u=s[gi];cq(r)&&(c.flags|=128),IR(n,e,c,u,i,o,!0)}}function h1e(n,e,t,r,i){let o=t[$u],s=Qs(t);o!==s&&S0(e,n,r,o,i);for(let a=Ri;a<t.length;a++){let l=t[a];AC(l[ot],l,n,e,r,o)}}function p1e(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Rl.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rl.Important),n.setStyle(t,r,i,o))}}function Uq(n,e,t,r,i){let o=Tl(),s=r&2;try{Wu(-1),s&&e.length>or&&Lq(n,e,or,!1),Bn(s?2:0,i,t),t(r,i)}finally{Wu(o),Bn(s?3:1,i,t)}}function DC(n,e,t){_1e(n,e,t),(t.flags&64)===64&&y1e(n,e,t)}function Yv(n,e,t=Js){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function f1e(n,e,t,r){let o=r.get(wq,vq)||t===nd.ShadowDom,s=n.selectRootElement(e,o);return g1e(s),s}function g1e(n){m1e(n)}var m1e=()=>null;function v1e(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function w1e(n,e,t,r,i,o){let s=e[ot];if(RC(n,s,e,t,r)){ed(n)&&zq(e,n.index);return}n.type&3&&(t=v1e(t)),$q(n,e,t,r,i,o)}function $q(n,e,t,r,i,o){if(n.type&3){let s=Js(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function zq(n,e){let t=ea(e,n);t[wt]&16||(t[wt]|=64)}function _1e(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ed(t)&&t1e(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dC(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Bv(e,n,s,t);if(A0(l,e),o!==null&&x1e(e,s-r,l,a,t,o),Ba(a)){let c=ea(t.index,e);c[zr]=Bv(e,n,s,t)}}}function y1e(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=nz();try{Wu(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];zx(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&k1e(l,c)}}finally{Wu(-1),zx(s)}}function k1e(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function TR(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Tq(e,o.selectors,!1)&&(r??=[],Ba(o)?r.unshift(o):r.push(o))}return r}function b1e(n,e,t,r,i,o){let s=Js(n,e);qq(e[Xn],s,o,n.value,t,r,i)}function qq(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Wp(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function x1e(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];B5(r,t,l,c)}}function AR(n,e,t,r,i){let o=or+t,s=e[ot],a=i(s,e,n,r,t);e[o]=a,C0(n,!0);let l=n.type===2;return l?(Pq(e[Xn],a,n),(K$()===0||b0(n))&&A0(a,e),Y$()):A0(a,e),Yx()&&(!l||!MC(n))&&SR(s,e,a,n),n}function DR(n){let e=n;return r5()?i5():(e=e.parent,C0(e,!1)),e}function C1e(n,e){let t=n[Kp];if(!t)return;let r;try{r=t.get(Bo,null)}catch{r=null}r?.(e)}function RC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],p=e.data[c];B5(p,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];B5(u,c,r,i),a=!0}return a}function E1e(n,e){let t=ea(e,n),r=t[ot];M1e(r,t);let i=t[La];i!==null&&t[Gp]===null&&(t[Gp]=_q(i,t[Kp])),Bn(18),RR(r,t,t[zr]),Bn(19,t[zr])}function M1e(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function RR(n,e,t){Wx(e);try{let r=n.viewQuery;r!==null&&T5(1,r,t);let i=n.template;i!==null&&Uq(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Sl]?.finishViewCreation(n),n.staticContentQueries&&yq(n,e),n.staticViewQueries&&T5(2,n.viewQuery,t);let o=n.components;o!==null&&S1e(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[wt]&=-5,Gx()}}function S1e(n,e){for(let t=0;t<e.length;t++)E1e(n,e[t])}function Xv(n,e,t,r){let i=vt(null);try{let o=e.tView,a=n[wt]&4096?4096:16,l=xR(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[Uu]=c;let u=n[Sl];return u!==null&&(l[Sl]=u.createEmbeddedView(o)),RR(o,l,t),l}finally{vt(i)}}function D0(n,e){return!e||e.firstChild===null||cq(n)}var Cz=!1,I1e=new ue("");function Vv(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Qs(o)),Fa(o)&&Wq(o,r);let s=t.type;if(s&8)Vv(n,e,t.child,r);else if(s&32){let a=ER(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=jq(e,t);if(Array.isArray(a))r.push(...a);else{let l=Hu(e[Fo]);Vv(l[ot],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Wq(n,e){for(let t=Ri;t<n.length;t++){let r=n[t],i=r[ot].firstChild;i!==null&&Vv(r[ot],r,i,e)}n[$u]!==n[La]&&e.push(n[$u])}function Gq(n){if(n[Zp]!==null){for(let e of n[Zp])e.impl.addSequence(e);n[Zp].length=0}}var Kq=[];function T1e(n){return n[Is]??A1e(n)}function A1e(n){let e=Kq.pop()??Object.create(R1e);return e.lView=n,e}function D1e(n){n.lView[Is]!==n&&(n.lView=null,Kq.push(n))}var R1e=ye(G({},Au),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{zu(n.lView)},consumerOnSignalRead(){this.lView[Is]=this}});function P1e(n){let e=n[Is]??Object.create(O1e);return e.lView=n,e}var O1e=ye(G({},Au),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Hu(n.lView);for(;e&&!Yq(e[ot]);)e=Hu(e);e&&K3(e)},consumerOnSignalRead(){this.lView[Is]=this}});function Yq(n){return n.type!==2}function Xq(n){if(n[Jc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Jc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[wt]&8192)}}var N1e=100;function PR(n,e=0){let r=n[Ml].rendererFactory,i=!1;i||r.begin?.();try{L1e(n,e)}finally{i||r.end?.()}}function L1e(n,e){let t=s5();try{E0(!0),j5(n,e);let r=0;for(;Iv(n);){if(r===N1e)throw new Se(103,!1);r++,j5(n,1)}}finally{E0(t)}}function Zq(n,e){o5(e?Tv.Exhaustive:Tv.OnlyDirtyViews);try{PR(n)}finally{o5(Tv.Off)}}function F1e(n,e,t,r){if(Jp(e))return;let i=e[wt],o=!1,s=!1;Wx(e);let a=!0,l=null,c=null;o||(Yq(n)?(c=T1e(e),l=qc(c)):Yb()===null?(a=!1,c=P1e(e),l=qc(c)):e[Is]&&(Ru(e[Is]),e[Is]=null));try{G3(e),J$(n.bindingStartIndex),t!==null&&Uq(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let v=n.preOrderCheckHooks;v!==null&&tC(e,v,null)}else{let v=n.preOrderHooks;v!==null&&nC(e,v,0,null),p5(e,0)}if(s||B1e(e),Xq(e),Qq(e,0),n.contentQueries!==null&&yq(n,e),!o)if(u){let v=n.contentCheckHooks;v!==null&&tC(e,v)}else{let v=n.contentHooks;v!==null&&nC(e,v,1),p5(e,1)}j1e(n,e);let p=n.components;p!==null&&eW(e,p,0);let g=n.viewQuery;if(g!==null&&T5(2,g,r),!o)if(u){let v=n.viewCheckHooks;v!==null&&tC(e,v)}else{let v=n.viewHooks;v!==null&&nC(e,v,2),p5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bx]){for(let v of e[Bx])v();e[Bx]=null}o||(Gq(e),e[wt]&=-73)}catch(u){throw o||zu(e),u}finally{c!==null&&(Du(c,l),a&&D1e(c)),Gx()}}function Qq(n,e){for(let t=uq(n);t!==null;t=hq(t))for(let r=Ri;r<t.length;r++){let i=t[r];Jq(i,e)}}function B1e(n){for(let e=uq(n);e!==null;e=hq(e)){if(!(e[wt]&2))continue;let t=e[Qp];for(let r=0;r<t.length;r++){let i=t[r];K3(i)}}}function V1e(n,e,t){Bn(18);let r=ea(e,n);Jq(r,t),Bn(19,r[zr])}function Jq(n,e){jx(n)&&j5(n,e)}function j5(n,e){let r=n[ot],i=n[wt],o=n[Is],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dp(o)),s||=!1,o&&(o.dirty=!1),n[wt]&=-9217,s)F1e(r,n,r.template,n[zr]);else if(i&8192){let a=vt(null);try{Xq(n),Qq(n,1);let l=r.components;l!==null&&eW(n,l,1),Gq(n)}finally{vt(a)}}}function eW(n,e,t){for(let r=0;r<e.length;r++)V1e(n,e[r],t)}function j1e(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wu(~i);else{let o=i,s=t[++r],a=t[++r];tz(s,o);let l=e[o];Bn(24,l),a(2,l),Bn(25,l)}}}finally{Wu(-1)}}function OR(n,e){let t=s5()?64:1088;for(n[Ml].changeDetectionScheduler?.notify(e);n;){n[wt]|=t;let r=Hu(n);if(x0(n)&&!r)return n;n=r}return null}function tW(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nW(n,e){let t=Ri+e;if(t<n.length)return n[t]}function Zv(n,e,t,r=!0){let i=e[ot];if(H1e(i,e,n,t),r){let s=V5(t,n),a=e[Xn],l=a.parentNode(n[$u]);l!==null&&i1e(i,n[Lo],a,e,l,s)}let o=e[Gp];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rW(n,e){let t=jv(n,e);return t!==void 0&&TC(t[ot],t),t}function jv(n,e){if(n.length<=Ri)return;let t=Ri+e,r=n[t];if(r){let i=r[Uu];i!==null&&i!==n&&MR(i,r),e>0&&(n[t-1][Zs]=r[Zs]);let o=bv(n,Ri+e);r1e(r[ot],r);let s=o[Sl];s!==null&&s.detachView(o[ot]),r[gi]=null,r[Zs]=null,r[wt]&=-129}return r}function H1e(n,e,t,r){let i=Ri+r,o=t.length;r>0&&(t[i-1][Zs]=e),r<o-Ri?(e[Zs]=t[i],P3(t,Ri+r,e)):(t.push(e),e[Zs]=null),e[gi]=t;let s=e[Uu];s!==null&&t!==s&&iW(s,e);let a=e[Sl];a!==null&&a.insertView(n),Hx(e),e[wt]|=128}function iW(n,e){let t=n[Qp],r=e[gi];if(Il(r))n[wt]|=2;else{let i=r[gi][Fo];e[Fo]!==i&&(n[wt]|=2)}t===null?n[Qp]=[e]:t.push(e)}var Gu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ot];return Vv(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[zr]}set context(e){this._lView[zr]=e}get destroyed(){return Jp(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gi];if(Fa(e)){let t=e[Mv],r=t?t.indexOf(this):-1;r>-1&&(jv(e,r),bv(t,r))}this._attachedToViewContainer=!1}TC(this._lView[ot],this._lView)}onDestroy(e){Y3(this._lView,e)}markForCheck(){OR(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[wt]&=-129}reattach(){Hx(this._lView),this._lView[wt]|=128}detectChanges(){this._lView[wt]|=1024,PR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=x0(this._lView),t=this._lView[Uu];t!==null&&!e&&MR(t,this._lView),Fq(this._lView[ot],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=e;let t=x0(this._lView),r=this._lView[Uu];r!==null&&!t&&iW(r,this._lView),Hx(this._lView)}};var zi=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=U1e;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Xv(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Gu(o)}}return n})();function U1e(){return PC(mi(),st())}function PC(n,e){return n.type&4?new zi(e,n,N0(n,e)):null}function L0(n,e,t,r,i){let o=n.data[e];if(o===null)o=$1e(n,e,t,r,i),ez()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=X$();o.injectorIndex=s===null?-1:s.injectorIndex}return C0(o,!0),o}function $1e(n,e,t,r,i){let o=n5(),s=r5(),a=s?o:o&&o.parent,l=n.data[e]=q1e(n,a,t,e,r,i);return z1e(n,l,o,s),l}function z1e(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function q1e(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return J3()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var LZe=new RegExp(`^(\\d+)*(${dme}|${cme})*(.*)`);function W1e(n){let e=n[U3]??[],r=n[gi][Xn],i=[];for(let o of e)o.data[mq]!==void 0?i.push(o):G1e(o,r);n[U3]=i}function G1e(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[gq];for(;t<i;){let o=r.nextSibling;Rq(e,r,!1),r=o,t++}}}var K1e=()=>null,Y1e=()=>null;function hC(n,e){return K1e(n,e)}function oW(n,e,t){return Y1e(n,e,t)}var sW=class{},OC=class{},H5=class{resolveComponentFactory(e){throw new Se(917,!1)}},Qv=class{static NULL=new H5},Pi=class{},Oi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>X1e()}return n})();function X1e(){let n=st(),e=mi(),t=ea(e.index,n);return(Il(t)?t:n)[Xn]}var aW=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();var iC={},U5=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,iC,r);return i!==iC||t===iC?i:this.parentInjector.get(e,t,r)}};function pC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Rx(i,a);else if(o==2){let l=a,c=e[++s];r=Rx(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function De(n,e=0){let t=st();if(t===null)return Ae(n,e);let r=mi();return oq(r,t,fi(n),e)}function lW(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}J1e(n,e,t,a,o,l,c)}o!==null&&r!==null&&Z1e(t,r,o)}function Z1e(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Se(-301,!1);r.push(e[i],o)}}function Q1e(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function J1e(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let g=0;g<a;g++){let v=r[g];!l&&Ba(v)&&(l=!0,Q1e(n,t,g)),E5(dC(t,e),n,v.type)}o2e(t,n.data.length,a);for(let g=0;g<a;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let c=!1,u=!1,p=Nq(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let v=r[g];if(t.mergedAttrs=T0(t.mergedAttrs,v.hostAttrs),t2e(n,t,e,p,v),i2e(p,v,i),s!==null&&s.has(v)){let[y,x]=s.get(v);t.directiveToIndex.set(v.type,[p,y+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let w=v.type.prototype;!c&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),p++}e2e(n,t,o)}function e2e(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Ez(0,e,i,r),Ez(1,e,i,r),Sz(e,r,!1);else{let o=t.get(i);Mz(0,e,o,r),Mz(1,e,o,r),Sz(e,r,!0)}}}function Ez(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),cW(e,o)}}function Mz(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),cW(e,s)}}function cW(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Sz(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||kR(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function t2e(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ju(i.type,!0)),s=new of(o,Ba(i),De,null);n.blueprint[r]=s,t[r]=s,n2e(n,e,r,Nq(n,t,i.hostVars,Vo),i)}function n2e(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;r2e(s)!=a&&s.push(a),s.push(t,r,o)}}function r2e(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function i2e(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ba(e)&&(t[""]=n)}}function o2e(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function NR(n,e,t,r,i,o,s,a){let l=e[ot],c=l.consts,u=ta(c,s),p=L0(l,n,t,r,u);return o&&lW(l,e,p,ta(c,a),i),p.mergedAttrs=T0(p.mergedAttrs,p.attrs),p.attrs!==null&&pC(p,p.attrs,!1),p.mergedAttrs!==null&&pC(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function LR(n,e){Xz(n,e),$3(e)&&n.queries.elementEnd(e)}function s2e(n,e,t,r,i,o){let s=e.consts,a=ta(s,i),l=L0(e,n,t,r,a);if(l.mergedAttrs=T0(l.mergedAttrs,l.attrs),o!=null){let c=ta(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&pC(l,l.attrs,!1),l.mergedAttrs!==null&&pC(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function NC(n,e,t){return n[e]=t}function a2e(n,e){return n[e]}function Ts(n,e,t){if(t===Vo)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function FR(n,e,t,r){let i=Ts(n,e,t);return Ts(n,e+1,r)||i}function l2e(n,e,t,r,i){let o=FR(n,e,t,r);return Ts(n,e+2,i)||o}function oC(n,e,t){return function r(i){let o=ed(n)?ea(n.index,e):e;OR(o,5);let s=e[zr],a=Iz(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=Iz(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Iz(n,e,t,r){let i=vt(null);try{return Bn(6,e,t),t(r)!==!1}catch(o){return C1e(n,o),!1}finally{Bn(7,e,t),vt(i)}}function dW(n,e,t,r,i,o,s,a){let l=b0(n),c=!1,u=null;if(!r&&l&&(u=c2e(e,t,o,n.index)),u!==null){let p=u.__ngLastListenerFn__||u;p.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let p=Js(n,t),g=r?r(p):p;hme(t,g,o,a);let v=i.listen(g,o,a),w=r?y=>r(Qs(y[n.index])):n.index;uW(w,e,t,o,a,v,!1)}return c}function c2e(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[y0],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function uW(n,e,t,r,i,o,s){let a=e.firstCreatePass?Z3(e):null,l=X3(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function Tz(n,e,t,r,i,o){let s=e[t],a=e[ot],c=a.data[t].outputs[r],p=s[c].subscribe(o);uW(n.index,a,e,i,o,p,!0)}var $5=Symbol("BINDING");var fC=class extends Qv{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qc(e);return new af(t,this.ngModule)}};function d2e(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&IC.SignalBased)!==0};return i&&(o.transform=i),o})}function u2e(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function h2e(n,e,t){let r=e instanceof Kn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new U5(t,r):t}function p2e(n){let e=n.get(Pi,null);if(e===null)throw new Se(407,!1);let t=n.get(aW,null),r=n.get(Xs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function f2e(n,e){let t=hW(n);return Aq(e,t,t==="svg"?z3:t==="math"?U$:null)}function hW(n){return(n.selectors[0][0]||"div").toLowerCase()}var af=class extends OC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=d2e(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=u2e(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Wme(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Bn(22);let a=vt(null);try{let l=this.componentDef,c=g2e(r,l,s,o),u=h2e(l,i||this.ngModule,e),p=p2e(u),g=p.rendererFactory.createRenderer(null,l),v=r?f1e(g,r,l.encapsulation,u):f2e(l,g),w=s?.some(Az)||o?.some(b=>typeof b!="function"&&b.bindings.some(Az)),y=xR(null,c,null,512|Oq(l),null,null,p,g,u,null,_q(v,u,!0));y[or]=v,Wx(y);let x=null;try{let b=NR(or,y,2,"#host",()=>c.directiveRegistry,!0,0);v&&(Pq(g,v,b),A0(v,y)),DC(c,y,b),pR(c,b,y),LR(c,b),t!==void 0&&v2e(b,this.ngContentSelectors,t),x=ea(b.index,y),y[zr]=x[zr],RR(c,y,null)}catch(b){throw x!==null&&S5(x),S5(y),b}finally{Bn(23),Gx()}return new gC(this.componentType,y,!!w)}finally{vt(a)}}};function g2e(n,e,t,r){let i=n?["ng-version","20.3.0"]:Gme(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[$5].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let p=r[u];if(typeof p!="function")for(let g of p.bindings){a+=g[$5].requiredVars;let v=u+1;g.create&&(g.targetIdx=v,(o??=[]).push(g)),g.update&&(g.targetIdx=v,(s??=[]).push(g))}}let l=[e];if(r)for(let u of r){let p=typeof u=="function"?u:u.type,g=Fx(p);l.push(g)}return bR(0,null,m2e(o,s),1,a,l,null,null,null,[i],null)}function m2e(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Az(n){let e=n[$5].kind;return e==="input"||e==="twoWay"}var gC=class extends sW{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Sv(t[ot],or),this.location=N0(this._tNode,t),this.instance=ea(this._tNode.index,t)[zr],this.hostView=this.changeDetectorRef=new Gu(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=RC(r,i[ot],i,e,t);this.previousInputValues.set(e,t);let s=ea(r.index,i);OR(s,1)}get injector(){return new rf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function v2e(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ni=(()=>{class n{static __NG_ELEMENT_ID__=w2e}return n})();function w2e(){let n=mi();return fW(n,st())}var _2e=Ni,pW=class extends _2e{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return N0(this._hostTNode,this._hostLView)}get injector(){return new rf(this._hostTNode,this._hostLView)}get parentInjector(){let e=cR(this._hostTNode,this._hostLView);if(Jz(e)){let t=lC(e,this._hostLView),r=aC(e),i=t[ot].data[r+8];return new rf(i,t)}else return new rf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Dz(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,D0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!B0e(e),c;if(l)c=t;else{let x=t||{};c=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let u=l?e:new af(Qc(e)),p=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(l?p:this.parentInjector).get(Kn,null);b&&(o=b)}let g=Qc(u.componentType??{}),v=hC(this._lContainer,g?.id??null),w=v?.firstChild??null,y=u.create(p,i,w,o,s,a);return this.insertImpl(y.hostView,c,D0(this._hostTNode,v)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(z$(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[gi],c=new pW(l,l[Lo],l[gi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Zv(s,i,o,r),e.attachToViewContainerRef(),P3(m5(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Dz(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=jv(this._lContainer,t);r&&(bv(m5(this._lContainer),t),TC(r[ot],r))}detach(e){let t=this._adjustIndex(e,-1),r=jv(this._lContainer,t);return r&&bv(m5(this._lContainer),t)!=null?new Gu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Dz(n){return n[Mv]}function m5(n){return n[Mv]||(n[Mv]=[])}function fW(n,e){let t,r=e[n.index];return Fa(r)?t=r:(t=tW(r,e,null,n),e[n.index]=t,CR(e,t)),k2e(t,e,n,r),new pW(t,n,e)}function y2e(n,e){let t=n[Xn],r=t.createComment(""),i=Js(e,n),o=t.parentNode(i);return uC(t,o,r,t.nextSibling(i),!1),r}var k2e=C2e,b2e=()=>!1;function x2e(n,e,t){return b2e(n,e,t)}function C2e(n,e,t,r){if(n[$u])return;let i;t.type&8?i=Qs(r):i=y2e(e,t),n[$u]=i}var z5=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},q5=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)VR(e,t).matches!==null&&this.queries[t].setDirty()}},mC=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=A2e(e):this.predicate=e}},W5=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},G5=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,E2e(t,o)),this.matchTNodeWithReadOption(e,t,rC(t,e,o,!1,!1))}else r===zi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,rC(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ft||i===Ni||i===zi&&t.type&4)this.addMatch(t.index,-2);else{let o=rC(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function E2e(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function M2e(n,e){return n.type&11?N0(n,e):n.type&4?PC(n,e):null}function S2e(n,e,t,r){return t===-1?M2e(e,n):t===-2?I2e(n,e,r):Bv(n,n[ot],t,e)}function I2e(n,e,t){if(t===ft)return N0(e,n);if(t===zi)return PC(e,n);if(t===Ni)return fW(e,n)}function gW(n,e,t,r){let i=e[Sl].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(S2e(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function K5(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=gW(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let p=Ri;p<u.length;p++){let g=u[p];g[Uu]===g[gi]&&K5(g[ot],g,c,r)}if(u[Qp]!==null){let p=u[Qp];for(let g=0;g<p.length;g++){let v=p[g];K5(v[ot],v,c,r)}}}}}return r}function BR(n,e){return n[Sl].queries[e].queryList}function mW(n,e,t){let r=new sf((t&4)===4);return G$(n,e,r,r.destroy),(e[Sl]??=new q5).queries.push(new z5(r))-1}function vW(n,e,t){let r=ur();return r.firstCreatePass&&(wW(r,new mC(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),mW(r,st(),e)}function T2e(n,e,t,r){let i=ur();if(i.firstCreatePass){let o=mi();wW(i,new mC(e,t,r),o.index),D2e(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return mW(i,st(),t)}function A2e(n){return n.split(",").map(e=>e.trim())}function wW(n,e,t){n.queries===null&&(n.queries=new W5),n.queries.track(new G5(e,t))}function D2e(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function VR(n,e){return n.queries.getByIndex(e)}function _W(n,e){let t=n[ot],r=VR(t,e);return r.crossesNgTemplate?K5(t,n,e,[]):gW(t,n,r,e)}function jR(n,e,t){let r,i=uv(()=>{r._dirtyCounter();let o=R2e(r,n);if(e&&o===void 0)throw new Se(-951,!1);return o});return r=i[Pr],r._dirtyCounter=Te(0),r._flatValue=void 0,i}function HR(n){return jR(!0,!1,n)}function UR(n){return jR(!0,!0,n)}function yW(n){return jR(!1,!1,n)}function kW(n,e){let t=n[Pr];t._lView=st(),t._queryIndex=e,t._queryList=BR(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function R2e(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[wt]&4)return e?void 0:ho;let i=BR(t,r),o=_W(t,r);return i.reset(o,lq),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var Rz=new Set;function od(n){Rz.has(n)||(Rz.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ja=class{},LC=class{};function $R(n,e){return new Hv(n,e??null,[])}var Hv=class extends ja{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fC(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=L3(e);this._bootstrapComponents=Sq(o.bootstrap),this._r3Injector=c5(e,t,[{provide:ja,useValue:this},{provide:Qv,useValue:this.componentFactoryResolver},...r],Xc(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vC=class extends LC{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Hv(this.moduleType,e,[])}};var Uv=class extends ja{injector;componentFactoryResolver=new fC(this);instance=null;constructor(e){super();let t=new zp([...e.providers,{provide:ja,useValue:this},{provide:Qv,useValue:this.componentFactoryResolver}],e.parent||_0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jv(n,e,t=null){return new Uv({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var P2e=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=F3(!1,t.type),i=r.length>0?Jv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(Ae(Kn))})}return n})();function de(n){return O0(()=>{let e=bW(n),t=ye(G({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===uR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(P2e).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nd.Emulated,styles:n.styles||ho,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&od("NgStandalone"),xW(t);let r=n.dependencies;return t.directiveDefs=Pz(r,O2e),t.pipeDefs=Pz(r,O$),t.id=F2e(t),t})}function O2e(n){return Qc(n)||Fx(n)}function Gt(n){return O0(()=>({type:n.type,bootstrap:n.bootstrap||ho,declarations:n.declarations||ho,imports:n.imports||ho,exports:n.exports||ho,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function N2e(n,e){if(n==null)return Na;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=IC.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function L2e(n){if(n==null)return Na;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ve(n){return O0(()=>{let e=bW(n);return xW(e),e})}function Xu(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function bW(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Na,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ho,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:N2e(n.inputs,e),outputs:L2e(n.outputs),debugInfo:null}}function xW(n){n.features?.forEach(e=>e(n))}function Pz(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function F2e(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function B2e(n){return Object.getPrototypeOf(n.prototype).constructor}function kt(n){let e=B2e(n.type),t=!0,r=[n];for(;e;){let i;if(Ba(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=v5(n.inputs),s.declaredInputs=v5(n.declaredInputs),s.outputs=v5(n.outputs);let a=i.hostBindings;a&&$2e(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&H2e(n,l),c&&U2e(n,c),V2e(n,i),C$(n.outputs,i.outputs),Ba(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===kt&&(t=!1)}}e=Object.getPrototypeOf(e)}j2e(r)}function V2e(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function j2e(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=T0(i.hostAttrs,t=T0(t,i.hostAttrs))}}function v5(n){return n===Na?{}:n===ho?[]:n}function H2e(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function U2e(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function $2e(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Zn(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=z2e,t.hostDirectives=r?n.map(Y5):[n]):r?t.hostDirectives.unshift(...n.map(Y5)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function z2e(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,CW(s,e,r),i.set(s,[a,e.length-1])}o===0&&Ba(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function CW(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)Oz(Y5(o),e,t)}else Oz(r,e,t)}function Oz(n,e,t){let r=Fx(n.directive);q2e(r.declaredInputs,n.inputs),CW(r,e,t),t.set(r,n),e.push(r)}function Y5(n){return typeof n=="function"?{directive:fi(n),inputs:Na,outputs:Na}:{directive:fi(n.directive),inputs:Nz(n.inputs),outputs:Nz(n.outputs)}}function Nz(n){if(n===void 0||n.length===0)return Na;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function q2e(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function EW(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=T0(n.mergedAttrs,n.attrs);let u=n.tView=bR(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),C0(n,!1);let l=G2e(t,e,n,r);Yx()&&SR(t,e,l,n),A0(l,e);let c=tW(l,e,l,n);e[r+or]=c,CR(e,c),x2e(c,n,e)}function W2e(n,e,t,r,i,o,s,a,l,c,u){let p=t+or,g;return e.firstCreatePass?(g=L0(e,p,4,s||null,a||null),Ux()&&lW(e,n,g,ta(e.consts,c),TR),Xz(e,g)):g=e.data[p],EW(g,n,e,t,r,i,o,l),b0(g)&&DC(e,n,g),c!=null&&Yv(n,g,u),g}function $v(n,e,t,r,i,o,s,a,l,c,u){let p=t+or,g;if(e.firstCreatePass){if(g=L0(e,p,4,s||null,a||null),c!=null){let v=ta(e.consts,c);g.localNames=[];for(let w=0;w<v.length;w+=2)g.localNames.push(v[w],-1)}}else g=e.data[p];return EW(g,n,e,t,r,i,o,l),c!=null&&Yv(n,g,u),g}function ss(n,e,t,r,i,o,s,a){let l=st(),c=ur(),u=ta(c.consts,o);return W2e(l,c,n,e,t,r,i,u,void 0,s,a),ss}var G2e=K2e;function K2e(n,e,t,r){return Rv(!0),e[Xn].createComment("")}var FC=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(FC||{}),Zu=new ue(""),MW=!1,X5=class extends Pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,j$()&&(this.destroyRef=M(sr,{optional:!0})??void 0,this.pendingTasks=M(Al,{optional:!0})??void 0)}emit(e){let t=vt(null);try{super.next(e)}finally{vt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof xn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},dt=X5;function SW(n){let e,t;function r(){n=nf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Lz(n){return queueMicrotask(()=>n()),()=>{n=nf}}var zR="isAngularZone",wC=zR+"_ID",Y2e=0,Be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new dt(!1);onMicrotaskEmpty=new dt(!1);onStable=new dt(!1);onError=new dt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=MW}=e;if(typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Q2e(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zR)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Se(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,X2e,nf,nf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},X2e={};function qR(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Z2e(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){SW(()=>{n.callbackScheduled=!1,Z5(n),n.isCheckStableRunning=!0,qR(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Z5(n)}function Q2e(n){let e=()=>{Z2e(n)},t=Y2e++;n._inner=n._inner.fork({name:"angular",properties:{[zR]:!0,[wC]:t,[wC+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(J2e(l))return r.invokeTask(o,s,a,l);try{return Fz(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Bz(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Fz(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eve(l)&&e(),Bz(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Z5(n),qR(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Z5(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Fz(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bz(n){n._nesting--,qR(n)}var _C=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new dt;onMicrotaskEmpty=new dt;onStable=new dt;onError=new dt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function J2e(n){return IW(n,"__ignore_ng_zone__")}function eve(n){return IW(n,"__scheduler_tick__")}function IW(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var BC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),WR=[0,1,2,3],GR=(()=>{class n{ngZone=M(Be);scheduler=M(Xs);errorHandler=M(Ss,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Zu,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Bn(16),this.executing=!0;for(let r of WR)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Bn(17)}register(t){let{view:r}=t;r!==void 0?((r[Zp]??=[]).push(t),zu(r),r[wt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(FC.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),zv=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Zp];e&&(this.view[Zp]=e.filter(t=>t!==this))}};function qi(n,e){let t=e?.injector??M(Fe);return od("NgAfterNextRender"),nve(n,t,e,!0)}function tve(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function nve(n,e,t,r){let i=e.get(BC);i.impl??=e.get(GR);let o=e.get(Zu,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(sr):null,a=e.get(tf,null,{optional:!0}),l=new zv(i.impl,tve(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var VC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var KR=new ue("");function sd(n){return!!n&&typeof n.then=="function"}function jC(n){return!!n&&typeof n.subscribe=="function"}var TW=new ue("");var YR=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(TW,{optional:!0})??[];injector=M(Fe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$n(this.injector,i);if(sd(o))t.push(o);else if(jC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HC=new ue("");function AW(){$D(()=>{let n="";throw new Se(600,n)})}function DW(n){return n.isBoundToModule}var rve=10;var as=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Bo);afterRenderManager=M(BC);zonelessEnabled=M(M0);rootEffectScheduler=M(Nv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Pe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Al);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(nt(t=>!t))}constructor(){M(Zu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Kn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Fe.NULL){return this._injector.get(Be).run(()=>{Bn(10);let s=t instanceof OC;if(!this._injector.get(YR).done){let w="";throw new Se(405,w)}let l;s?l=t:l=this._injector.get(Qv).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=DW(l)?void 0:this._injector.get(ja),u=r||l.selector,p=l.create(i,[],u,c),g=p.location.nativeElement,v=p.injector.get(KR,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Fv(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),Bn(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Bn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(FC.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Se(101,!1);let t=vt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,vt(t),this.afterTick.next(),Bn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Pi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<rve;)Bn(14),this.synchronizeOnce(),Bn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Iv(i))continue;let o=r&&!this.zonelessEnabled?0:1;PR(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Iv(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(HC,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Se(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fv(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var w5="aria";function UC(n,e){let t=st(),r=qu();if(Ts(t,r,e)){let i=ur(),o=Dv();if(RC(o,i,t,n,e))ed(o)&&zq(t,o.index);else{let a=Js(o,t),l=ive(n);qq(t[Xn],a,null,o.value,l,e,null)}}return UC}function ive(n){return n.charAt(w5.length)!=="-"?w5+"-"+n.slice(w5.length).toLowerCase():n}function Pt(n,e,t,r){let i=st(),o=qu();if(Ts(i,o,e)){let s=ur(),a=Dv();b1e(a,i,n,e,t,r)}return Pt}var XR=new ue("",{providedIn:"root",factory:()=>!1}),ZR=new ue("",{providedIn:"root",factory:()=>ove}),ove=4e3;var $Ze=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Q5=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function _5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function sve(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),u=e[o],p=_5(o,c,o,u,t);if(p!==0){p<0&&n.updateValue(o,u),o++;continue}let g=n.at(s),v=e[l],w=_5(s,g,l,v,t);if(w!==0){w<0&&n.updateValue(s,v),s--,l--;continue}let y=t(o,c),x=t(s,g),b=t(o,u);if(Object.is(b,x)){let R=t(l,v);Object.is(R,y)?(n.swap(o,s),n.updateValue(s,v),l--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(r??=new yC,i??=jz(n,o,s,t),J5(n,r,o,b))n.updateValue(o,u),o++,s++;else if(i.has(b))r.set(y,n.detach(o)),s--;else{let R=n.create(o,e[o]);n.attach(o,R),o++,s++}}for(;o<=l;)Vz(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=n.at(o),p=c.value,g=_5(o,u,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,c=l.next();else{r??=new yC,i??=jz(n,o,s,t);let v=t(o,p);if(J5(n,r,o,v))n.updateValue(o,p),o++,s++,c=l.next();else if(!i.has(v))n.attach(o,n.create(o,p)),o++,s++,c=l.next();else{let w=t(o,u);r.set(w,n.detach(o)),s--}}}for(;!c.done;)Vz(n,r,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function J5(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Vz(n,e,t,r,i){if(J5(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function jz(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var yC=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function te(n,e,t,r,i,o,s,a){od("NgControlFlow");let l=st(),c=ur(),u=ta(c.consts,o);return $v(l,c,n,e,t,r,i,u,256,s,a),F0}function F0(n,e,t,r,i,o,s,a){od("NgControlFlow");let l=st(),c=ur(),u=ta(c.consts,o);return $v(l,c,n,e,t,r,i,u,512,s,a),F0}function ne(n,e){od("NgControlFlow");let t=st(),r=qu(),i=t[r]!==Vo?t[r]:-1,o=i!==-1?kC(t,or+i):void 0,s=0;if(Ts(t,r,n)){let a=vt(null);try{if(o!==void 0&&rW(o,s),n!==-1){let l=or+n,c=kC(t,l),u=rR(t[ot],l),p=oW(c,u,t),g=Xv(t,u,e,{dehydratedView:p});Zv(c,g,s,D0(u,p))}}finally{vt(a)}}else if(o!==void 0){let a=nW(o,s);a!==void 0&&(a[zr]=e)}}var eR=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ri}};function yi(n){return n}function ew(n,e){return e}var tR=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Rn(n,e,t,r,i,o,s,a,l,c,u,p,g){od("NgControlFlow");let v=st(),w=ur(),y=l!==void 0,x=st(),b=a?s.bind(x[Fo][zr]):s,R=new tR(y,b);x[or+n]=R,$v(v,w,n+1,e,t,r,i,ta(w.consts,o),256),y&&$v(v,w,n+2,l,c,u,p,ta(w.consts,g),512)}var nR=class extends Q5{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ri}at(e){return this.getLView(e)[zr].$implicit}attach(e,t){let r=t[Gp];this.needsIndexUpdate||=e!==this.length,Zv(this.lContainer,t,e,D0(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ave(this.lContainer,e)}create(e,t){let r=hC(this.lContainer,this.templateTNode.tView.ssrId),i=Xv(this.hostLView,this.templateTNode,new eR(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){TC(e[ot],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[zr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[zr].$index=e}getLView(e){return lve(this.lContainer,e)}};function Pn(n){let e=vt(null),t=Tl();try{let r=st(),i=r[ot],o=r[t],s=t+1,a=kC(r,s);if(o.liveCollection===void 0){let c=rR(i,s);o.liveCollection=new nR(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(sve(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=qu(),u=l.length===0;if(Ts(r,c,u)){let p=t+2,g=kC(r,p);if(u){let v=rR(i,p),w=oW(g,v,r),y=Xv(r,v,void 0,{dehydratedView:w});Zv(g,y,0,D0(v,w))}else i.firstUpdatePass&&W1e(g),rW(g,0)}}}finally{vt(e)}}function kC(n,e){return n[e]}function ave(n,e){return jv(n,e)}function lve(n,e){return nW(n,e)}function rR(n,e){return Sv(n,e)}function fe(n,e,t){let r=st(),i=qu();if(Ts(r,i,e)){let o=ur(),s=Dv();w1e(s,r,n,e,r[Xn],t)}return fe}function iR(n,e,t,r,i){RC(e,n,t,i?"class":"style",r)}function D(n,e,t,r){let i=st(),o=i[ot],s=n+or,a=o.firstCreatePass?NR(s,i,2,e,TR,Ux(),t,r):o.data[s];if(AR(a,i,n,e,RW),b0(a)){let l=i[ot];DC(l,i,a),pR(l,a,i)}return r!=null&&Yv(i,a),D}function A(){let n=ur(),e=mi(),t=DR(e);return n.firstCreatePass&&LR(n,t),e5(t)&&t5(),Q3(),t.classesWithoutHost!=null&&z0e(t)&&iR(n,t,st(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&q0e(t)&&iR(n,t,st(),t.stylesWithoutHost,!1),A}function oe(n,e,t,r){return D(n,e,t,r),A(),oe}function pr(n,e,t,r){let i=st(),o=i[ot],s=n+or,a=o.firstCreatePass?s2e(s,o,2,e,t,r):o.data[s];return AR(a,i,n,e,RW),r!=null&&Yv(i,a),pr}function kr(){let n=mi(),e=DR(n);return e5(e)&&t5(),Q3(),kr}function jo(n,e,t,r){return pr(n,e,t,r),kr(),jo}var RW=(n,e,t,r,i)=>(Rv(!0),Aq(e[Xn],r,lz()));function tw(n,e,t){let r=st(),i=r[ot],o=n+or,s=i.firstCreatePass?NR(o,r,8,"ng-container",TR,Ux(),e,t):i.data[o];if(AR(s,r,n,"ng-container",cve),b0(s)){let a=r[ot];DC(a,r,s),pR(a,s,r)}return t!=null&&Yv(r,s),tw}function nw(){let n=ur(),e=mi(),t=DR(e);return n.firstCreatePass&&LR(n,t),nw}function po(n,e,t){return tw(n,e,t),nw(),po}var cve=(n,e,t,r,i)=>(Rv(!0),Xme(e[Xn],""));function dn(){return st()}function ki(n,e,t){let r=st(),i=qu();if(Ts(r,i,e)){let o=ur(),s=Dv();$q(s,r,n,e,r[Xn],t)}return ki}var rw="en-US";var dve=rw;function PW(n){typeof n=="string"&&(dve=n.toLowerCase().replace(/_/g,"-"))}function we(n,e,t){let r=st(),i=ur(),o=mi();return uve(i,r,r[Xn],o,n,e,t),we}function $C(n,e,t){let r=st(),i=ur(),o=mi();return(o.type&3||t)&&dW(o,i,r,t,r[Xn],n,e,oC(o,r,e)),$C}function uve(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=oC(r,e,o),dW(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let p=0;p<u.length;p+=2){let g=u[p],v=u[p+1];l??=oC(r,e,o),Tz(r,e,g,v,i,l)}if(c&&c.length)for(let p of c)l??=oC(r,e,o),Tz(r,e,p,i,i,l)}}function ae(n=1){return az(n)}function hve(n,e){let t=null,r=Hme(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Tq(n,o,!0):zme(r,o))return i}return t}function tn(n){let e=st()[Fo][Lo];if(!e.projection){let t=n?n.length:1,r=e.projection=R$(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?hve(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function rt(n,e=0,t,r,i,o){let s=st(),a=ur(),l=r?n+1:null;l!==null&&$v(s,a,l,r,i,o,null,t);let c=L0(a,or+n,16,null,t||null);c.projection===null&&(c.projection=e),i5();let p=!s[Gp]||J3();s[Fo][Lo].projection[c.projection]===null&&l!==null?pve(s,a,l):p&&!MC(c)&&u1e(a,s,c)}function pve(n,e,t){let r=or+t,i=e.data[r],o=n[r],s=hC(o,i.tView.ssrId),a=Xv(n,i,void 0,{dehydratedView:s});Zv(o,a,0,D0(i,s))}function Ol(n,e,t){vW(n,e,t)}function Ua(n){let e=st(),t=ur(),r=qx();Av(r+1);let i=VR(t,r);if(n.dirty&&$$(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=_W(e,r);n.reset(o,lq),n.notifyOnChanges()}return!0}return!1}function $a(){return BR(st(),qx())}function bi(n,e,t,r,i){kW(e,T2e(n,t,r,i))}function Wi(n,e,t,r){kW(n,vW(e,t,r))}function br(n=1){Av(qx()+n)}function ad(n){let e=Z$();return Vx(e,or+n)}function eC(n,e){return n<<17|e<<2}function lf(n){return n>>17&32767}function fve(n){return(n&2)==2}function gve(n,e){return n&131071|e<<17}function oR(n){return n|2}function R0(n){return(n&131068)>>2}function y5(n,e){return n&-131069|e<<2}function mve(n){return(n&1)===1}function sR(n){return n|1}function vve(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=lf(s),l=R0(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||w0(p,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let g=lf(n[a+1]);n[r+1]=eC(g,a),g!==0&&(n[g+1]=y5(n[g+1],r)),n[a+1]=gve(n[a+1],r)}else n[r+1]=eC(a,0),a!==0&&(n[a+1]=y5(n[a+1],r)),a=r;else n[r+1]=eC(l,0),a===0?a=r:n[l+1]=y5(n[l+1],r),l=r;c&&(n[r+1]=oR(n[r+1])),Hz(n,u,r,!0),Hz(n,u,r,!1),wve(e,u,n,r,o),s=eC(a,l),o?e.classBindings=s:e.styleBindings=s}function wve(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&w0(o,e)>=0&&(t[r+1]=sR(t[r+1]))}function Hz(n,e,t,r){let i=n[t+1],o=e===null,s=r?lf(i):R0(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];_ve(l,e)&&(a=!0,n[s+1]=r?sR(c):oR(c)),s=r?lf(c):R0(c)}a&&(n[t+1]=r?oR(i):sR(i))}function _ve(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?w0(n,e)>=0:!1}var vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OW(n){return n.substring(vi.key,vi.keyEnd)}function yve(n){return n.substring(vi.value,vi.valueEnd)}function kve(n){return FW(n),NW(n,P0(n,0,vi.textEnd))}function NW(n,e){let t=vi.textEnd;return t===e?-1:(e=vi.keyEnd=xve(n,vi.key=e,t),P0(n,e,t))}function bve(n){return FW(n),LW(n,P0(n,0,vi.textEnd))}function LW(n,e){let t=vi.textEnd,r=vi.key=P0(n,e,t);return t===r?-1:(r=vi.keyEnd=Cve(n,r,t),r=Uz(n,r,t,58),r=vi.value=P0(n,r,t),r=vi.valueEnd=Eve(n,r,t),Uz(n,r,t,59))}function FW(n){vi.key=0,vi.keyEnd=0,vi.value=0,vi.valueEnd=0,vi.textEnd=n.length}function P0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function xve(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Cve(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Uz(n,e,t,r){return e=P0(n,e,t),e<t&&e++,e}function Eve(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=$z(n,l,s,t):e===s-4&&o===85&&i===82&&r===76&&l===40?a=s=$z(n,41,s,t):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function $z(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function ra(n,e,t){return BW(n,e,t,!1),ra}function xr(n,e){return BW(n,e,null,!0),xr}function ls(n){VW(UW,Mve,n,!1)}function Mve(n,e){for(let t=bve(e);t>=0;t=LW(e,t))UW(n,OW(e),yve(e))}function se(n){VW(Pve,Sve,n,!0)}function Sve(n,e){for(let t=kve(e);t>=0;t=NW(e,t))xv(n,OW(e),!0)}function BW(n,e,t,r){let i=st(),o=ur(),s=$x(2);if(o.firstUpdatePass&&HW(o,n,s,r),e!==Vo&&Ts(i,s,e)){let a=o.data[Tl()];$W(o,a,i,i[Xn],n,i[s+1]=Nve(e,t),r,s)}}function VW(n,e,t,r){let i=ur(),o=$x(2);i.firstUpdatePass&&HW(i,null,o,r);let s=st();if(t!==Vo&&Ts(s,o,t)){let a=i.data[Tl()];if(zW(a,r)&&!jW(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Rx(l,t||"")),iR(i,a,s,t,r)}else Ove(i,a,s,s[Xn],s[o+1],s[o+1]=Rve(n,e,t),r,o)}}function jW(n,e){return e>=n.expandoStartIndex}function HW(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Tl()],s=jW(n,t);zW(o,r)&&e===null&&!s&&(e=!1),e=Ive(i,o,e,r),vve(i,o,e,t,s,r)}}function Ive(n,e,t,r){let i=rz(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=k5(null,n,e,t,r),t=qv(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=k5(i,n,e,t,r),o===null){let l=Tve(n,e,r);l!==void 0&&Array.isArray(l)&&(l=k5(null,n,e,l[1],r),l=qv(l,e.attrs,r),Ave(n,e,r,l))}else o=Dve(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Tve(n,e,t){let r=t?e.classBindings:e.styleBindings;if(R0(r)!==0)return n[lf(r)]}function Ave(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[lf(i)]=r}function Dve(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=qv(r,s,t)}return qv(r,e.attrs,t)}function k5(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=qv(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function qv(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xv(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Rve(n,e,t){if(t==null||t==="")return ho;let r=[],i=Ha(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function UW(n,e,t){xv(n,e,Ha(t))}function Pve(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&xv(n,r,t)}function Ove(n,e,t,r,i,o,s,a){i===Vo&&(i=ho);let l=0,c=0,u=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;u!==null||p!==null;){let g=l<i.length?i[l+1]:void 0,v=c<o.length?o[c+1]:void 0,w=null,y;u===p?(l+=2,c+=2,g!==v&&(w=p,y=v)):p===null||u!==null&&u<p?(l+=2,w=u):(c+=2,w=p,y=v),w!==null&&$W(n,e,t,r,w,y,s,a),u=l<i.length?i[l]:null,p=c<o.length?o[c]:null}}function $W(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=mve(c)?zz(l,e,t,i,R0(c),s):void 0;if(!bC(u)){bC(o)||fve(c)&&(o=zz(l,null,t,i,a,s));let p=q3(Tl(),t);p1e(r,s,p,i,o)}}function zz(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,p=u===null,g=t[i+1];g===Vo&&(g=p?ho:void 0);let v=p?Lx(g,r):u===r?g:void 0;if(c&&!bC(v)&&(v=Lx(l,r)),bC(v)&&(a=v,s))return a;let w=n[i+1];i=s?lf(w):R0(w)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Lx(l,r))}return a}function bC(n){return n!==void 0}function Nve(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Xc(Ha(n)))),n}function zW(n,e){return(n.flags&(e?8:16))!==0}function H(n,e=""){let t=st(),r=ur(),i=n+or,o=r.firstCreatePass?L0(r,i,1,e,null):r.data[i],s=Lve(r,t,o,e,n);t[i]=s,Yx()&&SR(r,t,s,o),C0(o,!1)}var Lve=(n,e,t,r,i)=>(Rv(!0),Kme(e[Xn],r));function qW(n,e,t,r=""){return Ts(n,qu(),t)?e+Wp(t)+r:Vo}function Fve(n,e,t,r,i,o=""){let s=Q$(),a=FR(n,s,t,i);return $x(2),a?e+Wp(t)+r+Wp(i)+o:Vo}function Ke(n){return xt("",n),Ke}function xt(n,e,t){let r=st(),i=qW(r,n,e,t);return i!==Vo&&WW(r,Tl(),i),xt}function B0(n,e,t,r,i){let o=st(),s=Fve(o,n,e,t,r,i);return s!==Vo&&WW(o,Tl(),s),B0}function WW(n,e,t){let r=q3(e,n);Yme(n[Xn],r,t)}function Dt(n,e,t=""){return qW(st(),n,e,t)}function Bve(n,e,t){let r=ur();if(r.firstCreatePass){let i=Ba(n);aR(t,r.data,r.blueprint,i,!0),aR(e,r.data,r.blueprint,i,!1)}}function aR(n,e,t,r,i){if(n=fi(n),Array.isArray(n))for(let o=0;o<n.length;o++)aR(n[o],e,t,r,i);else{let o=ur(),s=st(),a=mi(),l=$p(n)?n:fi(n.provide),c=V3(n),u=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if($p(n)||!n.multi){let v=new of(c,i,De,null),w=x5(l,e,i?u:u+g,p);w===-1?(E5(dC(a,s),o,l),b5(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[w]=v,s[w]=v)}else{let v=x5(l,e,u+g,p),w=x5(l,e,u,u+g),y=v>=0&&t[v],x=w>=0&&t[w];if(i&&!x||!i&&!y){E5(dC(a,s),o,l);let b=Hve(i?jve:Vve,t.length,i,r,c,n);!i&&x&&(t[w].providerFactory=b),b5(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),s.push(b)}else{let b=GW(t[i?w:v],c,!i&&r);b5(o,n,v>-1?v:w,b)}!i&&r&&x&&t[w].componentProviders++}}}function b5(n,e,t,r){let i=$p(e),o=V$(e);if(i||o){let l=(o?fi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function GW(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function x5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Vve(n,e,t,r,i){return lR(this.multi,[])}function jve(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Bv(r,r[ot],this.providerFactory.index,i);s=l.slice(0,a),lR(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],lR(o,s);return s}function lR(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Hve(n,e,t,r,i,o){let s=new of(n,t,De,null);return s.multi=[],s.index=e,s.componentProviders=0,GW(s,i,r&&!t),s}function Le(n,e=[]){return t=>{t.providersResolver=(r,i)=>Bve(r,i?i(n):n,e)}}function cf(n,e,t){let r=ef()+n,i=st();return i[r]===Vo?NC(i,r,t?e.call(t):e()):a2e(i,r)}function ld(n,e,t,r){return KW(st(),ef(),n,e,t,r)}function QR(n,e,t,r,i){return Uve(st(),ef(),n,e,t,r,i)}function JR(n,e,t,r,i,o){return YW(st(),ef(),n,e,t,r,i,o)}function eP(n,e){let t=n[e];return t===Vo?void 0:t}function KW(n,e,t,r,i,o){let s=e+t;return Ts(n,s,i)?NC(n,s+1,o?r.call(o,i):r(i)):eP(n,s+1)}function Uve(n,e,t,r,i,o,s){let a=e+t;return FR(n,a,i,o)?NC(n,a+2,s?r.call(s,i,o):r(i,o)):eP(n,a+2)}function YW(n,e,t,r,i,o,s,a){let l=e+t;return l2e(n,l,i,o,s)?NC(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):eP(n,l+3)}function As(n,e){let t=ur(),r,i=n+or;t.firstCreatePass?(r=$ve(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ju(r.type,!0)),s,a=No(De);try{let l=cC(!1),c=o();return cC(l),W3(t,st(),i,c),c}finally{No(a)}}function $ve(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ia(n,e,t){let r=n+or,i=st(),o=Vx(i,r);return XW(i,r)?KW(i,ef(),e,o.transform,t,o):o.transform(t)}function tP(n,e,t,r,i){let o=n+or,s=st(),a=Vx(s,o);return XW(s,o)?YW(s,ef(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function XW(n,e){return n[ot].data[e].pure}function V0(n,e){return PC(n,e)}var xC=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},nP=(()=>{class n{compileModuleSync(t){return new vC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=L3(t),o=Sq(i.declarations).reduce((s,a)=>{let l=Qc(a);return l&&s.push(new af(l)),s},[]);return new xC(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zve=(()=>{class n{zone=M(Be);changeDetectionScheduler=M(Xs);applicationRef=M(as);applicationErrorHandler=M(Bo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZW=new ue("",{factory:()=>!1});function rP({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Be(ye(G({},oP()),{scheduleInRootZone:t})),[{provide:Be,useFactory:n},{provide:El,multi:!0,useFactory:()=>{let r=M(zve,{optional:!0});return()=>r.initialize()}},{provide:El,multi:!0,useFactory:()=>{let r=M(qve);return()=>{r.initialize()}}},e===!0?{provide:u5,useValue:!0}:[],{provide:h5,useValue:t??MW},{provide:Bo,useFactory:()=>{let r=M(Be),i=M(Kn),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Ss),o.handleError(s))})}}}]}function iP(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=rP({ngZoneFactory:()=>{let i=oP(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&od("NgZone_CoalesceEvent"),new Be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Di([{provide:ZW,useValue:!0},{provide:M0,useValue:!1},r])}function oP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var qve=(()=>{class n{subscription=new xn;initialized=!1;zone=M(Be);pendingTasks=M(Al);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QW=(()=>{class n{applicationErrorHandler=M(Bo);appRef=M(as);taskService=M(Al);ngZone=M(Be);zonelessEnabled=M(M0);tracing=M(Zu,{optional:!0});disableScheduling=M(u5,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wC):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(h5,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _C||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Lz:SW;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wC+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lz(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wve(){return typeof $localize<"u"&&$localize.locale||rw}var zC=new ue("",{providedIn:"root",factory:()=>M(zC,{optional:!0,skipSelf:!0})||Wve()});var iw=class{destroyed=!1;listeners=null;errorHandler=M(Ss,{optional:!0});destroyRef=M(sr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Se(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Zc(953,!1));return}if(this.listeners===null)return;let t=vt(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{vt(t)}}};function zt(n){return _$(n)}function ee(n,e){return uv(n,e?.equal)}var sP=class{[Pr];constructor(e){this[Pr]=e}destroy(){this[Pr].destroy()}};function Ot(n,e){let t=e?.injector??M(Fe),r=e?.manualCleanup!==!0?t.get(sr):null,i,o=t.get(tf,null,{optional:!0}),s=t.get(Xs);return o!==null?(i=Yve(o.view,s,n),r instanceof yv&&r._lView===o.view&&(r=null)):i=Xve(n,t.get(Nv),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new sP(i)}var eG=ye(G({},y$),{cleanupFns:void 0,zone:null,onDestroyFn:nf,run(){let n=E0(!1);try{k$(this)}finally{E0(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=vt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],vt(n)}}}),Gve=ye(G({},eG),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ru(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Kve=ye(G({},eG),{consumerMarkedDirty(){this.view[wt]|=8192,zu(this.view),this.notifier.notify(13)},destroy(){Ru(this),this.onDestroyFn(),this.cleanup(),this.view[Jc]?.delete(this)}});function Yve(n,e,t){let r=Object.create(Kve);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=tG(r,t),n[Jc]??=new Set,n[Jc].add(r),r.consumerMarkedDirty(r),r}function Xve(n,e,t){let r=Object.create(Gve);return r.fn=tG(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function tG(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var Zve=n=>n;function Li(n,e){if(typeof n=="function"){let t=d3(n,Zve,e?.equal);return JW(t)}else{let t=d3(n.source,n.computation,n.equal);return JW(t)}}function JW(n){let e=n[Pr],t=n;return t.set=r=>v$(e,r),t.update=r=>w$(e,r),t.asReadonly=Ov.bind(n),t}var WC=Symbol("InputSignalNode#UNSET"),lG=ye(G({},hv),{transformFn:void 0,applyValueToInputSignal(n,e){Pu(n,e)}});function cG(n,e){let t=Object.create(lG);t.value=n,t.transformFn=e?.transform;function r(){if(zc(t),t.value===WC){let i=null;throw new Se(-950,i)}return t.value}return r[Pr]=t,r}var sw=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>dR(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},gwe=new ue("");gwe.__NG_ELEMENT_ID__=n=>{let e=mi();if(e===null)throw new Se(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Se(204,!1)};function oa(n){return new iw}function nG(n,e){return cG(n,e)}function mwe(n){return cG(WC,n)}var W=(nG.required=mwe,nG);function rG(n,e){return HR(e)}function vwe(n,e){return UR(e)}var fo=(rG.required=vwe,rG);function iG(n,e){return HR(e)}function wwe(n,e){return UR(e)}var za=(iG.required=wwe,iG);function cd(n,e){return yW(e)}function dG(n,e){let t=Object.create(lG),r=new iw;t.value=n;function i(){return zc(t),oG(t.value),t.value}return i[Pr]=t,i.asReadonly=Ov.bind(i),i.set=o=>{t.equal(t.value,o)||(Pu(t,o),r.emit(o))},i.update=o=>{oG(t.value),i.set(o(t.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function oG(n){if(n===WC)throw new Se(952,!1)}function sG(n,e){return dG(n,e)}function _we(n){return dG(WC,n)}var dd=(sG.required=_we,sG);var df=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},uG=new df("20.3.0");var lP=new ue(""),ywe=new ue("");function ow(n){return!n.moduleRef}function kwe(n){let e=ow(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Be);return t.run(()=>{ow(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Bo),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ow(n)){let o=()=>e.destroy(),s=n.platformInjector.get(lP);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(lP);s.add(o),n.moduleRef.onDestroy(()=>{Fv(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return xwe(r,t,()=>{let o=e.get(Al),s=o.add(),a=e.get(YR);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(zC,rw);if(PW(l||rw),!e.get(ywe,!0))return ow(n)?e.get(as):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ow(n)){let u=e.get(as);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return bwe?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var bwe;function xwe(n,e,t){try{let r=t();return sd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var qC=null;function Cwe(n=[],e){return Fe.create({name:e,providers:[{provide:Cv,useValue:"platform"},{provide:lP,useValue:new Set([()=>qC=null])},...n]})}function Ewe(n=[]){if(qC)return qC;let e=Cwe(n);return qC=e,AW(),Mwe(e),e}function Mwe(n){let e=n.get(CC,null);$n(n,()=>{e?.forEach(t=>t())})}function Qu(){return!1}var go=(()=>{class n{static __NG_ELEMENT_ID__=Swe}return n})();function Swe(n){return Iwe(mi(),st(),(n&16)===16)}function Iwe(n,e,t){if(ed(n)&&!t){let r=ea(n.index,e);return new Gu(r,r)}else if(n.type&175){let r=e[Fo];return new Gu(r,e)}return null}function hG(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Bn(8);try{let o=i?.injector??Ewe(r),s=[rP({}),{provide:Xs,useExisting:QW},dz,...t||[]],a=new Uv({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return kwe({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Bn(9)}}function Je(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ho(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var aP=Symbol("NOT_SET"),pG=new Set,Twe=ye(G({},hv),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:aP,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==aP&&!Dp(this))return this.signal;try{for(let i of this.cleanup??pG)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=qc(this),r;try{r=this.userFn.apply(null,e)}finally{Du(this,t)}return(this.value===aP||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),cP=class extends zv{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(sr),s),this.scheduler=i;for(let a of WR){let l=t[a];if(l===void 0)continue;let c=Object.create(Twe);c.sequence=this,c.phase=a,c.userFn=l,c.dirty=!0,c.signal=()=>(zc(c),c.value),c.signal[Pr]=c,c.registerCleanupFn=u=>(c.cleanup??=new Set).add(u),this.nodes[a]=c,this.hooks[a]=u=>c.phaseFn(u)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??pG)t()}finally{Ru(e)}}};function fG(n,e){let t=e?.injector??M(Fe),r=t.get(Xs),i=t.get(BC),o=t.get(Zu,null,{optional:!0});i.impl??=t.get(GR);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(tf,null,{optional:!0}),l=new cP(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t,o?.snapshot(null));return i.impl.register(l),l}function GC(n,e){let t=Qc(n),r=e.elementInjector||_0();return new af(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var vG=null;function sa(){return vG}function dP(n){vG??=n}var aw=class{},uP=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(wG),providedIn:"platform"})}return n})();var wG=(()=>{class n extends uP{_location;_history;_doc=M(_t);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sa().getBaseHref(this._doc)}onPopState(t){let r=sa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=sa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function _G(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gG(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ju(n){return n&&n[0]!=="?"?`?${n}`:n}var KC=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(kG),providedIn:"root"})}return n})(),yG=new ue(""),kG=(()=>{class n extends KC{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _G(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ju(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ju(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ju(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ae(uP),Ae(yG,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cs=(()=>{class n{_subject=new Pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Rwe(gG(mG(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ju(r))}normalize(t){return n.stripTrailingSlash(Dwe(this._basePath,mG(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ju(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ju(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ju;static joinWithSlash=_G;static stripTrailingSlash=gG;static \u0275fac=function(r){return new(r||n)(Ae(KC))};static \u0275prov=ce({token:n,factory:()=>Awe(),providedIn:"root"})}return n})();function Awe(){return new cs(Ae(KC))}function Dwe(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mG(n){return n.replace(/\/index.html$/,"")}function Rwe(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var lw=(()=>{class n{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(t){this._viewContainerRef=t}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||t.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=$R(this.ngComponentOutletNgModule,bG(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(bG(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[r,i]of this._inputsUsed)i?(t.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(t.setInput(r,void 0),this._inputsUsed.delete(r))}static \u0275fac=function(r){return new(r||n)(De(Ni))};static \u0275dir=ve({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[wi]})}return n})();function bG(n){return n.get(ja).injector}var j0=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(De(Ni))};static \u0275dir=ve({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[wi]})}return n})();function xG(n,e){return new Se(2100,!1)}var hP=class{createSubscription(e,t,r){return zt(()=>e.subscribe({next:t,error:r}))}dispose(e){zt(()=>e.unsubscribe())}},pP=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},Owe=new pP,Nwe=new hP,fP=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(Bo);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(sd(t))return Owe;if(jC(t))return Nwe;throw xG(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(De(go,16))};static \u0275pipe=Xu({name:"async",type:n,pure:!1})}return n})();var Lwe=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,gP=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw xG(n,t);return t.replace(Lwe,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Xu({name:"titlecase",type:n,pure:!0})}return n})();var ds=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})();function cw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var uf=class{};var mP="browser",Bwe="server";function mo(n){return n===mP}function CG(n){return n===Bwe}var XC=new ue(""),kP=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Se(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ae(XC),Ae(Be))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),dw=class{_doc;constructor(e){this._doc=e}manager},vP="ng-app-id";function MG(n){for(let e of n)e.remove()}function SG(n,e){let t=e.createElement("style");return t.textContent=n,t}function Vwe(n,e,t,r){let i=n.head?.querySelectorAll(`style[${vP}="${e}"],link[${vP}="${e}"]`);if(i)for(let o of i)o.removeAttribute(vP),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function _P(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var bP=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Vwe(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,SG);r?.forEach(i=>this.addUsage(i,this.external,_P))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(MG(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])MG(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,SG(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,_P(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ae(_t),Ae(Ku),Ae(EC,8),Ae(hr))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),wP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xP=/%COMP%/g;var TG="%COMP%",jwe=`_nghost-${TG}`,Hwe=`_ngcontent-${TG}`,Uwe=!0,$we=new ue("",{providedIn:"root",factory:()=>Uwe});function zwe(n){return Hwe.replace(xP,n)}function qwe(n){return jwe.replace(xP,n)}function AG(n,e){return e.map(t=>t.replace(xP,n))}var CP=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,l,c=null,u,p,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=u,this.maxAnimationTimeout=p,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new uw(t,s,l,this.platformIsServer,this.tracingService,this.registry=Xx(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof YC?i.applyToHost(t):i instanceof hw&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case nd.Emulated:o=new YC(l,c,r,this.appId,u,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case nd.ShadowDom:return new yP(l,c,t,r,s,a,this.nonce,p,g,this.registry,this.maxAnimationTimeout);default:o=new hw(l,c,r,u,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ae(kP),Ae(bP),Ae(Ku),Ae($we),Ae(_t),Ae(hr),Ae(Be),Ae(EC),Ae(XR),Ae(ZR),Ae(Zu,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),uw=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(wP[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(IG(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(IG(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Se(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=wP[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=wP[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Rl.DashCase|Rl.Important)?e.style.setProperty(t,r,i&Rl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=sa().getGlobalEventTarget(this.doc,e),!e))throw new Se(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function IG(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var yP=class extends uw{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c,u,p){super(e,o,s,l,c,u,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=AG(i.id,g);for(let w of g){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=w,this.shadowRoot.appendChild(y)}let v=i.getExternalStyles?.();if(v)for(let w of v){let y=_P(w,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hw=class extends uw{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,l,c,u,p,g){super(e,o,s,a,l,c,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=u;let v=r.styles;this.styles=g?AG(g,v):v,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},YC=class extends hw{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c,u,p,g){let v=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u,p,g,v),this.contentAttr=zwe(v),this.hostAttr=qwe(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ZC=class n extends aw{supportsDOMEvents=!0;static makeCurrent(){dP(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Wwe();return t==null?null:Gwe(t)}resetBaseElement(){pw=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cw(document.cookie,e)}},pw=null;function Wwe(){return pw=pw||document.head.querySelector("base"),pw?pw.getAttribute("href"):null}function Gwe(n){return new URL(n,document.baseURI).pathname}var Kwe=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),RG=(()=>{class n extends dw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Ae(_t))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),DG=["alt","control","meta","shift"],Ywe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xwe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},PG=(()=>{class n extends dw{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sa().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DG.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Ywe[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DG.forEach(s=>{if(s!==i){let a=Xwe[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ae(_t))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function EP(n,e,t){let r=G({rootComponent:n,platformRef:t?.platformRef},Zwe(e));return hG(r)}function Zwe(n){return{appProviders:[...n_e,...n?.providers??[]],platformProviders:t_e}}function Qwe(){ZC.makeCurrent()}function Jwe(){return new Ss}function e_e(){return hR(document),document}var t_e=[{provide:hr,useValue:mP},{provide:CC,useValue:Qwe,multi:!0},{provide:_t,useFactory:e_e}];var n_e=[{provide:Cv,useValue:"root"},{provide:Ss,useFactory:Jwe},{provide:XC,useClass:RG,multi:!0,deps:[_t]},{provide:XC,useClass:PG,multi:!0,deps:[_t]},CP,bP,kP,{provide:Pi,useExisting:CP},{provide:uf,useClass:Kwe},[]];var $0=class{},fw=class{},eh=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var JC=class{encodeKey(e){return OG(e)}encodeValue(e){return OG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function r_e(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var i_e=/%(\d[a-f0-9])/gi,o_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OG(n){return encodeURIComponent(n).replace(i_e,(e,t)=>o_e[t]??e)}function QC(n){return`${n}`}var ud=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new JC,e.fromString){if(e.fromObject)throw new Se(2805,!1);this.map=r_e(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(QC):[QC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(QC(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(QC(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var eE=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function s_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LG(n){return typeof Blob<"u"&&n instanceof Blob}function FG(n){return typeof FormData<"u"&&n instanceof FormData}function a_e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var BG="Content-Type",VG="Accept",jG="X-Request-URL",HG="text/plain",UG="application/json",l_e=`${UG}, ${HG}, */*`,H0=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(s_e(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Se(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new eh,this.context??=new eE,!this.params)this.params=new ud,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NG(this.body)||LG(this.body)||FG(this.body)||a_e(this.body)?this.body:this.body instanceof ud?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FG(this.body)?null:LG(this.body)?this.body.type||null:NG(this.body)?null:typeof this.body=="string"?HG:this.body instanceof ud?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?UG:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,u=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,v=e.transferCache??this.transferCache,w=e.timeout??this.timeout,y=e.body!==void 0?e.body:this.body,x=e.withCredentials??this.withCredentials,b=e.reportProgress??this.reportProgress,R=e.headers||this.headers,V=e.params||this.params,j=e.context??this.context;return e.setHeaders!==void 0&&(R=Object.keys(e.setHeaders).reduce(($,Y)=>$.set(Y,e.setHeaders[Y]),R)),e.setParams&&(V=Object.keys(e.setParams).reduce(($,Y)=>$.set(Y,e.setParams[Y]),V)),new n(t,r,y,{params:V,headers:R,context:j,reportProgress:b,responseType:i,withCredentials:x,transferCache:v,keepalive:o,cache:a,priority:s,timeout:w,mode:l,redirect:c,credentials:u,referrer:p,integrity:g})}},hf=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(hf||{}),z0=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new eh,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},tE=class n extends z0{constructor(e={}){super(e)}type=hf.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gw=class n extends z0{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=hf.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},U0=class extends z0{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},c_e=200,d_e=204;function MP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var rE=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof H0)o=t;else{let l;i.headers instanceof eh?l=i.headers:l=new eh(i.headers);let c;i.params&&(i.params instanceof ud?c=i.params:c=new ud({fromObject:i.params})),o=new H0(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Xe(o).pipe(Fu(l=>this.handler.handle(l)));if(t instanceof H0||i.observe==="events")return s;let a=s.pipe(an(l=>l instanceof gw));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(nt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Se(2806,!1);return l.body}));case"blob":return a.pipe(nt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Se(2807,!1);return l.body}));case"text":return a.pipe(nt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Se(2808,!1);return l.body}));case"json":default:return a.pipe(nt(l=>l.body))}case"response":return a;default:throw new Se(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ud().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,MP(i,r))}post(t,r,i={}){return this.request("POST",t,MP(i,r))}put(t,r,i={}){return this.request("PUT",t,MP(i,r))}static \u0275fac=function(r){return new(r||n)(Ae($0))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var u_e=new ue("");function h_e(n,e){return e(n)}function p_e(n,e,t){return(r,i)=>$n(t,()=>e(r,o=>n(o,i)))}var $G=new ue(""),zG=new ue(""),qG=new ue("",{providedIn:"root",factory:()=>!0});var nE=(()=>{class n extends $0{backend;injector;chain=null;pendingTasks=M(td);contributeToStability=M(qG);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get($G),...this.injector.get(zG,[])]));this.chain=r.reduceRight((i,o)=>p_e(i,o,this.injector),h_e)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(jp(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Ae(fw),Ae(Kn))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var f_e=/^\)\]\}',?\n/,g_e=RegExp(`^${jG}:`,"m");function m_e(n){return"responseURL"in n&&n.responseURL?n.responseURL:g_e.test(n.getAllResponseHeaders())?n.getResponseHeader(jG):null}var SP=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Se(-2800,!1);let r=this.xhrFactory;return Xe(null).pipe($r(()=>new Qe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,b)=>s.setRequestHeader(x,b.join(","))),t.headers.has(VG)||s.setRequestHeader(VG,l_e),!t.headers.has(BG)){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader(BG,x)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",b=new eh(s.getAllResponseHeaders()),R=m_e(s)||t.url;return l=new tE({headers:b,status:s.status,statusText:x,url:R}),l},u=()=>{let{headers:x,status:b,statusText:R,url:V}=c(),j=null;b!==d_e&&(j=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=j?c_e:0);let $=b>=200&&b<300;if(t.responseType==="json"&&typeof j=="string"){let Y=j;j=j.replace(f_e,"");try{j=j!==""?JSON.parse(j):null}catch(L){j=Y,$&&($=!1,j={error:L,text:j})}}$?(o.next(new gw({body:j,headers:x,status:b,statusText:R,url:V||void 0})),o.complete()):o.error(new U0({error:j,headers:x,status:b,statusText:R,url:V||void 0}))},p=x=>{let{url:b}=c(),R=new U0({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(R)},g=p;t.timeout&&(g=x=>{let{url:b}=c(),R=new U0({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:b||void 0});o.error(R)});let v=!1,w=x=>{v||(o.next(c()),v=!0);let b={type:hf.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(b.total=x.total),t.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},y=x=>{let b={type:hf.UploadProgress,loaded:x.loaded};x.lengthComputable&&(b.total=x.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:hf.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Ae(uf))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),WG=new ue(""),v_e="XSRF-TOKEN",w_e=new ue("",{providedIn:"root",factory:()=>v_e}),__e="X-XSRF-TOKEN",y_e=new ue("",{providedIn:"root",factory:()=>__e}),mw=class{},k_e=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cw(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Ae(_t),Ae(w_e))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function b_e(n,e){let t=n.url.toLowerCase();if(!M(WG)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(mw).getToken(),i=M(y_e);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function IP(...n){let e=[rE,SP,nE,{provide:$0,useExisting:nE},{provide:fw,useFactory:()=>M(u_e,{optional:!0})??M(SP)},{provide:$G,useValue:b_e,multi:!0},{provide:WG,useValue:!0},{provide:mw,useClass:k_e}];for(let t of n)e.push(...t.\u0275providers);return Di(e)}var GG=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ae(_t))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Ae(C_e),i},providedIn:"root"})}return n})(),C_e=(()=>{class n extends TP{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Pl.NONE:return r;case Pl.HTML:return Yu(r,"HTML")?Ha(r):_R(this._doc,String(r)).toString();case Pl.STYLE:return Yu(r,"Style")?Ha(r):r;case Pl.SCRIPT:if(Yu(r,"Script"))return Ha(r);throw new Se(5200,!1);case Pl.URL:return Yu(r,"URL")?Ha(r):Gv(String(r));case Pl.RESOURCE_URL:if(Yu(r,"ResourceURL"))return Ha(r);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(t){return fR(t)}bypassSecurityTrustStyle(t){return gR(t)}bypassSecurityTrustScript(t){return mR(t)}bypassSecurityTrustUrl(t){return vR(t)}bypassSecurityTrustResourceUrl(t){return wR(t)}static \u0275fac=function(r){return new(r||n)(Ae(_t))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lt="primary",Dw=Symbol("RouteTitle"),OP=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function gf(n){return new OP(n)}function nK(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function E_e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nl(n[t],e[t]))return!1;return!0}function Nl(n,e){let t=n?NP(n):void 0,r=e?NP(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rK(n[i],e[i]))return!1;return!0}function NP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rK(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function iK(n){return n.length>0?n[n.length-1]:null}function pd(n){return p0(n)?n:sd(n)?Un(Promise.resolve(n)):Xe(n)}var M_e={exact:sK,subset:aK},oK={exact:S_e,subset:I_e,ignored:()=>!0};function YG(n,e,t){return M_e[t.paths](n.root,e.root,t.matrixParams)&&oK[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function S_e(n,e){return Nl(n,e)}function sK(n,e,t){if(!pf(n.segments,e.segments)||!sE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sK(n.children[r],e.children[r],t))return!1;return!0}function I_e(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rK(n[t],e[t]))}function aK(n,e,t){return lK(n,e,e.segments,t)}function lK(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!pf(i,t)||e.hasChildren()||!sE(i,t,r))}else if(n.segments.length===t.length){if(!pf(n.segments,t)||!sE(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!aK(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!pf(n.segments,i)||!sE(n.segments,i,r)||!n.children[Lt]?!1:lK(n.children[Lt],e,o,r)}}function sE(n,e,t){return e.every((r,i)=>oK[t](n[i].parameters,r.parameters))}var Fl=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gf(this.queryParams),this._queryParamMap}toString(){return D_e.serialize(this)}},Tn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return aE(this)}},th=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=gf(this.parameters),this._parameterMap}toString(){return dK(this)}};function T_e(n,e){return pf(n,e)&&n.every((t,r)=>Nl(t.parameters,e[r].parameters))}function pf(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function A_e(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Lt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Lt&&(t=t.concat(e(i,r)))}),t}var Rw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>new mf,providedIn:"root"})}return n})(),mf=class{parse(e){let t=new FP(e);return new Fl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vw(e.root,!0)}`,r=O_e(e.queryParams),i=typeof e.fragment=="string"?`#${R_e(e.fragment)}`:"";return`${t}${r}${i}`}},D_e=new mf;function aE(n){return n.segments.map(e=>dK(e)).join("/")}function vw(n,e){if(!n.hasChildren())return aE(n);if(e){let t=n.children[Lt]?vw(n.children[Lt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Lt&&r.push(`${i}:${vw(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=A_e(n,(r,i)=>i===Lt?[vw(n.children[Lt],!1)]:[`${i}:${vw(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Lt]!=null?`${aE(n)}/${t[0]}`:`${aE(n)}/(${t.join("//")})`}}function cK(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iE(n){return cK(n).replace(/%3B/gi,";")}function R_e(n){return encodeURI(n)}function LP(n){return cK(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lE(n){return decodeURIComponent(n)}function XG(n){return lE(n.replace(/\+/g,"%20"))}function dK(n){return`${LP(n.path)}${P_e(n.parameters)}`}function P_e(n){return Object.entries(n).map(([e,t])=>`;${LP(e)}=${LP(t)}`).join("")}function O_e(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${iE(t)}=${iE(i)}`).join("&"):`${iE(t)}=${iE(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var N_e=/^[^\/()?;#]+/;function AP(n){let e=n.match(N_e);return e?e[0]:""}var L_e=/^[^\/()?;=#]+/;function F_e(n){let e=n.match(L_e);return e?e[0]:""}var B_e=/^[^=?&#]+/;function V_e(n){let e=n.match(B_e);return e?e[0]:""}var j_e=/^[^&#]+/;function H_e(n){let e=n.match(j_e);return e?e[0]:""}var FP=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Tn(e,t)),r}parseSegment(){let e=AP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Se(4009,!1);return this.capture(e),new th(lE(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=F_e(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=AP(this.remaining);i&&(r=i,this.capture(r))}e[lE(t)]=lE(r)}parseQueryParam(e){let t=V_e(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=H_e(this.remaining);s&&(r=s,this.capture(r))}let i=XG(t),o=XG(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=AP(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Se(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Lt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Lt]:new Tn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Se(4011,!1)}};function uK(n){return n.segments.length>0?new Tn([],{[Lt]:n}):n}function hK(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hK(i);if(r===Lt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Tn(n.segments,e);return U_e(t)}function U_e(n){if(n.numberOfChildren===1&&n.children[Lt]){let e=n.children[Lt];return new Tn(n.segments.concat(e.segments),e.children)}return n}function Y0(n){return n instanceof Fl}function pK(n,e,t=null,r=null){let i=fK(n);return gK(i,e,t,r)}function fK(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Tn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=uK(r);return e??i}function gK(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return DP(i,i,i,t,r);let o=$_e(e);if(o.toRoot())return DP(i,i,new Tn([],{}),t,r);let s=z_e(o,i,n),a=s.processChildren?_w(s.segmentGroup,s.index,o.commands):vK(s.segmentGroup,s.index,o.commands);return DP(i,s.segmentGroup,a,t,r)}function cE(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function bw(n){return typeof n=="object"&&n!=null&&n.outlets}function DP(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=mK(n,e,t);let a=uK(hK(s));return new Fl(a,o,i)}function mK(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=mK(o,e,t)}),new Tn(n.segments,r)}var dE=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cE(r[0]))throw new Se(4003,!1);let i=r.find(bw);if(i&&i!==iK(r))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $_e(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dE(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dE(t,e,r)}var G0=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function z_e(n,e,t){if(n.isAbsolute)return new G0(e,!0,0);if(!t)return new G0(e,!1,NaN);if(t.parent===null)return new G0(t,!0,0);let r=cE(n.commands[0])?0:1,i=t.segments.length-1+r;return q_e(t,i,n.numberOfDoubleDots)}function q_e(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Se(4005,!1);i=r.segments.length}return new G0(r,!1,i-o)}function W_e(n){return bw(n[0])?n[0].outlets:{[Lt]:n}}function vK(n,e,t){if(n??=new Tn([],{}),n.segments.length===0&&n.hasChildren())return _w(n,e,t);let r=G_e(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Tn(n.segments.slice(0,r.pathIndex),{});return o.children[Lt]=new Tn(n.segments.slice(r.pathIndex),n.children),_w(o,0,i)}else return r.match&&i.length===0?new Tn(n.segments,{}):r.match&&!n.hasChildren()?BP(n,e,t):r.match?_w(n,0,i):BP(n,e,t)}function _w(n,e,t){if(t.length===0)return new Tn(n.segments,{});{let r=W_e(t),i={};if(Object.keys(r).some(o=>o!==Lt)&&n.children[Lt]&&n.numberOfChildren===1&&n.children[Lt].segments.length===0){let o=_w(n.children[Lt],e,t);return new Tn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vK(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Tn(n.segments,i)}}function G_e(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(bw(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!QG(l,c,s))return o;r+=2}else{if(!QG(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function BP(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(bw(o)){let l=K_e(o.outlets);return new Tn(r,l)}if(i===0&&cE(t[0])){let l=n.segments[e];r.push(new th(l.path,ZG(t[0]))),i++;continue}let s=bw(o)?o.outlets[Lt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cE(a)?(r.push(new th(s,ZG(a))),i+=2):(r.push(new th(s,{})),i++)}return new Tn(r,{})}function K_e(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=BP(new Tn([],{}),0,r))}),e}function ZG(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function QG(n,e,t){return n==t.path&&Nl(e,t.parameters)}var yw="imperative",Fi=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Fi||{}),Rs=class{id;url;constructor(e,t){this.id=e,this.url=t}},vf=class extends Rs{type=Fi.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wa=class extends Rs{urlAfterRedirects;type=Fi.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Uo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Uo||{}),xw=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(xw||{}),Ll=class extends Rs{reason;code;type=Fi.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hd=class extends Rs{reason;code;type=Fi.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},X0=class extends Rs{error;target;type=Fi.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cw=class extends Rs{urlAfterRedirects;state;type=Fi.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uE=class extends Rs{urlAfterRedirects;state;type=Fi.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hE=class extends Rs{urlAfterRedirects;state;shouldActivate;type=Fi.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pE=class extends Rs{urlAfterRedirects;state;type=Fi.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fE=class extends Rs{urlAfterRedirects;state;type=Fi.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gE=class{route;type=Fi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mE=class{route;type=Fi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vE=class{snapshot;type=Fi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wE=class{snapshot;type=Fi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_E=class{snapshot;type=Fi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yE=class{snapshot;type=Fi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ew=class{},Z0=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Y_e(n){return!(n instanceof Ew)&&!(n instanceof Z0)}function X_e(n,e){return n.providers&&!n._injector&&(n._injector=Jv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qa(n){return n.outlet||Lt}function Z_e(n,e){let t=n.filter(r=>qa(r)===e);return t.push(...n.filter(r=>qa(r)!==e)),t}function em(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var kE=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return em(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new tm(this.rootInjector)}},tm=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kE(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ae(Kn))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bE=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=VP(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=VP(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=jP(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jP(e,this._root).map(t=>t.value)}};function VP(n,e){if(n===e.value)return e;for(let t of e.children){let r=VP(n,t);if(r)return r}return null}function jP(n,e){if(n===e.value)return[e];for(let t of e.children){let r=jP(n,t);if(r.length)return r.unshift(e),r}return[]}var Ds=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function W0(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mw=class extends bE{snapshot;constructor(e,t){super(e),this.snapshot=t,KP(this,e)}toString(){return this.snapshot.toString()}};function wK(n){let e=Q_e(n),t=new Hr([new th("",{})]),r=new Hr({}),i=new Hr({}),o=new Hr({}),s=new Hr(""),a=new us(t,r,o,s,i,Lt,n,e.root);return a.snapshot=e.root,new Mw(new Ds(a,[]),e)}function Q_e(n){let e={},t={},r={},o=new ff([],e,r,"",t,Lt,n,null,{});return new Sw("",new Ds(o,[]))}var us=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nt(c=>c[Dw]))??Xe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nt(e=>gf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nt(e=>gf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xE(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&yK(i)&&(r.resolve[Dw]=i.title),r}var ff=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dw]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Sw=class extends bE{url;constructor(e,t){super(t),this.url=e,KP(this,t)}toString(){return _K(this._root)}};function KP(n,e){e.value._routerState=n,e.children.forEach(t=>KP(n,t))}function _K(n){let e=n.children.length>0?` { ${n.children.map(_K).join(", ")} } `:"";return`${n.value}${e}`}function RP(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Nl(e.params,t.params)||n.paramsSubject.next(t.params),E_e(e.url,t.url)||n.urlSubject.next(t.url),Nl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HP(n,e){let t=Nl(n.params,e.params)&&T_e(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||HP(n.parent,e.parent))}function yK(n){return typeof n.title=="string"||n.title===null}var kK=new ue(""),Pw=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Lt;activateEvents=new dt;deactivateEvents=new dt;attachEvents=new dt;detachEvents=new dt;routerOutletData=W(void 0);parentContexts=M(tm);location=M(Ni);changeDetector=M(go);inputBinder=M(SE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Se(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new UP(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wi]})}return n})(),UP=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===us?this.route:e===tm?this.childContexts:e===kK?this.outletData:this.parent.get(e,t)}},SE=new ue("");var YP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oe(0,"router-outlet")},dependencies:[Pw],encapsulation:2})}return n})();function XP(n){let e=n.children&&n.children.map(XP),t=e?ye(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=YP),t}function J_e(n,e,t){let r=Iw(n,e._root,t?t._root:void 0);return new Mw(r,e)}function Iw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=eye(n,e,t);return new Ds(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Iw(n,a)),s}}let r=tye(e.value),i=e.children.map(o=>Iw(n,o));return new Ds(r,i)}}function eye(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Iw(n,r,i);return Iw(n,r)})}function tye(n){return new us(new Hr(n.url),new Hr(n.params),new Hr(n.queryParams),new Hr(n.fragment),new Hr(n.data),n.outlet,n.component,n)}var Q0=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},bK="ngNavigationCancelingError";function CE(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Y0(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xK(!1,Uo.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function xK(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[bK]=!0,t.cancellationCode=e,t}function nye(n){return CK(n)&&Y0(n.url)}function CK(n){return!!n&&n[bK]}var rye=(n,e,t,r)=>nt(i=>(new $P(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),$P=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),RP(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=W0(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=W0(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=W0(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=W0(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yE(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wE(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(RP(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),RP(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},EE=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},K0=class{component;route;constructor(e,t){this.component=e,this.route=t}};function iye(n,e,t){let r=n._root,i=e?e._root:null;return ww(r,i,t,[r.value])}function oye(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nm(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!C3(n)?n:e.get(n):r}function ww(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=W0(e);return n.children.forEach(s=>{sye(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kw(a,t.getContext(s),i)),i}function sye(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=aye(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new EE(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ww(n,e,a?a.children:null,r,i):ww(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new K0(a.outlet.component,s))}else s&&kw(e,a,i),i.canActivateChecks.push(new EE(r)),o.component?ww(n,null,a?a.children:null,r,i):ww(n,null,t,r,i);return i}function aye(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!pf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pf(n.url,e.url)||!Nl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HP(n,e)||!Nl(n.queryParams,e.queryParams);case"paramsChange":default:return!HP(n,e)}}function kw(n,e,t){let r=W0(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?kw(s,e.children.getContext(o),t):kw(s,null,t):kw(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new K0(e.outlet.component,i)):t.canDeactivateChecks.push(new K0(null,i)):t.canDeactivateChecks.push(new K0(null,i))}function Ow(n){return typeof n=="function"}function lye(n){return typeof n=="boolean"}function cye(n){return n&&Ow(n.canLoad)}function dye(n){return n&&Ow(n.canActivate)}function uye(n){return n&&Ow(n.canActivateChild)}function hye(n){return n&&Ow(n.canDeactivate)}function pye(n){return n&&Ow(n.canMatch)}function EK(n){return n instanceof Oa||n?.name==="EmptyError"}var oE=Symbol("INITIAL_VALUE");function J0(){return $r(n=>_x(n.map(e=>e.pipe(Ur(1),Vu(oE)))).pipe(nt(e=>{for(let t of e)if(t!==!0){if(t===oE)return oE;if(t===!1||fye(t))return t}return!0}),an(e=>e!==oE),Ur(1)))}function fye(n){return Y0(n)||n instanceof Q0}function gye(n,e){return yr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Xe(ye(G({},t),{guardsResult:!0})):mye(s,r,i,n).pipe(yr(a=>a&&lye(a)?vye(r,o,n,e):Xe(a)),nt(a=>ye(G({},t),{guardsResult:a})))})}function mye(n,e,t,r){return Un(n).pipe(yr(i=>bye(i.component,i.route,t,e,r)),Kc(i=>i!==!0,!0))}function vye(n,e,t,r){return Un(e).pipe(Fu(i=>Lu(_ye(i.route.parent,r),wye(i.route,r),kye(n,i.path,t),yye(n,i.route,t))),Kc(i=>i!==!0,!0))}function wye(n,e){return n!==null&&e&&e(new _E(n)),Xe(!0)}function _ye(n,e){return n!==null&&e&&e(new vE(n)),Xe(!0)}function yye(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Xe(!0);let i=r.map(o=>Vp(()=>{let s=em(e)??t,a=nm(o,s),l=dye(a)?a.canActivate(e,n):$n(s,()=>a(e,n));return pd(l).pipe(Kc())}));return Xe(i).pipe(J0())}function kye(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oye(s)).filter(s=>s!==null).map(s=>Vp(()=>{let a=s.guards.map(l=>{let c=em(s.node)??t,u=nm(l,c),p=uye(u)?u.canActivateChild(r,n):$n(c,()=>u(r,n));return pd(p).pipe(Kc())});return Xe(a).pipe(J0())}));return Xe(o).pipe(J0())}function bye(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Xe(!0);let s=o.map(a=>{let l=em(e)??i,c=nm(a,l),u=hye(c)?c.canDeactivate(n,e,t,r):$n(l,()=>c(n,e,t,r));return pd(u).pipe(Kc())});return Xe(s).pipe(J0())}function xye(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Xe(!0);let o=i.map(s=>{let a=nm(s,n),l=cye(a)?a.canLoad(e,t):$n(n,()=>a(e,t));return pd(l)});return Xe(o).pipe(J0(),MK(r))}function MK(n){return XD(Jr(e=>{if(typeof e!="boolean")throw CE(n,e)}),nt(e=>e===!0))}function Cye(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Xe(!0);let o=i.map(s=>{let a=nm(s,n),l=pye(a)?a.canMatch(e,t):$n(n,()=>a(e,t));return pd(l)});return Xe(o).pipe(J0(),MK(r))}var Tw=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Aw=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function q0(n){return h0(new Tw(n))}function Eye(n){return h0(new Se(4e3,!1))}function Mye(n){return h0(xK(!1,Uo.GuardRejected))}var zP=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Xe(r);if(i.numberOfChildren>1||!i.children[Lt])return Eye(`${e.redirectTo}`);i=i.children[Lt]}}applyRedirectCommands(e,t,r,i,o){return Sye(t,i,o).pipe(nt(s=>{if(s instanceof Fl)throw new Aw(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Aw(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Tn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Se(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Sye(n,e,t){if(typeof n=="string")return Xe(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:p}=e;return pd($n(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:p})))}var qP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Iye(n,e,t,r,i){let o=SK(n,e,t);return o.matched?(r=X_e(e,r),Cye(r,e,t,i).pipe(nt(s=>s===!0?o:G({},qP)))):Xe(o)}function SK(n,e,t){if(e.path==="**")return Tye(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},qP):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nK)(t,n,e);if(!i)return G({},qP);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?G(G({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Tye(n){return{matched:!0,parameters:n.length>0?iK(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function JG(n,e,t,r){return t.length>0&&Rye(n,t,r)?{segmentGroup:new Tn(e,Dye(r,new Tn(t,n.children))),slicedSegments:[]}:t.length===0&&Pye(n,t,r)?{segmentGroup:new Tn(n.segments,Aye(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Tn(n.segments,n.children),slicedSegments:t}}function Aye(n,e,t,r){let i={};for(let o of t)if(IE(n,e,o)&&!r[qa(o)]){let s=new Tn([],{});i[qa(o)]=s}return G(G({},r),i)}function Dye(n,e){let t={};t[Lt]=e;for(let r of n)if(r.path===""&&qa(r)!==Lt){let i=new Tn([],{});t[qa(r)]=i}return t}function Rye(n,e,t){return t.some(r=>IE(n,e,r)&&qa(r)!==Lt)}function Pye(n,e,t){return t.some(r=>IE(n,e,r))}function IE(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Oye(n,e,t){return e.length===0&&!n.children[t]}var WP=class{};function Nye(n,e,t,r,i,o,s="emptyOnly"){return new GP(n,e,t,r,i,s,o).recognize()}var Lye=31,GP=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zP(this.urlSerializer,this.urlTree)}noMatchError(e){return new Se(4002,`'${e.segmentGroup}'`)}recognize(){let e=JG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(nt(({children:t,rootSnapshot:r})=>{let i=new Ds(r,t),o=new Sw("",i),s=pK(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ff([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Lt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Lt,t).pipe(nt(r=>({children:r,rootSnapshot:t})),Oo(r=>{if(r instanceof Aw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Tw?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(nt(s=>s instanceof Ds?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Un(o).pipe(Fu(s=>{let a=r.children[s],l=Z_e(t,s);return this.processSegmentGroup(e,l,a,s,i)}),a3((s,a)=>(s.push(...a),s)),Bu(null),s3(),yr(s=>{if(s===null)return q0(r);let a=IK(s);return Fye(a),Xe(a)}))}processSegment(e,t,r,i,o,s,a){return Un(t).pipe(Fu(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Oo(c=>{if(c instanceof Tw)return Xe(null);throw c}))),Kc(l=>!!l),Oo(l=>{if(EK(l))return Oye(r,i,o)?Xe(new WP):q0(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return qa(r)!==s&&(s===Lt||!IE(i,o,r))?q0(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):q0(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:g}=SK(t,i,o);if(!l)return q0(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lye&&(this.allowRedirects=!1));let v=new ff(o,c,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,eK(i),qa(i),i.component??i._loadedComponent??null,i,tK(i)),w=xE(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(w.params),v.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p,v,e).pipe($r(x=>this.applyRedirects.lineralizeSegments(i,x)),yr(x=>this.processSegment(e,r,t,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Iye(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($r(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($r(({routes:c})=>{let u=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=l,w=new ff(g,p,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,eK(r),qa(r),r.component??r._loadedComponent??null,r,tK(r)),y=xE(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(y.params),w.data=Object.freeze(y.data);let{segmentGroup:x,slicedSegments:b}=JG(t,g,v,c);if(b.length===0&&x.hasChildren())return this.processChildren(u,c,x,w).pipe(nt(V=>new Ds(w,V)));if(c.length===0&&b.length===0)return Xe(new Ds(w,[]));let R=qa(r)===o;return this.processSegment(u,c,x,b,R?Lt:o,!0,w).pipe(nt(V=>new Ds(w,V instanceof Ds?[V]:[])))}))):q0(t)))}getChildConfig(e,t,r){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):xye(e,t,r,this.urlSerializer).pipe(yr(i=>i?this.configLoader.loadChildren(e,t).pipe(Jr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Mye(t))):Xe({routes:[],injector:e})}};function Fye(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}function Bye(n){let e=n.value.routeConfig;return e&&e.path===""}function IK(n){let e=[],t=new Set;for(let r of n){if(!Bye(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=IK(r.children);e.push(new Ds(r.value,i))}return e.filter(r=>!t.has(r))}function eK(n){return n.data||{}}function tK(n){return n.resolve||{}}function Vye(n,e,t,r,i,o){return yr(s=>Nye(n,e,t,r,s.extractedUrl,i,o).pipe(nt(({state:a,tree:l})=>ye(G({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function jye(n,e){return yr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Xe(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of TK(l))s.add(c);let a=0;return Un(s).pipe(Fu(l=>o.has(l)?Hye(l,r,n,e):(l.data=xE(l,l.parent,n).resolve,Xe(void 0))),Jr(()=>a++),g0(1),yr(l=>a===s.size?Xe(t):Ai))})}function TK(n){let e=n.children.map(t=>TK(t)).flat();return[n,...e]}function Hye(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!yK(i)&&(o[Dw]=i.title),Vp(()=>(n.data=xE(n,n.parent,t).resolve,Uye(o,n,e,r).pipe(nt(s=>(n._resolvedData=s,n.data=G(G({},n.data),s),null)))))}function Uye(n,e,t,r){let i=NP(n);if(i.length===0)return Xe({});let o={};return Un(i).pipe(yr(s=>$ye(n[s],e,t,r).pipe(Kc(),Jr(a=>{if(a instanceof Q0)throw CE(new mf,a);o[s]=a}))),g0(1),nt(()=>o),Oo(s=>EK(s)?Ai:h0(s)))}function $ye(n,e,t,r){let i=em(e)??r,o=nm(n,i),s=o.resolve?o.resolve(e,t):$n(i,()=>o(e,t));return pd(s)}function PP(n){return $r(e=>{let t=n(e);return t?Un(t).pipe(nt(()=>e)):Xe(e)})}var ZP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[Dw]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(AK),providedIn:"root"})}return n})(),AK=(()=>{class n extends ZP{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ae(GG))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nw=new ue("",{providedIn:"root",factory:()=>({})}),Lw=new ue(""),DK=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(nP);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Xe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pd($n(t,()=>r.loadComponent())).pipe(nt(PK),$r(OK),Jr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),jp(()=>{this.componentLoaders.delete(r)})),o=new a0(i,()=>new Pe).pipe(s0());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RK(r,this.compiler,t,this.onLoadEndListener).pipe(jp(()=>{this.childrenLoaders.delete(r)})),s=new a0(o,()=>new Pe).pipe(s0());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RK(n,e,t,r){return pd($n(t,()=>n.loadChildren())).pipe(nt(PK),$r(OK),yr(i=>i instanceof LC||Array.isArray(i)?Xe(i):Un(e.compileModuleAsync(i))),nt(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Lw,[],{optional:!0,self:!0}).flat()),{routes:s.map(XP),injector:o}}))}function zye(n){return n&&typeof n=="object"&&"default"in n}function PK(n){return zye(n)?n.default:n}function OK(n){return Xe(n)}var TE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(qye),providedIn:"root"})}return n})(),qye=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NK=new ue("");var LK=new ue(""),FK=(()=>{class n{currentNavigation=Te(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Pe;transitionAbortWithErrorSubject=new Pe;configLoader=M(DK);environmentInjector=M(Kn);destroyRef=M(sr);urlSerializer=M(Rw);rootContexts=M(tm);location=M(cs);inputBindingEnabled=M(SE,{optional:!0})!==null;titleStrategy=M(ZP);options=M(Nw,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(TE);createViewTransition=M(NK,{optional:!0});navigationErrorHandler=M(LK,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Xe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new gE(i)),r=i=>this.events.next(new mE(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;zt(()=>{this.transitions?.next(ye(G({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Hr(null),this.transitions.pipe(an(r=>r!==null),$r(r=>{let i=!1;return Xe(r).pipe($r(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Uo.SupersededByNewNavigation),Ai;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ye(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new hd(o.id,this.urlSerializer.serialize(o.rawUrl),"",xw.IgnoredSameUrlNavigation)),o.resolve(!1),Ai;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Xe(o).pipe($r(l=>(this.events.next(new vf(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ai:Promise.resolve(l))),Vye(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Jr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new Cw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:p,extras:g}=o,v=new vf(l,this.urlSerializer.serialize(c),u,p);this.events.next(v);let w=wK(this.rootComponentType).snapshot;return this.currentTransition=r=ye(G({},o),{targetSnapshot:w,urlAfterRedirects:c,extras:ye(G({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=c,y)),Xe(r)}else return this.events.next(new hd(o.id,this.urlSerializer.serialize(o.extractedUrl),"",xw.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ai}),Jr(o=>{let s=new uE(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),nt(o=>(this.currentTransition=r=ye(G({},o),{guards:iye(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),gye(this.environmentInjector,o=>this.events.next(o)),Jr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw CE(this.urlSerializer,o.guardsResult);let s=new hE(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),an(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Uo.GuardRejected),!1)),PP(o=>{if(o.guards.canActivateChecks.length!==0)return Xe(o).pipe(Jr(s=>{let a=new pE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$r(s=>{let a=!1;return Xe(s).pipe(jye(this.paramsInheritanceStrategy,this.environmentInjector),Jr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Uo.NoDataFromResolver)}}))}),Jr(s=>{let a=new fE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),PP(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=em(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Jr(u=>{a.component=u}),nt(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return _x(s(o.targetSnapshot.root)).pipe(Bu(null),Ur(1))}),PP(()=>this.afterPreactivation()),$r(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Un(a).pipe(nt(()=>r)):Xe(r)}),nt(o=>{let s=J_e(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ye(G({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Jr(()=>{this.events.next(new Ew)}),rye(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ur(1),$e(new Qe(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(an(()=>!i&&!r.targetRouterState),Jr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Uo.Aborted)}))),Jr({next:o=>{i=!0,this.lastSuccessfulNavigation=zt(this.currentNavigation),this.events.next(new Wa(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),$e(this.transitionAbortWithErrorSubject.pipe(Jr(o=>{throw o}))),jp(()=>{i||this.cancelNavigationTransition(r,"",Uo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Oo(o=>{if(this.destroyed)return r.resolve(!1),Ai;if(i=!0,CK(o))this.events.next(new Ll(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),nye(o)?this.events.next(new Z0(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new X0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=$n(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Q0){let{message:l,cancellationCode:c}=CE(this.urlSerializer,a);this.events.next(new Ll(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Z0(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ai}))}))}cancelNavigationTransition(t,r,i){let o=new Ll(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=zt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wye(n){return n!==yw}var BK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(Gye),providedIn:"root"})}return n})(),ME=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Gye=(()=>{class n extends ME{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VK=(()=>{class n{urlSerializer=M(Rw);options=M(Nw,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(cs);urlHandlingStrategy=M(TE);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fl;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fl?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=wK(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>M(Kye),providedIn:"root"})}return n})(),Kye=(()=>{class n extends VK{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof vf?this.updateStateMemento():t instanceof hd?this.commitTransition(r):t instanceof Cw?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ew?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ll&&t.code!==Uo.SupersededByNewNavigation&&t.code!==Uo.Redirect?this.restoreHistory(r):t instanceof X0?this.restoreHistory(r,!0):t instanceof Wa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=G(G({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=G(G({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QP(n,e){n.events.pipe(an(t=>t instanceof Wa||t instanceof Ll||t instanceof X0||t instanceof hd),nt(t=>t instanceof Wa||t instanceof hd?0:(t instanceof Ll?t.code===Uo.Redirect||t.code===Uo.SupersededByNewNavigation:!1)?2:1),an(t=>t!==2),Ur(1)).subscribe(()=>{e()})}var Yye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Or=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(VC);stateManager=M(VK);options=M(Nw,{optional:!0})||{};pendingTasks=M(Al);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(FK);urlSerializer=M(Rw);location=M(cs);urlHandlingStrategy=M(TE);injector=M(Kn);_events=new Pe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(BK);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Lw,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(SE,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=zt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ll&&r.code!==Uo.Redirect&&r.code!==Uo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wa)this.navigated=!0;else if(r instanceof Z0){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Wye(i.source)},s);this.scheduleNavigation(a,yw,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Y_e(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yw,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=G({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Bo)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return zt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(XP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=G(G({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=fK(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return gK(p,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Y0(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yw,null,r)}navigate(t,r={skipLocationChange:!1}){return Zye(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=G({},Yye):r===!1?i=G({},Xye):i=r,Y0(t))return YG(this.currentUrlTree,t,i);let o=this.parseUrl(t);return YG(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});let u=this.pendingTasks.add();return QP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zye(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Se(4008,!1)}var Jye=new ue("");function JP(n,...e){return Di([{provide:Lw,multi:!0,useValue:n},[],{provide:us,useFactory:eke,deps:[Or]},{provide:HC,multi:!0,useFactory:tke},e.map(t=>t.\u0275providers)])}function eke(n){return n.routerState.root}function tke(){let n=M(Fe);return e=>{let t=n.get(as);if(e!==t.components[0])return;let r=n.get(Or),i=n.get(nke);n.get(rke)===1&&r.initialNavigation(),n.get(ike,null,{optional:!0})?.setUpPreloading(),n.get(Jye,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nke=new ue("",{factory:()=>new Pe}),rke=new ue("",{providedIn:"root",factory:()=>1});var ike=new ue("");function jK(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=jK(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function AE(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=jK(n))&&(r&&(r+=" "),r+=e);return r}var ske=n=>{let e=lke(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{let a=s.split("-");return a[0]===""&&a.length!==1&&a.shift(),qK(a,e)||ake(s)},getConflictingClassGroupIds:(s,a)=>{let l=t[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},qK=(n,e)=>{if(n.length===0)return e.classGroupId;let t=n[0],r=e.nextPart.get(t),i=r?qK(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;let o=n.join("-");return e.validators.find(({validator:s})=>s(o))?.classGroupId},HK=/^\[(.+)\]$/,ake=n=>{if(HK.test(n)){let e=HK.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lke=n=>{let{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(let i in t)nO(t[i],r,i,e);return r},nO=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){let o=i===""?e:UK(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(cke(i)){nO(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,s])=>{nO(s,UK(e,o),t,r)})})},UK=(n,e)=>{let t=n;return e.split("-").forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},cke=n=>n.isThemeGetter,dke=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map,i=(o,s)=>{t.set(o,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let s=t.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){t.has(o)?t.set(o,s):i(o,s)}}};var uke=n=>{let{prefix:e,experimentalParseClassName:t}=n,r=i=>{let o=[],s=0,a=0,l=0,c;for(let w=0;w<i.length;w++){let y=i[w];if(s===0&&a===0){if(y===":"){o.push(i.slice(l,w)),l=w+1;continue}if(y==="/"){c=w;continue}}y==="["?s++:y==="]"?s--:y==="("?a++:y===")"&&a--}let u=o.length===0?i:i.substring(l),p=hke(u),g=p!==u,v=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}};if(e){let i=e+":",o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){let i=r;r=o=>t({className:o,parseClassName:i})}return r},hke=n=>n.endsWith("!")?n.substring(0,n.length-1):n.startsWith("!")?n.substring(1):n,pke=n=>{let e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;let i=[],o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},fke=n=>G({cache:dke(n.cacheSize),parseClassName:uke(n),sortModifiers:pke(n)},ske(n)),gke=/\s+/,mke=(n,e)=>{let{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=n.trim().split(gke),l="";for(let c=a.length-1;c>=0;c-=1){let u=a[c],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}=t(u);if(p){l=u+(l.length>0?" "+l:l);continue}let x=!!y,b=r(x?w.substring(0,y):w);if(!b){if(!x){l=u+(l.length>0?" "+l:l);continue}if(b=r(w),!b){l=u+(l.length>0?" "+l:l);continue}x=!1}let R=o(g).join(":"),V=v?R+"!":R,j=V+b;if(s.includes(j))continue;s.push(j);let $=i(b,x);for(let Y=0;Y<$.length;++Y){let L=$[Y];s.push(V+L)}l=u+(l.length>0?" "+l:l)}return l};function vke(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=WK(e))&&(r&&(r+=" "),r+=t);return r}var WK=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=WK(n[r]))&&(t&&(t+=" "),t+=e);return t};function wke(n,...e){let t,r,i,o=s;function s(l){let c=e.reduce((u,p)=>p(u),n());return t=fke(c),r=t.cache.get,i=t.cache.set,o=a,a(l)}function a(l){let c=r(l);if(c)return c;let u=mke(l,t);return i(l,u),u}return function(){return o(vke.apply(null,arguments))}}var xi=n=>{let e=t=>t[n]||[];return e.isThemeGetter=!0,e},GK=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KK=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_ke=/^\d+\/\d+$/,yke=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kke=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bke=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xke=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cke=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rm=n=>_ke.test(n),Kt=n=>!!n&&!Number.isNaN(Number(n)),nh=n=>!!n&&Number.isInteger(Number(n)),eO=n=>n.endsWith("%")&&Kt(n.slice(0,-1)),fd=n=>yke.test(n),Eke=()=>!0,Mke=n=>kke.test(n)&&!bke.test(n),YK=()=>!1,Ske=n=>xke.test(n),Ike=n=>Cke.test(n),Tke=n=>!Ve(n)&&!je(n),Ake=n=>im(n,QK,YK),Ve=n=>GK.test(n),wf=n=>im(n,JK,Mke),tO=n=>im(n,Nke,Kt),$K=n=>im(n,XK,YK),Dke=n=>im(n,ZK,Ike),DE=n=>im(n,eY,Ske),je=n=>KK.test(n),Bw=n=>om(n,JK),Rke=n=>om(n,Lke),zK=n=>om(n,XK),Pke=n=>om(n,QK),Oke=n=>om(n,ZK),RE=n=>om(n,eY,!0),im=(n,e,t)=>{let r=GK.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},om=(n,e,t=!1)=>{let r=KK.exec(n);return r?r[1]?e(r[1]):t:!1},XK=n=>n==="position"||n==="percentage",ZK=n=>n==="image"||n==="url",QK=n=>n==="length"||n==="size"||n==="bg-size",JK=n=>n==="length",Nke=n=>n==="number",Lke=n=>n==="family-name",eY=n=>n==="shadow";var Fke=()=>{let n=xi("color"),e=xi("font"),t=xi("text"),r=xi("font-weight"),i=xi("tracking"),o=xi("leading"),s=xi("breakpoint"),a=xi("container"),l=xi("spacing"),c=xi("radius"),u=xi("shadow"),p=xi("inset-shadow"),g=xi("text-shadow"),v=xi("drop-shadow"),w=xi("blur"),y=xi("perspective"),x=xi("aspect"),b=xi("ease"),R=xi("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...j(),je,Ve],Y=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],T=()=>[je,Ve,l],I=()=>[rm,"full","auto",...T()],B=()=>[nh,"none","subgrid",je,Ve],U=()=>["auto",{span:["full",nh,je,Ve]},nh,je,Ve],X=()=>[nh,"auto",je,Ve],z=()=>["auto","min","max","fr",je,Ve],tt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],gt=()=>["start","end","center","stretch","center-safe","end-safe"],Tt=()=>["auto",...T()],Re=()=>[rm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],be=()=>[n,je,Ve],er=()=>[...j(),zK,$K,{position:[je,Ve]}],So=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ai=()=>["auto","cover","contain",Pke,Ake,{size:[je,Ve]}],vn=()=>[eO,Bw,wf],ze=()=>["","none","full",c,je,Ve],Wn=()=>["",Kt,Bw,wf],Si=()=>["solid","dashed","dotted","double"],wr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],et=()=>[Kt,eO,zK,$K],io=()=>["","none",w,je,Ve],Io=()=>["none",Kt,je,Ve],oo=()=>["none",Kt,je,Ve],ya=()=>[Kt,je,Ve],Zr=()=>[rm,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fd],breakpoint:[fd],color:[Eke],container:[fd],"drop-shadow":[fd],ease:["in","out","in-out"],font:[Tke],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fd],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fd],shadow:[fd],spacing:["px",Kt],text:[fd],"text-shadow":[fd],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rm,Ve,je,x]}],container:["container"],columns:[{columns:[Kt,Ve,je,a]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[nh,"auto",je,Ve]}],basis:[{basis:[rm,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kt,rm,"auto","initial","none",Ve]}],grow:[{grow:["",Kt,je,Ve]}],shrink:[{shrink:["",Kt,je,Ve]}],order:[{order:[nh,"first","last","none",je,Ve]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...tt(),"normal"]}],"justify-items":[{"justify-items":[...gt(),"normal"]}],"justify-self":[{"justify-self":["auto",...gt()]}],"align-content":[{content:["normal",...tt()]}],"align-items":[{items:[...gt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...gt(),{baseline:["","last"]}]}],"place-content":[{"place-content":tt()}],"place-items":[{"place-items":[...gt(),"baseline"]}],"place-self":[{"place-self":["auto",...gt()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Tt()}],mx:[{mx:Tt()}],my:[{my:Tt()}],ms:[{ms:Tt()}],me:[{me:Tt()}],mt:[{mt:Tt()}],mr:[{mr:Tt()}],mb:[{mb:Tt()}],ml:[{ml:Tt()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Re()}],w:[{w:[a,"screen",...Re()]}],"min-w":[{"min-w":[a,"screen","none",...Re()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...Re()]}],h:[{h:["screen","lh",...Re()]}],"min-h":[{"min-h":["screen","lh","none",...Re()]}],"max-h":[{"max-h":["screen","lh",...Re()]}],"font-size":[{text:["base",t,Bw,wf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,tO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eO,Ve]}],"font-family":[{font:[Rke,Ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,Ve]}],"line-clamp":[{"line-clamp":[Kt,"none",je,tO]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",je,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:be()}],"text-color":[{text:be()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Si(),"wavy"]}],"text-decoration-thickness":[{decoration:[Kt,"from-font","auto",je,wf]}],"text-decoration-color":[{decoration:be()}],"underline-offset":[{"underline-offset":[Kt,"auto",je,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:er()}],"bg-repeat":[{bg:So()}],"bg-size":[{bg:ai()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},nh,je,Ve],radial:["",je,Ve],conic:[nh,je,Ve]},Oke,Dke]}],"bg-color":[{bg:be()}],"gradient-from-pos":[{from:vn()}],"gradient-via-pos":[{via:vn()}],"gradient-to-pos":[{to:vn()}],"gradient-from":[{from:be()}],"gradient-via":[{via:be()}],"gradient-to":[{to:be()}],rounded:[{rounded:ze()}],"rounded-s":[{"rounded-s":ze()}],"rounded-e":[{"rounded-e":ze()}],"rounded-t":[{"rounded-t":ze()}],"rounded-r":[{"rounded-r":ze()}],"rounded-b":[{"rounded-b":ze()}],"rounded-l":[{"rounded-l":ze()}],"rounded-ss":[{"rounded-ss":ze()}],"rounded-se":[{"rounded-se":ze()}],"rounded-ee":[{"rounded-ee":ze()}],"rounded-es":[{"rounded-es":ze()}],"rounded-tl":[{"rounded-tl":ze()}],"rounded-tr":[{"rounded-tr":ze()}],"rounded-br":[{"rounded-br":ze()}],"rounded-bl":[{"rounded-bl":ze()}],"border-w":[{border:Wn()}],"border-w-x":[{"border-x":Wn()}],"border-w-y":[{"border-y":Wn()}],"border-w-s":[{"border-s":Wn()}],"border-w-e":[{"border-e":Wn()}],"border-w-t":[{"border-t":Wn()}],"border-w-r":[{"border-r":Wn()}],"border-w-b":[{"border-b":Wn()}],"border-w-l":[{"border-l":Wn()}],"divide-x":[{"divide-x":Wn()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Wn()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Si(),"hidden","none"]}],"divide-style":[{divide:[...Si(),"hidden","none"]}],"border-color":[{border:be()}],"border-color-x":[{"border-x":be()}],"border-color-y":[{"border-y":be()}],"border-color-s":[{"border-s":be()}],"border-color-e":[{"border-e":be()}],"border-color-t":[{"border-t":be()}],"border-color-r":[{"border-r":be()}],"border-color-b":[{"border-b":be()}],"border-color-l":[{"border-l":be()}],"divide-color":[{divide:be()}],"outline-style":[{outline:[...Si(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Kt,je,Ve]}],"outline-w":[{outline:["",Kt,Bw,wf]}],"outline-color":[{outline:be()}],shadow:[{shadow:["","none",u,RE,DE]}],"shadow-color":[{shadow:be()}],"inset-shadow":[{"inset-shadow":["none",p,RE,DE]}],"inset-shadow-color":[{"inset-shadow":be()}],"ring-w":[{ring:Wn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:be()}],"ring-offset-w":[{"ring-offset":[Kt,wf]}],"ring-offset-color":[{"ring-offset":be()}],"inset-ring-w":[{"inset-ring":Wn()}],"inset-ring-color":[{"inset-ring":be()}],"text-shadow":[{"text-shadow":["none",g,RE,DE]}],"text-shadow-color":[{"text-shadow":be()}],opacity:[{opacity:[Kt,je,Ve]}],"mix-blend":[{"mix-blend":[...wr(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":wr()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":et()}],"mask-image-linear-to-pos":[{"mask-linear-to":et()}],"mask-image-linear-from-color":[{"mask-linear-from":be()}],"mask-image-linear-to-color":[{"mask-linear-to":be()}],"mask-image-t-from-pos":[{"mask-t-from":et()}],"mask-image-t-to-pos":[{"mask-t-to":et()}],"mask-image-t-from-color":[{"mask-t-from":be()}],"mask-image-t-to-color":[{"mask-t-to":be()}],"mask-image-r-from-pos":[{"mask-r-from":et()}],"mask-image-r-to-pos":[{"mask-r-to":et()}],"mask-image-r-from-color":[{"mask-r-from":be()}],"mask-image-r-to-color":[{"mask-r-to":be()}],"mask-image-b-from-pos":[{"mask-b-from":et()}],"mask-image-b-to-pos":[{"mask-b-to":et()}],"mask-image-b-from-color":[{"mask-b-from":be()}],"mask-image-b-to-color":[{"mask-b-to":be()}],"mask-image-l-from-pos":[{"mask-l-from":et()}],"mask-image-l-to-pos":[{"mask-l-to":et()}],"mask-image-l-from-color":[{"mask-l-from":be()}],"mask-image-l-to-color":[{"mask-l-to":be()}],"mask-image-x-from-pos":[{"mask-x-from":et()}],"mask-image-x-to-pos":[{"mask-x-to":et()}],"mask-image-x-from-color":[{"mask-x-from":be()}],"mask-image-x-to-color":[{"mask-x-to":be()}],"mask-image-y-from-pos":[{"mask-y-from":et()}],"mask-image-y-to-pos":[{"mask-y-to":et()}],"mask-image-y-from-color":[{"mask-y-from":be()}],"mask-image-y-to-color":[{"mask-y-to":be()}],"mask-image-radial":[{"mask-radial":[je,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":et()}],"mask-image-radial-to-pos":[{"mask-radial-to":et()}],"mask-image-radial-from-color":[{"mask-radial-from":be()}],"mask-image-radial-to-color":[{"mask-radial-to":be()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":et()}],"mask-image-conic-to-pos":[{"mask-conic-to":et()}],"mask-image-conic-from-color":[{"mask-conic-from":be()}],"mask-image-conic-to-color":[{"mask-conic-to":be()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:er()}],"mask-repeat":[{mask:So()}],"mask-size":[{mask:ai()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Ve]}],filter:[{filter:["","none",je,Ve]}],blur:[{blur:io()}],brightness:[{brightness:[Kt,je,Ve]}],contrast:[{contrast:[Kt,je,Ve]}],"drop-shadow":[{"drop-shadow":["","none",v,RE,DE]}],"drop-shadow-color":[{"drop-shadow":be()}],grayscale:[{grayscale:["",Kt,je,Ve]}],"hue-rotate":[{"hue-rotate":[Kt,je,Ve]}],invert:[{invert:["",Kt,je,Ve]}],saturate:[{saturate:[Kt,je,Ve]}],sepia:[{sepia:["",Kt,je,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Ve]}],"backdrop-blur":[{"backdrop-blur":io()}],"backdrop-brightness":[{"backdrop-brightness":[Kt,je,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[Kt,je,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kt,je,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kt,je,Ve]}],"backdrop-invert":[{"backdrop-invert":["",Kt,je,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[Kt,je,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[Kt,je,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Kt,je,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kt,"initial",je,Ve]}],ease:[{ease:["linear","initial",b,je,Ve]}],delay:[{delay:[Kt,je,Ve]}],animate:[{animate:["none",R,je,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,je,Ve]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Io()}],"rotate-x":[{"rotate-x":Io()}],"rotate-y":[{"rotate-y":Io()}],"rotate-z":[{"rotate-z":Io()}],scale:[{scale:oo()}],"scale-x":[{"scale-x":oo()}],"scale-y":[{"scale-y":oo()}],"scale-z":[{"scale-z":oo()}],"scale-3d":["scale-3d"],skew:[{skew:ya()}],"skew-x":[{"skew-x":ya()}],"skew-y":[{"skew-y":ya()}],transform:[{transform:[je,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Zr()}],"translate-x":[{"translate-x":Zr()}],"translate-y":[{"translate-y":Zr()}],"translate-z":[{"translate-z":Zr()}],"translate-none":["translate-none"],accent:[{accent:be()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:be()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Ve]}],fill:[{fill:["none",...be()]}],"stroke-w":[{stroke:[Kt,Bw,wf,tO]}],stroke:[{stroke:["none",...be()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var tY=wke(Fke);function PE(n){let e=new ue(n);return[(o={})=>M(e,o),o=>({provide:e,useValue:o}),o=>({provide:e,useExisting:Yn(o)}),e]}var[nY,Mat,rY,Sat]=PE("@spartan-ng SET_CLASS_TO_CUSTOM_ELEMENT_TOKEN"),iY=!1,[oY,Iat,sY,Tat]=PE("@spartan-ng EXPOSES_SIDE_TOKEN"),[aY,Aat,rO,Dat]=PE("@spartan-ng EXPOSES_STATE_TOKEN");function Me(...n){return tY(AE(n))}var[Rat,Pat,Oat,Nat]=PE("@spartan-ng SET_TABLE_CLASSES_TOKEN");var lY=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cY=AE,Bl=(n,e)=>t=>{var r;if(e?.variants==null)return cY(n,t?.class,t?.className);let{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{let u=t?.[c],p=o?.[c];if(u===null)return null;let g=lY(u)||lY(p);return i[c][g]}),a=t&&Object.entries(t).reduce((c,u)=>{let[p,g]=u;return g===void 0||(c[p]=g),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let w=u,{class:p,className:g}=w,v=xp(w,["class","className"]);return Object.entries(v).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes(G(G({},o),a)[x]):G(G({},o),a)[x]===b})?[...c,p,g]:c},[]);return cY(n,s,l,t?.class,t?.className)};var Bke={variant:"default",size:"default"},Vke=new ue("BrnButtonConfig");function dY(){return M(Vke,{optional:!0})??Bke}var iO=Bl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_ng-icon]:pointer-events-none shrink-0 [&_ng-icon]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-default",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>ng-icon]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>ng-icon]:px-2.5",lg:"h-10 rounded-md px-6 has-[>ng-icon]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),On=class n{_config=dY();_additionalClasses=Te("");userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(iO({variant:this.variant(),size:this.size()}),this.userClass(),this._additionalClasses()));variant=W(this._config.variant);size=W(this._config.size);setClass(e){this._additionalClasses.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmBtn",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"],variant:[1,"variant"],size:[1,"size"]},exportAs:["hlmBtn"]})};var Ps=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("block text-destructive text-sm font-medium",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["hlm-error"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var _f=(()=>{class n{ngControl=null;errorState=Te(!1);static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n})}return n})();var jke=["*",[["hlm-error"]],[["hlm-hint"]]],Hke=["*","hlm-error","hlm-hint"];function Uke(n,e){n&1&&rt(0,1)}function $ke(n,e){n&1&&rt(0,2)}var Vl=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("space-y-2 block",this.userClass()));control=za(_f);errorChildren=cd(Ps);_hasDisplayedMessage=ee(()=>this.errorChildren()&&this.errorChildren().length>0&&this.control()?.errorState()?"error":"hint");constructor(){Ot(()=>{if(!this.control())throw new Error("hlm-form-field must contain a BrnFormFieldControl.")})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-form-field"]],contentQueries:function(t,r,i){t&1&&(bi(i,r.control,_f,5),bi(i,r.errorChildren,Ps,4)),t&2&&br(2)},hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:Hke,decls:3,vars:1,template:function(t,r){if(t&1&&(tn(jke),rt(0),te(1,Uke,1,0)(2,$ke,1,0)),t&2){let i;N(),ne((i=r._hasDisplayedMessage())==="error"?1:2)}},encapsulation:2,changeDetection:0})};var jl=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})};var wY=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(De(Oi),De(ft))};static \u0275dir=ve({type:n})}return n})(),_Y=(()=>{class n extends wY{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=ve({type:n,features:[kt]})}return n})(),gd=new ue("");var zke={provide:gd,useExisting:Yn(()=>Ul),multi:!0};function qke(){let n=sa()?sa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Wke=new ue(""),Ul=(()=>{class n extends wY{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!qke())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(De(Oi),De(ft),De(Wke,8))};static \u0275dir=ve({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Le([zke]),kt]})}return n})();function cO(n){return n==null||dO(n)===0}function dO(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var zw=new ue(""),qw=new ue(""),Gke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,He=class{static min(e){return Kke(e)}static max(e){return Yke(e)}static required(e){return Xke(e)}static requiredTrue(e){return Zke(e)}static email(e){return Qke(e)}static minLength(e){return Jke(e)}static maxLength(e){return ebe(e)}static pattern(e){return tbe(e)}static nullValidator(e){return yY()}static compose(e){return MY(e)}static composeAsync(e){return SY(e)}};function Kke(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Yke(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Xke(n){return cO(n.value)?{required:!0}:null}function Zke(n){return n.value===!0?null:{required:!0}}function Qke(n){return cO(n.value)||Gke.test(n.value)?null:{email:!0}}function Jke(n){return e=>{let t=e.value?.length??dO(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ebe(n){return e=>{let t=e.value?.length??dO(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function tbe(n){if(!n)return yY;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(cO(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function yY(n){return null}function kY(n){return n!=null}function bY(n){return sd(n)?Un(n):n}function xY(n){let e={};return n.forEach(t=>{e=t!=null?G(G({},e),t):e}),Object.keys(e).length===0?null:e}function CY(n,e){return e.map(t=>t(n))}function nbe(n){return!n.validate}function EY(n){return n.map(e=>nbe(e)?e:t=>e.validate(t))}function MY(n){if(!n)return null;let e=n.filter(kY);return e.length==0?null:function(t){return xY(CY(t,e))}}function uO(n){return n!=null?MY(EY(n)):null}function SY(n){if(!n)return null;let e=n.filter(kY);return e.length==0?null:function(t){let r=CY(t,e).map(bY);return r3(r).pipe(nt(xY))}}function hO(n){return n!=null?SY(EY(n)):null}function uY(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IY(n){return n._rawValidators}function TY(n){return n._rawAsyncValidators}function oO(n){return n?Array.isArray(n)?n:[n]:[]}function FE(n,e){return Array.isArray(n)?n.includes(e):n===e}function hY(n,e){let t=oO(e);return oO(n).forEach(i=>{FE(t,i)||t.push(i)}),t}function pY(n,e){return oO(e).filter(t=>!FE(n,t))}var BE=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},hs=class extends BE{name;get formDirective(){return null}get path(){return null}},aa=class extends BE{_parent=null;name=null;valueAccessor=null},VE=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rbe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Dlt=ye(G({},rbe),{"[class.ng-submitted]":"isSubmitted"}),ih=(()=>{class n extends VE{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(De(aa,2))};static \u0275dir=ve({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kt]})}return n})(),oh=(()=>{class n extends VE{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(De(hs,10))};static \u0275dir=ve({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&xr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[kt]})}return n})();var Vw="VALID",LE="INVALID",sm="PENDING",jw="DISABLED",rh=class{},jE=class extends rh{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Uw=class extends rh{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$w=class extends rh{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},am=class extends rh{status;source;constructor(e,t){super(),this.status=e,this.source=t}},HE=class extends rh{source;constructor(e){super(),this.source=e}},UE=class extends rh{source;constructor(e){super(),this.source=e}};function pO(n){return(qE(n)?n.validators:n)||null}function ibe(n){return Array.isArray(n)?uO(n):n||null}function fO(n,e){return(qE(e)?e.asyncValidators:n)||null}function obe(n){return Array.isArray(n)?hO(n):n||null}function qE(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function AY(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[t])throw new Se(1001,"")}function DY(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Se(1002,"")})}var lm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zt(this.statusReactive)}set status(e){zt(()=>this.statusReactive.set(e))}_status=ee(()=>this.statusReactive());statusReactive=Te(void 0);get valid(){return this.status===Vw}get invalid(){return this.status===LE}get pending(){return this.status==sm}get disabled(){return this.status===jw}get enabled(){return this.status!==jw}errors;get pristine(){return zt(this.pristineReactive)}set pristine(e){zt(()=>this.pristineReactive.set(e))}_pristine=ee(()=>this.pristineReactive());pristineReactive=Te(!0);get dirty(){return!this.pristine}get touched(){return zt(this.touchedReactive)}set touched(e){zt(()=>this.touchedReactive.set(e))}_touched=ee(()=>this.touchedReactive());touchedReactive=Te(!1);get untouched(){return!this.touched}_events=new Pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hY(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hY(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pY(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pY(e,this._rawAsyncValidators))}hasValidator(e){return FE(this._rawValidators,e)}hasAsyncValidator(e){return FE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $w(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $w(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uw(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uw(!0,r))}markAsPending(e={}){this.status=sm;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new am(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(G({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jw,this.errors=null,this._forEachChild(i=>{i.disable(ye(G({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jE(this.value,r)),this._events.next(new am(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vw,this._forEachChild(r=>{r.enable(ye(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vw||this.status===sm)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jE(this.value,t)),this._events.next(new am(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(G({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jw:Vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=sm,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=bY(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new am(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?jw:this.errors?LE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sm)?sm:this._anyControlsHaveStatus(LE)?LE:Vw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Uw(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $w(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ibe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=obe(this._rawAsyncValidators)}},Hl=class extends lm{constructor(e,t,r){super(pO(t),fO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){DY(this,!0,e),Object.keys(e).forEach(r=>{AY(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sO=class extends Hl{};var gO=new ue("",{providedIn:"root",factory:()=>mO}),mO="always";function vO(n,e){return[...e.path,n]}function aO(n,e,t=mO){wO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),abe(n,e),cbe(n,e),lbe(n,e),sbe(n,e)}function fY(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $E(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sbe(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function wO(n,e){let t=IY(n);e.validator!==null?n.setValidators(uY(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=TY(n);e.asyncValidator!==null?n.setAsyncValidators(uY(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$E(e._rawValidators,i),$E(e._rawAsyncValidators,i)}function zE(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=IY(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=TY(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return $E(e._rawValidators,r),$E(e._rawAsyncValidators,r),t}function abe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&RY(n,e)})}function lbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&RY(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function RY(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cbe(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function PY(n,e){n==null,wO(n,e)}function dbe(n,e){return zE(n,e)}function ube(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function hbe(n){return Object.getPrototypeOf(n.constructor)===_Y}function OY(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function pbe(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ul?t=o:hbe(o)?r=o:i=o}),i||r||t||null}function fbe(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var gbe={provide:hs,useExisting:Yn(()=>yf)},Hw=Promise.resolve(),yf=(()=>{class n extends hs{callSetDisabledState;get submitted(){return zt(this.submittedReactive)}_submitted=ee(()=>this.submittedReactive());submittedReactive=Te(!1);_directives=new Set;form;ngSubmit=new dt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Hl({},uO(t),hO(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hw.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),aO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hw.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hw.then(()=>{let r=this._findContainer(t.path),i=new Hl({});PY(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hw.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),OY(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new HE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new UE(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(De(zw,10),De(qw,10),De(gO,8))};static \u0275dir=ve({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Le([gbe]),kt]})}return n})();function gY(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mY(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Cr=class extends lm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(pO(t),fO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mY(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gY(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gY(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mY(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mbe=n=>n instanceof Cr,vbe=(()=>{class n extends hs{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vO(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=ve({type:n,standalone:!1,features:[kt]})}return n})();var sh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),wbe={provide:gd,useExisting:Yn(()=>_O),multi:!0},_O=(()=>{class n extends _Y{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275dir=ve({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Le([wbe]),kt]})}return n})();var NY=new ue("");var _be={provide:hs,useExisting:Yn(()=>ps)},ps=(()=>{class n extends hs{callSetDisabledState;get submitted(){return zt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ee(()=>this._submittedReactive());_submittedReactive=Te(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new dt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return aO(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){fY(t.control||null,t,!1),fbe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),OY(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new HE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new UE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(fY(r||null,t),mbe(i)&&(aO(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);PY(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&dbe(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wO(this.form,this),this._oldForm&&zE(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(De(zw,10),De(qw,10),De(gO,8))};static \u0275dir=ve({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Le([_be]),kt,wi]})}return n})(),ybe={provide:hs,useExisting:Yn(()=>WE)},WE=(()=>{class n extends vbe{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){LY(this._parent)}static \u0275fac=function(r){return new(r||n)(De(hs,13),De(zw,10),De(qw,10))};static \u0275dir=ve({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Le([ybe]),kt]})}return n})(),kbe={provide:hs,useExisting:Yn(()=>GE)},GE=(()=>{class n extends hs{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){LY(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vO(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(De(hs,13),De(zw,10),De(qw,10))};static \u0275dir=ve({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Le([kbe]),kt]})}return n})();function LY(n){return!(n instanceof WE)&&!(n instanceof ps)&&!(n instanceof GE)}var bbe={provide:aa,useExisting:Yn(()=>md)},md=(()=>{class n extends aa{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new dt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pbe(this,o)}ngOnChanges(t){this._added||this._setUpControl(),ube(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vO(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(De(hs,13),De(zw,10),De(qw,10),De(gd,10),De(NY,8))};static \u0275dir=ve({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Le([bbe]),kt,wi]})}return n})();var yO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})(),lO=class extends lm{constructor(e,t,r){super(pO(t),fO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){DY(this,!1,e),e.forEach((r,i)=>{AY(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vY(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var KE=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return vY(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Hl(i,o)}record(t,r=null){let i=this._reduceControls(t);return new sO(i,r)}control(t,r,i){let o={};return this.useNonNullable?(vY(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cr(t,ye(G({},o),{nonNullable:!0}))):new Cr(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new lO(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Cr)return t;if(t instanceof lm)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $l=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:NY,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gO,useValue:t.callSetDisabledState??mO}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({imports:[yO]})}return n})();var XE=(()=>{class n{isInvalid(t,r){return!!(t&&t.invalid&&(t.touched||r instanceof yf&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cm=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;errorState=Te(!1);matcher=null;constructor(e,t,r,i){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i}updateErrorState(){let e=this.errorState(),t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isInvalid(i,t)??!1;o!==e&&this.errorState.set(o)}};var xbe=Bl("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:text-destructive/20 dark:[&.ng-invalid.ng-touched]:text-destructive/40 [&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:focus-visible:ring-destructive",true:"text-destructive/20 dark:text-destructive/40 border-destructive focus-visible:ring-destructive"}},defaultVariants:{error:"auto"}}),zl=class n{error=W("auto");_state=Li(()=>({error:this.error()}));userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(xbe({error:this._state().error}),this.userClass()));_injector=M(Fe);ngControl=this._injector.get(aa,null);_errorStateTracker;_defaultErrorStateMatcher=M(XE);_parentForm=M(yf,{optional:!0});_parentFormGroup=M(ps,{optional:!0});errorState=ee(()=>this._errorStateTracker.errorState());constructor(){this._errorStateTracker=new cm(this._defaultErrorStateMatcher,this.ngControl,this._parentFormGroup,this._parentForm),Ot(()=>{let e=this._errorStateTracker.errorState();zt(()=>{if(this.ngControl){let t=e&&this.ngControl.invalid&&(this.ngControl.touched||this.ngControl.dirty);this._errorStateTracker.errorState.set(!!t),this.setError(t?!0:"auto")}})})}ngDoCheck(){this._errorStateTracker.updateErrorState()}setError(e){this._state.set({error:e})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmInput",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{error:[1,"error"],userClass:[1,"class","userClass"]},features:[Le([{provide:_f,useExisting:Yn(()=>n)}])]})};var nct=new ue("Ng Glyph Config");var rct=new ue("NgGlyphsToken");function Cbe(n){return n==null?"":/^\d+$/.test(n)?`${n}px`:n}var Ebe=new ue("Ng Icon Pre Processor"),Mbe=new ue("Ng Icon Post Processor");function Sbe(){return M(Ebe,{optional:!0})??(n=>n)}function Ibe(){return M(Mbe,{optional:!0})??(()=>{})}var Tbe=new ue("Ng Icon Logger"),kO=class{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}};function Abe(){return M(Tbe,{optional:!0})??new kO}var Dbe=new ue("Ng Icon Config");function Rbe(){return M(Dbe,{optional:!0})??{}}var Pbe=new ue("Ng Icon Loader Token");var Obe=new ue("Ng Icon Cache Token");function Nbe(){return M(Pbe,{optional:!0})}function Lbe(){return M(Obe,{optional:!0})}function un(n){return[{provide:bO,useFactory:(e=M(bO,{optional:!0,skipSelf:!0}))=>G(G({},e?.reduce((t,r)=>G(G({},t),r),{})),n),multi:!0}]}var bO=new ue("Icons Token");function Fbe(){return M(bO,{optional:!0})??[]}function Bbe(n){return typeof n=="string"?Promise.resolve(n):p0(n)?n.toPromise():n}function Vbe(n){return n.replace(/([^a-zA-Z0-9])+(.)?/g,(e,t,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}var jbe=0,hn=(()=>{let e=class e{constructor(){this.config=Rbe(),this.icons=Fbe(),this.loader=Nbe(),this.cache=Lbe(),this.preProcessor=Sbe(),this.postProcessor=Ibe(),this.injector=M(Fe),this.renderer=M(Oi),this.platform=M(hr),this.elementRef=M(ft),this.uniqueId=jbe++,this.logger=Abe(),this.name=W(),this.svg=W(),this.size=W(this.config.size,{transform:Cbe}),this.strokeWidth=W(this.config.strokeWidth),this.color=W(this.config.color),Ot(()=>this.updateIcon()),M(new sw("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return E(this,null,function*(){let r=this.name(),i=this.svg();if(i!==void 0){this.setSvg(i);return}if(r===void 0)return;let o=Vbe(r);for(let s of[...this.icons].reverse())if(s[o]){this.setSvg(s[o]);return}if(this.loader){let s=yield this.requestIconFromLoader(r);if(s!==null){this.setSvg(s);return}}this.logger.warn(`No icon named ${r} was found. You may need to import it using the withIcons function.`)})}setSvg(r){if(CG(this.platform)){this.elementRef.nativeElement.innerHTML=r,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===r)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),r===""))return;let i=this.renderer.createElement("template");r=this.replaceIds(r),this.renderer.setProperty(i,"innerHTML",this.preProcessor(r)),this.svgElement=i.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(r){if(!r.includes("ID_PLACEHOLDER_"))return r;let i=/ID_PLACEHOLDER_(\d+)/g,o=new Map,s=new Set(r.match(i));if(s===null)return r;for(let a of s){let l=a.replace("ID_PLACEHOLDER_",""),c=`ng-icon-${this.uniqueId}-${o.size}`;o.set(l,c),r=r.replace(new RegExp(a,"g"),c)}return r}requestIconFromLoader(r){return new Promise(i=>{$n(this.injector,()=>E(this,null,function*(){if(this.cache){let a=this.cache.get(r);if(typeof a=="string"){i(a);return}if(a instanceof Promise){let l=yield a;i(l);return}}let o=Bbe(this.loader(r));this.cache?.set(r,o);let s=yield o;this.cache?.set(r,s),i(s)}))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(i,o){i&2&&ra("--ng-icon__stroke-width",o.strokeWidth())("--ng-icon__size",o.size())("--ng-icon__color",o.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(i,o){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0});let n=e;return n})();var dm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>';var FY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg>';var BY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><path d="M7 16h8"></path><path d="M7 11h12"></path><path d="M7 6h3"></path></svg>';var ZE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M20 6 9 17l-5-5"></path></svg>';var um='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m6 9 6 6 6-6"></path></svg>';var VY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m15 18-6-6 6-6"></path></svg>',jY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m9 18 6-6-6-6"></path></svg>',HY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m18 15-6-6-6 6"></path></svg>';var UY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M16 2v2"></path><path d="M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"></path><path d="M8 2v2"></path><circle cx="12" cy="11" r="3"></circle><rect x="3" y="4" width="18" height="18" rx="2"></rect></svg>';var QE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 15V3"></path><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><path d="m7 10 5 5 5-5"></path></svg>';var $Y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg>';var hm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>';var zY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M3 15h6"></path><path d="M6 12v6"></path></svg>';var qY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>';var pm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>';var WY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M3 9h18"></path><path d="M3 15h18"></path><path d="M9 3v18"></path><path d="M15 3v18"></path></svg>';var GY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>';var fm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg>';var JE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="7" height="7" x="3" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="14" rx="1"></rect><rect width="7" height="7" x="3" y="14" rx="1"></rect></svg>';var KY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',gm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>';var YY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path><rect x="2" y="4" width="20" height="16" rx="2"></rect></svg>';var mm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg>';var XY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>';var ZY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path></svg>';var QY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path><path d="m15 5 4 4"></path></svg>';var JY='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="5" height="5" x="3" y="3" rx="1"></rect><rect width="5" height="5" x="16" y="3" rx="1"></rect><rect width="5" height="5" x="3" y="16" rx="1"></rect><path d="M21 16h-3a2 2 0 0 0-2 2v3"></path><path d="M21 21v.01"></path><path d="M12 7v3a2 2 0 0 1-2 2H7"></path><path d="M3 12h.01"></path><path d="M12 3h.01"></path><path d="M12 16v.01"></path><path d="M16 12h1"></path><path d="M21 12v.01"></path><path d="M12 21v-1"></path></svg>';var eX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg>';var tX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>';var e4='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>';var vm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>';var nX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"></path><rect x="2" y="6" width="14" height="12" rx="2"></rect></svg>';var rX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',wm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></svg>';function iX(n){return n.buttons===0||n.detail===0}function oX(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var xO;function Hbe(){if(xO==null){let n=typeof document<"u"?document.head:null;xO=!!(n&&(n.createShadowRoot||n.attachShadow))}return xO}function sX(n){if(Hbe()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function t4(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ql(n){return n.composedPath?n.composedPath()[0]:n.target}var CO;try{CO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CO=!1}var qr=(()=>{class n{_platformId=M(hr);isBrowser=this._platformId?mo(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||CO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ww;function aX(){if(Ww==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ww=!0}))}finally{Ww=Ww||!1}return Ww}function kf(n){return aX()?n:!!n.capture}function _m(n,e=0){return lX(n)?Number(n):arguments.length===2?e:0}function lX(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function vd(n){return n instanceof ft?n.nativeElement:n}var cX=new ue("cdk-input-modality-detector-options"),dX={ignoreKeys:[18,17,224,91,16]},uX=650,EO={passive:!0,capture:!0},hX=(()=>{class n{_platform=M(qr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Hr(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ql(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<uX||(this._modality.next(iX(t)?"keyboard":"mouse"),this._mostRecentTarget=ql(t))};_onTouchstart=t=>{if(oX(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ql(t)};constructor(){let t=M(Be),r=M(_t),i=M(cX,{optional:!0});if(this._options=G(G({},dX),i),this.modalityDetected=this._modality.pipe(gv(1)),this.modalityChanged=this.modalityDetected.pipe(Cx()),this._platform.isBrowser){let o=M(Pi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,EO),o.listen(r,"mousedown",this._onMousedown,EO),o.listen(r,"touchstart",this._onTouchstart,EO)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gw=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Gw||{}),pX=new ue("cdk-focus-monitor-default-options"),n4=kf({passive:!0,capture:!0}),bf=(()=>{class n{_ngZone=M(Be);_platform=M(qr);_inputModalityDetector=M(hX);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=M(_t);_stopInputModalityDetector=new Pe;constructor(){let t=M(pX,{optional:!0});this._detectionMode=t?.detectionMode||Gw.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=ql(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=vd(t);if(!this._platform.isBrowser||i.nodeType!==1)return Xe();let o=sX(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new Pe,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=vd(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=vd(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Gw.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Gw.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?uX:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=ql(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,n4),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,n4)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($e(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,n4),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,n4),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var r4=new WeakMap,xf=(()=>{class n{_appRef;_injector=M(Fe);_environmentInjector=M(Kn);load(t){let r=this._appRef=this._appRef||this._injector.get(as),i=r4.get(r);i||(i={loaders:new Set,refs:[]},r4.set(r,i),r.onDestroy(()=>{r4.get(r)?.refs.forEach(o=>o.destroy()),r4.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(GC(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var i4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function MO(n){return Array.isArray(n)?n:[n]}function Ube(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let e=0;e<n.addedNodes.length;e++)if(!(n.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<n.removedNodes.length;e++)if(!(n.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var $be=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zbe=(()=>{class n{_mutationObserverFactory=M($be);_observedElements=new Map;_ngZone=M(Be);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){let r=vd(t);return new Qe(i=>{let s=this._observeElement(r).pipe(nt(a=>a.filter(l=>!Ube(l))),an(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let r=new Pe,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fX=(()=>{class n{_contentObserver=M(zbe);_elementRef=M(ft);event=new dt;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=_m(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(Gc(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Je],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})();var IO=(()=>{class n{_platform=M(qr);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Wbe(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=qbe(exe(t));if(r&&(gX(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=gX(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Qbe(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return Jbe(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qbe(n){try{return n.frameElement}catch{return null}}function Wbe(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function Gbe(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Kbe(n){return Xbe(n)&&n.type=="hidden"}function Ybe(n){return Zbe(n)&&n.hasAttribute("href")}function Xbe(n){return n.nodeName.toLowerCase()=="input"}function Zbe(n){return n.nodeName.toLowerCase()=="a"}function mX(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function gX(n){if(!mX(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Qbe(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function Jbe(n){return Kbe(n)?!1:Gbe(n)||Ybe(n)||n.hasAttribute("contenteditable")||mX(n)}function exe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var SO=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?qi(e,{injector:this._injector}):setTimeout(e)}},vX=(()=>{class n{_checker=M(IO);_ngZone=M(Be);_document=M(_t);_injector=M(Fe);constructor(){M(xf).load(i4)}create(t,r=!1){return new SO(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TO={},o4=(()=>{class n{_appId=M(Ku);getId(t){return this._appId!=="ng"&&(t+=this._appId),TO.hasOwnProperty(t)||(TO[t]=0),`${t}${TO[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var txe=200,s4=class{_letterKeyStream=new Pe;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Pe;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:txe;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Jr(t=>this._pressedLetters.push(t)),Gc(e),an(()=>this._pressedLetters.length>0),nt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Wl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var a4=class{_items;_activeItemIndex=Te(-1);_activeItem=Te(null);_wrap=!1;_typeaheadSubscription=xn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof sf?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Pv(e)&&(this._effectRef=Ot(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Pe;change=new Pe;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new s4(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Wl(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Pv(this._items)?this._items():this._items instanceof sf?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var ah=class extends a4{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var _X=" ";function nxe(n,e,t){let r=c4(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(_X)))}function rxe(n,e,t){let r=c4(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(_X)):n.removeAttribute(e)}function c4(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var yX="cdk-describedby-message",l4="cdk-describedby-host",DO=0,kX=(()=>{class n{_platform=M(qr);_document=M(_t);_messageRegistry=new Map;_messagesContainer=null;_id=`${DO++}`;constructor(){M(xf).load(i4),this._id=M(Ku)+"-"+DO++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let o=AO(r,i);typeof r!="string"?(wX(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let o=AO(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof r=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${l4}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(l4);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");wX(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(AO(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=c4(t,"aria-describedby").filter(i=>i.indexOf(yX)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);nxe(t,"aria-describedby",i.messageElement.id),t.setAttribute(l4,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,rxe(t,"aria-describedby",i.messageElement.id),t.removeAttribute(l4)}_isElementDescribedByMessage(t,r){let i=c4(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AO(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function wX(n,e){n.id||(n.id=`${yX}-${e}-${DO++}`)}function ym(n){n||(n=M(sr));let e=new Qe(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe($e(e))}function d4(n,e){let t=e?.injector??M(Fe),r=new Lp(1),i=Ot(()=>{let o;try{o=n()}catch(s){zt(()=>r.error(s));return}zt(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(sr).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function RO(n,e){let r=!e?.manualCleanup?e?.injector?.get(sr)??M(sr):null,i=ixe(e?.equal),o;e?.requireSync?o=Te({kind:0},{equal:i}):o=Te({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:l=>o.set({kind:1,value:l}),error:l=>{o.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new Se(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),ee(()=>{let l=o();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Se(601,!1)}},{equal:e?.equal})}function ixe(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function bX(n){n===void 0&&(n=M(Fe));let e=n.get(td);return t=>new Qe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var oxe=["checkBox"],sxe=()=>({display:"contents"}),axe=["*"],lxe={provide:gd,useExisting:Yn(()=>OO),multi:!0},cxe=0,PO="-checkbox",OO=(()=>{class n{_destroyRef=M(sr);_renderer=M(Oi);_elementRef=M(ft);_focusMonitor=M(bf);_cdr=M(go);_document=M(_t);_isBrowser=mo(M(hr));_focusVisible=Te(!1);_focused=Te(!1);checked=dd(!1);isChecked=this.checked.asReadonly();_dataState=ee(()=>{let t=this.checked();return t==="indeterminate"?"indeterminate":t?"checked":"unchecked"});_ariaChecked=ee(()=>{let t=this.checked();return t==="indeterminate"?"mixed":t?"true":"false"});id=W(++cxe+"");name=W(null);class=W(null);ariaLabel=W(null,{alias:"aria-label"});ariaLabelledby=W(null,{alias:"aria-labelledby"});mutableAriaLabelledby=Li(()=>this.ariaLabelledby());ariaDescribedby=W(null,{alias:"aria-describedby"});required=W(!1,{transform:Je});disabled=W(!1,{transform:Je});_state=ee(()=>{let t=this.name(),r=this.id();return{disabled:Te(this.disabled()),name:t?t+PO:null,id:r?r+PO:null}});_onChange=()=>{};_onTouched=()=>{};checkbox=fo.required("checkBox");changed=oa();touched=oa();constructor(){Ot(()=>{let t=this._state(),r=t.disabled();if(!this._elementRef.nativeElement||!this._isBrowser)return;let i=t.id+"-label",o=this.getCheckboxButtonId(t.id),s=this._elementRef.nativeElement.closest("label")??this._document.querySelector(`label[for="${o}"]`);if(!s)return;let a=s.id;this._renderer.setAttribute(s,"data-disabled",r?"true":"false"),this.mutableAriaLabelledby.set(a||i),(!a||a.length===0)&&this._renderer.setAttribute(s,"id",i)})}toggle(){if(this._state().disabled())return;this._onTouched(),this.touched.emit();let t=this.checked();this.checked.set(t==="indeterminate"?!0:!t),this._onChange(this.checked()),this.changed.emit(this.checked())}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).pipe(ym(this._destroyRef)).subscribe(t=>{t&&this._focused.set(!0),(t==="keyboard"||t==="program")&&(this._focusVisible.set(!0),this._cdr.markForCheck()),t||Promise.resolve().then(()=>{this._focusVisible.set(!1),this._focused.set(!1),this._onTouched(),this.touched.emit(),this._cdr.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}getCheckboxButtonId(t){return t?t.replace(PO,""):null}writeValue(t){t==="indeterminate"?this.checked.set("indeterminate"):this.checked.set(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._state().disabled.set(t),this._cdr.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-checkbox"]],viewQuery:function(r,i){r&1&&Wi(i.checkbox,oxe,5),r&2&&br()},hostVars:12,hostBindings:function(r,i){r&2&&(Pt("id",i._state().id)("name",i._state().name)("aria-labelledby",null)("aria-label",null)("aria-describedby",null)("data-state",i._dataState())("data-focus-visible",i._focusVisible())("data-focus",i._focused())("data-disabled",i._state().disabled()),ls(cf(11,sxe)))},inputs:{checked:[1,"checked"],id:[1,"id"],name:[1,"name"],class:[1,"class"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],required:[1,"required"],disabled:[1,"disabled"]},outputs:{checked:"checkedChange",changed:"changed",touched:"touched"},features:[Le([lxe])],ngContentSelectors:axe,decls:3,vars:14,consts:[["checkBox",""],["role","checkbox","type","button",3,"click","id","name","disabled","tabIndex"]],template:function(r,i){if(r&1){let o=dn();tn(),pr(0,"button",1,0),$C("click",function(a){return We(o),a.preventDefault(),Ge(i.toggle())}),rt(2),kr()}r&2&&(se(i.class()),ki("id",i.getCheckboxButtonId(i._state().id)??"")("name",i.getCheckboxButtonId(i._state().name)??"")("disabled",i._state().disabled())("tabIndex",i._state().disabled()?-1:0),Pt("aria-checked",i._ariaChecked())("aria-label",i.ariaLabel()||null)("aria-labelledby",i.mutableAriaLabelledby()||null)("aria-describedby",i.ariaDescribedby()||null)("data-state",i._dataState())("data-focus-visible",i._focusVisible())("data-focus",i._focused())("data-disabled",i._state().disabled()))},encapsulation:2,changeDetection:0})}return n})();var dxe={size:"base"},uxe=new ue("HlmIconConfig");function xX(){return M(uxe,{optional:!0})??dxe}var tr=class n{_config=xX();size=W(this._config.size);_computedSize=ee(()=>{let e=this.size();switch(e){case"xs":return"12px";case"sm":return"16px";case"base":return"24px";case"lg":return"32px";case"xl":return"48px";default:return e}});static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["ng-icon","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&ra("--ng-icon__size",r._computedSize())},inputs:{size:[1,"size"]}})};function hxe(n,e){n&1&&(D(0,"span",1),oe(1,"ng-icon",2),A())}var pxe={provide:gd,useExisting:Yn(()=>lh),multi:!0},lh=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-default",this.userClass(),this._state().disabled()?"cursor-not-allowed opacity-50":""));id=W(null);ariaLabel=W(null,{alias:"aria-label"});ariaLabelledby=W(null,{alias:"aria-labelledby"});ariaDescribedby=W(null,{alias:"aria-describedby"});checked=dd(!1);name=W(null);required=W(!1,{transform:Je});disabled=W(!1,{transform:Je});_state=ee(()=>({disabled:Te(this.disabled())}));changed=oa();_onChange;_onTouched;_handleChange(){if(this._state().disabled())return;let e=this.checked();this.checked.set(e==="indeterminate"?!0:!e),this._onChange?.(!e),this.changed.emit(!e)}writeValue(e){this.checked.set(!!e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._state().disabled.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-checkbox"]],hostAttrs:[1,"contents","peer"],hostVars:5,hostBindings:function(t,r){t&2&&Pt("id",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null)("data-disabled",r._state().disabled()?"":null)},inputs:{userClass:[1,"class","userClass"],id:[1,"id"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],checked:[1,"checked"],name:[1,"name"],required:[1,"required"],disabled:[1,"disabled"]},outputs:{checked:"checkedChange",changed:"changed"},features:[Le([pxe],[un({lucideCheck:ZE})])],decls:2,vars:11,consts:[[3,"changed","touched","id","name","checked","disabled","required","aria-label","aria-labelledby","aria-describedby"],[1,"flex","items-center","justify-center","text-current","transition-none"],["hlm","","size","14px","name","lucideCheck"]],template:function(t,r){t&1&&(D(0,"brn-checkbox",0),we("changed",function(){return r._handleChange()})("touched",function(){return r._onTouched==null?null:r._onTouched()}),te(1,hxe,2,0,"span",1),A()),t&2&&(se(r._computedClass()),fe("id",r.id())("name",r.name())("checked",r.checked())("disabled",r._state().disabled())("required",r.required()),UC("aria-label",r.ariaLabel())("aria-labelledby",r.ariaLabelledby())("aria-describedby",r.ariaDescribedby()),N(),ne(r.checked()?1:-1))},dependencies:[OO,hn,tr],encapsulation:2,changeDetection:0})};var km=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-logo"]],decls:19,vars:0,consts:[["width","64","height","64","viewBox","0 0 64 64","xmlns","http://www.w3.org/2000/svg","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"logo-class"],["x1","32","y1","50","x2","32","y2","32"],["cx","32","cy","28","r","3"],["x1","32","y1","28","x2","32","y2","14"],["x1","32","y1","28","x2","44","y2","18"],["x1","32","y1","28","x2","48","y2","32"],["x1","32","y1","28","x2","44","y2","46"],["x1","32","y1","28","x2","32","y2","50"],["x1","32","y1","28","x2","20","y2","46"],["x1","32","y1","28","x2","16","y2","32"],["x1","32","y1","28","x2","20","y2","18"],["cx","32","cy","14","r","2"],["cx","44","cy","18","r","2"],["cx","48","cy","32","r","2"],["cx","44","cy","46","r","2"],["cx","32","cy","50","r","2"],["cx","20","cy","46","r","2"],["cx","16","cy","32","r","2"],["cx","20","cy","18","r","2"]],template:function(t,r){t&1&&(na(),pr(0,"svg",0),jo(1,"line",1)(2,"circle",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6)(7,"line",7)(8,"line",8)(9,"line",9)(10,"line",10)(11,"circle",11)(12,"circle",12)(13,"circle",13)(14,"circle",14)(15,"circle",15)(16,"circle",16)(17,"circle",17)(18,"circle",18),kr())},encapsulation:2})};var CX="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl";var EX="scroll-m-20 text-2xl font-semibold tracking-tight";var MX="text-sm text-muted-foreground";var nr=class n{mutedStyle=MX;h3Style=EX;h1Style=CX;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-base-page-screen"]],decls:2,vars:0,template:function(t,r){t&1&&(pr(0,"p"),H(1,"base-page-screen works!"),kr())},encapsulation:2})};var fxe=0,ch=(()=>{class n{_ngControl=M(aa,{optional:!0});id=W(`brn-label-${++fxe}`);_isBrowser=mo(M(hr));_element=M(ft).nativeElement;_changes;_dataDisabled=Te("auto");dataDisabled=this._dataDisabled.asReadonly();ngOnInit(){this._isBrowser&&(this._changes=new MutationObserver(t=>{t.forEach(r=>{if(r.attributeName!=="data-disabled")return;let i=r.target.attributes.getNamedItem(r.attributeName)?.value==="true";this._dataDisabled.set(i??"auto")})}),this._changes?.observe(this._element,{attributes:!0,childList:!0,characterData:!0}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnLabel",""]],hostVars:9,hostBindings:function(r,i){r&2&&(ki("id",i.id()),xr("ng-invalid",(i._ngControl==null?null:i._ngControl.invalid)||null)("ng-dirty",(i._ngControl==null?null:i._ngControl.dirty)||null)("ng-valid",(i._ngControl==null?null:i._ngControl.valid)||null)("ng-touched",(i._ngControl==null?null:i._ngControl.touched)||null))},inputs:{id:[1,"id"]}})}return n})();var Gl=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 peer-data-[disabled]:cursor-not-allowed peer-data-[disabled]:opacity-50 has-[[disabled]]:cursor-not-allowed has-[[disabled]]:opacity-50",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmLabel",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Zn([{directive:ch,inputs:["id","id"]}])]})};function NO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Wr(n){return n==null?"":typeof n=="string"?n:`${n}px`}var gxe=new ue("cdk-dir-doc",{providedIn:"root",factory:mxe});function mxe(){return M(_t)}var vxe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function IX(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?vxe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ga=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Te("ltr");change=new dt;constructor(){let t=M(gxe,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(IX(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cf;function TX(){if(Cf==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Cf=!1,Cf;if("scrollBehavior"in document.documentElement.style)Cf=!0;else{let n=Element.prototype.scrollTo;n?Cf=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Cf=!1}}return Cf}var Kw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})();var wxe=20,bm=(()=>{class n{_ngZone=M(Be);_platform=M(qr);_renderer=M(Pi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Pe;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=wxe){return this._platform.isBrowser?new Qe(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(xx(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Xe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(an(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=vd(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _xe=20,dh=(()=>{class n{_platform=M(qr);_listeners;_viewportSize;_change=new Pe;_document=M(_t);constructor(){let t=M(Be),r=M(Pi).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=_xe){return t>0?this._change.pipe(xx(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})(),FO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({imports:[Kw,LO,Kw,LO]})}return n})();var Yw=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},uh=class extends Yw{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Ef=class extends Yw{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},BO=class extends Yw{element;constructor(e){super(),this.element=e instanceof ft?e.nativeElement:e}},xm=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof uh)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ef)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof BO)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},u4=class extends xm{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(ja,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Fe.NULL,o=i.get(Kn,r.injector);t=GC(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var VO=(()=>{class n extends xm{_moduleRef=M(ja,{optional:!0});_document=M(_t);_viewContainerRef=M(Ni);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new dt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[kt]})}return n})();var jO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})();var AX=TX();function w4(n){return new h4(n.get(dh),n.get(_t))}var h4=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Wr(-this._previousScrollPosition.left),e.style.top=Wr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),AX&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AX&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function FX(n,e){return new p4(n.get(bm),n.get(Be),n.get(dh),e)}var p4=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(an(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Xw=class{enable(){}disable(){}attach(){}};function HO(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function DX(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function _4(n,e){return new f4(n.get(bm),n.get(dh),n.get(Be),e)}var f4=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();HO(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Qw=(()=>{class n{_injector=M(Fe);constructor(){}noop=()=>new Xw;close=t=>FX(this._injector,t);block=()=>w4(this._injector);reposition=t=>_4(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sf=class{positionStrategy;scrollStrategy=new Xw;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var g4=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var BX=(()=>{class n{_attachedOverlays=[];_document=M(_t);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VX=(()=>{class n extends BX{_ngZone=M(Be);_renderer=M(Pi).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jX=(()=>{class n extends BX{_platform=M(qr);_ngZone=M(Be);_renderer=M(Pi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=ql(t)};_clickListener=t=>{let r=ql(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(RX(a.overlayElement,r)||RX(a.overlayElement,i))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=zn(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RX(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var HX=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),y4=(()=>{class n{_platform=M(qr);_containerElement;_document=M(_t);_styleLoader=M(xf);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||NO()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),NO()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(HX)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UO=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Cm=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Pe;_attachments=new Pe;_detachments=new Pe;_positionStrategy;_scrollStrategy;_locationChanges=xn.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Pe;_outsidePointerEvents=new Pe;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,l,c,u=!1,p,g){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=p,this._renderer=g,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=qi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=G(G({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ye(G({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Wr(this._config.width),e.height=Wr(this._config.height),e.minWidth=Wr(this._config.minWidth),e.minHeight=Wr(this._config.minHeight),e.maxWidth=Wr(this._config.maxWidth),e.maxHeight=Wr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new UO(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=MO(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=qi(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},PX="cdk-overlay-connected-position-bounding-box",kxe=/([A-Za-z%]+)$/;function $O(n,e){return new m4(e,n.get(dh),n.get(_t),n.get(qr),n.get(y4))}var m4=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Pe;_resizeSubscription=xn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(PX),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(u,c,r)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=NX(t),{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let u=0-s,p=s+o.width-r.width,g=0-a,v=a+o.height-r.height,w=this._subtractOverflows(o.width,u,p),y=this._subtractOverflows(o.height,g,v),x=w*y;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=OX(this._overlayRef.getConfig().minHeight),a=OX(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=i,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=NX(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0),u=0,p=0;return i.width<=o.width?u=c||-s:u=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=l||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:p},{x:e.x+u,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!bxe(this._lastScrollVisibility,r)){let i=new g4(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let v=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;o=v*2,s=e.y-v,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}let l=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,c=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,u,p,g;if(c)g=r.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(l)p=e.x,u=r.right-e.x;else{let v=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;u=v*2,p=e.x-v,u>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:u,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Wr(r.height),i.top=Wr(r.top),i.bottom=Wr(r.bottom),i.width=Wr(r.width),i.left=Wr(r.left),i.right=Wr(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Wr(o)),s&&(i.maxWidth=Wr(s))}this._lastBoundingBoxSize=r,Mf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Mf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Mf(r,this._getExactOverlayY(t,e,u)),Mf(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Wr(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Wr(s.maxWidth):o&&(r.maxWidth="")),Mf(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Wr(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Wr(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DX(e,r),isOriginOutsideView:HO(e,r),isOverlayClipped:DX(t,r),isOverlayOutsideView:HO(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&MO(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ft)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Mf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function OX(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(kxe);return!t||t==="px"?parseFloat(e):null}return n||null}function NX(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function bxe(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var LX="cdk-global-overlay-wrapper";function k4(n){return new v4}var v4=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(LX),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",v="",w="",y="";l?y="flex-start":u==="center"?(y="center",g?w=p:v=p):g?u==="left"||u==="end"?(y="flex-end",v=p):(u==="right"||u==="start")&&(y="flex-start",w=p):u==="left"||u==="start"?(y="flex-start",v=p):(u==="right"||u==="end")&&(y="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=l?"0":v,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(LX),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Jw=(()=>{class n{_injector=M(Fe);constructor(){}global(){return k4()}flexibleConnectedTo(t){return $O(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e_(n,e){n.get(xf).load(HX);let t=n.get(y4),r=n.get(_t),i=n.get(o4),o=n.get(as),s=n.get(Ga),a=r.createElement("div"),l=r.createElement("div");l.id=i.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let c=new u4(l,o,n),u=new Sf(e),p=n.get(Oi,null,{optional:!0})||n.get(Pi).createRenderer(null,null);return u.direction=u.direction||s.value,new Cm(c,a,l,u,n.get(Be),n.get(VX),r,n.get(cs),n.get(jX),e?.disableAnimations??n.get(Wv,null,{optional:!0})==="NoopAnimations",n.get(Kn),p)}var t_=(()=>{class n{scrollStrategies=M(Qw);_positionBuilder=M(Jw);_injector=M(Fe);constructor(){}create(t){return e_(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xxe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],UX=new ue("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=M(Fe);return()=>_4(n)}}),Zw=(()=>{class n{elementRef=M(ft);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),Em=(()=>{class n{_dir=M(Ga,{optional:!0});_injector=M(Fe);_overlayRef;_templatePortal;_backdropSubscription=xn.EMPTY;_attachSubscription=xn.EMPTY;_detachSubscription=xn.EMPTY;_positionSubscription=xn.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=M(UX);_disposeOnNavigation=!1;_ngZone=M(Be);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new dt;positionChange=new dt;attach=new dt;detach=new dt;overlayKeydown=new dt;overlayOutsideClick=new dt;constructor(){let t=M(zi),r=M(Ni);this._templatePortal=new Ef(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xxe);let t=this._overlayRef=e_(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Wl(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=ql(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Sf({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=$O(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Zw?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Zw?this.origin.elementRef.nativeElement:this.origin instanceof ft?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(c3(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Je],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Je],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Je],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Je],push:[2,"cdkConnectedOverlayPush","push",Je],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Je]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[wi]})}return n})();function Cxe(n){let e=M(Fe);return()=>_4(e)}var Exe={provide:UX,useFactory:Cxe},b4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({providers:[t_,Exe],imports:[Kw,jO,FO,FO]})}return n})();function Sxe(n,e){}var Mm=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Ixe=(()=>{class n extends xm{_elementRef=M(ft);_focusTrapFactory=M(vX);_config;_interactivityChecker=M(IO);_ngZone=M(Be);_focusMonitor=M(bf);_renderer=M(Oi);_changeDetectorRef=M(go);_injector=M(Fe);_platform=M(qr);_document=M(_t);_portalOutlet;_focusTrapped=new Pe;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=M(Mm,{optional:!0})||new Mm,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}attachDomPortal=t=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(t){this._isDestroyed||qi(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,r=null;if(typeof t=="string"?r=this._document.querySelector(t):typeof t=="boolean"?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=t4(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,r=t4();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=t4()))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&Ol(VO,7),r&2){let o;Ua(o=$a())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&Pt("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[kt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&ss(0,Sxe,0,0,"ng-template",0)},dependencies:[VO],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),n_=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Pe;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Wl(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this._canClose(e)){let r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(e,t,this.componentInstance))}},Txe=new ue("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=M(Fe);return()=>w4(n)}}),qO=new ue("DialogData"),Axe=new ue("DefaultDialogConfig");function Dxe(n){let e=Te(n),t=new dt;return{valueSignal:e,get value(){return e()},change:t,ngOnDestroy(){t.complete()}}}var $X=(()=>{class n{_injector=M(Fe);_defaultOptions=M(Axe,{optional:!0});_parentDialog=M(n,{optional:!0,skipSelf:!0});_overlayContainer=M(y4);_idGenerator=M(o4);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Pe;_afterOpenedAtThisLevel=new Pe;_ariaHiddenElements=new Map;_scrollStrategy=M(Txe);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Vp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vu(void 0)));constructor(){}open(t,r){let i=this._defaultOptions||new Mm;r=G(G({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),s=e_(this._injector,o),a=new n_(s,r),l=this._attachContainer(s,a,r);if(a.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Ur(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(t,a,l,r),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){zO(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){zO(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),zO(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let r=new Sf({positionStrategy:t.positionStrategy||k4().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Mm,useValue:i},{provide:n_,useValue:r},{provide:Cm,useValue:t}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=Ixe;let l=new uh(a,i.viewContainerRef,Fe.create({parent:o||this._injector,providers:s}));return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof zi){let s=this._createInjector(o,r,i,void 0),a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=G(G({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new Ef(t,null,a,s))}else{let s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new uh(t,o.viewContainerRef,s));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:qO,useValue:t.data},{provide:n_,useValue:r}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(Ga,null,{optional:!0}))&&a.push({provide:Ga,useValue:Dxe(t.direction)}),Fe.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){let r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zO(n,e){let t=n.length;for(;t--;)e(n[t])}var Rxe=["*"],WO={attachPositions:[],autoFocus:"first-tabbable",closeDelay:100,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,disableClose:!1,hasBackdrop:!0,positionStrategy:null,restoreFocus:!0,role:"dialog",scrollStrategy:null},zX=new ue("brn-dialog-default-options",{providedIn:"root",factory:()=>WO});function qX(n){return{provide:zX,useValue:G(G({},WO),n)}}function Pxe(){return M(zX,{optional:!0})??WO}var Sm=(n,e="")=>{if(typeof n=="string"){let t=n.trim().split(" ");return t.length===0?[e]:t}return n??[]},Gi=class{_cdkDialogRef;_open;state;dialogId;_options;_closing$=new Pe;closing$=this._closing$.asObservable();closed$;_previousTimeout;get open(){return this.state()==="open"}constructor(e,t,r,i,o){this._cdkDialogRef=e,this._open=t,this.state=r,this.dialogId=i,this._options=o,this.closed$=this._cdkDialogRef.closed.pipe(Ur(1))}close(e,t=this._options?.closeDelay??0){!this.open||this._options?.disableClose||(this._closing$.next(),this._open.set(!1),this._previousTimeout&&clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._cdkDialogRef.close(e)},t))}setPanelClass(e){this._cdkDialogRef.config.panelClass=Sm(e)}setOverlayClass(e){this._cdkDialogRef.config.backdropClass=Sm(e)}setAriaDescribedBy(e){this._cdkDialogRef.config.ariaDescribedBy=e}setAriaLabelledBy(e){this._cdkDialogRef.config.ariaLabelledBy=e}setAriaLabel(e){this._cdkDialogRef.config.ariaLabel=e}},Oxe=0;var Kl=(n={})=>M(qO,n),GO=(()=>{class n{_cdkDialog=M($X);_rendererFactory=M(Pi);_renderer=this._rendererFactory.createRenderer(null,null);_positionBuilder=M(Jw);_sso=M(Qw);_injector=M(Fe);open(t,r,i,o){if(o?.id&&this._cdkDialog.getDialogById(o.id))throw new Error(`Dialog with ID: ${o.id} already exists`);let s=o?.positionStrategy??(o?.attachTo&&o?.attachPositions&&o?.attachPositions?.length>0?this._positionBuilder?.flexibleConnectedTo(o.attachTo).withPositions(o.attachPositions??[]):this._positionBuilder.global().centerHorizontally().centerVertically()),a,l,c=ye(G({},i),{close:(b=void 0)=>a.close(b,o?.closeDelay)}),u=new Pe,p=Te(!0),g=ee(()=>p()?"open":"closed"),v=++Oxe,w=this._cdkDialog.open(t,{id:o?.id??`brn-dialog-${v}`,role:o?.role,viewContainerRef:r,templateContext:()=>({$implicit:c}),data:c,hasBackdrop:o?.hasBackdrop,panelClass:Sm(o?.panelClass),backdropClass:Sm(o?.backdropClass,"bg-transparent"),positionStrategy:s,scrollStrategy:o?.scrollStrategy??this._sso?.block(),restoreFocus:o?.restoreFocus,disableClose:!0,autoFocus:o?.autoFocus??"first-tabbable",ariaDescribedBy:o?.ariaDescribedBy??`brn-dialog-description-${v}`,ariaLabelledBy:o?.ariaLabelledBy??`brn-dialog-title-${v}`,ariaLabel:o?.ariaLabel,ariaModal:o?.ariaModal,providers:b=>{a=new Gi(b,p,g,v,o),$n(this._injector,()=>{l=Ot(()=>{y&&this._renderer.setAttribute(y,"data-state",g()),x&&this._renderer.setAttribute(x,"data-state",g())})});let R=[{provide:Gi,useValue:a}];return o?.providers&&(typeof o.providers=="function"&&R.push(...o.providers()),Array.isArray(o.providers)&&R.push(...o.providers)),R}}),y=w.overlayRef.overlayElement,x=w.overlayRef.backdropElement;return o?.closeOnOutsidePointerEvents&&w.outsidePointerEvents.pipe($e(u)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),o?.closeOnBackdropClick&&w.backdropClick.pipe($e(u)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),o?.disableClose||w.keydownEvents.pipe(an(b=>b.key==="Escape"),$e(u)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),w.closed.pipe($e(u)).subscribe(()=>{l?.destroy(),u.next()}),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x4=(()=>{class n{_dialogService=M(GO);_vcr=M(Ni);positionBuilder=M(Jw);ssos=M(Qw);_injector=M(Fe);_defaultOptions=Pxe();_context={};stateComputed=ee(()=>this._dialogRef()?.state()??"closed");_contentTemplate;_dialogRef=Te(void 0);_dialogStateEffectRef;_backdropClass=Te(null);_panelClass=Te(null);closed=oa();stateChanged=oa();state=W(null);role=W(this._defaultOptions.role);hasBackdrop=W(this._defaultOptions.hasBackdrop,{transform:Je});positionStrategy=W(this._defaultOptions.positionStrategy);mutablePositionStrategy=Li(()=>this.positionStrategy());scrollStrategy=W(this._defaultOptions.scrollStrategy);_options=ee(()=>{let t=this.scrollStrategy(),r;return t==="close"?r=this.ssos.close():t==="reposition"?r=this.ssos.reposition():r=t,{role:this.role(),hasBackdrop:this.hasBackdrop(),positionStrategy:this.mutablePositionStrategy(),scrollStrategy:r,restoreFocus:this.restoreFocus(),closeOnOutsidePointerEvents:this.mutableCloseOnOutsidePointerEvents(),closeOnBackdropClick:this.closeOnBackdropClick(),attachTo:this.mutableAttachTo(),attachPositions:this.mutableAttachPositions(),autoFocus:this.autoFocus(),closeDelay:this.closeDelay(),disableClose:this.disableClose(),backdropClass:this._backdropClass()??"",panelClass:this._panelClass()??"",ariaDescribedBy:this._mutableAriaDescribedBy(),ariaLabelledBy:this._mutableAriaLabelledBy(),ariaLabel:this._mutableAriaLabel(),ariaModal:this._mutableAriaModal()}});constructor(){Ot(()=>{let t=this.state();t==="open"&&zt(()=>this.open()),t==="closed"&&zt(()=>this.close())})}restoreFocus=W(this._defaultOptions.restoreFocus);closeOnOutsidePointerEvents=W(this._defaultOptions.closeOnOutsidePointerEvents,{transform:Je});mutableCloseOnOutsidePointerEvents=Li(()=>this.closeOnOutsidePointerEvents());closeOnBackdropClick=W(this._defaultOptions.closeOnBackdropClick,{transform:Je});attachTo=W(null);mutableAttachTo=Li(()=>this.attachTo());attachPositions=W(this._defaultOptions.attachPositions);mutableAttachPositions=Li(()=>this.attachPositions());autoFocus=W(this._defaultOptions.autoFocus);closeDelay=W(this._defaultOptions.closeDelay,{transform:Ho});disableClose=W(this._defaultOptions.disableClose,{transform:Je});ariaDescribedBy=W(null,{alias:"aria-describedby"});_mutableAriaDescribedBy=Li(()=>this.ariaDescribedBy());ariaLabelledBy=W(null,{alias:"aria-labelledby"});_mutableAriaLabelledBy=Li(()=>this.ariaLabelledBy());ariaLabel=W(null,{alias:"aria-label"});_mutableAriaLabel=Li(()=>this.ariaLabel());ariaModal=W(!0,{alias:"aria-modal",transform:Je});_mutableAriaModal=Li(()=>this.ariaModal());open(){if(!this._contentTemplate||this._dialogRef())return;this._dialogStateEffectRef?.destroy();let t=this._dialogService.open(this._contentTemplate,this._vcr,this._context,this._options());this._dialogRef.set(t),$n(this._injector,()=>{this._dialogStateEffectRef=Ot(()=>{let r=t.state();zt(()=>this.stateChanged.emit(r))})}),t.closed$.pipe(Ur(1)).subscribe(r=>{this._dialogRef.set(void 0),this.closed.emit(r)})}close(t,r){this._dialogRef()?.close(t,r??this._options().closeDelay)}registerTemplate(t){this._contentTemplate=t}setOverlayClass(t){this._backdropClass.set(t),this._dialogRef()?.setOverlayClass(t)}setPanelClass(t){this._panelClass.set(t??""),this._dialogRef()?.setPanelClass(t)}setContext(t){this._context=G(G({},this._context),t)}setAriaDescribedBy(t){this._mutableAriaDescribedBy.set(t),this._dialogRef()?.setAriaDescribedBy(t)}setAriaLabelledBy(t){this._mutableAriaLabelledBy.set(t),this._dialogRef()?.setAriaLabelledBy(t)}setAriaLabel(t){this._mutableAriaLabel.set(t),this._dialogRef()?.setAriaLabel(t)}setAriaModal(t){this._mutableAriaModal.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-dialog"]],inputs:{state:[1,"state"],role:[1,"role"],hasBackdrop:[1,"hasBackdrop"],positionStrategy:[1,"positionStrategy"],scrollStrategy:[1,"scrollStrategy"],restoreFocus:[1,"restoreFocus"],closeOnOutsidePointerEvents:[1,"closeOnOutsidePointerEvents"],closeOnBackdropClick:[1,"closeOnBackdropClick"],attachTo:[1,"attachTo"],attachPositions:[1,"attachPositions"],autoFocus:[1,"autoFocus"],closeDelay:[1,"closeDelay"],disableClose:[1,"disableClose"],ariaDescribedBy:[1,"aria-describedby","ariaDescribedBy"],ariaLabelledBy:[1,"aria-labelledby","ariaLabelledBy"],ariaLabel:[1,"aria-label","ariaLabel"],ariaModal:[1,"aria-modal","ariaModal"]},outputs:{closed:"closed",stateChanged:"stateChanged"},exportAs:["brnDialog"],ngContentSelectors:Rxe,decls:1,vars:0,template:function(r,i){r&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})}return n})(),WX=(()=>{class n{_brnDialogRef=M(Gi);delay=W(void 0,{transform:_m});close(){this._brnDialogRef.close(void 0,this.delay())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["button","brnDialogClose",""]],hostBindings:function(r,i){r&1&&we("click",function(){return i.close()})},inputs:{delay:[1,"delay"]}})}return n})();var GX=(()=>{class n{_brnDialogRef=M(Gi);_id=Te(`brn-dialog-description-${this._brnDialogRef?.dialogId}`);constructor(){Ot(()=>{this._brnDialogRef.setAriaDescribedBy(this._id())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnDialogDescription",""]],hostVars:1,hostBindings:function(r,i){r&2&&ki("id",i._id())}})}return n})(),KX=(()=>{class n{_brnDialog=M(x4);className=W(void 0,{alias:"class"});setClassToCustomElement(t){this._brnDialog.setOverlayClass(t)}constructor(){Ot(()=>{if(!this._brnDialog)return;let t=this.className();zt(()=>this._brnDialog.setOverlayClass(t))})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-dialog-overlay"]],inputs:{className:[1,"class","className"]},features:[Le([rY(()=>n)])],decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0})}return n})(),YX=(()=>{class n{_brnDialogRef=M(Gi);_id=Te(`brn-dialog-title-${this._brnDialogRef?.dialogId}`);constructor(){Ot(()=>{this._brnDialogRef.setAriaLabelledBy(this._id())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnDialogTitle",""]],hostVars:1,hostBindings:function(r,i){r&2&&ki("id",i._id())}})}return n})();var XX={role:"dialog",attachPositions:[],attachTo:null,autoFocus:"first-tabbable",backdropClass:"",closeDelay:100,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,hasBackdrop:!0,panelClass:"",positionStrategy:null,restoreFocus:!0,scrollStrategy:null,disableClose:!1,ariaLabel:void 0,ariaModal:!0};var KO="bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r_=class n{_classSettable=nY({optional:!0,host:!0});userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(KO,this.userClass()));constructor(){Ot(()=>{let e=this._computedClass();zt(()=>this._classSettable?.setClassToCustomElement(e))})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmDialogOverlay",""],["brn-dialog-overlay","hlm",""]],inputs:{userClass:[1,"class","userClass"]}})};var Nxe=["*"],YO=class n extends x4{static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["hlm-dialog"]],exportAs:["hlmDialog"],features:[Le([{provide:x4,useExisting:Yn(()=>n)},qX({})]),kt],ngContentSelectors:Nxe,decls:2,vars:0,consts:[["hlm",""]],template:function(t,r){t&1&&(tn(),oe(0,"brn-dialog-overlay",0),rt(1))},dependencies:[KX,r_],encapsulation:2,changeDetection:0})};var i_=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmDialogClose",""],["","brnDialogClose","","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Lxe=["*"];function Fxe(n,e){if(n&1&&po(0,0),n&2){let t=ae();fe("ngComponentOutlet",t.component)}}function Bxe(n,e){n&1&&rt(0)}var o_=class n{_dialogRef=M(Gi);_dialogContext=Kl({optional:!0});state=ee(()=>this._dialogRef?.state()??"closed");component=this._dialogContext?.$component;_dynamicComponentClass=this._dialogContext?.$dynamicComponentClass;userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("border-border grid w-full max-w-lg relative gap-4 border bg-background p-6 shadow-lg [animation-duration:200] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[2%]  data-[state=open]:slide-in-from-top-[2%] sm:rounded-lg md:w-full",this.userClass(),this._dynamicComponentClass));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-content"]],hostVars:3,hostBindings:function(t,r){t&2&&(Pt("data-state",r.state()),se(r._computedClass()))},inputs:{userClass:[1,"class","userClass"]},features:[Le([un({lucideX:rX})])],ngContentSelectors:Lxe,decls:6,vars:1,consts:[[3,"ngComponentOutlet"],["brnDialogClose","","hlm",""],[1,"sr-only"],["hlm","","size","sm","name","lucideX"]],template:function(t,r){t&1&&(tn(),te(0,Fxe,1,1,"ng-container",0)(1,Bxe,1,0),D(2,"button",1)(3,"span",2),H(4,"Close"),A(),oe(5,"ng-icon",3),A()),t&2&&ne(r.component?0:1)},dependencies:[lw,WX,i_,hn,tr],encapsulation:2,changeDetection:0})};var If=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("text-sm text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmDialogDescription",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Zn([GX])]})};var Vxe=["*"],wd=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-footer"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:Vxe,decls:1,vars:0,template:function(t,r){t&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})};var jxe=["*"],_d=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex flex-col space-y-1.5 text-center sm:text-left",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-header"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:jxe,decls:1,vars:0,template:function(t,r){t&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})};var yd=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("text-lg font-semibold leading-none tracking-tight",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmDialogTitle",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Zn([YX])]})};var fr=class n{_brnDialogService=M(GO);open(e,t){let r=ye(G(G({},XX),t??{}),{backdropClass:Sm(`${KO} ${t?.backdropClass??""}`),context:ye(G({},t?.context&&typeof t.context=="object"?t.context:{}),{$component:e,$dynamicComponentClass:t?.contentClass})});return this._brnDialogService.open(o_,void 0,r.context,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hxe(n,e){if(n&1&&(D(0,"p",1),H(1),A()),n&2){let t=ae();N(),Ke(t.desc)}}var nn=class n{_dialogRef=M(Gi);_dialogContext=Kl();errorMessage=this._dialogContext.error;desc=this._dialogContext.desc;closeDialog(){this._dialogRef.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-error-dialog"]],decls:9,vars:2,consts:[["hlmDialogTitle",""],["hlmDialogDescription",""],[1,"mt-5"],["hlmBtn","",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"h3",0),H(2,"Error"),A(),te(3,Hxe,2,1,"p",1),A(),D(4,"div",2),H(5),A(),D(6,"hlm-dialog-footer",2)(7,"button",3),we("click",function(){return r.closeDialog()}),H(8,"Ok"),A()()),t&2&&(N(3),ne(r.desc?3:-1),N(2),xt(" ",r.errorMessage,`
`))},dependencies:[If,wd,_d,yd,On],encapsulation:2})};function Uxe(n,e){if(n&1&&(D(0,"p",1),H(1),A()),n&2){let t=ae();N(),Ke(t.desc)}}var la=class n{_dialogRef=M(Gi);_dialogContext=Kl();infoMessage=this._dialogContext.info;desc=this._dialogContext.desc;closeDialog(){this._dialogRef.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-info-dialog"]],decls:9,vars:2,consts:[["hlmDialogTitle",""],["hlmDialogDescription",""],[1,"mt-5"],["hlmBtn","",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"h3",0),H(2,"Info"),A(),te(3,Uxe,2,1,"p",1),A(),D(4,"div",2),H(5),A(),D(6,"hlm-dialog-footer",2)(7,"button",3),we("click",function(){return r.closeDialog()}),H(8,"Ok"),A()()),t&2&&(N(3),ne(r.desc?3:-1),N(2),xt(" ",r.infoMessage,`
`))},dependencies:[If,wd,_d,yd,On],encapsulation:2})};var rr=class n{constructor(e){this.router=e;this.router.events.pipe(an(t=>t instanceof Wa)).subscribe(()=>{this.hide()})}_loading=new Hr(!1);loading$=this._loading.asObservable();show(){this._loading.next(!0)}hide(){this._loading.next(!1)}static \u0275fac=function(t){return new(t||n)(Ae(Or))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var QX=()=>{};var tZ=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$xe=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},C4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|c>>6,v=c&63;l||(v=64,s||(g=64)),r.push(t[u],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tZ(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$xe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||c==null||p==null)throw new QO;let g=o<<2|a>>4;if(r.push(g),c!==64){let v=a<<4&240|c>>2;if(r.push(v),p!==64){let w=c<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},QO=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zxe=function(n){let e=tZ(n);return C4.encodeByteArray(e,!0)},l_=function(n){return zxe(n).replace(/\./g,"")},E4=function(n){try{return C4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qxe=()=>eN().__FIREBASE_DEFAULTS__,Wxe=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Gxe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&E4(n[1]);return e&&JSON.parse(e)},M4=()=>{try{return QX()||qxe()||Wxe()||Gxe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tN=n=>{var e,t;return(t=(e=M4())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},S4=n=>{let e=tN(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nN=()=>{var n;return(n=M4())===null||n===void 0?void 0:n.config},rN=n=>{var e;return(e=M4())===null||e===void 0?void 0:e[`_${n}`]};var Tf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Yl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Im(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function I4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[l_(JSON.stringify(t)),l_(JSON.stringify(s)),""].join(".")}var a_={};function Kxe(){let n={prod:[],emulator:[]};for(let e of Object.keys(a_))a_[e]?n.emulator.push(e):n.prod.push(e);return n}function Yxe(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var JX=!1;function Tm(n,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||a_[n]===e||a_[n]||JX)return;a_[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=Kxe().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{JX=!0,s()},g}function u(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=Yxe(r),v=t("text"),w=document.getElementById(v)||document.createElement("span"),y=t("learnmore"),x=document.getElementById(y)||document.createElement("a"),b=t("preprendIcon"),R=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let V=g.element;a(V),u(x,y);let j=c();l(R,b),V.append(R,w,x,j),document.body.appendChild(V)}o?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bi())}function Xxe(){var n;let e=(n=M4())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iZ(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sZ(){let n=Bi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aZ(){return!Xxe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c_(){try{return typeof indexedDB=="object"}catch{return!1}}function lZ(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Zxe="FirebaseError",$o=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Zxe,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}},Ka=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Qxe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $o(i,a,r)}};function Qxe(n,e){return n.replace(Jxe,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Jxe=/\{\$([^}]+)}/g;function cZ(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xl(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(eZ(o)&&eZ(s)){if(!Xl(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function eZ(n){return n!==null&&typeof n=="object"}function Am(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dm(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rm(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dZ(n,e){let t=new JO(n,e);return t.subscribe.bind(t)}var JO=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eCe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ZO),i.error===void 0&&(i.error=ZO),i.complete===void 0&&(i.complete=ZO);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eCe(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ZO(){}var Ggt=14400*1e3;function Ki(n){return n&&n._delegate?n._delegate:n}var Yi=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Af="[DEFAULT]";var iN=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Tf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nCe(e))try{this.getOrInitializeService({instanceIdentifier:Af})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Af){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Af){return this.instances.has(e)}getOptions(e=Af){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tCe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Af){return this.component?this.component.multipleInstances?e:Af:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tCe(n){return n===Af?void 0:n}function nCe(n){return n.instantiationMode==="EAGER"}var T4=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new iN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var rCe=[],rn=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(rn||{}),iCe={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},oCe=rn.INFO,sCe={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},aCe=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=sCe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zl=class{constructor(e){this.name=e,this._logLevel=oCe,this._logHandler=aCe,this._userLogHandler=null,rCe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iCe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...e),this._logHandler(this,rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...e),this._logHandler(this,rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...e),this._logHandler(this,rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...e),this._logHandler(this,rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...e),this._logHandler(this,rn.ERROR,...e)}};var lCe=(n,e)=>e.some(t=>n instanceof t),uZ,hZ;function cCe(){return uZ||(uZ=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dCe(){return hZ||(hZ=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pZ=new WeakMap,sN=new WeakMap,fZ=new WeakMap,oN=new WeakMap,lN=new WeakMap;function uCe(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ql(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&pZ.set(t,n)}).catch(()=>{}),lN.set(e,n),e}function hCe(n){if(sN.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});sN.set(n,e)}var aN={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sN.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fZ.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ql(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gZ(n){aN=n(aN)}function pCe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(A4(this),e,...t);return fZ.set(r,e.sort?e.sort():[e]),Ql(r)}:dCe().includes(n)?function(...e){return n.apply(A4(this),e),Ql(pZ.get(this))}:function(...e){return Ql(n.apply(A4(this),e))}}function fCe(n){return typeof n=="function"?pCe(n):(n instanceof IDBTransaction&&hCe(n),lCe(n,cCe())?new Proxy(n,aN):n)}function Ql(n){if(n instanceof IDBRequest)return uCe(n);if(oN.has(n))return oN.get(n);let e=fCe(n);return e!==n&&(oN.set(n,e),lN.set(e,n)),e}var A4=n=>lN.get(n);function vZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ql(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ql(s.result),l.oldVersion,l.newVersion,Ql(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var gCe=["get","getKey","getAll","getAllKeys","count"],mCe=["put","add","delete","clear"],cN=new Map;function mZ(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cN.get(e))return cN.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=mCe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gCe.includes(t)))return;let o=function(s,...a){return E(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&l.done]))[0]})};return cN.set(e,o),o}gZ(n=>ye(G({},n),{get:(e,t,r)=>mZ(e,t)||n.get(e,t,r),has:(e,t)=>!!mZ(e,t)||n.has(e,t)}));var uN=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vCe(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vCe(n){let e=n.getComponent();return e?.type==="VERSION"}var hN="@firebase/app",wZ="0.13.2";var kd=new Zl("@firebase/app"),wCe="@firebase/app-compat",_Ce="@firebase/analytics-compat",yCe="@firebase/analytics",kCe="@firebase/app-check-compat",bCe="@firebase/app-check",xCe="@firebase/auth",CCe="@firebase/auth-compat",ECe="@firebase/database",MCe="@firebase/data-connect",SCe="@firebase/database-compat",ICe="@firebase/functions",TCe="@firebase/functions-compat",ACe="@firebase/installations",DCe="@firebase/installations-compat",RCe="@firebase/messaging",PCe="@firebase/messaging-compat",OCe="@firebase/performance",NCe="@firebase/performance-compat",LCe="@firebase/remote-config",FCe="@firebase/remote-config-compat",BCe="@firebase/storage",VCe="@firebase/storage-compat",jCe="@firebase/firestore",HCe="@firebase/ai",UCe="@firebase/firestore-compat",$Ce="firebase",zCe="11.10.0";var pN="[DEFAULT]",qCe={[hN]:"fire-core",[wCe]:"fire-core-compat",[yCe]:"fire-analytics",[_Ce]:"fire-analytics-compat",[bCe]:"fire-app-check",[kCe]:"fire-app-check-compat",[xCe]:"fire-auth",[CCe]:"fire-auth-compat",[ECe]:"fire-rtdb",[MCe]:"fire-data-connect",[SCe]:"fire-rtdb-compat",[ICe]:"fire-fn",[TCe]:"fire-fn-compat",[ACe]:"fire-iid",[DCe]:"fire-iid-compat",[RCe]:"fire-fcm",[PCe]:"fire-fcm-compat",[OCe]:"fire-perf",[NCe]:"fire-perf-compat",[LCe]:"fire-rc",[FCe]:"fire-rc-compat",[BCe]:"fire-gcs",[VCe]:"fire-gcs-compat",[jCe]:"fire-fst",[UCe]:"fire-fst-compat",[HCe]:"fire-vertex","fire-js":"fire-js",[$Ce]:"fire-js-all"};var d_=new Map,WCe=new Map,fN=new Map;function _Z(n,e){try{n.container.addComponent(e)}catch(t){kd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Os(n){let e=n.name;if(fN.has(e))return kd.debug(`There were multiple attempts to register component ${e}.`),!1;fN.set(e,n);for(let t of d_.values())_Z(t,n);for(let t of WCe.values())_Z(t,n);return!0}function ph(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xi(n){return n==null?!1:n.settings!==void 0}var GCe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hh=new Ka("app","Firebase",GCe);var gN=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hh.create("app-deleted",{appName:this._name})}};var Jl=zCe;function wN(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hh.create("bad-app-name",{appName:String(i)});if(t||(t=nN()),!t)throw hh.create("no-options");let o=d_.get(i);if(o){if(Xl(t,o.options)&&Xl(r,o.config))return o;throw hh.create("duplicate-app",{appName:i})}let s=new T4(i);for(let l of fN.values())s.addComponent(l);let a=new gN(t,r,s);return d_.set(i,a),a}function bd(n=pN){let e=d_.get(n);if(!e&&n===pN&&nN())return wN();if(!e)throw hh.create("no-app",{appName:n});return e}function D4(){return Array.from(d_.values())}function Qn(n,e,t){var r;let i=(r=qCe[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kd.warn(a.join(" "));return}Os(new Yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KCe="firebase-heartbeat-database",YCe=1,u_="firebase-heartbeat-store",dN=null;function xZ(){return dN||(dN=vZ(KCe,YCe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(u_)}catch(t){console.warn(t)}}}}).catch(n=>{throw hh.create("idb-open",{originalErrorMessage:n.message})})),dN}function XCe(n){return E(this,null,function*(){try{let t=(yield xZ()).transaction(u_),r=yield t.objectStore(u_).get(CZ(n));return yield t.done,r}catch(e){if(e instanceof $o)kd.warn(e.message);else{let t=hh.create("idb-get",{originalErrorMessage:e?.message});kd.warn(t.message)}}})}function yZ(n,e){return E(this,null,function*(){try{let r=(yield xZ()).transaction(u_,"readwrite");yield r.objectStore(u_).put(e,CZ(n)),yield r.done}catch(t){if(t instanceof $o)kd.warn(t.message);else{let r=hh.create("idb-set",{originalErrorMessage:t?.message});kd.warn(r.message)}}})}function CZ(n){return`${n.name}!${n.options.appId}`}var ZCe=1024,QCe=30,mN=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new vN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kZ();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>QCe){let s=eEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){kd.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=kZ(),{heartbeatsToSend:r,unsentEntries:i}=JCe(this._heartbeatsCache.heartbeats),o=l_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return kd.warn(t),""}})}};function kZ(){return new Date().toISOString().substring(0,10)}function JCe(n,e=ZCe){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bZ(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bZ(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var vN=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return c_()?lZ().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield XCe(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yZ(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yZ(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function bZ(n){return l_(JSON.stringify({version:2,heartbeats:n})).length}function eEe(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function tEe(n){Os(new Yi("platform-logger",e=>new uN(e),"PRIVATE")),Os(new Yi("heartbeat",e=>new mN(e),"PRIVATE")),Qn(hN,wZ,n),Qn(hN,wZ,"esm2017"),Qn("fire-js","")}tEe("");var nEe="firebase",rEe="11.10.0";Qn(nEe,rEe,"app");var ec=new df("ANGULARFIRE2_VERSION");function Rf(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var fh=(n,e)=>{let t=e?[e]:D4(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pm=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Pm||{}),EZ=Qu()&&typeof Zone<"u"?Pm.WARN:Pm.SILENT;var R4=class{zone;delegate;constructor(e,t=t3){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},tc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(Be);this.outsideAngular=t.runOutsideAngular(()=>new R4(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new R4(typeof Zone>"u"?void 0:Zone.current,Ys))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MZ=!1;function iEe(n,e){!MZ&&(EZ>Pm.SILENT||Qu())&&(MZ=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),EZ>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function oEe(n){let e=M(Be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Df(n){let e=M(Be,{optional:!0});return e?e.run(()=>n()):n()}var sEe=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),$n(t,()=>Df(()=>n.apply(void 0,r)))),Gr=(n,e,t)=>(t||=e?Pm.WARN:Pm.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(tc),s=M(td),a=M(Kn)}catch{return iEe(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=Df(()=>s.add())),i[c]=sEe(i[c],r,a));let l=oEe(()=>n.apply(this,i));return e?l instanceof Qe?l.pipe(Nu(o.outsideAngular),Ou(o.insideAngular),bX(a)):l instanceof Promise?Df(()=>{let c=s.add();return new Promise((u,p)=>{l.then(g=>$n(a,()=>Df(()=>u(g))),g=>$n(a,()=>Df(()=>p(g)))).finally(c)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Df(()=>l):l instanceof Qe?l.pipe(Nu(o.outsideAngular),Ou(o.insideAngular)):Df(()=>l)});var Ya=class{constructor(e){return e}},xd=class{constructor(){return D4()}};function aEe(n){return n&&n.length===1?n[0]:new Ya(bd())}var _N=new ue("angularfire2._apps"),lEe={provide:Ya,useFactory:aEe,deps:[[new ei,_N]]},cEe={provide:xd,deps:[[new ei,_N]]};function dEe(n){return(e,t)=>{let r=t.get(hr);Qn("angularfire",ec.full,"core"),Qn("angularfire",ec.full,"app"),Qn("angular",uG.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ya(i)}}function SZ(n,...e){return Di([lEe,cEe,{provide:_N,useFactory:dEe(n),multi:!0,deps:[Be,Fe,tc,...e]}])}var IZ=Gr(wN,!0);var uEe=new Map,hEe={activated:!1,tokenObservers:[]},pEe={initialized:!1,enabled:!1};function Xa(n){return uEe.get(n)||Object.assign({},hEe)}function RZ(){return pEe}var fEe="https://content-firebaseappcheck.googleapis.com/v1";var gEe="exchangeDebugToken",TZ={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},$0t=1440*60*1e3;var bN=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Tf,this.pending.promise.catch(t=>{}),yield mEe(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Tf,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function mEe(n){return new Promise(e=>{setTimeout(e,n)})}var vEe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},gh=new Ka("appCheck","AppCheck",vEe);function PZ(n){if(!Xa(n).activated)throw gh.create("use-before-activation",{appName:n.name})}function OZ(r,i){return E(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(v){throw gh.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw gh.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(v){throw gh.create("fetch-parse-error",{originalErrorMessage:v?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw gh.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let p=Number(u[1])*1e3,g=Date.now();return{token:c.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function NZ(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${fEe}/projects/${t}/apps/${r}:${gEe}?key=${i}`,body:{debug_token:e}}}var wEe="firebase-app-check-database",_Ee=1,xN="firebase-app-check-store";var P4=null;function yEe(){return P4||(P4=new Promise((n,e)=>{try{let t=indexedDB.open(wEe,_Ee);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(gh.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xN,{keyPath:"compositeKey"})}}}catch(t){e(gh.create("storage-open",{originalErrorMessage:t?.message}))}}),P4)}function kEe(n,e){return bEe(xEe(n),e)}function bEe(n,e){return E(this,null,function*(){let r=(yield yEe()).transaction(xN,"readwrite"),o=r.objectStore(xN).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(gh.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function xEe(n){return`${n.options.appId}-${n.name}`}var h_=new Zl("@firebase/app-check");function yN(n,e){return c_()?kEe(n,e).catch(t=>{h_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LZ(){return RZ().enabled}function FZ(){return E(this,null,function*(){let n=RZ();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var CEe={error:"UNKNOWN_ERROR"};function EEe(n){return C4.encodeString(JSON.stringify(n),!1)}function CN(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;PZ(r);let i=Xa(r),o=i.token,s;if(o&&!p_(o)&&(i.token=void 0,o=void 0),!o){let c=yield i.cachedTokenPromise;c&&(p_(c)?o=c:yield yN(r,void 0))}if(!e&&o&&p_(o))return{token:o.token};let a=!1;if(LZ())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OZ(NZ(r,yield FZ()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield yN(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?h_.warn(c.message):t&&h_.error(c),kN(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Xa(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?h_.warn(c.message):t&&h_.error(c),s=c}let l;return o?s?p_(o)?l={token:o.token,internalError:s}:l=kN(s):(l={token:o.token},i.token=o,yield yN(r,o)):l=kN(s),a&&TEe(r,l),l})}function MEe(n){return E(this,null,function*(){let e=n.app;PZ(e);let{provider:t}=Xa(e);if(LZ()){let r=yield FZ(),{token:i}=yield OZ(NZ(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function SEe(n,e,t,r){let{app:i}=n,o=Xa(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&p_(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),AZ(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AZ(n))}function BZ(n,e){let t=Xa(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AZ(n){let{app:e}=n,t=Xa(e),r=t.tokenRefresher;r||(r=IEe(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function IEe(n){let{app:e}=n;return new bN(()=>E(null,null,function*(){let t=Xa(e),r;if(t.token?r=yield CN(n,!0):r=yield CN(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Xa(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},TZ.RETRIAL_MIN_WAIT,TZ.RETRIAL_MAX_WAIT)}function TEe(n,e){let t=Xa(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function p_(n){return n.expireTimeMillis-Date.now()>0}function kN(n){return{token:EEe(CEe),error:n}}var EN=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Xa(this.app);for(let t of e)BZ(this.app,t.next);return Promise.resolve()}};function AEe(n,e){return new EN(n,e)}function DEe(n){return{getToken:e=>CN(n,e),getLimitedUseToken:()=>MEe(n),addTokenListener:e=>SEe(n,"INTERNAL",e),removeTokenListener:e=>BZ(n.app,e)}}var REe="@firebase/app-check",PEe="0.10.1";var OEe="app-check",DZ="app-check-internal";function NEe(){Os(new Yi(OEe,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return AEe(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(DZ).initialize()})),Os(new Yi(DZ,n=>{let e=n.getProvider("app-check").getImmediate();return DEe(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qn(REe,PEe)}NEe();var LEe="app-check";var mh=class{constructor(){return fh(LEe)}};var FEe=["localhost","0.0.0.0","127.0.0.1"],nmt=typeof window<"u"&&FEe.includes(window.location.hostname);function eQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tQ=eQ,nQ=new Ka("auth","Firebase",eQ());var V4=new Zl("@firebase/auth");function BEe(n,...e){V4.logLevel<=rn.WARN&&V4.warn(`Auth (${Jl}): ${n}`,...e)}function N4(n,...e){V4.logLevel<=rn.ERROR&&V4.error(`Auth (${Jl}): ${n}`,...e)}function ca(n,...e){throw QN(n,...e)}function Za(n,...e){return QN(n,...e)}function ZN(n,e,t){let r=Object.assign(Object.assign({},tQ()),{[e]:t});return new Ka("auth","Firebase",r).create(e,{appName:n.name})}function Md(n){return ZN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VEe(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ca(n,"argument-error"),ZN(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QN(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nQ.create(n,...e)}function it(n,e,...t){if(!n)throw QN(e,...t)}function Cd(n){let e="INTERNAL ASSERTION FAILED: "+n;throw N4(e),new Error(e)}function Sd(n,e){n||Cd(e)}function IN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jEe(){return VZ()==="http:"||VZ()==="https:"}function VZ(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function HEe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jEe()||iZ()||"connection"in navigator)?navigator.onLine:!0}function UEe(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Pf=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sd(t>e,"Short delay should be less than long delay!"),this.isMobile=nZ()||oZ()}get(){return HEe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function JN(n,e){Sd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var j4=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $Ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var zEe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qEe=new Pf(3e4,6e4);function Id(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function rc(o,s,a,l){return E(this,arguments,function*(n,e,t,r,i={}){return rQ(n,i,()=>E(null,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let p=Am(Object.assign({key:n.config.apiKey},u)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:g},c);return rZ()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(v.credentials="include"),j4.fetch()(yield iQ(n,n.config.apiHost,t,p),v)}))})}function rQ(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$Ee),e);try{let i=new TN(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw O4(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw O4(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw O4(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw O4(n,"user-disabled",s);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZN(n,u,c);ca(n,u)}}catch(i){if(i instanceof $o)throw i;ca(n,"network-request-failed",{message:String(i)})}})}function k_(o,s,a,l){return E(this,arguments,function*(n,e,t,r,i={}){let c=yield rc(n,e,t,r,i);return"mfaPendingCredential"in c&&ca(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function iQ(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?JN(n.config,i):`${n.config.apiScheme}://${i}`;return zEe.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function WEe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var TN=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Za(this.auth,"network-request-failed")),qEe.get())})}};function O4(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Za(n,e,r);return i.customData._tokenResponse=t,i}function jZ(n){return n!==void 0&&n.enterprise!==void 0}var AN=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WEe(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function GEe(n,e){return E(this,null,function*(){return rc(n,"GET","/v2/recaptchaConfig",Id(n,e))})}function KEe(n,e){return E(this,null,function*(){return rc(n,"POST","/v1/accounts:delete",e)})}function H4(n,e){return E(this,null,function*(){return rc(n,"POST","/v1/accounts:lookup",e)})}function g_(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function e6(n,e=!1){return E(this,null,function*(){let t=Ki(n),r=yield t.getIdToken(e),i=eM(r);it(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:g_(MN(i.auth_time)),issuedAtTime:g_(MN(i.iat)),expirationTime:g_(MN(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function MN(n){return Number(n)*1e3}function eM(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return N4("JWT malformed, contained fewer than 3 sections"),null;try{let i=E4(t);return i?JSON.parse(i):(N4("Failed to decode base64 JWT payload"),null)}catch(i){return N4("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HZ(n){let e=eM(n);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nm(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof $o&&YEe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function YEe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var DN=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var v_=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=g_(this.lastLoginAt),this.creationTime=g_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function U4(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Nm(n,H4(t,{idToken:r}));it(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oQ(o.providerUserInfo):[],a=XEe(n.providerData,s),l=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!a?.length,u=l?c:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new v_(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,p)})}function t6(n){return E(this,null,function*(){let e=Ki(n);yield U4(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XEe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oQ(n){return n.map(e=>{var{providerId:t}=e,r=ax(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZEe(n,e){return E(this,null,function*(){let t=yield rQ(n,{},()=>E(null,null,function*(){let r=Am({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield iQ(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(l.credentials="include"),j4.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function QEe(n,e){return E(this,null,function*(){return rc(n,"POST","/v2/accounts:revokeToken",Id(n,e))})}var m_=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){it(e.length!==0,"internal-error");let t=HZ(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield ZEe(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(it(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(it(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Cd("not implemented")}};function vh(n,e){it(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var wh=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ax(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new v_(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield Nm(this,this.stsTokenManager.getToken(this.auth,e));return it(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return e6(this,e)}reload(){return t6(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield U4(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Xi(this.auth.app))return Promise.reject(Md(this.auth));let e=yield this.getIdToken();return yield Nm(this,KEe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=t.createdAt)!==null&&c!==void 0?c:void 0,R=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:j,isAnonymous:$,providerData:Y,stsTokenManager:L}=t;it(V&&L,e,"internal-error");let T=m_.fromJSON(this.name,L);it(typeof V=="string",e,"internal-error"),vh(p,e.name),vh(g,e.name),it(typeof j=="boolean",e,"internal-error"),it(typeof $=="boolean",e,"internal-error"),vh(v,e.name),vh(w,e.name),vh(y,e.name),vh(x,e.name),vh(b,e.name),vh(R,e.name);let I=new n({uid:V,auth:e,email:g,emailVerified:j,displayName:p,isAnonymous:$,photoURL:w,phoneNumber:v,tenantId:y,stsTokenManager:T,createdAt:b,lastLoginAt:R});return Y&&Array.isArray(Y)&&(I.providerData=Y.map(B=>Object.assign({},B))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new m_;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield U4(o),o})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];it(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?oQ(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new m_;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new v_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var UZ=new Map;function Ed(n){Sd(n instanceof Function,"Expected a class definition");let e=UZ.get(n);return e?(Sd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UZ.set(n,e),e)}var JEe=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),RN=JEe;function L4(n,e,t){return`firebase:${n}:${e}:${t}`}var $4=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=L4(this.userKey,i.apiKey,o),this.fullPersistenceKey=L4("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield H4(this.auth,{idToken:e}).catch(()=>{});return t?wh._fromGetAccountInfoResponse(this.auth,t,e):null}return wh._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(Ed(RN),e,r);let i=(yield Promise.all(t.map(c=>E(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=i[0]||Ed(RN),s=L4(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(s);if(u){let p;if(typeof u=="string"){let g=yield H4(e,{idToken:u}).catch(()=>{});if(!g)break;p=yield wh._fromGetAccountInfoResponse(e,g,u)}else p=wh._fromJSON(e,u);c!==o&&(a=p),o=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(c=>E(null,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new n(o,e,r))})}};function $Z(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uQ(e))return"Blackberry";if(hQ(e))return"Webos";if(aQ(e))return"Safari";if((e.includes("chrome/")||lQ(e))&&!e.includes("edge/"))return"Chrome";if(dQ(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sQ(n=Bi()){return/firefox\//i.test(n)}function aQ(n=Bi()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lQ(n=Bi()){return/crios\//i.test(n)}function cQ(n=Bi()){return/iemobile/i.test(n)}function dQ(n=Bi()){return/android/i.test(n)}function uQ(n=Bi()){return/blackberry/i.test(n)}function hQ(n=Bi()){return/webos/i.test(n)}function n6(n=Bi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e4e(n=Bi()){var e;return n6(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t4e(){return sZ()&&document.documentMode===10}function pQ(n=Bi()){return n6(n)||dQ(n)||hQ(n)||uQ(n)||/windows phone/i.test(n)||cQ(n)}function fQ(n,e=[]){let t;switch(n){case"Browser":t=$Z(Bi());break;case"Worker":t=`${$Z(Bi())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jl}/${r}`}var PN=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function n4e(t){return E(this,arguments,function*(n,e={}){return rc(n,"GET","/v2/passwordPolicy",Id(n,e))})}var r4e=6,ON=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:r4e,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var NN=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z4(this),this.idTokenSubscription=new z4(this),this.beforeStateQueue=new PN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ed(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield $4.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield H4(this,{idToken:e}),r=yield wh._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(Xi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield U4(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UEe()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Xi(this.app))return Promise.reject(Md(this));let t=e?Ki(e):null;return t&&it(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Xi(this.app)?Promise.reject(Md(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xi(this.app)?Promise.reject(Md(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Ed(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield n4e(this),t=new ON(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QEe(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ed(e)||this._popupRedirectResolver;it(t,this,"argument-error"),this.redirectPersistenceManager=yield $4.create(this,[Ed(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(Xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&BEe(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function yh(n){return Ki(n)}var z4=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dZ(t=>this.observer=t)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tM={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i4e(n){tM=n}function gQ(n){return tM.loadJS(n)}function o4e(){return tM.recaptchaEnterpriseScript}function s4e(){return tM.gapiScript}function mQ(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var LN=class{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},FN=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var a4e="recaptcha-enterprise",vQ="NO_RECAPTCHA",BN=class{constructor(e){this.type=a4e,this.auth=yh(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(o){return E(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>E(null,null,function*(){GEe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new AN(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;jZ(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(vQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LN().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&jZ(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=o4e();l.length!==0&&(l+=a),gQ(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})})}};function f_(n,e,t,r=!1,i=!1){return E(this,null,function*(){let o=new BN(n),s;if(i)s=vQ;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function VN(n,e,t,r,i){return E(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield f_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>E(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield f_(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield f_(n,e,t);return r(n,a).catch(l=>E(null,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield f_(n,e,t,!1,!0);return r(n,u)}return Promise.reject(l)}))}else{let a=yield f_(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function r6(n,e){let t=ph(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Xl(o,e??{}))return i;ca(i,"already-initialized")}return t.initialize({options:e})}function l4e(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ed);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function i6(n,e,t){let r=yh(n);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=wQ(e),{host:s,port:a}=c4e(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Xl(c,r.config.emulator)&&Xl(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Yl(s)?(Im(`${o}//${s}${l}`),Tm("Auth",!0)):i||d4e()}function wQ(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c4e(n){let e=wQ(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:zZ(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:zZ(s)}}}function zZ(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function d4e(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Lm=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cd("not implemented")}_getIdTokenResponse(e){return Cd("not implemented")}_linkToIdToken(e,t){return Cd("not implemented")}_getReauthenticationResolver(e){return Cd("not implemented")}};function u4e(n,e){return E(this,null,function*(){return rc(n,"POST","/v1/accounts:signUp",e)})}function h4e(n,e){return E(this,null,function*(){return k_(n,"POST","/v1/accounts:signInWithPassword",Id(n,e))})}function p4e(n,e){return E(this,null,function*(){return rc(n,"POST","/v1/accounts:sendOobCode",Id(n,e))})}function f4e(n,e){return E(this,null,function*(){return p4e(n,e)})}function g4e(n,e){return E(this,null,function*(){return k_(n,"POST","/v1/accounts:signInWithEmailLink",Id(n,e))})}function m4e(n,e){return E(this,null,function*(){return k_(n,"POST","/v1/accounts:signInWithEmailLink",Id(n,e))})}var w_=class n extends Lm{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VN(e,t,"signInWithPassword",h4e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return g4e(e,{email:this._email,oobCode:this._password});default:ca(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VN(e,r,"signUpPassword",u4e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return m4e(e,{idToken:t,email:this._email,oobCode:this._password});default:ca(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Om(n,e){return E(this,null,function*(){return k_(n,"POST","/v1/accounts:signInWithIdp",Id(n,e))})}var v4e="http://localhost",q4=class n extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ca("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ax(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Om(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Om(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Om(e,t)}buildRequest(){let e={requestUri:v4e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Am(t)}return e}};function w4e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _4e(n){let e=Dm(Rm(n)).link,t=e?Dm(Rm(e)).deep_link_id:null,r=Dm(Rm(n)).deep_link_id;return(r?Dm(Rm(r)).link:null)||r||t||e||n}var W4=class n{constructor(e){var t,r,i,o,s,a;let l=Dm(Rm(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,p=w4e((i=l.mode)!==null&&i!==void 0?i:null);it(c&&u&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=_4e(e);try{return new n(t)}catch{return null}}};var _Q=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return w_._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=W4.parseLink(r);return it(i,"argument-error"),w_._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),__=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var G4=class extends __{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nf=(()=>{class n extends G4{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return q4._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function y4e(n,e){return E(this,null,function*(){return k_(n,"POST","/v1/accounts:signUp",Id(n,e))})}var Fm=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let o=yield wh._fromIdTokenResponse(e,r,i),s=qZ(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qZ(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function qZ(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var jN=class n extends $o{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function yQ(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jN._fromErrorAndOperation(n,o,e,r):o})}function k4e(n,e,t=!1){return E(this,null,function*(){let r=yield Nm(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fm._forOperation(n,"link",r)})}function b4e(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(Xi(r.app))return Promise.reject(Md(r));let i="reauthenticate";try{let o=yield Nm(n,yQ(r,i,e,n),t);it(o.idToken,r,"internal-error");let s=eM(o.idToken);it(s,r,"internal-error");let{sub:a}=s;return it(n.uid===a,r,"user-mismatch"),Fm._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ca(r,"user-mismatch"),o}})}function kQ(n,e,t=!1){return E(this,null,function*(){if(Xi(n.app))return Promise.reject(Md(n));let r="signIn",i=yield yQ(n,r,e),o=yield Fm._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function o6(n,e){return E(this,null,function*(){return kQ(yh(n),e)})}function x4e(n,e,t){var r;it(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),it(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),it(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(it(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(it(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function bQ(n){return E(this,null,function*(){let e=yh(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function s6(n,e,t){return E(this,null,function*(){if(Xi(n.app))return Promise.reject(Md(n));let r=yh(n),s=yield VN(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y4e,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bQ(n),l}),a=yield Fm._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function a6(n,e,t){return Xi(n.app)?Promise.reject(Md(n)):o6(Ki(n),_Q.credential(e,t)).catch(r=>E(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bQ(n),r}))}function l6(n,e){return E(this,null,function*(){let t=Ki(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&x4e(t.auth,i,e);let{email:o}=yield f4e(t.auth,i);o!==n.email&&(yield n.reload())})}function C4e(n,e){return E(this,null,function*(){return rc(n,"POST","/v1/accounts:update",e)})}function c6(r,i){return E(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Ki(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield Nm(o,C4e(o.auth,a));o.displayName=l.displayName||null,o.photoURL=l.photoUrl||null;let c=o.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=o.displayName,c.photoURL=o.photoURL),yield o._updateTokensIfNecessary(l)})}function E4e(n){var e,t;if(!n)return null;let{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&n?.idToken){let s=(t=(e=eM(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(s){let a=s!=="anonymous"&&s!=="custom"?s:null;return new _h(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new HN(o,i);case"github.com":return new UN(o,i);case"google.com":return new $N(o,i);case"twitter.com":return new zN(o,i,n.screenName||null);case"custom":case"anonymous":return new _h(o,null);default:return new _h(o,r,i)}}var _h=class{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}},K4=class extends _h{constructor(e,t,r,i){super(e,t,r),this.username=i}},HN=class extends _h{constructor(e,t){super(e,"facebook.com",t)}},UN=class extends K4{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}},$N=class extends _h{constructor(e,t){super(e,"google.com",t)}},zN=class extends K4{constructor(e,t,r){super(e,"twitter.com",t,r)}};function d6(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:E4e(t)}function b_(n,e,t,r){return Ki(n).onIdTokenChanged(e,t,r)}function u6(n,e,t){return Ki(n).beforeAuthStateChanged(e,t)}function h6(n){return Ki(n).signOut()}var Y4="__sak";var X4=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Y4,"1"),this.storage.removeItem(Y4),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var M4e=1e3,S4e=10,I4e=(()=>{class n extends X4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pQ(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);t4e()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,S4e):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},M4e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield rs(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield rs(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield rs(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xQ=I4e;var T4e=(()=>{class n extends X4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),p6=T4e;function A4e(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var D4e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,s)})),c=yield A4e(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:c})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function f6(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var qN=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=f6("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function nc(){return window}function R4e(n){nc().location.href=n}function CQ(){return typeof nc().WorkerGlobalScope<"u"&&typeof nc().importScripts=="function"}function P4e(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function O4e(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function N4e(){return CQ()?self:null}var EQ="firebaseLocalStorageDb",L4e=1,Z4="firebaseLocalStorage",MQ="fbase_key",Of=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function nM(n,e){return n.transaction([Z4],e?"readwrite":"readonly").objectStore(Z4)}function F4e(){let n=indexedDB.deleteDatabase(EQ);return new Of(n).toPromise()}function WN(){let n=indexedDB.open(EQ,L4e);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Z4,{keyPath:MQ})}catch(i){t(i)}}),n.addEventListener("success",()=>E(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Z4)?e(r):(r.close(),yield F4e(),e(yield WN()))}))})}function WZ(n,e,t){return E(this,null,function*(){let r=nM(n,!0).put({[MQ]:e,value:t});return new Of(r).toPromise()})}function B4e(n,e){return E(this,null,function*(){let t=nM(n,!1).get(e),r=yield new Of(t).toPromise();return r===void 0?null:r.value})}function GZ(n,e){let t=nM(n,!0).delete(e);return new Of(t).toPromise()}var V4e=800,j4e=3,H4e=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield WN(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>j4e)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return CQ()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=D4e._getInstance(N4e()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield P4e(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||O4e()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield WN();return yield WZ(t,Y4,"1"),yield GZ(t,Y4),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>WZ(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>B4e(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>GZ(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(o=>{let s=nM(o,!1).getAll();return new Of(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),V4e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),SQ=H4e;var dmt=mQ("rcb"),umt=new Pf(3e4,6e4);function IQ(n,e){return e?Ed(e):(it(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var y_=class extends Lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Om(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Om(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Om(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function U4e(n){return kQ(n.auth,new y_(n),n.bypassAuthState)}function $4e(n){let{auth:e,user:t}=n;return it(t,e,"internal-error"),b4e(t,new y_(n),n.bypassAuthState)}function z4e(n){return E(this,null,function*(){let{auth:e,user:t}=n;return it(t,e,"internal-error"),k4e(t,new y_(n),n.bypassAuthState)})}var Q4=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U4e;case"linkViaPopup":case"linkViaRedirect":return z4e;case"reauthViaPopup":case"reauthViaRedirect":return $4e;default:ca(this.auth,"internal-error")}}resolve(e){Sd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var q4e=new Pf(2e3,1e4);function g6(n,e,t){return E(this,null,function*(){if(Xi(n.app))return Promise.reject(Za(n,"operation-not-supported-in-this-environment"));let r=yh(n);VEe(n,e,__);let i=IQ(r,t);return new W4e(r,"signInViaPopup",e,i).executeNotNull()})}var W4e=(()=>{class n extends Q4{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let t=yield this.execute();return it(t,this.auth,"internal-error"),t})}onExecution(){return E(this,null,function*(){Sd(this.filter.length===1,"Popup operations only handle one event");let t=f6();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,q4e.get())};t()}}n.currentPopupAction=null;return n})(),G4e="pendingRedirect",F4=new Map,GN=class n extends Q4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=F4.get(this.auth._key());if(!e){try{let r=(yield K4e(this.resolver,this.auth))?yield rs(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}F4.set(this.auth._key(),e)}return this.bypassAuthState||F4.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return rs(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,rs(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function K4e(n,e){return E(this,null,function*(){let t=Z4e(e),r=X4e(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Y4e(n,e){F4.set(n._key(),e)}function X4e(n){return Ed(n._redirectPersistence)}function Z4e(n){return L4(G4e,n.config.apiKey,n.name)}function Q4e(n,e,t=!1){return E(this,null,function*(){if(Xi(n.app))return Promise.reject(Md(n));let r=yh(n),i=IQ(r,e),s=yield new GN(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var J4e=600*1e3,KN=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eMe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TQ(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Za(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J4e&&this.cachedEventUids.clear(),this.cachedEventUids.has(KZ(e))}saveEventToCache(e){this.cachedEventUids.add(KZ(e)),this.lastProcessedEventTime=Date.now()}};function KZ(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TQ({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function eMe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TQ(n);default:return!1}}function tMe(t){return E(this,arguments,function*(n,e={}){return rc(n,"GET","/v1/projects",e)})}var nMe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rMe=/^https?/;function iMe(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield tMe(n);for(let t of e)try{if(oMe(t))return}catch{}ca(n,"unauthorized-domain")})}function oMe(n){let e=IN(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!rMe.test(t))return!1;if(nMe.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var sMe=new Pf(3e4,6e4);function YZ(){let n=nc().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function aMe(n){return new Promise((e,t)=>{var r,i,o;function s(){YZ(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YZ(),t(Za(n,"network-request-failed"))},timeout:sMe.get()})}if(!((i=(r=nc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=nc().gapi)===null||o===void 0)&&o.load)s();else{let a=mQ("iframefcb");return nc()[a]=()=>{gapi.load?s():t(Za(n,"network-request-failed"))},gQ(`${s4e()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw B4=null,e})}var B4=null;function lMe(n){return B4=B4||aMe(n),B4}var cMe=new Pf(5e3,15e3),dMe="__/auth/iframe",uMe="emulator/auth/iframe",hMe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pMe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fMe(n){let e=n.config;it(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?JN(e,uMe):`https://${n.config.authDomain}/${dMe}`,r={apiKey:e.apiKey,appName:n.name,v:Jl},i=pMe.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Am(r).slice(1)}`}function gMe(n){return E(this,null,function*(){let e=yield lMe(n),t=nc().gapi;return it(t,n,"internal-error"),e.open({where:document.body,url:fMe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hMe,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Za(n,"network-request-failed"),a=nc().setTimeout(()=>{o(s)},cMe.get());function l(){nc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var mMe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vMe=500,wMe=600,_Me="_blank",yMe="http://localhost",J4=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kMe(n,e,t,r=vMe,i=wMe){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},mMe),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Bi().toLowerCase();t&&(a=lQ(c)?_Me:t),sQ(c)&&(e=e||yMe,l.scrollbars="yes");let u=Object.entries(l).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(e4e(c)&&a!=="_self")return bMe(e||"",a),new J4(null);let p=window.open(e||"",a,u);it(p,n,"popup-blocked");try{p.focus()}catch{}return new J4(p)}function bMe(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var xMe="__/auth/handler",CMe="emulator/auth/handler",EMe=encodeURIComponent("fac");function XZ(n,e,t,r,i,o){return E(this,null,function*(){it(n.config.authDomain,n,"auth-domain-config-required"),it(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jl,eventId:i};if(e instanceof __){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",cZ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,p]of Object.entries(o||{}))s[u]=p}if(e instanceof G4){let u=e.getScopes().filter(p=>p!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${EMe}=${encodeURIComponent(l)}`:"";return`${MMe(n)}?${Am(a).slice(1)}${c}`})}function MMe({config:n}){return n.emulator?JN(n,CMe):`https://${n.authDomain}/${xMe}`}var SN="webStorageSupport",YN=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p6,this._completeRedirectFn=Q4e,this._overrideRedirectResult=Y4e}_openPopup(e,t,r,i){return E(this,null,function*(){var o;Sd((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield XZ(e,t,r,IN(),i);return kMe(e,s,f6())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield XZ(e,t,r,IN(),i);return R4e(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Sd(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield gMe(e),r=new KN(e);return t.register("authEvent",i=>(it(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(SN,{type:SN},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[SN];s!==void 0&&t(!!s),ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iMe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pQ()||aQ()||n6()}},AQ=YN;var ZZ="@firebase/auth",QZ="1.10.8";var XN=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SMe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IMe(n){Os(new Yi("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;it(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fQ(n)},c=new NN(r,i,o,l);return l4e(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Os(new Yi("auth-internal",e=>{let t=yh(e.getProvider("auth").getImmediate());return(r=>new XN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(ZZ,QZ,SMe(n)),Qn(ZZ,QZ,"esm2017")}var TMe=300,AMe=rN("authIdTokenMaxAge")||TMe,JZ=null,DMe=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AMe)return;let i=t?.token;JZ!==i&&(JZ=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function m6(n=bd()){let e=ph(n,"auth");if(e.isInitialized())return e.getImmediate();let t=r6(n,{popupRedirectResolver:AQ,persistence:[SQ,xQ,p6]}),r=rN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=DMe(o.toString());u6(t,s,()=>s(t.currentUser)),b_(t,a=>s(a))}}let i=tN("auth");return i&&i6(t,`http://${i}`),t}function RMe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}i4e({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Za("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",RMe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IMe("Browser");function PQ(n){return new Qe(function(e){var t=b_(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var OQ="auth",Zi=class{constructor(e){return e}},Lf=class{constructor(){return fh(OQ)}};var v6=new ue("angularfire2.auth-instances");function gSe(n,e){let t=Rf(OQ,n,e);return t&&new Zi(t)}function mSe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Zi(r)}}var vSe={provide:Lf,deps:[[new ei,v6]]},wSe={provide:Zi,useFactory:gSe,deps:[[new ei,v6],Ya]};function NQ(n,...e){return Qn("angularfire",ec.full,"auth"),Di([wSe,vSe,{provide:v6,useFactory:mSe(n),multi:!0,deps:[Be,Fe,tc,xd,[new ei,mh],...e]}])}var Bm=Gr(PQ,!0);var LQ=Gr(s6,!0,2);var rM=Gr(d6,!0,2),FQ=Gr(m6,!0);var BQ=Gr(l6,!0,2);var VQ=Gr(a6,!0,2);var iM=Gr(g6,!0,2);var jQ=Gr(h6,!0,2);var HQ=Gr(c6,!0,2);var Vn={ADDSOCIALGREETING:"/addSocialGreeting",ADDSOCIALLINK:"/addSocialLink",UPLOADICON:"/uploadIconAndGetURL",SCANPDF:"/scanpdf",UPDATEUSERPROFILE:"/updateProfile",GETUSERPROFILE:"/userProfile",GETLATEXFROMUSERPROFILE:"/getTexFromProfile",GETPDFFROMLATEX:"/convert-tex",SAVETEX:"/saveResume",GETTEXCONTENT:"/getTexContent",MAP_ID_TO_EMAIL:"/mapEmailToId",GET_ID_FROM_EMAIL:"/getIdFromEmail",DELETE_SOCIAL_LINK:"/deleteSocialLink",GET_PDF_FROM_EMAIL:"/getPdfFromEmail",GET_BENTO_FROM_PORTFOLIO_DATA:"/bento",SAVE_BENTO:"/saveBento",GET_BENTO_WEBSITE:"/getSavedBento",GET_BENTO_FROM_EMAIL:"/getBentoFromEmail"};var kh={production:!0,firebase:{projectId:"socially-91ef8",appId:"1:102361257672:web:ed6e7fbf8a75c2db3277fd",storageBucket:"socially-91ef8.firebasestorage.app",apiKey:"AIzaSyBVz3JmNbZk--RcKVD4mCoa9-kg_QMfQYE",authDomain:"socially-91ef8.firebaseapp.com",messagingSenderId:"102361257672",measurementId:"G-BPWKSPYQRB"},backend:{baseURL:"https://socially-backend-keig.onrender.com"}};var ti=class n{constructor(e){this.httpclient=e}get(e,t,r){let i=kh.backend.baseURL+e;return Bp(this.httpclient.get(i,{headers:{Authorization:r||""},params:t}).pipe(Oo(o=>{throw Error(o.message)})))}getBlob(e,t,r){let i=kh.backend.baseURL+e;return Bp(this.httpclient.get(i,{headers:{Authorization:r||""},responseType:"blob",params:t}).pipe(Oo(o=>{throw Error(o.message)})))}post(e,t,r){let i=kh.backend.baseURL+e;return Bp(this.httpclient.post(i,t,{headers:{Authorization:r||""}}).pipe(Oo(o=>{throw Error(`${o.message}`)})))}postBlob(e,t,r){let i=kh.backend.baseURL+e;return Bp(this.httpclient.post(i,t,{headers:{Authorization:r||""},responseType:"blob"}).pipe(Oo(o=>{throw console.error("API error",o),Error(`${o.message}`)})))}delete(e,t,r){let i=kh.backend.baseURL+e;return Bp(this.httpclient.delete(i,{headers:{Authorization:r||""},params:t}).pipe(Oo(o=>{throw console.error("API error",o),Error(`${o.message}`)})))}static \u0275fac=function(t){return new(t||n)(Ae(rE))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var gr=class n{constructor(e,t){this.auth=e;this.apiService=t}getCurrentUser(){return Bm(this.auth)}getCurrentUserObject(){return this.auth.currentUser}mapIDwithEmail(){return E(this,null,function*(){this.apiService.post(Vn.MAP_ID_TO_EMAIL,null,yield this.getCurrentUserObject().getIdToken())})}getUserIdFromEmail(e){return E(this,null,function*(){return(yield this.apiService.get(Vn.GET_ID_FROM_EMAIL,{email:e},null)).id})}static \u0275fac=function(t){return new(t||n)(Ae(Zi),Ae(ti))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var ySe=Bl("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",{variants:{},defaultVariants:{}}),Qi=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(ySe(),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCard",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var zo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("px-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCardContent",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Ji=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("text-muted-foreground text-sm",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCardDescription",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Ns=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex items-center px-6 [.border-t]:pt-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCardFooter",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var qo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCardHeader",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Wo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("leading-none font-semibold",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmCardTitle",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};function kSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Username is required."),A())}function bSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Username is too short."),A())}function xSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Username is too long."),A())}function CSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Email is required."),A())}function ESe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Invalid Email."),A())}function MSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Password is required."),A())}function SSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Password is too short."),A())}function ISe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Password is too long."),A())}var oM=class n extends nr{constructor(t){super();this.router=t}registerForm=null;auth=M(Zi);_hlmDialogService=M(fr);userService=M(gr);provider=new Nf;preloaderService=M(rr);ngOnInit(){this.registerForm=new Hl({username:new Cr({value:null,disabled:!1},[He.required,He.minLength(3),He.maxLength(20)]),email:new Cr({value:null,disabled:!1},[He.required,He.email]),password:new Cr({value:null,disabled:!1},[He.required,He.minLength(6),He.maxLength(32)])})}hidden=!0;navigateToLoginScreen(){this.router.navigate(["/login"])}showPasswordToggle(t){this.hidden=!t}loginWithGoogle(){return E(this,null,function*(){try{iM(this.auth,this.provider).then(t=>E(this,null,function*(){let r=Nf.credentialFromResult(t);return rM(t)?.isNewUser&&(yield this.userService.mapIDwithEmail()),this.router.navigate(["/home"]),r}))}catch(t){this._hlmDialogService.open(nn,{context:{error:"Unable to Sign you up",desc:`Error while authenticating with backend ${t}`}})}})}registerWithEmail(){return E(this,null,function*(){if(!this.registerForm?.valid){this.registerForm?.markAllAsTouched();return}let t=this.registerForm.get("username")?.value,r=this.registerForm.get("email")?.value,i=this.registerForm.get("password")?.value;this.preloaderService.show();try{let o=yield LQ(this.auth,r,i);yield HQ(o.user,{displayName:t}),yield BQ(o.user),yield this.userService.mapIDwithEmail(),this.preloaderService.hide(),this._hlmDialogService.open(la,{context:{info:"A verification email has been sent to your email address. Please verify your email before logging in.",desc:"Verify your email"}})}catch(o){this.preloaderService.hide();let s=o;this._hlmDialogService.open(nn,{context:{error:s.message,desc:"Problem while registering"}})}})}static \u0275fac=function(r){return new(r||n)(De(Or))};static \u0275cmp=de({type:n,selectors:[["app-register-screen"]],features:[kt],decls:48,vars:12,consts:[[1,"main"],[1,"mb-8"],["hlmCard","",1,"min-w-xs","md:min-w-md"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"space-y-4",3,"submit","formGroup"],["for","registerUsername","hlmLabel",""],[1,"text-xs"],["id","registerUsername","formControlName","username","hlmInput","","placeholder","Username",1,"w-full"],["for","registerEmail","hlmLabel",""],["id","registerEmail","formControlName","email","hlmInput","","placeholder","Email",1,"w-full"],["for","registerPassword","hlmLabel",""],["id","registerPassword","hlmInput","","placeholder","Password","formControlName","password",1,"w-full",3,"type"],[1,"flex","items-center","justify-end","mb-4"],["id","showPassword",1,"mr-2",3,"changed"],["for","showPassword","hlmLabel","",1,"flex","items-center"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",3,"click"],["hlmBtn","","variant","outline",1,"shrink-0",3,"click"],["src","google.png","alt","","srcset","",1,"w-[20px]","h-[20px]","shrink-0"],["hlmBtn","",1,"flex-1",3,"click"]],template:function(r,i){if(r&1&&(D(0,"div",0),oe(1,"app-logo"),D(2,"h3"),H(3,"Socially"),A(),D(4,"h4",1),H(5,"Create your account"),A(),D(6,"div",2)(7,"div",3)(8,"div",4),H(9,"Welcome!"),A(),D(10,"div",5),H(11,"Register"),A()(),D(12,"div",6)(13,"form",7),we("submit",function(){return i.registerWithEmail()}),D(14,"hlm-form-field")(15,"label",8)(16,"div",9),H(17,"username"),A()(),oe(18,"input",10),te(19,kSe,2,0,"hlm-error"),te(20,bSe,2,0,"hlm-error"),te(21,xSe,2,0,"hlm-error"),A(),D(22,"hlm-form-field")(23,"label",11)(24,"div",9),H(25,"Email"),A()(),oe(26,"input",12),te(27,CSe,2,0,"hlm-error"),te(28,ESe,2,0,"hlm-error"),A(),D(29,"hlm-form-field")(30,"label",13)(31,"div",9),H(32,"Password"),A()(),oe(33,"input",14),te(34,MSe,2,0,"hlm-error"),te(35,SSe,2,0,"hlm-error"),te(36,ISe,2,0,"hlm-error"),A(),D(37,"div",15)(38,"hlm-checkbox",16),we("changed",function(s){return i.showPasswordToggle(s)}),A(),D(39,"label",17),H(40," show password "),A()()()(),D(41,"div",18)(42,"button",19),we("click",function(){return i.navigateToLoginScreen()}),H(43," Log In "),A(),D(44,"button",20),we("click",function(){return i.loginWithGoogle()}),oe(45,"img",21),A(),D(46,"button",22),we("click",function(){return i.registerWithEmail()}),H(47," Register "),A()()()()),r&2){let o,s,a,l,c,u,p,g;N(2),se(i.h3Style),N(11),fe("formGroup",i.registerForm),N(6),ne(!(i.registerForm==null||(o=i.registerForm.get("username"))==null||o.errors==null)&&o.errors.required&&(!(i.registerForm==null||(o=i.registerForm.get("username"))==null)&&o.dirty||!(i.registerForm==null||(o=i.registerForm.get("username"))==null)&&o.touched)?19:-1),N(),ne(!(i.registerForm==null||(s=i.registerForm.get("username"))==null||s.errors==null)&&s.errors.minlength&&(!(i.registerForm==null||(s=i.registerForm.get("username"))==null)&&s.dirty||!(i.registerForm==null||(s=i.registerForm.get("username"))==null)&&s.touched)?20:-1),N(),ne(!(i.registerForm==null||(a=i.registerForm.get("username"))==null||a.errors==null)&&a.errors.maxlength&&(!(i.registerForm==null||(a=i.registerForm.get("username"))==null)&&a.dirty||!(i.registerForm==null||(a=i.registerForm.get("username"))==null)&&a.touched)?21:-1),N(6),ne(!(i.registerForm==null||(l=i.registerForm.get("email"))==null||l.errors==null)&&l.errors.required&&(!(i.registerForm==null||(l=i.registerForm.get("email"))==null)&&l.dirty||!(i.registerForm==null||(l=i.registerForm.get("email"))==null)&&l.touched)?27:-1),N(),ne(!(i.registerForm==null||(c=i.registerForm.get("email"))==null||c.errors==null)&&c.errors.email&&(!(i.registerForm==null||(c=i.registerForm.get("email"))==null)&&c.dirty||!(i.registerForm==null||(c=i.registerForm.get("email"))==null)&&c.touched)?28:-1),N(5),fe("type",i.hidden?"password":"text"),N(),ne(!(i.registerForm==null||(u=i.registerForm.get("password"))==null||u.errors==null)&&u.errors.required&&(!(i.registerForm==null||(u=i.registerForm.get("password"))==null)&&u.dirty||!(i.registerForm==null||(u=i.registerForm.get("password"))==null)&&u.touched)?34:-1),N(),ne(!(i.registerForm==null||(p=i.registerForm.get("password"))==null||p.errors==null)&&p.errors.minlength&&(!(i.registerForm==null||(p=i.registerForm.get("password"))==null)&&p.dirty||!(i.registerForm==null||(p=i.registerForm.get("password"))==null)&&p.touched)?35:-1),N(),ne(!(i.registerForm==null||(g=i.registerForm.get("password"))==null||g.errors==null)&&g.errors.maxlength&&(!(i.registerForm==null||(g=i.registerForm.get("password"))==null)&&g.dirty||!(i.registerForm==null||(g=i.registerForm.get("password"))==null)&&g.touched)?36:-1)}},dependencies:[$l,sh,Ul,ih,oh,ps,md,On,jl,Vl,Ps,zl,lh,Qi,qo,Ns,Wo,Ji,zo,Gl,km],encapsulation:2})};function TSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Email is required."),A())}function ASe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Invalid Email."),A())}function DSe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Password is required."),A())}var sM=class n extends nr{constructor(t){super();this.router=t}auth=M(Zi);provider=new Nf;_hlmDialogService=M(fr);preloaderService=M(rr);userService=M(gr);loginForm=null;ngOnInit(){this.loginForm=new Hl({email:new Cr({value:null,disabled:!1},[He.required,He.email]),password:new Cr({value:null,disabled:!1},[He.required])})}get email(){return this.loginForm?.get("email")}get password(){return this.loginForm?.get("password")}hidden=!0;navigateToRegisterScreen(){this.router.navigate(["/register"])}showPasswordToggle(t){this.hidden=!t}navigateToHomeScreen(){this.router.navigate(["/home"])}loginWithGoogle(){try{iM(this.auth,this.provider).then(t=>E(this,null,function*(){let r=Nf.credentialFromResult(t);return rM(t)?.isNewUser&&this.userService.mapIDwithEmail(),this.router.navigate(["/home"]),r}))}catch(t){this._hlmDialogService.open(nn,{context:{error:"Unable to Log you in",desc:`Error while authenticating with backend ${t}`}})}}loginWithEmail(){return E(this,null,function*(){if(!this.loginForm?.valid){this.loginForm?.markAllAsTouched();return}let t=this.email?.value,r=this.password?.value;this.preloaderService.show();try{if(!(yield VQ(this.auth,t,r)).user.emailVerified){this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:"Please verify your email before logging in.",desc:"Email not verified"}});return}this.preloaderService.hide(),this.router.navigate(["/home"])}catch(i){let o=i;this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:o.message,desc:"Problem while login"}})}})}static \u0275fac=function(r){return new(r||n)(De(Or))};static \u0275cmp=de({type:n,selectors:[["app-login-screen"]],features:[kt],decls:38,vars:7,consts:[[1,"main"],[1,"mb-8"],["hlmCard","",1,"min-w-xs","md:min-w-md"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"space-y-4",3,"submit","formGroup"],["for","loginEmail","hlmLabel",""],[1,"text-xs"],["id","loginEmail","hlmInput","","placeholder","Email","formControlName","email",1,"w-full"],["for","loginPassword","hlmLabel",""],["id","loginPassword","hlmInput","","placeholder","Password","formControlName","password",1,"w-full",3,"type"],[1,"flex","items-center","justify-end","mb-4"],["id","loginShowPassword",1,"mr-2",3,"changed"],["for","loginShowPassword","hlmLabel","",1,"flex","items-center"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",3,"click"],["hlmBtn","","variant","outline",1,"shrink-0",3,"click"],["src","google.png","alt","","srcset","",1,"w-[20px]","h-[20px]","shrink-0"],["hlmBtn","",1,"flex-1",3,"click"]],template:function(r,i){r&1&&(D(0,"div",0),oe(1,"app-logo"),D(2,"h3"),H(3,"Socially"),A(),D(4,"h4",1),H(5,"Your personal social Butler"),A(),D(6,"div",2)(7,"div",3)(8,"div",4),H(9,"Welcome Back!"),A(),D(10,"div",5),H(11,"Log In"),A()(),D(12,"div",6)(13,"form",7),we("submit",function(){return i.loginWithEmail()}),D(14,"hlm-form-field")(15,"label",8)(16,"div",9),H(17,"Email"),A()(),oe(18,"input",10),te(19,TSe,2,0,"hlm-error"),te(20,ASe,2,0,"hlm-error"),A(),D(21,"hlm-form-field")(22,"label",11)(23,"div",9),H(24,"Password"),A()(),oe(25,"input",12),te(26,DSe,2,0,"hlm-error"),A(),D(27,"div",13)(28,"hlm-checkbox",14),we("changed",function(s){return i.showPasswordToggle(s)}),A(),D(29,"label",15),H(30," show password "),A()()()(),D(31,"div",16)(32,"button",17),we("click",function(){return i.navigateToRegisterScreen()}),H(33," Register "),A(),D(34,"button",18),we("click",function(){return i.loginWithGoogle()}),oe(35,"img",19),A(),D(36,"button",20),we("click",function(){return i.loginWithEmail()}),H(37,"Log In"),A()()()()),r&2&&(N(2),se(i.h3Style),N(11),fe("formGroup",i.loginForm),N(6),ne(!(i.email==null||i.email.errors==null)&&i.email.errors.required&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?19:-1),N(),ne(!(i.email==null||i.email.errors==null)&&i.email.errors.email&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?20:-1),N(5),fe("type",i.hidden?"password":"text"),N(),ne(!(i.password==null||i.password.errors==null)&&i.password.errors.required&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?26:-1))},dependencies:[$l,sh,Ul,ih,oh,ps,md,On,jl,Vl,Ps,zl,Qi,qo,Ns,Wo,Ji,zo,lh,Gl,km],encapsulation:2})};var aM=class n{auth=M(Zi);router=M(Or);logout(){jQ(this.auth).then(()=>{this.router.navigate(["/login"])}).catch(e=>{console.log("sign out error: "+e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-top-nav-bar"]],decls:7,vars:0,consts:[[1,"h-[50px]","backdrop-blur-md"],[1,"flex","h-full","p-2","items-center","justify-between"],[1,"flex","gap-4"],["hlmBtn","","variant","outline",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div"),H(3,"Socially"),A(),D(4,"div",2)(5,"button",3),we("click",function(){return r.logout()}),H(6,"SignOut"),A()()()())},dependencies:[On],styles:["[_nghost-%COMP%]{position:fixed;top:0;width:100%}"]})};var ic=class n{apiService=M(ti);userService=M(gr);resumeDataDTO=null;setResumeDataDTO(e){this.resumeDataDTO=e}clearResumeDataDTO(){this.resumeDataDTO=null}getResumeDataFirebase(){return E(this,null,function*(){let e=yield this.apiService.get(Vn.GETUSERPROFILE,null,yield this.userService.getCurrentUserObject().getIdToken());return e||null})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};function PSe(n,e){if(n&1){let t=dn();D(0,"div",7)(1,"div",8)(2,"div",9),H(3),As(4,"titlecase"),A(),D(5,"div",10),H(6),A()(),D(7,"div",11),oe(8,"ng-icon",12),A(),D(9,"div",13)(10,"button",14),we("click",function(){let i=We(t).$implicit,o=ae();return Ge(o.navigateToScreen(i.route))}),H(11,"Edit"),A(),D(12,"button",15),we("click",function(){let i=We(t).$implicit,o=ae();return Ge(o.navigateToViewer(i.type))}),H(13," View "),A()()()}if(n&2){let t=e.$implicit;N(3),Ke(ia(4,3,t.type)),N(3),Ke(t.desc),N(2),fe("name",t.icon)}}var lM=class n extends nr{constructor(t,r,i,o,s){super();this.router=t;this.userService=r;this.apiService=i;this.preloaderService=o;this.resumeDataService=s}gUser=null;ngOnInit(){this.gUser=this.userService.getCurrentUserObject()}socials=[{type:"social-links",icon:"lucideLink",desc:"Organize all your social media profiles in one place",route:"social-links"},{type:"resume",icon:"lucideFileText",desc:"Showcase your professional CV or resume",route:"resume"},{type:"bento",icon:"lucideLayoutGrid",desc:"A portfolio built using modular bento cards to showcase your projects, skills, and achievements",route:"bento"},{type:"analytics",icon:"lucideChartBar",desc:"Manage your data",route:"analytics"}];navigateToScreen(t){this.router.navigate([t])}pdfSelection(t){return E(this,null,function*(){this.preloaderService.show();let r=t.target;if(r&&r.files&&r.files[0]){let i=new FormData;i.append("file",r.files[0]);let o=yield this.userService.getCurrentUserObject().getIdToken(),s=yield this.apiService.post(Vn.SCANPDF,i,o);try{let a=s;this.resumeDataService.setResumeDataDTO(a),this.router.navigate(["/analytics"])}catch(a){console.error(a)}this.preloaderService.hide()}this.preloaderService.hide()})}navigateToViewer(t){switch(t){case"social-links":this.router.navigate(["/social-links",this.gUser?.email]);break;case"analytics":this.router.navigate(["/analytics-viewer"]);break;case"resume":this.router.navigate(["/resume-viewer",this.gUser?.email]);break;case"bento":this.router.navigate(["/bento-viewer",this.gUser?.email]);break;default:break}}static \u0275fac=function(r){return new(r||n)(De(Or),De(gr),De(ti),De(rr),De(ic))};static \u0275cmp=de({type:n,selectors:[["app-home-screen"]],features:[Le([un({lucideLayoutGrid:JE,lucideLink:KY,lucideContact:UY,lucideFileText:qY,lucideBadgeCheck:FY,lucidePen:ZY,lucideMail:YY,lucideQrCode:JY,lucideChartBar:BY,lucideDownload:QE,lucideVideo:nX,lucideFilePlus2:zY})]),kt],decls:21,vars:15,consts:[["fileInput",""],[1,"flex","items-center","p-10","flex-col","nav-bar-margin"],["accept","application/pdf","type","file",3,"change","hidden"],["tabindex","1",1,"flex","items-center","flex-col","justify-center","px-10","py-5","rounded-xl","mt-10","border-dashed","border-5","focusable",3,"click"],["hlm","","size","80px","name","lucideFilePlus2"],[1,"mt-20"],[1,"flex","flex-wrap","justify-center","gap-4","mt-8","items-stretch"],["hlmCard","",1,"w-xs","cursor-pointer","focusable"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],["size","30px","hlm","",3,"name"],["hlmCardFooter",""],["hlmBtn","",3,"click"],["hlmBtn","","variant","outline",3,"click"]],template:function(r,i){if(r&1){let o=dn();oe(0,"app-top-nav-bar"),D(1,"div",1)(2,"h1"),H(3),A(),D(4,"div")(5,"p"),H(6," Drop your resume, linkedin pdf or anything that tells us about you "),A(),D(7,"input",2,0),we("change",function(a){return We(o),Ge(i.pdfSelection(a))}),A(),D(9,"div",3),we("click",function(){We(o);let a=ad(8);return Ge(a.click())}),oe(10,"ng-icon",4),D(11,"p"),H(12," drop here, or click to choose file "),A()()(),D(13,"div",5)(14,"h3"),H(15,"Your socials"),A(),D(16,"p"),H(17," Here are the collection of socials you have created, or can be created "),A(),D(18,"div",6),Rn(19,PSe,14,5,"div",7,yi),A()()()}r&2&&(N(2),se(Dt("",i.h1Style," text-center")),N(),xt("Welcome, ",i.gUser==null?null:i.gUser.displayName),N(2),se(Dt("",i.mutedStyle," mt-20 text-center")),N(2),fe("hidden",!0),N(4),se(Dt("",i.mutedStyle," mt-8 text-center")),N(3),se(i.h3Style),N(2),se(i.mutedStyle),N(3),Pn(i.socials))},dependencies:[hn,tr,Qi,qo,Ns,Wo,Ji,zo,On,aM,gP],encapsulation:2})};var Ff=class n{userClass=W("",{alias:"class"});stickyLabels=W(!1,{transform:Je});_stateProvider=aY({optional:!0});_sideProvider=oY({optional:!0});_computedClass=ee(()=>Me("w-full relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md p-1 data-[side=bottom]:top-[2px] data-[side=top]:bottom-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmSelectContent",""],["hlm-select-content"]],hostVars:4,hostBindings:function(t,r){t&2&&(Pt("data-state",(r._stateProvider==null?null:r._stateProvider.state())??"open")("data-side",(r._sideProvider==null?null:r._sideProvider.side())??"bottom"),se(r._computedClass()))},inputs:{userClass:[1,"class","userClass"],stickyLabels:[1,"stickyLabels"]}})};var UQ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})();var NSe=["viewport"],LSe=["*",[["hlm-select-scroll-up"]],[["brnSelectScrollUp"]],[["brnSelectScrollDown"]],[["hlm-select-scroll-down"]]],FSe=["*","hlm-select-scroll-up","brnSelectScrollUp","brnSelectScrollDown","hlm-select-scroll-down"];function BSe(n,e){n&1&&(rt(0,1),rt(1,2))}function VSe(n,e){n&1&&po(0)}function jSe(n,e){n&1&&(rt(0,3),rt(1,4))}function HSe(n,e){n&1&&po(0)}var USe=[[["hlm-select-trigger"],["","brnSelectTrigger",""]],[["label","hlmLabel",""],["label","brnLabel",""]],"*"],$Se=["hlm-select-trigger,[brnSelectTrigger]","label[hlmLabel],label[brnLabel]","*"];function zSe(n,e){if(n&1&&(D(0,"label",1),H(1),A()),n&2){let t=ae();Pt("id",t.labelId()),N(),Ke(t.placeholder())}}function qSe(n,e){n&1&&rt(0,1)}function WSe(n,e){n&1&&rt(0,2)}var GSe=n=>({$implicit:n});function KSe(n,e){if(n&1&&po(0,2),n&2){let t,r=ae(),i=ad(5);fe("ngTemplateOutlet",((t=r._customPlaceholderTemplate())==null?null:t.templateRef)??i)}}function YSe(n,e){if(n&1&&po(0,3),n&2){let t,r=ae(),i=ad(3);fe("ngTemplateOutlet",((t=r._customValueTemplate())==null?null:t.templateRef)??i)("ngTemplateOutletContext",ld(2,GSe,r._select.value()))}}function XSe(n,e){if(n&1&&H(0),n&2){let t=ae();Ke(t._value())}}function ZSe(n,e){if(n&1&&H(0),n&2){let t=ae();Ke(t.placeholder())}}var GQ=new ue("BrnSelectContentToken");function QSe(){return M(GQ)}function JSe(n){return{provide:GQ,useExisting:n}}var KQ=new ue("BrnSelectToken");function dM(){return M(KQ)}function eIe(n){return{provide:KQ,useExisting:n}}var tIe=0,bh=(()=>{class n{_select=dM();_content=QSe();elementRef=M(ft);id=W(`brn-option-${++tIe}`);value=W();_disabled=W(!1,{alias:"disabled",transform:Je});get disabled(){return this._disabled()}selected=ee(()=>this.value()!==void 0&&this._select.isSelected(this.value()));_active=Te(!1);checkedState=ee(()=>this.selected()?"checked":"unchecked");dir=this._select.dir;select(){if(!this._disabled()){if(this._select.multiple()){this._select.toggleSelect(this.value());return}this._select.selectOption(this.value())}}getLabel(){return this.elementRef.nativeElement.textContent?.trim()??""}setInactiveStyles(){this._active.set(!1)}activate(){this._disabled()||this._content.setActiveOption(this)}focus(){this.elementRef.nativeElement.focus(),this._active.set(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnOption",""]],hostAttrs:["role","option"],hostVars:7,hostBindings:function(r,i){r&1&&we("click",function(){return i.select()})("mouseenter",function(){return i.activate()})("blur",function(){return i.setInactiveStyles()}),r&2&&(ki("id",i.id())("tabIndex",-1),Pt("aria-selected",i.selected())("aria-disabled",i._disabled())("dir",i._select.dir())("data-active",i._active()?"":void 0)("data-disabled",i._disabled()?"":void 0))},inputs:{id:[1,"id"],value:[1,"value"],_disabled:[1,"disabled","_disabled"]}})}return n})(),cM=100,$Q=(()=>{class n{_el=M(ft);_selectContent=M(jm);_endReached=new Pe;_destroyRef=M(sr);startEmittingEvents(){let t=Cn(this._el.nativeElement,"mouseleave");kx(100).pipe($e(t),$e(this._endReached),ym(this._destroyRef)).subscribe(()=>this._selectContent.moveFocusUp())}stopEmittingEvents(){this._endReached.next(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectScrollUp",""],["brn-select-scroll-up"],["hlm-select-scroll-up",5,"noHlm"]],hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&we("mouseenter",function(){return i.startEmittingEvents()})}})}return n})(),zQ=(()=>{class n{_el=M(ft);_selectContent=M(jm);_endReached=new Pe;_destroyRef=M(sr);startEmittingEvents(){let t=Cn(this._el.nativeElement,"mouseleave");kx(100).pipe($e(t),$e(this._endReached),ym(this._destroyRef)).subscribe(()=>this._selectContent.moveFocusDown())}stopEmittingEvents(){this._endReached.next(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectScrollDown",""],["brn-select-scroll-down"],["hlm-select-scroll-down",5,"noHlm"]],hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&we("mouseenter",function(){return i.startEmittingEvents()})}})}return n})(),jm=(()=>{class n{_elementRef=M(ft);_injector=M(Fe);_select=dM();_canScrollUp=Te(!1);_canScrollDown=Te(!1);_viewport=fo.required("viewport");_scrollUpBtn=za($Q);_scrollDownBtn=za(zQ);_options=cd(bh,{descendants:!0});keyManager=null;constructor(){Ot(()=>{this._select.open()&&qi(()=>this.updateArrowDisplay(),{injector:this._injector})})}ngAfterContentInit(){this.keyManager=new ah(this._options,this._injector).withHomeAndEnd().withVerticalOrientation().withTypeAhead().withWrap().skipPredicate(t=>t.disabled),Ot(()=>{let t=this._select.open(),r=this._options();if(!t||!r.length)return;let i=r.find(o=>o.selected());i?qi(()=>{this.keyManager?.setActiveItem(i)},{injector:this._injector}):qi(()=>{this.keyManager?.setFirstItemActive()},{injector:this._injector})},{injector:this._injector})}updateArrowDisplay(){let{scrollTop:t,scrollHeight:r,clientHeight:i}=this._viewport().nativeElement;this._canScrollUp.set(t>0);let o=r-i;this._canScrollDown.set(Math.ceil(t)<o)}handleScroll(){this.updateArrowDisplay()}focusList(){this._elementRef.nativeElement.focus()}moveFocusUp(){this._viewport().nativeElement.scrollBy({top:-cM,behavior:"smooth"}),this._viewport().nativeElement.scrollTop===0&&this._scrollUpBtn()?.stopEmittingEvents()}moveFocusDown(){this._viewport().nativeElement.scrollBy({top:cM,behavior:"smooth"});let t=this._elementRef.nativeElement.scrollHeight,r=this._viewport().nativeElement.scrollTop;t+r+cM>this._viewport().nativeElement.scrollHeight+cM/2&&this._scrollDownBtn()?.stopEmittingEvents()}setActiveOption(t){let r=this._options().findIndex(i=>i===t);r!==-1&&this.keyManager?.setActiveItem(r)}selectActiveItem(t){t.preventDefault();let r=this.keyManager?.activeItem;r&&this._select.toggleSelect(r.value())}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select-content"],["hlm-select-content",5,"noHlm"]],contentQueries:function(r,i,o){r&1&&(bi(o,i._scrollUpBtn,$Q,5),bi(o,i._scrollDownBtn,zQ,5),bi(o,i._options,bh,5)),r&2&&br(3)},viewQuery:function(r,i){r&1&&Wi(i._viewport,NSe,5),r&2&&br()},hostAttrs:["role","listbox","aria-orientation","vertical"],hostVars:6,hostBindings:function(r,i){r&1&&we("keydown",function(s){return i.keyManager==null?null:i.keyManager.onKeydown(s)})("keydown.enter",function(s){return i.selectActiveItem(s)})("keydown.space",function(s){return i.selectActiveItem(s)}),r&2&&(ki("id",i._select.id()+"--content"),Pt("aria-multiselectable",i._select.multiple())("aria-disabled",i._select.disabled()||i._select.formDisabled())("aria-labelledBy",i._select.labelId())("aria-controlledBy",i._select.id()+"--trigger")("dir",i._select.dir()))},features:[Le([JSe(n)])],ngContentSelectors:FSe,decls:9,vars:2,consts:[["scrollUp",""],["viewport",""],["scrollDown",""],[4,"ngTemplateOutlet"],["data-brn-select-viewport","",2,"flex","1 1 0%","position","relative","width","100%","overflow","auto","min-height","36px","padding-bottom","2px","margin-bottom","-2px",3,"scroll"]],template:function(r,i){if(r&1){let o=dn();tn(LSe),ss(0,BSe,2,0,"ng-template",null,0,V0)(2,VSe,1,0,"ng-container",3),D(3,"div",4,1),we("scroll",function(){return We(o),Ge(i.handleScroll())}),rt(5),A(),ss(6,jSe,2,0,"ng-template",null,2,V0)(8,HSe,1,0,"ng-container",3)}if(r&2){let o=ad(1),s=ad(7);N(2),fe("ngTemplateOutlet",i._canScrollUp()&&i._scrollUpBtn()?o:null),N(6),fe("ngTemplateOutlet",i._canScrollDown()&&i._scrollDownBtn()?s:null)}},dependencies:[j0],styles:["[_nghost-%COMP%]{display:flex;box-sizing:border-box;flex-direction:column;outline:none;pointer-events:auto}[data-brn-select-viewport][_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-brn-select-viewport][_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"],changeDetection:0})}return n})(),nIe=0,uM=(()=>{class n{_defaultErrorStateMatcher=M(XE);_parentForm=M(yf,{optional:!0});_injector=M(Fe);_parentFormGroup=M(ps,{optional:!0});ngControl=M(aa,{optional:!0,self:!0});id=W(`brn-select-${++nIe}`);multiple=W(!1,{transform:Je});placeholder=W("");disabled=W(!1,{transform:Je});dir=W("ltr");closeDelay=W(100,{transform:Ho});open=dd(!1);value=dd();compareWith=W((t,r)=>t===r);formDisabled=Te(!1);_selectLabel=za(ch,{descendants:!1});_selectContent=za.required(jm);options=cd(bh,{descendants:!0});selectedOptions=ee(()=>this.options().filter(t=>t.selected()));_overlayDir=fo.required(Em);trigger=Te(null);triggerWidth=Te(0);_delayedExpanded=RO(d4(this.open).pipe($r(t=>t?Xe(t):Xe(t).pipe(o3(this.closeDelay()))),ym()),{initialValue:!1});state=ee(()=>this.open()?"open":"closed");_positionChanges$=new Pe;side=RO(this._positionChanges$.pipe(nt(t=>t.connectionPair.originY==="center"?t.connectionPair.originX==="start"?"left":"right":t.connectionPair.originY)),{initialValue:"bottom"});labelId=ee(()=>this._selectLabel()?.id??`${this.id()}--label`);_onChange=()=>{};_onTouched=()=>{};_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}];errorStateTracker;errorState=ee(()=>this.errorStateTracker.errorState());constructor(){this.ngControl!==null&&(this.ngControl.valueAccessor=this),this.errorStateTracker=new cm(this._defaultErrorStateMatcher,this.ngControl,this._parentFormGroup,this._parentForm)}ngDoCheck(){this.errorStateTracker.updateErrorState()}toggle(){this.open()?this.hide():this.show()}show(){this.open()||this.disabled()||this.formDisabled()||this.options()?.length==0||this.open.set(!0)}hide(){this.open()&&(this.open.set(!1),this._onTouched(),this.trigger()?.focus())}writeValue(t){this.value.set(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.formDisabled.set(t)}selectOption(t){if(this.multiple()){let r=this.value(),i=r?[...r,t]:[t];this.value.set(i)}else this.value.set(t);this._onChange?.(this.value()),this.multiple()||this.hide()}deselectOption(t){if(this.multiple()){let r=this.value();this.value.set(r.filter(i=>!this.compareWith()(i,t)))}else this.value.set(null);this._onChange?.(this.value())}toggleSelect(t){this.isSelected(t)?this.deselectOption(t):this.selectOption(t)}isSelected(t){let r=this.value();return Array.isArray(r)?r.some(i=>this.compareWith()(i,t)):t!==void 0?this.compareWith()(r,t):!1}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select"],["hlm-select"]],contentQueries:function(r,i,o){r&1&&(bi(o,i._selectLabel,ch,4),bi(o,i._selectContent,jm,5),bi(o,i.options,bh,5)),r&2&&br(3)},viewQuery:function(r,i){r&1&&Wi(i._overlayDir,Em,5),r&2&&br()},inputs:{id:[1,"id"],multiple:[1,"multiple"],placeholder:[1,"placeholder"],disabled:[1,"disabled"],dir:[1,"dir"],closeDelay:[1,"closeDelay"],open:[1,"open"],value:[1,"value"],compareWith:[1,"compareWith"]},outputs:{open:"openChange",value:"valueChange"},features:[Le([sY(()=>n),rO(()=>n),eIe(n),{provide:_f,useExisting:Yn(()=>n)}])],ngContentSelectors:$Se,decls:6,vars:5,consts:[["trigger","cdkOverlayOrigin"],[1,"hidden"],["cdk-overlay-origin","",3,"click"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"]],template:function(r,i){if(r&1){let o=dn();tn(USe),te(0,zSe,2,2,"label",1)(1,qSe,1,0),D(2,"div",2,0),we("click",function(){return We(o),Ge(i.toggle())}),rt(4),A(),ss(5,WSe,1,0,"ng-template",3),we("backdropClick",function(){return We(o),Ge(i.hide())})("detach",function(){return We(o),Ge(i.hide())})("positionChange",function(a){return We(o),Ge(i._positionChanges$.next(a))})}if(r&2){let o=ad(3);ne(!i._selectLabel()&&i.placeholder()?0:1),N(5),fe("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i._delayedExpanded())("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i.triggerWidth()>0?i.triggerWidth():"auto")}},dependencies:[b4,Em,Zw,UQ],encapsulation:2,changeDetection:0})}return n})(),y6=(()=>{class n{labelledBy=Te("");static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectGroup",""]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(r,i){r&2&&Pt("aria-labelledby",i.labelledBy())}})}return n})(),YQ=(()=>{class n{_group=M(y6,{optional:!0});_label=M(ch,{host:!0});constructor(){this._group?.labelledBy.set(this._label.id())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectLabel",""]],features:[Zn([ch])]})}return n})(),qQ=(()=>{class n{templateRef=M(zi);static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectPlaceholder",""],["","hlmSelectPlaceholder",""]]})}return n})(),XQ=(()=>{class n{_elementRef=M(ft);_changeDetector=M(go);_select=dM();_ngControl=M(aa,{optional:!0});_platform=M(hr);_triggerId=ee(()=>`${this._select.id()}--trigger`);_contentId=ee(()=>`${this._select.id()}--content`);_disabled=ee(()=>this._select.disabled()||this._select.formDisabled());_labelledBy=ee(()=>{let t=this._select.value();return Array.isArray(t)&&t.length>0?`${this._select.labelId()} ${this._select.id()}--value`:this._select.labelId()});_resizeObserver;_statusChangedSubscription;constructor(){this._select.trigger.set(this)}ngOnInit(){this._ngControl&&(this._statusChangedSubscription=this._ngControl.statusChanges?.subscribe(()=>{this._changeDetector.markForCheck()}))}ngAfterViewInit(){this._select.triggerWidth.set(this._elementRef.nativeElement.offsetWidth),mo(this._platform)&&(this._resizeObserver=new ResizeObserver(()=>this._select.triggerWidth.set(this._elementRef.nativeElement.offsetWidth)),this._resizeObserver.observe(this._elementRef.nativeElement))}ngOnDestroy(){this._resizeObserver?.disconnect(),this._statusChangedSubscription?.unsubscribe()}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectTrigger",""]],hostAttrs:["type","button","role","combobox","aria-autocomplete","none"],hostVars:18,hostBindings:function(r,i){r&1&&we("keydown.ArrowDown",function(){return i._select.show()}),r&2&&(ki("disabled",i._disabled()),Pt("id",i._triggerId())("aria-expanded",i._select.open())("aria-controls",i._contentId())("aria-labelledBy",i._labelledBy())("dir",i._select.dir()),xr("ng-invalid",(i._ngControl==null?null:i._ngControl.invalid)||null)("ng-dirty",(i._ngControl==null?null:i._ngControl.dirty)||null)("ng-valid",(i._ngControl==null?null:i._ngControl.valid)||null)("ng-touched",(i._ngControl==null?null:i._ngControl.touched)||null)("ng-untouched",(i._ngControl==null?null:i._ngControl.untouched)||null)("ng-pristine",(i._ngControl==null?null:i._ngControl.pristine)||null))}})}return n})(),WQ=(()=>{class n{templateRef=M(zi);static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnSelectValue",""],["","hlmSelectValue",""]]})}return n})(),ZQ=(()=>{class n{_select=dM();id=ee(()=>`${this._select.id()}--value`);placeholder=ee(()=>this._select.placeholder());_showPlaceholder=ee(()=>this._value()===null||this._value()===void 0||this._value()==="");_customValueTemplate=za(WQ,{descendants:!0});_customPlaceholderTemplate=za(qQ,{descendants:!0});_value=ee(()=>{let t=this._values();if(t.length===0)return null;let i=t.filter(s=>this._select.options().some(a=>this._select.compareWith()(a.value(),s))).map(s=>this._select.options().find(a=>this._select.compareWith()(a.value(),s)));if(i.length===0)return null;let o=i.map(s=>s?.getLabel());return this._select.dir()==="rtl"&&o.reverse(),this.transformFn()(o)});_values=ee(()=>Array.isArray(this._select.value())?this._select.value():[this._select.value()]);transformFn=W(t=>(t??[]).join(", "));static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select-value"],["hlm-select-value"]],contentQueries:function(r,i,o){r&1&&(bi(o,i._customValueTemplate,WQ,5),bi(o,i._customPlaceholderTemplate,qQ,5)),r&2&&br(2)},hostVars:2,hostBindings:function(r,i){r&2&&(ki("id",i.id()),Pt("data-placeholder",i._showPlaceholder()?"":null))},inputs:{transformFn:[1,"transformFn"]},decls:6,vars:1,consts:[["defaultValueTemplate",""],["defaultPlaceholderTemplate",""],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(te(0,KSe,1,1,"ng-container",2)(1,YSe,1,4,"ng-container",3),ss(2,XSe,1,1,"ng-template",null,0,V0)(4,ZSe,1,1,"ng-template",null,1,V0)),r&2&&ne(i._showPlaceholder()?0:1)},dependencies:[j0],styles:["[_nghost-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;white-space:nowrap;pointer-events:none}"],changeDetection:0})}return n})();var k6=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmSelectGroup",""],["hlm-select-group"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Zn([y6])]})};var x_=class n{_selectContent=M(Ff);_stickyLabels=ee(()=>this._selectContent.stickyLabels());userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("text-muted-foreground px-2 py-1.5 text-xs",this._stickyLabels()?"sticky top-0 bg-popover block z-[2]":"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmSelectLabel",""],["hlm-select-label"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Zn([YQ])]})};var iIe=["*"];function oIe(n,e){n&1&&oe(0,"ng-icon",1)}var Hm=class n{_brnSelectOption=M(bh,{host:!0});userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("data-[active]:bg-accent data-[active]:text-accent-foreground [&>ng-icon]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-option"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Le([un({lucideCheck:ZE})]),Zn([{directive:bh,inputs:["disabled","disabled","value","value"]}])],ngContentSelectors:iIe,decls:3,vars:1,consts:[[1,"absolute","right-2","flex","size-3.5","items-center","justify-center"],["hlm","","size","sm","aria-hidden","true","name","lucideCheck"]],template:function(t,r){t&1&&(tn(),D(0,"span",0),te(1,oIe,1,0,"ng-icon",1),A(),rt(2)),t&2&&(N(),ne(r._brnSelectOption.selected()?1:-1))},dependencies:[hn,tr],encapsulation:2,changeDetection:0})};var pM=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex cursor-default items-center justify-center py-1",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-scroll-down"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Le([un({lucideChevronDown:um})])],decls:1,vars:0,consts:[["hlm","","size","sm","name","lucideChevronDown",1,"ml-2"]],template:function(t,r){t&1&&oe(0,"ng-icon",0)},dependencies:[hn,tr],encapsulation:2,changeDetection:0})};var fM=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex cursor-default items-center justify-center py-1",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-scroll-up"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Le([un({lucideChevronUp:HY})])],decls:1,vars:0,consts:[["hlm","","size","sm","name","lucideChevronUp",1,"ml-2"]],template:function(t,r){t&1&&oe(0,"ng-icon",0)},dependencies:[hn,tr],encapsulation:2,changeDetection:0})};var aIe=["*",[["ng-icon"]]],lIe=["*","ng-icon"];function cIe(n,e){n&1&&rt(0,1)}function dIe(n,e){n&1&&oe(0,"ng-icon",2)}var uIe=Bl("border-input [&>ng-icon]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon]:size-4",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:text-destructive [&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:focus-visible:ring-destructive/20 dark:[&.ng-invalid.ng-touched]:focus-visible:ring-destructive/40",true:"text-destructive border-destructive focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40"}},defaultVariants:{error:"auto"}}),Um=class n{_icon=za(tr);_brnSelect=M(uM,{optional:!0});userClass=W("",{alias:"class"});size=W("default");_computedClass=ee(()=>Me(uIe({error:this._brnSelect?.errorState()}),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-trigger"]],contentQueries:function(t,r,i){t&1&&bi(i,r._icon,tr,5),t&2&&br()},inputs:{userClass:[1,"class","userClass"],size:[1,"size"]},features:[Le([un({lucideChevronDown:um})])],ngContentSelectors:lIe,decls:5,vars:4,consts:[["button",""],["hlmInput","","brnSelectTrigger","","type","button"],["hlm","","size","sm","name","lucideChevronDown",1,"ml-2","flex-none"]],template:function(t,r){t&1&&(tn(aIe),D(0,"button",1,0),rt(2),te(3,cIe,1,0)(4,dIe,1,0,"ng-icon",2),A()),t&2&&(se(r._computedClass()),Pt("data-size",r.size()),N(3),ne(r._icon()?3:4))},dependencies:[XQ,hn,tr],encapsulation:2,changeDetection:0})};var C_=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("line-clamp-1 flex items-center gap-2 data-[placeholder]:text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["hlm-select-value"],["","hlmSelectValue",""],["brn-select-value","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var gM=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({imports:[Um,Hm,fM,pM]})};var QQ=[{value:"linkedin",label:"LinkedIn",icon:"lucideLinkedin",color:"#0077b5"},{value:"whatsapp",label:"WhatsApp",icon:"lucideMessageCircle",color:"#25d366"},{value:"x",label:"X",icon:"lucideTwitter",color:"#1da1f2"},{value:"facebook",label:"Facebook",icon:"lucideFacebook",color:"#1877f3"},{value:"instagram",label:"Instagram",icon:"lucideInstagram",color:"#e1306c"},{value:"github",label:"GitHub",icon:"lucideGithub",color:"#333"},{value:"youtube",label:"YouTube",icon:"lucideYoutube",color:"#ff0000"},{value:"custom",label:"Custom",icon:"",color:"#666666"}];var JQ=[{baseURL:"https://facebook.com/",value:"facebook"},{baseURL:"https://www.facebook.com/",value:"facebook"},{baseURL:"https://github.com/",value:"github"},{baseURL:"https://www.github.com/",value:"github"},{baseURL:"https://instagram.com/",value:"instagram"},{baseURL:"https://www.instagram.com/",value:"instagram"},{baseURL:"https://linkedin.com/",value:"linkedin"},{baseURL:"https://www.linkedin.com/",value:"linkedin"},{baseURL:"https://x.com/",value:"x"},{baseURL:"https://www.x.com/",value:"x"},{baseURL:"https://youtube.com/",value:"youtube"},{baseURL:"https://www.youtube.com/",value:"youtube"},{baseURL:"https://messenger.com/",value:"messenger"},{baseURL:"https://www.messenger.com/",value:"messenger"}];var eo=[];for(let n=0;n<256;++n)eo.push((n+256).toString(16).slice(1));function eJ(n,e=0){return(eo[n[e+0]]+eo[n[e+1]]+eo[n[e+2]]+eo[n[e+3]]+"-"+eo[n[e+4]]+eo[n[e+5]]+"-"+eo[n[e+6]]+eo[n[e+7]]+"-"+eo[n[e+8]]+eo[n[e+9]]+"-"+eo[n[e+10]]+eo[n[e+11]]+eo[n[e+12]]+eo[n[e+13]]+eo[n[e+14]]+eo[n[e+15]]).toLowerCase()}var b6,fIe=new Uint8Array(16);function x6(){if(!b6){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b6=crypto.getRandomValues.bind(crypto)}return b6(fIe)}var gIe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C6={randomUUID:gIe};function mIe(n,e,t){n=n||{};let r=n.random??n.rng?.()??x6();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return eJ(r)}function vIe(n,e,t){return C6.randomUUID&&!e&&!n?C6.randomUUID():mIe(n,e,t)}var E6=vIe;var wIe=["tooltip"];function _Ie(n,e){if(n&1&&H(0),n&2){let t=ae();xt(" ",t.content," ")}}function yIe(n,e){if(n&1&&po(0,2),n&2){let t=ae();fe("ngTemplateOutlet",t.content)}}var M6=(()=>{class n{tooltipTemplate=Te(null);static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnTooltip",""]]})}return n})(),kIe=(()=>{class n{_cdr=M(go);_isBrowser=mo(M(hr));_renderer2=M(Oi);_contentHovered=Te(!1);tooltipClasses=Te("");side=Te("above");content=null;_showTimeoutId;_hideTimeoutId;_animateTimeoutId;triggerElement;mouseLeaveHideDelay=0;exitAnimationDuration=0;tooltip=fo("tooltip",{read:ft});_closeOnInteraction=!1;_isVisible=!1;_onHide=new Pe;afterHidden=this._onHide.asObservable();show(t){this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._animateTimeoutId!==null&&clearTimeout(this._animateTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleDataAttributes(!0,this.side()),this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t,r){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._animateTimeoutId=setTimeout(()=>{this._animateTimeoutId=void 0,!this._contentHovered()&&this._toggleDataAttributes(!1,this.side())},Math.max(t,0)),this._hideTimeoutId=setTimeout(()=>{this._hideTimeoutId=void 0,!this._contentHovered()&&this._toggleVisibility(!1)},t+r)}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this.triggerElement=void 0}_isTypeOfString(t){return typeof t=="string"}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0,0)}_markForCheck(){this._cdr.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this.triggerElement?.contains(t))&&(this.isVisible()?this.hide(this.mouseLeaveHideDelay,this.exitAnimationDuration):this._finalize(!1)),this._contentHovered.set(!1)}_cancelPendingAnimations(){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalize(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let r=this.tooltip()?.nativeElement;!r||!this._isBrowser||(this._renderer2.setStyle(r,"visibility",t?"visible":"hidden"),t?this._renderer2.removeStyle(r,"display"):this._renderer2.setStyle(r,"display","none"),this._isVisible=t)}_toggleDataAttributes(t,r){let i=this.tooltip()?.nativeElement;!i||!this._isBrowser||(this._renderer2.setAttribute(i,"data-side",r),this._renderer2.setAttribute(i,"data-state",t?"open":"closed"))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-tooltip-content"]],viewQuery:function(r,i){r&1&&Wi(i.tooltip,wIe,5,ft),r&2&&br()},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,i){r&1&&we("mouseleave",function(s){return i._handleMouseLeave(s)}),r&2&&ra("zoom",i.isVisible()?1:null)},decls:4,vars:5,consts:[["tooltip",""],[3,"mouseenter","mouseleave"],[3,"ngTemplateOutlet"]],template:function(r,i){if(r&1){let o=dn();D(0,"div",1,0),we("mouseenter",function(){return We(o),Ge(i._contentHovered.set(!0))})("mouseleave",function(){return We(o),Ge(i._contentHovered.set(!1))}),te(2,_Ie,1,1)(3,yIe,1,1,"ng-container",2),A()}r&2&&(se(i.tooltipClasses()),ra("visibility","hidden"),N(2),ne(i._isTypeOfString(i.content)?2:3))},dependencies:[j0],encapsulation:2,changeDetection:0})}return n})();var S6={showDelay:0,hideDelay:0,exitAnimationDuration:0,touchendHideDelay:1500},rJ=new ue("brn-tooltip-default-options",{providedIn:"root",factory:()=>S6});function iJ(n){return{provide:rJ,useValue:G(G({},S6),n)}}function bIe(){return M(rJ,{optional:!0})??S6}function xIe(n){let e=null,t=zt(()=>n());return ee(()=>{e=n();let r=t;return t=e,r})}var CIe=20;function tJ(n){return Error(`Tooltip position "${n}" is invalid.`)}var oJ=new ue("brn-tooltip-scroll-strategy"),EIe={provide:oJ,deps:[t_],useFactory:n=>()=>n.scrollStrategies.reposition({scrollThrottle:CIe})},MIe="tooltip-panel",nJ=kf({passive:!0}),SIe=500,IIe=8,TIe=8,sJ=(()=>{class n{_tooltipDirective=M(M6,{optional:!0});_tooltipComponent=kIe;_cssClassPrefix="brn";_destroyed=new Pe;_passiveListeners=[];_defaultOptions=bIe();_overlay=M(t_);_elementRef=M(ft);_scrollDispatcher=M(bm);_viewContainerRef=M(Ni);_ngZone=M(Be);_platform=M(qr);_ariaDescriber=M(kX);_focusMonitor=M(bf);_dir=M(Ga);_scrollStrategy=M(oJ);_document=M(_t);_portal;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_viewportMargin=8;_currentPosition;_touchstartTimeout;_overlayRef=null;_tooltipInstance=null;position=W(this._defaultOptions?.position??"above");positionAtOrigin=W(this._defaultOptions?.positionAtOrigin??!1,{transform:Je});brnTooltipDisabled=W(!1,{transform:Je});showDelay=W(this._defaultOptions?.showDelay??0,{transform:Ho});hideDelay=W(this._defaultOptions?.hideDelay??0,{transform:Ho});exitAnimationDuration=W(this._defaultOptions?.exitAnimationDuration??0,{transform:Ho});tooltipContentClasses=W(this._defaultOptions?.tooltipContentClasses??"",{alias:"tooltipContentClasses"});computedTooltipContentClasses=ee(()=>Te(this.tooltipContentClasses()));touchGestures=W(this._defaultOptions?.touchGestures??"auto");ariaDescribedBy=W("",{alias:"aria-describedby"});computedAriaDescribedBy=ee(()=>Te(this.ariaDescribedBy()));ariaDescribedByPrevious=xIe(this.computedAriaDescribedBy);brnTooltipTrigger=W(null);brnTooltipTriggerState=ee(()=>this._tooltipDirective?this._tooltipDirective.tooltipTemplate():this.brnTooltipTrigger());constructor(){this._dir.change.pipe($e(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=IIe,this._initBrnTooltipTriggerEffect(),this._initAriaDescribedByPreviousEffect(),this._initTooltipContentClassesEffect(),this._initPositionEffect(),this._initPositionAtOriginEffect(),this._initBrnTooltipDisabledEffect(),this._initExitAnimationDurationEffect(),this._initHideDelayEffect()}setTooltipContentClasses(t){this.computedTooltipContentClasses().set(t)}setAriaDescribedBy(t){this.computedAriaDescribedBy().set(t)}_initPositionEffect(){Ot(()=>{this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition())})}_initBrnTooltipDisabledEffect(){Ot(()=>{this.brnTooltipDisabled()?this.hide(0):this._setupPointerEnterEventsIfNeeded()})}_initPositionAtOriginEffect(){Ot(()=>{let t=this.positionAtOrigin();this._detach(),this._overlayRef=null})}_initTooltipContentClassesEffect(){Ot(()=>{this._tooltipInstance&&this._tooltipInstance.tooltipClasses.set(this.computedTooltipContentClasses()()??"")})}_initAriaDescribedByPreviousEffect(){Ot(()=>{let t=this.computedAriaDescribedBy()();this._ariaDescriber.removeDescription(this._elementRef.nativeElement,zt(()=>this.ariaDescribedByPrevious()()),"tooltip"),t&&!this._isTooltipVisible()&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,t,"tooltip")})})})}_initBrnTooltipTriggerEffect(){Ot(()=>{let t=this.brnTooltipTriggerState(),r=this._isTooltipVisible();zt(()=>{!t&&r?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipContent())})})}_initExitAnimationDurationEffect(){Ot(()=>{this._tooltipInstance&&(this._tooltipInstance.exitAnimationDuration=this.exitAnimationDuration())})}_initHideDelayEffect(){Ot(()=>{this._tooltipInstance&&(this._tooltipInstance.mouseLeaveHideDelay=this.hideDelay())})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($e(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))}),iY&&!this.computedAriaDescribedBy()&&console.warn('BrnTooltip: "aria-describedby" attribute is required for accessibility')}ngOnDestroy(){let t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>t.removeEventListener(r,i,nJ)),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.computedAriaDescribedBy()(),"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay(),r){if(this.brnTooltipDisabled()||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new uh(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o.triggerElement=this._elementRef.nativeElement,o.mouseLeaveHideDelay=this.hideDelay(),o.tooltipClasses.set(this.computedTooltipContentClasses()()),o.exitAnimationDuration=this.exitAnimationDuration(),o.side.set(this._currentPosition??"above"),o.afterHidden.pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._updateTooltipContent(),o.show(t)}hide(t=this.hideDelay(),r=this.exitAnimationDuration()){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t,r):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin()||!t)&&o._origin instanceof ft)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin()?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe($e(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${MIe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($e(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($e(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.key==="Escape"&&!Wl(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef?.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(G(G({},i.main),o.main)),this._addOffset(G(G({},i.fallback),o.fallback))])}_addOffset(t){let r=TIe,i=!this._dir||this._dir.value==="ltr";return t.originY==="top"?t.offsetY=-r:t.originY==="bottom"?t.offsetY=r:t.originX==="start"?t.offsetX=i?-r:r:t.originX==="end"&&(t.offsetX=i?r:-r),t}_getOrigin(){let t=!this._dir||this._dir.value==="ltr",r=this.position(),i;if(r==="above"||r==="below")i={originX:"center",originY:r==="above"?"top":"bottom"};else if(r==="before"||r==="left"&&t||r==="right"&&!t)i={originX:"start",originY:"center"};else if(r==="after"||r==="right"&&t||r==="left"&&!t)i={originX:"end",originY:"center"};else if(typeof Qu()>"u"||Qu())throw tJ(r);let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value==="ltr",r=this.position(),i;if(r==="above")i={overlayX:"center",overlayY:"bottom"};else if(r==="below")i={overlayX:"center",overlayY:"top"};else if(r==="before"||r==="left"&&t||r==="right"&&!t)i={overlayX:"end",overlayY:"center"};else if(r==="after"||r==="right"&&t||r==="left"&&!t)i={overlayX:"start",overlayY:"center"};else if(typeof Qu()>"u"||Qu())throw tJ(r);let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipContent(){this._tooltipInstance&&(this._tooltipInstance.content=this.brnTooltipTriggerState(),this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ur(1),$e(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef?.updatePosition()}))}_invertPosition(t,r){return this.position()==="above"||this.position()==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){let{overlayY:r,originX:i,originY:o}=t,s;r==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=r==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition&&(this._tooltipInstance?.side.set(s),this._currentPosition=s)}_setupPointerEnterEventsIfNeeded(){this.brnTooltipDisabled()||!this.brnTooltipTriggerState()||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let r;t.x!==void 0&&t.y!==void 0&&(r=t),this.show(void 0,r)}]):this.touchGestures()!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),SIe)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures()!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,nJ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures();if(t!=="off"){let r=this._elementRef.nativeElement,i=r.style;(t==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnTooltipTrigger",""]],hostAttrs:[1,"brn-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&xr("brn-tooltip-disabled",i.brnTooltipDisabled())},inputs:{position:[1,"position"],positionAtOrigin:[1,"positionAtOrigin"],brnTooltipDisabled:[1,"brnTooltipDisabled"],showDelay:[1,"showDelay"],hideDelay:[1,"hideDelay"],exitAnimationDuration:[1,"exitAnimationDuration"],tooltipContentClasses:[1,"tooltipContentClasses"],touchGestures:[1,"touchGestures"],ariaDescribedBy:[1,"aria-describedby","ariaDescribedBy"],brnTooltipTrigger:[1,"brnTooltipTrigger"]},exportAs:["brnTooltipTrigger"],features:[Le([EIe])]})}return n})();var AIe=()=>({display:"contents"}),DIe=["*"],I6=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tooltip"]],hostVars:3,hostBindings:function(t,r){t&2&&ls(cf(2,AIe))},features:[Zn([M6])],ngContentSelectors:DIe,decls:1,vars:0,template:function(t,r){t&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})};var RIe="bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=below]:slide-in-from-top-2 data-[side=above]:slide-in-from-bottom-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 ",Bf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmTooltipTrigger",""]],features:[Le([iJ({showDelay:150,hideDelay:300,exitAnimationDuration:150,tooltipContentClasses:RIe})]),Zn([{directive:sJ,inputs:["brnTooltipDisabled","hlmTooltipDisabled","brnTooltipTrigger","hlmTooltipTrigger","aria-describedby","aria-describedby","position","position","positionAtOrigin","positionAtOrigin","hideDelay","hideDelay","showDelay","showDelay","exitAnimationDuration","exitAnimationDuration","touchGestures","touchGestures"]}])]})};var mM=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})};var xh=class n{_dialogRef=M(Gi);_dialogContext=Kl();title=this._dialogContext.title;desc=this._dialogContext.desc;declined(){this._dialogRef.close("no")}confirmed(){this._dialogRef.close("yes")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-confirmation-dialog"]],decls:10,vars:2,consts:[["hlmDialogTitle",""],["hlmCardDescription",""],["hlmBtn","",3,"click"],["hlmBtn","","variant","destructive",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"div",0),H(2),A(),D(3,"div",1),H(4),A()(),D(5,"hlm-dialog-footer")(6,"button",2),we("click",function(){return r.confirmed()}),H(7,"Yes"),A(),D(8,"button",3),we("click",function(){return r.declined()}),H(9,"No"),A()()),t&2&&(N(2),Ke(r.title),N(2),Ke(r.desc))},dependencies:[On,wd,_d,yd,Ji],encapsulation:2})};var oc=class n{constructor(e){this.location=e}navigateBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)(De(cs))};static \u0275cmp=de({type:n,selectors:[["app-only-back-nav-bar"]],features:[Le([un({lucideArrowLeft:dm})])],decls:2,vars:0,consts:[["hlmBtn","","variant","secondary",1,"m-4",3,"click"],["size","25px","name","lucideArrowLeft"]],template:function(t,r){t&1&&(D(0,"button",0),we("click",function(){return r.navigateBack()}),oe(1,"ng-icon",1),A())},dependencies:[hn,On],encapsulation:2})};var lJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cJ={};var Td,T6;(function(){var n;function e(L,T){function I(){}I.prototype=T.prototype,L.D=T.prototype,L.prototype=new I,L.prototype.constructor=L,L.C=function(B,U,X){for(var z=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)z[tt-2]=arguments[tt];return T.prototype[U].apply(B,z)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,T,I){I||(I=0);var B=Array(16);if(typeof T=="string")for(var U=0;16>U;++U)B[U]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(U=0;16>U;++U)B[U]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=L.g[0],I=L.g[1],U=L.g[2];var X=L.g[3],z=T+(X^I&(U^X))+B[0]+3614090360&4294967295;T=I+(z<<7&4294967295|z>>>25),z=X+(U^T&(I^U))+B[1]+3905402710&4294967295,X=T+(z<<12&4294967295|z>>>20),z=U+(I^X&(T^I))+B[2]+606105819&4294967295,U=X+(z<<17&4294967295|z>>>15),z=I+(T^U&(X^T))+B[3]+3250441966&4294967295,I=U+(z<<22&4294967295|z>>>10),z=T+(X^I&(U^X))+B[4]+4118548399&4294967295,T=I+(z<<7&4294967295|z>>>25),z=X+(U^T&(I^U))+B[5]+1200080426&4294967295,X=T+(z<<12&4294967295|z>>>20),z=U+(I^X&(T^I))+B[6]+2821735955&4294967295,U=X+(z<<17&4294967295|z>>>15),z=I+(T^U&(X^T))+B[7]+4249261313&4294967295,I=U+(z<<22&4294967295|z>>>10),z=T+(X^I&(U^X))+B[8]+1770035416&4294967295,T=I+(z<<7&4294967295|z>>>25),z=X+(U^T&(I^U))+B[9]+2336552879&4294967295,X=T+(z<<12&4294967295|z>>>20),z=U+(I^X&(T^I))+B[10]+4294925233&4294967295,U=X+(z<<17&4294967295|z>>>15),z=I+(T^U&(X^T))+B[11]+2304563134&4294967295,I=U+(z<<22&4294967295|z>>>10),z=T+(X^I&(U^X))+B[12]+1804603682&4294967295,T=I+(z<<7&4294967295|z>>>25),z=X+(U^T&(I^U))+B[13]+4254626195&4294967295,X=T+(z<<12&4294967295|z>>>20),z=U+(I^X&(T^I))+B[14]+2792965006&4294967295,U=X+(z<<17&4294967295|z>>>15),z=I+(T^U&(X^T))+B[15]+1236535329&4294967295,I=U+(z<<22&4294967295|z>>>10),z=T+(U^X&(I^U))+B[1]+4129170786&4294967295,T=I+(z<<5&4294967295|z>>>27),z=X+(I^U&(T^I))+B[6]+3225465664&4294967295,X=T+(z<<9&4294967295|z>>>23),z=U+(T^I&(X^T))+B[11]+643717713&4294967295,U=X+(z<<14&4294967295|z>>>18),z=I+(X^T&(U^X))+B[0]+3921069994&4294967295,I=U+(z<<20&4294967295|z>>>12),z=T+(U^X&(I^U))+B[5]+3593408605&4294967295,T=I+(z<<5&4294967295|z>>>27),z=X+(I^U&(T^I))+B[10]+38016083&4294967295,X=T+(z<<9&4294967295|z>>>23),z=U+(T^I&(X^T))+B[15]+3634488961&4294967295,U=X+(z<<14&4294967295|z>>>18),z=I+(X^T&(U^X))+B[4]+3889429448&4294967295,I=U+(z<<20&4294967295|z>>>12),z=T+(U^X&(I^U))+B[9]+568446438&4294967295,T=I+(z<<5&4294967295|z>>>27),z=X+(I^U&(T^I))+B[14]+3275163606&4294967295,X=T+(z<<9&4294967295|z>>>23),z=U+(T^I&(X^T))+B[3]+4107603335&4294967295,U=X+(z<<14&4294967295|z>>>18),z=I+(X^T&(U^X))+B[8]+1163531501&4294967295,I=U+(z<<20&4294967295|z>>>12),z=T+(U^X&(I^U))+B[13]+2850285829&4294967295,T=I+(z<<5&4294967295|z>>>27),z=X+(I^U&(T^I))+B[2]+4243563512&4294967295,X=T+(z<<9&4294967295|z>>>23),z=U+(T^I&(X^T))+B[7]+1735328473&4294967295,U=X+(z<<14&4294967295|z>>>18),z=I+(X^T&(U^X))+B[12]+2368359562&4294967295,I=U+(z<<20&4294967295|z>>>12),z=T+(I^U^X)+B[5]+4294588738&4294967295,T=I+(z<<4&4294967295|z>>>28),z=X+(T^I^U)+B[8]+2272392833&4294967295,X=T+(z<<11&4294967295|z>>>21),z=U+(X^T^I)+B[11]+1839030562&4294967295,U=X+(z<<16&4294967295|z>>>16),z=I+(U^X^T)+B[14]+4259657740&4294967295,I=U+(z<<23&4294967295|z>>>9),z=T+(I^U^X)+B[1]+2763975236&4294967295,T=I+(z<<4&4294967295|z>>>28),z=X+(T^I^U)+B[4]+1272893353&4294967295,X=T+(z<<11&4294967295|z>>>21),z=U+(X^T^I)+B[7]+4139469664&4294967295,U=X+(z<<16&4294967295|z>>>16),z=I+(U^X^T)+B[10]+3200236656&4294967295,I=U+(z<<23&4294967295|z>>>9),z=T+(I^U^X)+B[13]+681279174&4294967295,T=I+(z<<4&4294967295|z>>>28),z=X+(T^I^U)+B[0]+3936430074&4294967295,X=T+(z<<11&4294967295|z>>>21),z=U+(X^T^I)+B[3]+3572445317&4294967295,U=X+(z<<16&4294967295|z>>>16),z=I+(U^X^T)+B[6]+76029189&4294967295,I=U+(z<<23&4294967295|z>>>9),z=T+(I^U^X)+B[9]+3654602809&4294967295,T=I+(z<<4&4294967295|z>>>28),z=X+(T^I^U)+B[12]+3873151461&4294967295,X=T+(z<<11&4294967295|z>>>21),z=U+(X^T^I)+B[15]+530742520&4294967295,U=X+(z<<16&4294967295|z>>>16),z=I+(U^X^T)+B[2]+3299628645&4294967295,I=U+(z<<23&4294967295|z>>>9),z=T+(U^(I|~X))+B[0]+4096336452&4294967295,T=I+(z<<6&4294967295|z>>>26),z=X+(I^(T|~U))+B[7]+1126891415&4294967295,X=T+(z<<10&4294967295|z>>>22),z=U+(T^(X|~I))+B[14]+2878612391&4294967295,U=X+(z<<15&4294967295|z>>>17),z=I+(X^(U|~T))+B[5]+4237533241&4294967295,I=U+(z<<21&4294967295|z>>>11),z=T+(U^(I|~X))+B[12]+1700485571&4294967295,T=I+(z<<6&4294967295|z>>>26),z=X+(I^(T|~U))+B[3]+2399980690&4294967295,X=T+(z<<10&4294967295|z>>>22),z=U+(T^(X|~I))+B[10]+4293915773&4294967295,U=X+(z<<15&4294967295|z>>>17),z=I+(X^(U|~T))+B[1]+2240044497&4294967295,I=U+(z<<21&4294967295|z>>>11),z=T+(U^(I|~X))+B[8]+1873313359&4294967295,T=I+(z<<6&4294967295|z>>>26),z=X+(I^(T|~U))+B[15]+4264355552&4294967295,X=T+(z<<10&4294967295|z>>>22),z=U+(T^(X|~I))+B[6]+2734768916&4294967295,U=X+(z<<15&4294967295|z>>>17),z=I+(X^(U|~T))+B[13]+1309151649&4294967295,I=U+(z<<21&4294967295|z>>>11),z=T+(U^(I|~X))+B[4]+4149444226&4294967295,T=I+(z<<6&4294967295|z>>>26),z=X+(I^(T|~U))+B[11]+3174756917&4294967295,X=T+(z<<10&4294967295|z>>>22),z=U+(T^(X|~I))+B[2]+718787259&4294967295,U=X+(z<<15&4294967295|z>>>17),z=I+(X^(U|~T))+B[9]+3951481745&4294967295,L.g[0]=L.g[0]+T&4294967295,L.g[1]=L.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,L.g[2]=L.g[2]+U&4294967295,L.g[3]=L.g[3]+X&4294967295}r.prototype.u=function(L,T){T===void 0&&(T=L.length);for(var I=T-this.blockSize,B=this.B,U=this.h,X=0;X<T;){if(U==0)for(;X<=I;)i(this,L,X),X+=this.blockSize;if(typeof L=="string"){for(;X<T;)if(B[U++]=L.charCodeAt(X++),U==this.blockSize){i(this,B),U=0;break}}else for(;X<T;)if(B[U++]=L[X++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=T},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var T=1;T<L.length-8;++T)L[T]=0;var I=8*this.o;for(T=L.length-8;T<L.length;++T)L[T]=I&255,I/=256;for(this.u(L),L=Array(16),T=I=0;4>T;++T)for(var B=0;32>B;B+=8)L[I++]=this.g[T]>>>B&255;return L};function o(L,T){var I=a;return Object.prototype.hasOwnProperty.call(I,L)?I[L]:I[L]=T(L)}function s(L,T){this.h=T;for(var I=[],B=!0,U=L.length-1;0<=U;U--){var X=L[U]|0;B&&X==T||(I[U]=X,B=!1)}this.g=I}var a={};function l(L){return-128<=L&&128>L?o(L,function(T){return new s([T|0],0>T?-1:0)}):new s([L|0],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return x(c(-L));for(var T=[],I=1,B=0;L>=I;B++)T[B]=L/I|0,I*=4294967296;return new s(T,0)}function u(L,T){if(L.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(L.charAt(0)=="-")return x(u(L.substring(1),T));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),B=p,U=0;U<L.length;U+=8){var X=Math.min(8,L.length-U),z=parseInt(L.substring(U,U+X),T);8>X?(X=c(Math.pow(T,X)),B=B.j(X).add(c(z))):(B=B.j(I),B=B.add(c(z)))}return B}var p=l(0),g=l(1),v=l(16777216);n=s.prototype,n.m=function(){if(y(this))return-x(this).m();for(var L=0,T=1,I=0;I<this.g.length;I++){var B=this.i(I);L+=(0<=B?B:4294967296+B)*T,T*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(w(this))return"0";if(y(this))return"-"+x(this).toString(L);for(var T=c(Math.pow(L,6)),I=this,B="";;){var U=j(I,T).g;I=b(I,U.j(T));var X=((0<I.g.length?I.g[0]:I.h)>>>0).toString(L);if(I=U,w(I))return X+B;for(;6>X.length;)X="0"+X;B=X+B}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function w(L){if(L.h!=0)return!1;for(var T=0;T<L.g.length;T++)if(L.g[T]!=0)return!1;return!0}function y(L){return L.h==-1}n.l=function(L){return L=b(this,L),y(L)?-1:w(L)?0:1};function x(L){for(var T=L.g.length,I=[],B=0;B<T;B++)I[B]=~L.g[B];return new s(I,~L.h).add(g)}n.abs=function(){return y(this)?x(this):this},n.add=function(L){for(var T=Math.max(this.g.length,L.g.length),I=[],B=0,U=0;U<=T;U++){var X=B+(this.i(U)&65535)+(L.i(U)&65535),z=(X>>>16)+(this.i(U)>>>16)+(L.i(U)>>>16);B=z>>>16,X&=65535,z&=65535,I[U]=z<<16|X}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(L,T){return L.add(x(T))}n.j=function(L){if(w(this)||w(L))return p;if(y(this))return y(L)?x(this).j(x(L)):x(x(this).j(L));if(y(L))return x(this.j(x(L)));if(0>this.l(v)&&0>L.l(v))return c(this.m()*L.m());for(var T=this.g.length+L.g.length,I=[],B=0;B<2*T;B++)I[B]=0;for(B=0;B<this.g.length;B++)for(var U=0;U<L.g.length;U++){var X=this.i(B)>>>16,z=this.i(B)&65535,tt=L.i(U)>>>16,gt=L.i(U)&65535;I[2*B+2*U]+=z*gt,R(I,2*B+2*U),I[2*B+2*U+1]+=X*gt,R(I,2*B+2*U+1),I[2*B+2*U+1]+=z*tt,R(I,2*B+2*U+1),I[2*B+2*U+2]+=X*tt,R(I,2*B+2*U+2)}for(B=0;B<T;B++)I[B]=I[2*B+1]<<16|I[2*B];for(B=T;B<2*T;B++)I[B]=0;return new s(I,0)};function R(L,T){for(;(L[T]&65535)!=L[T];)L[T+1]+=L[T]>>>16,L[T]&=65535,T++}function V(L,T){this.g=L,this.h=T}function j(L,T){if(w(T))throw Error("division by zero");if(w(L))return new V(p,p);if(y(L))return T=j(x(L),T),new V(x(T.g),x(T.h));if(y(T))return T=j(L,x(T)),new V(x(T.g),T.h);if(30<L.g.length){if(y(L)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var I=g,B=T;0>=B.l(L);)I=$(I),B=$(B);var U=Y(I,1),X=Y(B,1);for(B=Y(B,2),I=Y(I,2);!w(B);){var z=X.add(B);0>=z.l(L)&&(U=U.add(I),X=z),B=Y(B,1),I=Y(I,1)}return T=b(L,U.j(T)),new V(U,T)}for(U=p;0<=L.l(T);){for(I=Math.max(1,Math.floor(L.m()/T.m())),B=Math.ceil(Math.log(I)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),X=c(I),z=X.j(T);y(z)||0<z.l(L);)I-=B,X=c(I),z=X.j(T);w(X)&&(X=g),U=U.add(X),L=b(L,z)}return new V(U,L)}n.A=function(L){return j(this,L).h},n.and=function(L){for(var T=Math.max(this.g.length,L.g.length),I=[],B=0;B<T;B++)I[B]=this.i(B)&L.i(B);return new s(I,this.h&L.h)},n.or=function(L){for(var T=Math.max(this.g.length,L.g.length),I=[],B=0;B<T;B++)I[B]=this.i(B)|L.i(B);return new s(I,this.h|L.h)},n.xor=function(L){for(var T=Math.max(this.g.length,L.g.length),I=[],B=0;B<T;B++)I[B]=this.i(B)^L.i(B);return new s(I,this.h^L.h)};function $(L){for(var T=L.g.length+1,I=[],B=0;B<T;B++)I[B]=L.i(B)<<1|L.i(B-1)>>>31;return new s(I,L.h)}function Y(L,T){var I=T>>5;T%=32;for(var B=L.g.length-I,U=[],X=0;X<B;X++)U[X]=0<T?L.i(X+I)>>>T|L.i(X+I+1)<<32-T:L.i(X+I);return new s(U,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T6=cJ.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Td=cJ.Integer=s}).apply(typeof lJ<"u"?lJ:typeof self<"u"?self:typeof window<"u"?window:{});var vM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ad={};var A6,PIe,$m,D6,E_,wM,R6,P6,O6;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,C){return f==Array.prototype||f==Object.prototype||(f[_]=C.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vM=="object"&&vM];for(var _=0;_<f.length;++_){var C=f[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=t(this);function i(f,_){if(_)e:{var C=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var J=f[O];if(!(J in C))break e;C=C[J]}f=f[f.length-1],O=C[f],_=_(O),_!=O&&_!=null&&e(C,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var C=0,O=!1,J={next:function(){if(!O&&C<f.length){var re=C++;return{value:_(re,f[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(f){return f||function(){return o(this,function(_,C){return C})}});var s=s||{},a=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,C){return f.call.apply(f.bind,arguments)}function p(f,_,C){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),f.apply(_,J)}}return function(){return f.apply(_,arguments)}}function g(f,_,C){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:p,g.apply(null,arguments)}function v(f,_){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function w(f,_){function C(){}C.prototype=_.prototype,f.aa=_.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(O,J,re){for(var Ee=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Ee[Bt-2]=arguments[Bt];return _.prototype[J].apply(O,Ee)}}function y(f){let _=f.length;if(0<_){let C=Array(_);for(let O=0;O<_;O++)C[O]=f[O];return C}return[]}function x(f,_){for(let C=1;C<arguments.length;C++){let O=arguments[C];if(l(O)){let J=f.length||0,re=O.length||0;f.length=J+re;for(let Ee=0;Ee<re;Ee++)f[J+Ee]=O[Ee]}else f.push(O)}}class b{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function j(f){return j[" "](f),f}j[" "]=function(){};var $=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(f,_,C){for(let O in f)_.call(C,f[O],O,f)}function L(f,_){for(let C in f)_.call(void 0,f[C],C,f)}function T(f){let _={};for(let C in f)_[C]=f[C];return _}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,_){let C,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(C in O)f[C]=O[C];for(let re=0;re<I.length;re++)C=I[re],Object.prototype.hasOwnProperty.call(O,C)&&(f[C]=O[C])}}function U(f){var _=1;f=f.split(":");let C=[];for(;0<_&&f.length;)C.push(f.shift()),_--;return f.length&&C.push(f.join(":")),C}function X(f){a.setTimeout(()=>{throw f},0)}function z(){var f=er;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class tt{constructor(){this.h=this.g=null}add(_,C){let O=gt.get();O.set(_,C),this.h?this.h.next=O:this.g=O,this.h=O}}var gt=new b(()=>new Tt,f=>f.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,be=!1,er=new tt,So=()=>{let f=a.Promise.resolve(void 0);Re=()=>{f.then(ai)}};var ai=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(C){X(C)}var _=gt;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}be=!1};function vn(){this.s=this.s,this.C=this.C}vn.prototype.s=!1,vn.prototype.ma=function(){this.s||(this.s=!0,this.N())},vn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Wn=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{let C=()=>{};a.addEventListener("test",C,_),a.removeEventListener("test",C,_)}catch{}return f})();function Si(f,_){if(ze.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if($){e:{try{j(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else C=="mouseover"?_=f.fromElement:C=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wr[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Si.aa.h.call(this)}}w(Si,ze);var wr={2:"touch",3:"pen",4:"mouse"};Si.prototype.h=function(){Si.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),io=0;function Io(f,_,C,O,J){this.listener=f,this.proxy=null,this.src=_,this.type=C,this.capture=!!O,this.ha=J,this.key=++io,this.da=this.fa=!1}function oo(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ya(f){this.src=f,this.g={},this.h=0}ya.prototype.add=function(f,_,C,O,J){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var Ee=Mc(f,_,O,J);return-1<Ee?(_=f[Ee],C||(_.fa=!1)):(_=new Io(_,this.src,re,!!O,J),_.fa=C,f.push(_)),_};function Zr(f,_){var C=_.type;if(C in f.g){var O=f.g[C],J=Array.prototype.indexOf.call(O,_,void 0),re;(re=0<=J)&&Array.prototype.splice.call(O,J,1),re&&(oo(_),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Mc(f,_,C,O){for(var J=0;J<f.length;++J){var re=f[J];if(!re.da&&re.listener==_&&re.capture==!!C&&re.ha==O)return J}return-1}var m2="closure_lm_"+(1e6*Math.random()|0),ks={};function v2(f,_,C,O,J){if(O&&O.once)return Zo(f,_,C,O,J);if(Array.isArray(_)){for(var re=0;re<_.length;re++)v2(f,_[re],C,O,J);return null}return C=ul(C),f&&f[et]?f.K(_,C,c(O)?!!O.capture:!!O,J):Mk(f,_,C,!1,O,J)}function Mk(f,_,C,O,J,re){if(!_)throw Error("Invalid event type");var Ee=c(J)?!!J.capture:!!J,Bt=w2(f);if(Bt||(f[m2]=Bt=new ya(f)),C=Bt.add(_,C,O,Ee,re),C.proxy)return C;if(O=Xh(),C.proxy=O,O.src=f,O.listener=C,f.addEventListener)Wn||(J=Ee),J===void 0&&(J=!1),f.addEventListener(_.toString(),O,J);else if(f.attachEvent)f.attachEvent(Sk(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Xh(){function f(C){return _.call(f.src,f.listener,C)}let _=Zh;return f}function Zo(f,_,C,O,J){if(Array.isArray(_)){for(var re=0;re<_.length;re++)Zo(f,_[re],C,O,J);return null}return C=ul(C),f&&f[et]?f.L(_,C,c(O)?!!O.capture:!!O,J):Mk(f,_,C,!0,O,J)}function su(f,_,C,O,J){if(Array.isArray(_))for(var re=0;re<_.length;re++)su(f,_[re],C,O,J);else O=c(O)?!!O.capture:!!O,C=ul(C),f&&f[et]?(f=f.i,_=String(_).toString(),_ in f.g&&(re=f.g[_],C=Mc(re,C,O,J),-1<C&&(oo(re[C]),Array.prototype.splice.call(re,C,1),re.length==0&&(delete f.g[_],f.h--)))):f&&(f=w2(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Mc(_,C,O,J)),(C=-1<f?_[f]:null)&&au(C))}function au(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[et])Zr(_.i,f);else{var C=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(C,O,f.capture):_.detachEvent?_.detachEvent(Sk(C),O):_.addListener&&_.removeListener&&_.removeListener(O),(C=w2(_))?(Zr(C,f),C.h==0&&(C.src=null,_[m2]=null)):oo(f)}}}function Sk(f){return f in ks?ks[f]:ks[f]="on"+f}function Zh(f,_){if(f.da)f=!0;else{_=new Si(_,this);var C=f.listener,O=f.ha||f.src;f.fa&&au(f),f=C.call(O,_)}return f}function w2(f){return f=f[m2],f instanceof ya?f:null}var Sc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ul(f){return typeof f=="function"?f:(f[Sc]||(f[Sc]=function(_){return f.handleEvent(_)}),f[Sc])}function Qr(){vn.call(this),this.i=new ya(this),this.M=this,this.F=null}w(Qr,vn),Qr.prototype[et]=!0,Qr.prototype.removeEventListener=function(f,_,C,O){su(this,f,_,C,O)};function li(f,_){var C,O=f.F;if(O)for(C=[];O;O=O.F)C.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new ze(_,f);else if(_ instanceof ze)_.target=_.target||f;else{var J=_;_=new ze(O,f),B(_,J)}if(J=!0,C)for(var re=C.length-1;0<=re;re--){var Ee=_.g=C[re];J=lu(Ee,O,!0,_)&&J}if(Ee=_.g=f,J=lu(Ee,O,!0,_)&&J,J=lu(Ee,O,!1,_)&&J,C)for(re=0;re<C.length;re++)Ee=_.g=C[re],J=lu(Ee,O,!1,_)&&J}Qr.prototype.N=function(){if(Qr.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var C=f.g[_],O=0;O<C.length;O++)oo(C[O]);delete f.g[_],f.h--}}this.F=null},Qr.prototype.K=function(f,_,C,O){return this.i.add(String(f),_,!1,C,O)},Qr.prototype.L=function(f,_,C,O){return this.i.add(String(f),_,!0,C,O)};function lu(f,_,C,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,re=0;re<_.length;++re){var Ee=_[re];if(Ee&&!Ee.da&&Ee.capture==C){var Bt=Ee.listener,Br=Ee.ha||Ee.src;Ee.fa&&Zr(f.i,Ee),J=Bt.call(Br,O)!==!1&&J}}return J&&!O.defaultPrevented}function bg(f,_,C){if(typeof f=="function")C&&(f=g(f,C));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(f,_||0)}function xg(f){f.g=bg(()=>{f.g=null,f.i&&(f.i=!1,xg(f))},f.l);let _=f.h;f.h=null,f.m.apply(null,_)}class _2 extends vn{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ic(f){vn.call(this),this.h=f,this.g={}}w(Ic,vn);var Cg=[];function Eg(f){Y(f.g,function(_,C){this.g.hasOwnProperty(C)&&au(_)},f),f.g={}}Ic.prototype.N=function(){Ic.aa.N.call(this),Eg(this)},Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var y2=a.JSON.stringify,mA=a.JSON.parse,vA=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Mg(){}Mg.prototype.h=null;function k2(f){return f.h||(f.h=f.i())}function Ik(){}var Qh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function b2(){ze.call(this,"d")}w(b2,ze);function x2(){ze.call(this,"c")}w(x2,ze);var hl={},Tk=null;function Sg(){return Tk=Tk||new Qr}hl.La="serverreachability";function Ak(f){ze.call(this,hl.La,f)}w(Ak,ze);function Tc(f){let _=Sg();li(_,new Ak(_))}hl.STAT_EVENT="statevent";function Dk(f,_){ze.call(this,hl.STAT_EVENT,f),this.stat=_}w(Dk,ze);function ci(f){let _=Sg();li(_,new Dk(_,f))}hl.Ma="timingevent";function Rk(f,_){ze.call(this,hl.Ma,f),this.size=_}w(Rk,ze);function Jh(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function ep(){this.g=!0}ep.prototype.xa=function(){this.g=!1};function wA(f,_,C,O,J,re){f.info(function(){if(f.g)if(re)for(var Ee="",Bt=re.split("&"),Br=0;Br<Bt.length;Br++){var Zt=Bt[Br].split("=");if(1<Zt.length){var di=Zt[0];Zt=Zt[1];var ui=di.split("_");Ee=2<=ui.length&&ui[1]=="type"?Ee+(di+"="+Zt+"&"):Ee+(di+"=redacted&")}}else Ee=null;else Ee=re;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+_+`
`+C+`
`+Ee})}function _A(f,_,C,O,J,re,Ee){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+_+`
`+C+`
`+re+" "+Ee})}function cu(f,_,C,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+kA(f,C)+(O?" "+O:"")})}function yA(f,_){f.info(function(){return"TIMEOUT: "+_})}ep.prototype.info=function(){};function kA(f,_){if(!f.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var O=C[f];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ee=1;Ee<J.length;Ee++)J[Ee]=""}}}}return y2(C)}catch{return _}}var tp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},C2;function Ig(){}w(Ig,Mg),Ig.prototype.g=function(){return new XMLHttpRequest},Ig.prototype.i=function(){return{}},C2=new Ig;function pl(f,_,C,O){this.j=f,this.i=_,this.l=C,this.R=O||1,this.U=new Ic(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ok}function Ok(){this.i=null,this.g="",this.h=!1}var Nk={},du={};function E2(f,_,C){f.L=1,f.v=op(ba(_)),f.m=C,f.P=!0,np(f,null)}function np(f,_){f.F=Date.now(),Tg(f),f.A=ba(f.v);var C=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Gk(C.i,"t",O),f.C=0,C=f.j.J,f.h=new Ok,f.g=F2(f.j,C?_:null,!f.m),0<f.O&&(f.M=new _2(g(f.Y,f,f.g),f.O)),_=f.U,C=f.g,O=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(Cg[0]=J.toString()),J=Cg);for(var re=0;re<J.length;re++){var Ee=v2(C,J[re],O||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Tc(),wA(f.i,f.u,f.A,f.l,f.R,f.m)}pl.prototype.ca=function(f){f=f.target;let _=this.M;_&&Tr(f)==3?_.j():this.Y(f)},pl.prototype.Y=function(f){try{if(f==this.g)e:{let ui=Tr(this.g);var _=this.g.Ba();let wu=this.g.Z();if(!(3>ui)&&(ui!=3||this.g&&(this.h.h||this.g.oa()||N2(this.g)))){this.J||ui!=4||_==7||(_==8||0>=wu?Tc(3):Tc(2)),Ag(this);var C=this.g.Z();this.X=C;t:if(Lk(this)){var O=N2(this.g);f="";var J=O.length,re=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ac(this),uu(this);var Ee="";break t}this.h.i=new a.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!(re&&_==J-1)});O.length=0,this.h.g+=f,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=C==200,_A(this.i,this.u,this.A,this.l,this.R,ui,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Bt,Br=this.g;if((Bt=Br.g?Br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Bt)){var Zt=Bt;break t}}Zt=null}if(C=Zt)cu(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S2(this,C);else{this.o=!1,this.s=3,ci(12),Ac(this),uu(this);break e}}if(this.P){C=!0;let bs;for(;!this.J&&this.C<Ee.length;)if(bs=bA(this,Ee),bs==du){ui==4&&(this.s=4,ci(14),C=!1),cu(this.i,this.l,null,"[Incomplete Response]");break}else if(bs==Nk){this.s=4,ci(15),cu(this.i,this.l,Ee,"[Invalid Chunk]"),C=!1;break}else cu(this.i,this.l,bs,null),S2(this,bs);if(Lk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ui!=4||Ee.length!=0||this.h.h||(this.s=1,ci(16),C=!1),this.o=this.o&&C,!C)cu(this.i,this.l,Ee,"[Invalid Chunked Response]"),Ac(this),uu(this);else if(0<Ee.length&&!this.W){this.W=!0;var di=this.j;di.g==this&&di.ba&&!di.M&&(di.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Hn(di),di.M=!0,ci(11))}}else cu(this.i,this.l,Ee,null),S2(this,Ee);ui==4&&Ac(this),this.o&&!this.J&&(ui==4?Jk(this.j,this):(this.o=!1,Tg(this)))}else Zk(this.g),C==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,ci(12)):(this.s=0,ci(13)),Ac(this),uu(this)}}}catch{}finally{}};function Lk(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bA(f,_){var C=f.C,O=_.indexOf(`
`,C);return O==-1?du:(C=Number(_.substring(C,O)),isNaN(C)?Nk:(O+=1,O+C>_.length?du:(_=_.slice(O,O+C),f.C=O+C,_)))}pl.prototype.cancel=function(){this.J=!0,Ac(this)};function Tg(f){f.S=Date.now()+f.I,M2(f,f.I)}function M2(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Jh(g(f.ba,f),_)}function Ag(f){f.B&&(a.clearTimeout(f.B),f.B=null)}pl.prototype.ba=function(){this.B=null;let f=Date.now();0<=f-this.S?(yA(this.i,this.A),this.L!=2&&(Tc(),ci(17)),Ac(this),this.s=2,uu(this)):M2(this,this.S-f)};function uu(f){f.j.G==0||f.J||Jk(f.j,f)}function Ac(f){Ag(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Eg(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function S2(f,_){try{var C=f.j;if(C.G!=0&&(C.g==f||Dg(C.h,f))){if(!f.K&&Dg(C.h,f)&&C.G==3){try{var O=C.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)vu(C),up(C);else break e;pp(C),ci(18)}}else C.za=J[1],0<C.za-C.T&&37500>J[2]&&C.F&&C.v==0&&!C.C&&(C.C=Jh(g(C.Za,C),6e3));if(1>=T2(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Dc(C,11)}else if((f.K||C.g==f)&&vu(C),!R(_))for(J=C.Da.g.parse(_),_=0;_<J.length;_++){let Zt=J[_];if(C.T=Zt[0],Zt=Zt[1],C.G==2)if(Zt[0]=="c"){C.K=Zt[1],C.ia=Zt[2];let di=Zt[3];di!=null&&(C.la=di,C.j.info("VER="+C.la));let ui=Zt[4];ui!=null&&(C.Aa=ui,C.j.info("SVER="+C.Aa));let wu=Zt[5];wu!=null&&typeof wu=="number"&&0<wu&&(O=1.5*wu,C.L=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;let bs=f.g;if(bs){let Vg=bs.g?bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vg){var re=O.h;re.g||Vg.indexOf("spdy")==-1&&Vg.indexOf("quic")==-1&&Vg.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(rp(re,re.h),re.h=null))}if(O.D){let j2=bs.g?bs.g.getResponseHeader("X-HTTP-Session-Id"):null;j2&&(O.ya=j2,bn(O.I,O.D,j2))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),O=C;var Ee=f;if(O.qa=tb(O,O.J?O.ia:null,O.W),Ee.K){Bk(O.h,Ee);var Bt=Ee,Br=O.L;Br&&(Bt.I=Br),Bt.B&&(Ag(Bt),Tg(Bt)),O.g=Ee}else hp(O);0<C.i.length&&Fg(C)}else Zt[0]!="stop"&&Zt[0]!="close"||Dc(C,7);else C.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Dc(C,7):Lg(C):Zt[0]!="noop"&&C.l&&C.l.ta(Zt),C.v=0)}}Tc(4)}catch{}}var xA=class{constructor(f,_){this.g=f,this.map=_}};function Fk(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I2(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function T2(f){return f.h?1:f.g?f.g.size:0}function Dg(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function rp(f,_){f.g?f.g.add(_):f.h=_}function Bk(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Fk.prototype.cancel=function(){if(this.i=A2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let f of this.g.values())f.cancel();this.g.clear()}};function A2(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(let C of f.g.values())_=_.concat(C.D);return _}return y(f.i)}function Rg(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],C=f.length,O=0;O<C;O++)_.push(f[O]);return _}_=[],C=0;for(O in f)_[C++]=f[O];return _}function Vk(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var C=0;C<f;C++)_.push(C);return _}_=[],C=0;for(let O in f)_[C++]=O;return _}}}function jk(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var C=Vk(f),O=Rg(f),J=O.length,re=0;re<J;re++)_.call(void 0,O[re],C&&C[re],f)}var D2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hk(f,_){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var O=f[C].indexOf("="),J=null;if(0<=O){var re=f[C].substring(0,O);J=f[C].substring(O+1)}else re=f[C];_(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ka(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ka){this.h=f.h,ip(this,f.j),this.o=f.o,this.g=f.g,hu(this,f.s),this.l=f.l;var _=f.i,C=new ap;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),Pg(this,C),this.m=f.m}else f&&(_=String(f).match(D2))?(this.h=!1,ip(this,_[1]||"",!0),this.o=pu(_[2]||""),this.g=pu(_[3]||"",!0),hu(this,_[4]),this.l=pu(_[5]||"",!0),Pg(this,_[6]||"",!0),this.m=pu(_[7]||"")):(this.h=!1,this.i=new ap(null,this.h))}ka.prototype.toString=function(){var f=[],_=this.j;_&&f.push(sp(_,R2,!0),":");var C=this.g;return(C||_=="file")&&(f.push("//"),(_=this.o)&&f.push(sp(_,R2,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(sp(C,C.charAt(0)=="/"?zk:$k,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",sp(C,EA)),f.join("")};function ba(f){return new ka(f)}function ip(f,_,C){f.j=C?pu(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function hu(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Pg(f,_,C){_ instanceof ap?(f.i=_,P2(f.i,f.h)):(C||(_=sp(_,CA)),f.i=new ap(_,f.h))}function bn(f,_,C){f.i.set(_,C)}function op(f){return bn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function pu(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function sp(f,_,C){return typeof f=="string"?(f=encodeURI(f).replace(_,Uk),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uk(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var R2=/[#\/\?@]/g,$k=/[#\?:]/g,zk=/[#\?]/g,CA=/[#\?@]/g,EA=/#/g;function ap(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function xa(f){f.g||(f.g=new Map,f.h=0,f.i&&Hk(f.i,function(_,C){f.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}n=ap.prototype,n.add=function(f,_){xa(this),this.i=null,f=fu(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(_),this.h+=1,this};function qk(f,_){xa(f),_=fu(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Wk(f,_){return xa(f),_=fu(f,_),f.g.has(_)}n.forEach=function(f,_){xa(this),this.g.forEach(function(C,O){C.forEach(function(J){f.call(_,J,O,this)},this)},this)},n.na=function(){xa(this);let f=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let O=0;O<_.length;O++){let J=f[O];for(let re=0;re<J.length;re++)C.push(_[O])}return C},n.V=function(f){xa(this);let _=[];if(typeof f=="string")Wk(this,f)&&(_=_.concat(this.g.get(fu(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)_=_.concat(f[C])}return _},n.set=function(f,_){return xa(this),this.i=null,f=fu(this,f),Wk(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Gk(f,_,C){qk(f,_),0<C.length&&(f.i=null,f.g.set(fu(f,_),y(C)),f.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let f=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var O=_[C];let re=encodeURIComponent(String(O)),Ee=this.V(O);for(O=0;O<Ee.length;O++){var J=re;Ee[O]!==""&&(J+="="+encodeURIComponent(String(Ee[O]))),f.push(J)}}return this.i=f.join("&")};function fu(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function P2(f,_){_&&!f.j&&(xa(f),f.i=null,f.g.forEach(function(C,O){var J=O.toLowerCase();O!=J&&(qk(this,O),Gk(this,J,C))},f)),f.j=_}function MA(f,_){let C=new ep;if(a.Image){let O=new Image;O.onload=v(fl,C,"TestLoadImage: loaded",!0,_,O),O.onerror=v(fl,C,"TestLoadImage: error",!1,_,O),O.onabort=v(fl,C,"TestLoadImage: abort",!1,_,O),O.ontimeout=v(fl,C,"TestLoadImage: timeout",!1,_,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function SA(f,_){let C=new ep,O=new AbortController,J=setTimeout(()=>{O.abort(),fl(C,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then(re=>{clearTimeout(J),re.ok?fl(C,"TestPingServer: ok",!0,_):fl(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),fl(C,"TestPingServer: error",!1,_)})}function fl(f,_,C,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(C)}catch{}}function IA(){this.g=new vA}function TA(f,_,C){let O=C||"";try{jk(f,function(J,re){let Ee=J;c(J)&&(Ee=y2(J)),_.push(O+re+"="+encodeURIComponent(Ee))})}catch(J){throw _.push(O+"type="+encodeURIComponent("_badmap")),J}}function En(f){this.l=f.Ub||null,this.j=f.eb||!1}w(En,Mg),En.prototype.g=function(){return new Mn(this.l,this.j)},En.prototype.i=(function(f){return function(){return f}})({});function Mn(f,_){Qr.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Mn,Qr),n=Mn.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,cp(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lp(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,cp(this)),this.g&&(this.readyState=3,cp(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kk(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kk(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?lp(this):cp(this),this.readyState==3&&Kk(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,lp(this))},n.Qa=function(f){this.g&&(this.response=f,lp(this))},n.ga=function(){this.g&&lp(this)};function lp(f){f.readyState=4,f.l=null,f.j=null,f.v=null,cp(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let f=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=_.next();return f.join(`\r
`)};function cp(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yk(f){let _="";return Y(f,function(C,O){_+=O,_+=":",_+=C,_+=`\r
`}),_}function O2(f,_,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=Yk(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):bn(f,_,C))}function dr(f){Qr.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(dr,Qr);var Xk=/^https?$/i,AA=["POST","PUT"];n=dr.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():C2.g(),this.v=this.o?k2(this.o):k2(C2),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(re){Fr(this,re);return}if(f=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)C.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(let re of O.keys())C.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AA,_,void 0))||O||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[re,Ee]of C)this.g.setRequestHeader(re,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ng(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){Fr(this,re)}};function Fr(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Og(f),dp(f)}function Og(f){f.A||(f.A=!0,li(f,"complete"),li(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,li(this,"complete"),li(this,"abort"),dp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dp(this,!0)),dr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gl(this):this.bb())},n.bb=function(){gl(this)};function gl(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Tr(f)!=4||f.Z()!=2)){if(f.u&&Tr(f)==4)bg(f.Ea,0,f);else if(li(f,"readystatechange"),Tr(f)==4){f.h=!1;try{let Ee=f.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var O;if(O=Ee===0){var J=String(f.D).match(D2)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),O=!Xk.test(J?J.toLowerCase():"")}C=O}if(C)li(f,"complete"),li(f,"success");else{f.m=6;try{var re=2<Tr(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",Og(f)}}finally{dp(f)}}}}function dp(f,_){if(f.g){Ng(f);let C=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||li(f,"ready");try{C.onreadystatechange=O}catch{}}}function Ng(f){f.I&&(a.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Tr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),mA(_)}};function N2(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zk(f){let _={};f=(f.g&&2<=Tr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(R(f[O]))continue;var C=U(f[O]);let J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();let re=_[J]||[];_[J]=re,re.push(C)}L(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gu(f,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||_}function L2(f){this.Aa=0,this.i=[],this.j=new ep,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gu("baseRetryDelayMs",5e3,f),this.cb=gu("retryDelaySeedMs",1e4,f),this.Wa=gu("forwardChannelMaxRetries",2,f),this.wa=gu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Fk(f&&f.concurrentRequestLimit),this.Da=new IA,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=L2.prototype,n.la=8,n.G=1,n.connect=function(f,_,C,O){ci(0),this.W=f,this.H=_||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.I=tb(this,null,this.W),Fg(this)};function Lg(f){if(so(f),f.G==3){var _=f.U++,C=ba(f.I);if(bn(C,"SID",f.K),bn(C,"RID",_),bn(C,"TYPE","terminate"),mu(f,C),_=new pl(f,f.j,_),_.L=2,_.v=op(ba(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=_.v,C=!0),C||(_.g=F2(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Tg(_)}eb(f)}function up(f){f.g&&(Hn(f),f.g.cancel(),f.g=null)}function so(f){up(f),f.u&&(a.clearTimeout(f.u),f.u=null),vu(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Fg(f){if(!I2(f.h)&&!f.s){f.s=!0;var _=f.Ga;Re||So(),be||(Re(),be=!0),er.add(_,f),f.B=0}}function Qo(f,_){return T2(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Jh(g(f.Ga,f,_),Bg(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;let J=new pl(this,this.j,f),re=this.o;if(this.S&&(re?(re=T(re),B(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Ca(this,J,_),C=ba(this.I),bn(C,"RID",f),bn(C,"CVER",22),this.D&&bn(C,"X-HTTP-Session-Id",this.D),mu(this,C),re&&(this.O?_="headers="+encodeURIComponent(String(Yk(re)))+"&"+_:this.m&&O2(C,this.m,re)),rp(this.h,J),this.Ua&&bn(C,"TYPE","init"),this.P?(bn(C,"$req",_),bn(C,"SID","null"),J.T=!0,E2(J,C,null)):E2(J,C,_),this.G=2}}else this.G==3&&(f?Qk(this,f):this.i.length==0||I2(this.h)||Qk(this))};function Qk(f,_){var C;_?C=_.l:C=f.U++;let O=ba(f.I);bn(O,"SID",f.K),bn(O,"RID",C),bn(O,"AID",f.T),mu(f,O),f.m&&f.o&&O2(O,f.m,f.o),C=new pl(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Ca(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),rp(f.h,C),E2(C,O,_)}function mu(f,_){f.H&&Y(f.H,function(C,O){bn(_,O,C)}),f.l&&jk({},function(C,O){bn(_,O,C)})}function Ca(f,_,C){C=Math.min(f.i.length,C);var O=f.l?g(f.l.Na,f.l,f):null;e:{var J=f.i;let re=-1;for(;;){let Ee=["count="+C];re==-1?0<C?(re=J[0].g,Ee.push("ofs="+re)):re=0:Ee.push("ofs="+re);let Bt=!0;for(let Br=0;Br<C;Br++){let Zt=J[Br].g,di=J[Br].map;if(Zt-=re,0>Zt)re=Math.max(0,J[Br].g-100),Bt=!1;else try{TA(di,Ee,"req"+Zt+"_")}catch{O&&O(di)}}if(Bt){O=Ee.join("&");break e}}}return f=f.i.splice(0,C),_.D=f,O}function hp(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Re||So(),be||(Re(),be=!0),er.add(_,f),f.v=0}}function pp(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Jh(g(f.Fa,f),Bg(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Ea(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Jh(g(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ci(10),up(this),Ea(this))};function Hn(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Ea(f){f.g=new pl(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=ba(f.qa);bn(_,"RID","rpc"),bn(_,"SID",f.K),bn(_,"AID",f.T),bn(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&bn(_,"TO",f.ja),bn(_,"TYPE","xmlhttp"),mu(f,_),f.m&&f.o&&O2(_,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=op(ba(_)),C.m=null,C.P=!0,np(C,f)}n.Za=function(){this.C!=null&&(this.C=null,up(this),pp(this),ci(19))};function vu(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Jk(f,_){var C=null;if(f.g==_){vu(f),Hn(f),f.g=null;var O=2}else if(Dg(f.h,_))C=_.D,Bk(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var J=f.B;O=Sg(),li(O,new Rk(O,C)),Fg(f)}else hp(f);else if(J=_.s,J==3||J==0&&0<_.X||!(O==1&&Qo(f,_)||O==2&&pp(f)))switch(C&&0<C.length&&(_=f.h,_.i=_.i.concat(C)),J){case 1:Dc(f,5);break;case 4:Dc(f,10);break;case 3:Dc(f,6);break;default:Dc(f,2)}}}function Bg(f,_){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*_}function Dc(f,_){if(f.j.info("Error code "+_),_==2){var C=g(f.fb,f),O=f.Xa;let J=!O;O=new ka(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ip(O,"https"),op(O),J?MA(O.toString(),C):SA(O.toString(),C)}else ci(2);f.G=0,f.l&&f.l.sa(_),eb(f),so(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ci(2)):(this.j.info("Failed to ping google.com"),ci(1))};function eb(f){if(f.G=0,f.ka=[],f.l){let _=A2(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ka,_),x(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function tb(f,_,C){var O=C instanceof ka?ba(C):new ka(C);if(O.g!="")_&&(O.g=_+"."+O.g),hu(O,O.s);else{var J=a.location;O=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var re=new ka(null);O&&ip(re,O),_&&(re.g=_),J&&hu(re,J),C&&(re.l=C),O=re}return C=f.D,_=f.ya,C&&_&&bn(O,C,_),bn(O,"VER",f.la),mu(f,O),O}function F2(f,_,C){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new dr(new En({eb:C})):new dr(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fp(){}n=fp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ma(){}Ma.prototype.g=function(f,_){return new To(f,_)};function To(f,_){Qr.call(this),this.g=new L2(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!R(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ml(this)}w(To,Qr),To.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},To.prototype.close=function(){Lg(this.g)},To.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=y2(f),f=C);_.i.push(new xA(_.Ya++,f)),_.G==3&&Fg(_)},To.prototype.N=function(){this.g.l=null,delete this.j,Lg(this.g),delete this.g,To.aa.N.call(this)};function B2(f){b2.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(let C in _){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}w(B2,b2);function V2(){x2.call(this),this.status=1}w(V2,x2);function ml(f){this.g=f}w(ml,fp),ml.prototype.ua=function(){li(this.g,"a")},ml.prototype.ta=function(f){li(this.g,new B2(f))},ml.prototype.sa=function(f){li(this.g,new V2)},ml.prototype.ra=function(){li(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,To.prototype.send=To.prototype.o,To.prototype.open=To.prototype.m,To.prototype.close=To.prototype.close,O6=Ad.createWebChannelTransport=function(){return new Ma},P6=Ad.getStatEventTarget=function(){return Sg()},R6=Ad.Event=hl,wM=Ad.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,E_=Ad.ErrorCode=tp,Pk.COMPLETE="complete",D6=Ad.EventType=Pk,Ik.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",Qr.prototype.listen=Qr.prototype.K,$m=Ad.WebChannel=Ik,PIe=Ad.FetchXmlHttpFactory=En,dr.prototype.listenOnce=dr.prototype.L,dr.prototype.getLastError=dr.prototype.Ka,dr.prototype.getLastErrorCode=dr.prototype.Ba,dr.prototype.getStatus=dr.prototype.Z,dr.prototype.getResponseJson=dr.prototype.Oa,dr.prototype.getResponseText=dr.prototype.oa,dr.prototype.send=dr.prototype.ea,dr.prototype.setWithCredentials=dr.prototype.Ha,A6=Ad.XhrIo=dr}).apply(typeof vM<"u"?vM:typeof self<"u"?self:typeof window<"u"?window:{});var dJ="@firebase/firestore",uJ="4.8.0";var Vi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");var g1="11.10.0";var zf=new Zl("@firebase/firestore");function zm(){return zf.logLevel}function Oe(n,...e){if(zf.logLevel<=rn.DEBUG){let t=e.map(h8);zf.debug(`Firestore (${g1}): ${n}`,...t)}}function Rd(n,...e){if(zf.logLevel<=rn.ERROR){let t=e.map(h8);zf.error(`Firestore (${g1}): ${n}`,...t)}}function Eh(n,...e){if(zf.logLevel<=rn.WARN){let t=e.map(h8);zf.warn(`Firestore (${g1}): ${n}`,...t)}}function h8(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function St(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,tee(n,r,t)}function tee(n,e,t){let r=`FIRESTORE (${g1}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Rd(r),new Error(r)}function Mr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||tee(e,i,r)}function fn(n,e){return n}var Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ue=class extends $o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sc=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var CM=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},j6=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}},H6=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},U6=class{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mr(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new sc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sc,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>E(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sc)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mr(typeof r.accessToken=="string",31837,{l:r}),new CM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Mr(e===null||typeof e=="string",2055,{h:e}),new Vi(e)}},$6=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},z6=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},EM=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},q6=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mr(this.o===void 0,3512);let r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new EM(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new EM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OIe(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function nee(){return new TextEncoder}var R_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=OIe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Qt(n,e){return n<e?-1:n>e?1:0}function W6(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qt(r,i);{let o=nee(),s=NIe(o.encode(hJ(n,t)),o.encode(hJ(e,t)));return s!==0?s:Qt(r,i)}}t+=r>65535?2:1}return Qt(n.length,e.length)}function hJ(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function NIe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qt(n[t],e[t]);return Qt(n.length,e.length)}function n1(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var pJ="__name__",MM=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&St(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&St(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Qt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):W6(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Td.fromString(e.substring(4,e.length-2))}},Er=class n extends MM{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},LIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qa=class n extends MM{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return LIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pJ}static keyField(){return new n([pJ])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ue(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ue(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ut=class n{constructor(e){this.path=e}static fromPath(e){return new n(Er.fromString(e))}static fromName(e){return new n(Er.fromString(e).popFirst(5))}static empty(){return new n(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Er.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Er(e.slice()))}};function ree(n,e,t){if(!t)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FIe(n,e,t,r){if(e===!0&&r===!0)throw new Ue(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fJ(n){if(!ut.isDocumentKey(n))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gJ(n){if(ut.isDocumentKey(n))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BIe(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function VIe(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function P_(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=VIe(n);throw new Ue(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ii(n,e){let t={typeString:n};return e&&(t.value=e),t}function G_(n,e){if(!BIe(n))throw new Ue(Ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ue(Ce.INVALID_ARGUMENT,t);return!0}var mJ=-62135596800,vJ=1e6,Go=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vJ);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mJ)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vJ}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(G_(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-mJ;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Go._jsonSchemaVersion="firestore/timestamp/1.0",Go._jsonSchema={type:ii("string",Go._jsonSchemaVersion),seconds:ii("number"),nanoseconds:ii("number")};var Ft=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Go(0,0))}static max(){return new n(new Go(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var O_=-1,G6=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};G6.UNKNOWN_ID=-1;function jIe(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ft.fromTimestamp(r===1e9?new Go(t+1,0):new Go(t,r));return new qf(i,ut.empty(),e)}function HIe(n){return new qf(n.readTime,n.key,O_)}var qf=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ft.min(),ut.empty(),O_)}static max(){return new n(Ft.max(),ut.empty(),O_)}};function UIe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:Qt(n.largestBatchId,e.largestBatchId))}var $Ie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",K6=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function tS(n){return E(this,null,function*(){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==$Ie)throw n;Oe("LocalStore","Unexpectedly lost primary lease")})}var xe=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function zIe(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function m1(n){return n.name==="IndexedDbTransactionError"}var p8=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),qIe=-1;function nS(n){return n==null}function SM(n){return n===0&&1/n==-1/0}var iee="";function WIe(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wJ(e)),e=GIe(n.get(t),e);return wJ(e)}function GIe(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case iee:t+="";break;default:t+=o}}return t}function wJ(n){return n+iee+""}var KIe="remoteDocuments",oee="owner";var see="mutationQueues";var aee="mutations";var lee="documentMutations",YIe="remoteDocumentsV14";var cee="remoteDocumentGlobal";var dee="targets";var uee="targetDocuments";var hee="targetGlobal",pee="collectionParents";var fee="clientMetadata";var gee="bundles";var mee="namedQueries";var XIe="indexConfiguration";var ZIe="indexState";var QIe="indexEntries";var vee="documentOverlays";var JIe="globals";var eTe=[see,aee,lee,KIe,dee,oee,hee,uee,fee,cee,pee,gee,mee],$_t=[...eTe,vee],tTe=[see,aee,lee,YIe,dee,oee,hee,uee,fee,cee,pee,gee,mee,vee],nTe=tTe,rTe=[...nTe,XIe,ZIe,QIe];var z_t=[...rTe,JIe];function _J(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function K_(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iTe(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Kr=class n{constructor(e,t){this.comparator=e,this.root=t||ac.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ac.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ac.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Km(this.root,e,this.comparator,!1)}getReverseIterator(){return new Km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Km(this.root,e,this.comparator,!0)}},Km=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ac=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}};ac.EMPTY=null,ac.RED=!0,ac.BLACK=!1;ac.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ac(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ji=class n{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IM(this.data.getIterator())}getIteratorFrom(e){return new IM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},IM=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vf=class n{constructor(e){this.fields=e,e.sort(Qa.comparator)}static empty(){return new n([])}unionWith(e){let t=new ji(Qa.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return n1(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var TM=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wo=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TM("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wo.EMPTY_BYTE_STRING=new wo("");var oTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pd(n){if(Mr(!!n,39018),typeof n=="string"){let e=0,t=oTe.exec(n);if(Mr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Od(n){return typeof n=="string"?wo.fromBase64String(n):wo.fromUint8Array(n)}var wee="server_timestamp",_ee="__type__",yee="__previous_value__",kee="__local_write_time__";function f8(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[_ee])===null||t===void 0?void 0:t.stringValue)===wee}function rS(n){let e=n.mapValue.fields[yee];return f8(e)?rS(e):e}function N_(n){let e=Pd(n.mapValue.fields[kee].timestampValue);return new Go(e.seconds,e.nanos)}var Y6=class{constructor(e,t,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}},AM="(default)",DM=class n{constructor(e,t){this.projectId=e,this.database=t||AM}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===AM}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var bee="__type__",xee="__max__",_M={mapValue:{fields:{__type__:{stringValue:xee}}}},Cee="__vector__",L_="value";function Mh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f8(n)?4:Mee(n)?9007199254740991:Eee(n)?10:11:St(28295,{value:n})}function cc(n,e){if(n===e)return!0;let t=Mh(n);if(t!==Mh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return N_(n).isEqual(N_(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pd(i.timestampValue),a=Pd(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Od(i.bytesValue).isEqual(Od(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return mr(i.geoPointValue.latitude)===mr(o.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return mr(i.integerValue)===mr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=mr(i.doubleValue),a=mr(o.doubleValue);return s===a?SM(s)===SM(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return n1(n.arrayValue.values||[],e.arrayValue.values||[],cc);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_J(s)!==_J(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!cc(s[l],a[l])))return!1;return!0})(n,e);default:return St(52216,{left:n})}}function F_(n,e){return(n.values||[]).find(t=>cc(t,e))!==void 0}function r1(n,e){if(n===e)return 0;let t=Mh(n),r=Mh(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=mr(o.integerValue||o.doubleValue),l=mr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return yJ(n.timestampValue,e.timestampValue);case 4:return yJ(N_(n),N_(e));case 5:return W6(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Od(o),l=Od(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=Qt(a[c],l[c]);if(u!==0)return u}return Qt(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Qt(mr(o.latitude),mr(s.latitude));return a!==0?a:Qt(mr(o.longitude),mr(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return kJ(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,l,c,u;let p=o.fields||{},g=s.fields||{},v=(a=p[L_])===null||a===void 0?void 0:a.arrayValue,w=(l=g[L_])===null||l===void 0?void 0:l.arrayValue,y=Qt(((c=v?.values)===null||c===void 0?void 0:c.length)||0,((u=w?.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:kJ(v,w)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===_M.mapValue&&s===_M.mapValue)return 0;if(o===_M.mapValue)return 1;if(s===_M.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let p=0;p<l.length&&p<u.length;++p){let g=W6(l[p],u[p]);if(g!==0)return g;let v=r1(a[l[p]],c[u[p]]);if(v!==0)return v}return Qt(l.length,u.length)})(n.mapValue,e.mapValue);default:throw St(23264,{le:t})}}function yJ(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qt(n,e);let t=Pd(n),r=Pd(e),i=Qt(t.seconds,r.seconds);return i!==0?i:Qt(t.nanos,r.nanos)}function kJ(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=r1(t[i],r[i]);if(o)return o}return Qt(t.length,r.length)}function i1(n){return X6(n)}function X6(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Pd(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Od(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ut.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=X6(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${X6(t.fields[s])}`;return i+"}"})(n.mapValue):St(61005,{value:n})}function bM(n){switch(Mh(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=rS(n);return e?16+bM(e):16;case 5:return 2*n.stringValue.length;case 6:return Od(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+bM(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return K_(r.fields,(o,s)=>{i+=o.length+bM(s)}),i})(n.mapValue);default:throw St(13486,{value:n})}}function Z6(n){return!!n&&"integerValue"in n}function g8(n){return!!n&&"arrayValue"in n}function bJ(n){return!!n&&"nullValue"in n}function xJ(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function N6(n){return!!n&&"mapValue"in n}function Eee(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bee])===null||t===void 0?void 0:t.stringValue)===Cee}function S_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return K_(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=S_(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=S_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mee(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xee}var W_t={mapValue:{fields:{[bee]:{stringValue:Cee},[L_]:{arrayValue:{}}}}};var Dd=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!N6(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=S_(t)}setAll(e){let t=Qa.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=S_(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());N6(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];N6(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){K_(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(S_(this.value))}};var Ja=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ft.min(),Ft.min(),Ft.min(),Dd.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ft.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ft.min(),Ft.min(),Dd.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ft.min(),Ft.min(),Dd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var o1=class{constructor(e,t){this.position=e,this.inclusive=t}};function CJ(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ut.comparator(ut.fromName(s.referenceValue),t.key):r=r1(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EJ(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cc(n.position[t],e.position[t]))return!1;return!0}var s1=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sTe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var RM=class{},Ci=class n extends RM{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new J6(e,t,r):t==="array-contains"?new nL(e,r):t==="in"?new rL(e,r):t==="not-in"?new iL(e,r):t==="array-contains-any"?new oL(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eL(e,r):new tL(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(r1(t,this.value)):t!==null&&Mh(this.value)===Mh(t)&&this.matchesComparison(r1(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dc=class n extends RM{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return See(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function See(n){return n.op==="and"}function Iee(n){return aTe(n)&&See(n)}function aTe(n){for(let e of n.filters)if(e instanceof dc)return!1;return!0}function Q6(n){if(n instanceof Ci)return n.field.canonicalString()+n.op.toString()+i1(n.value);if(Iee(n))return n.filters.map(e=>Q6(e)).join(",");{let e=n.filters.map(t=>Q6(t)).join(",");return`${n.op}(${e})`}}function Tee(n,e){return n instanceof Ci?(function(r,i){return i instanceof Ci&&r.op===i.op&&r.field.isEqual(i.field)&&cc(r.value,i.value)})(n,e):n instanceof dc?(function(r,i){return i instanceof dc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Tee(s,i.filters[a]),!0):!1})(n,e):void St(19439)}function Aee(n){return n instanceof Ci?(function(t){return`${t.field.canonicalString()} ${t.op} ${i1(t.value)}`})(n):n instanceof dc?(function(t){return t.op.toString()+" {"+t.getFilters().map(Aee).join(" ,")+"}"})(n):"Filter"}var J6=class extends Ci{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){let t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}},eL=class extends Ci{constructor(e,t){super(e,"in",t),this.keys=Dee("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},tL=class extends Ci{constructor(e,t){super(e,"not-in",t),this.keys=Dee("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Dee(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}var nL=class extends Ci{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return g8(t)&&F_(t.arrayValue,this.value)}},rL=class extends Ci{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&F_(this.value.arrayValue,t)}},iL=class extends Ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(F_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!F_(this.value.arrayValue,t)}},oL=class extends Ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!g8(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>F_(this.value.arrayValue,r))}};var sL=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function MJ(n,e=null,t=[],r=[],i=null,o=null,s=null){return new sL(n,e,t,r,i,o,s)}function m8(n){let e=fn(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Q6(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),nS(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>i1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>i1(r)).join(",")),e.Pe=t}return e.Pe}function v8(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sTe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tee(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EJ(n.startAt,e.startAt)&&EJ(n.endAt,e.endAt)}function aL(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var a1=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function lTe(n,e,t,r,i,o,s,a){return new a1(n,e,t,r,i,o,s,a)}function w8(n){return new a1(n)}function SJ(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cTe(n){return n.collectionGroup!==null}function I_(n){let e=fn(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ji(Qa.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new s1(o,r))}),t.has(Qa.keyField().canonicalString())||e.Te.push(new s1(Qa.keyField(),r))}return e.Te}function lc(n){let e=fn(n);return e.Ie||(e.Ie=dTe(e,I_(n))),e.Ie}function dTe(n,e){if(n.limitType==="F")return MJ(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new s1(i.field,o)});let t=n.endAt?new o1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new o1(n.startAt.position,n.startAt.inclusive):null;return MJ(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lL(n,e,t){return new a1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function iS(n,e){return v8(lc(n),lc(e))&&n.limitType===e.limitType}function Ree(n){return`${m8(lc(n))}|lt:${n.limitType}`}function qm(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Aee(i)).join(", ")}]`),nS(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>i1(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>i1(i)).join(",")),`Target(${r})`})(lc(n))}; limitType=${n.limitType})`}function oS(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ut.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of I_(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let c=CJ(s,a,l);return s.inclusive?c<=0:c<0})(r.startAt,I_(r),i)||r.endAt&&!(function(s,a,l){let c=CJ(s,a,l);return s.inclusive?c>=0:c>0})(r.endAt,I_(r),i))})(n,e)}function uTe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pee(n){return(e,t)=>{let r=!1;for(let i of I_(n)){let o=hTe(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hTe(n,e,t){let r=n.field.isKeyField()?ut.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?r1(l,c):St(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:n.dir})}}var Nd=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){K_(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return iTe(this.inner)}size(){return this.innerSize}};var pTe=new Kr(ut.comparator);function Sh(){return pTe}var Oee=new Kr(ut.comparator);function M_(...n){let e=Oee;for(let t of n)e=e.insert(t.key,t);return e}function fTe(n){let e=Oee;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jf(){return T_()}function Nee(){return T_()}function T_(){return new Nd(n=>n.toString(),(n,e)=>n.isEqual(e))}var G_t=new Kr(ut.comparator),gTe=new ji(ut.comparator);function _n(...n){let e=gTe;for(let t of n)e=e.add(t);return e}var mTe=new ji(Qt);function vTe(){return mTe}function wTe(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:SM(e)?"-0":e}}function _Te(n){return{integerValue:""+n}}var l1=class{constructor(){this._=void 0}};function yTe(n,e,t){return n instanceof B_?(function(i,o){let s={fields:{[_ee]:{stringValue:wee},[kee]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&f8(o)&&(o=rS(o)),o&&(s.fields[yee]=o),{mapValue:s}})(t,e):n instanceof c1?Lee(n,e):n instanceof d1?Fee(n,e):(function(i,o){let s=bTe(i,o),a=IJ(s)+IJ(i.Ee);return Z6(s)&&Z6(i.Ee)?_Te(a):wTe(i.serializer,a)})(n,e)}function kTe(n,e,t){return n instanceof c1?Lee(n,e):n instanceof d1?Fee(n,e):t}function bTe(n,e){return n instanceof V_?(function(r){return Z6(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var B_=class extends l1{},c1=class extends l1{constructor(e){super(),this.elements=e}};function Lee(n,e){let t=Bee(e);for(let r of n.elements)t.some(i=>cc(i,r))||t.push(r);return{arrayValue:{values:t}}}var d1=class extends l1{constructor(e){super(),this.elements=e}};function Fee(n,e){let t=Bee(e);for(let r of n.elements)t=t.filter(i=>!cc(i,r));return{arrayValue:{values:t}}}var V_=class extends l1{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function IJ(n){return mr(n.integerValue||n.doubleValue)}function Bee(n){return g8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xTe(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof c1&&i instanceof c1||r instanceof d1&&i instanceof d1?n1(r.elements,i.elements,cc):r instanceof V_&&i instanceof V_?cc(r.Ee,i.Ee):r instanceof B_&&i instanceof B_})(n.transform,e.transform)}var A_=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xM(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var j_=class{};function Vee(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cL(n.key,A_.none()):new H_(n.key,n.data,A_.none());{let t=n.data,r=Dd.empty(),i=new ji(Qa.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new u1(n.key,r,new Vf(i.toArray()),A_.none())}}function CTe(n,e,t){n instanceof H_?(function(i,o,s){let a=i.value.clone(),l=AJ(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof u1?(function(i,o,s){if(!xM(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=AJ(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(jee(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function D_(n,e,t,r){return n instanceof H_?(function(o,s,a,l){if(!xM(o.precondition,s))return a;let c=o.value.clone(),u=DJ(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null})(n,e,t,r):n instanceof u1?(function(o,s,a,l){if(!xM(o.precondition,s))return a;let c=DJ(o.fieldTransforms,l,s),u=s.data;return u.setAll(jee(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return xM(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function TJ(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&n1(r,i,(o,s)=>xTe(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var H_=class extends j_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},u1=class extends j_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function jee(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function AJ(n,e,t){let r=new Map;Mr(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kTe(s,a,t[i]))}return r}function DJ(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,yTe(o,s,e))}return r}var cL=class extends j_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var dL=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CTe(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=D_(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=D_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Nee();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Vee(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&n1(this.mutations,e.mutations,(t,r)=>TJ(t,r))&&n1(this.baseMutations,e.baseMutations,(t,r)=>TJ(t,r))}};var uL=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var hL=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ni,pn;function Hee(n){if(n===void 0)return Rd("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case ni.OK:return Ce.OK;case ni.CANCELLED:return Ce.CANCELLED;case ni.UNKNOWN:return Ce.UNKNOWN;case ni.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case ni.INTERNAL:return Ce.INTERNAL;case ni.UNAVAILABLE:return Ce.UNAVAILABLE;case ni.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case ni.NOT_FOUND:return Ce.NOT_FOUND;case ni.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case ni.ABORTED:return Ce.ABORTED;case ni.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case ni.DATA_LOSS:return Ce.DATA_LOSS;default:return St(39323,{code:n})}}(pn=ni||(ni={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";var RJ=null;var ETe=new Td([4294967295,4294967295],0);function PJ(n){let e=nee().encode(n),t=new T6;return t.update(e),new Uint8Array(t.digest())}function OJ(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Td([t,r],0),new Td([i,o],0)]}var pL=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hf(`Invalid padding: ${t}`);if(r<0)throw new Hf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Hf(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Td.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Td.fromNumber(r)));return i.compare(ETe)===1&&(i=new Td([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=PJ(e),[r,i]=OJ(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=PJ(e),[r,i]=OJ(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Hf=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var PM=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,U_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ft.min(),i,new Kr(Qt),Sh(),_n())}},U_=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_n(),_n(),_n())}};var Ym=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},OM=class{constructor(e,t){this.targetId=e,this.De=t}},NM=class{constructor(e,t,r=wo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},LM=class{constructor(){this.ve=0,this.Ce=NJ(),this.Fe=wo.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_n(),t=_n(),r=_n();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:St(38017,{changeType:o})}}),new U_(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=NJ()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Mr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},fL=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Sh(),this.je=yM(),this.Je=yM(),this.He=new Kr(Qt)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(aL(o))if(r===0){let s=new ut(o.path);this.Xe(t,s,Ja.newNoDocument(s,Ft.min()))}else Mr(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}RJ?.ct((function(u,p,g,v,w){var y,x,b,R,V,j;let $={localCacheCount:u,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Y=p.unchangedNames;return Y&&($.bloomFilter={applied:w===0,hashCount:(y=Y?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(R=(b=(x=Y?.bits)===null||x===void 0?void 0:x.bitmap)===null||b===void 0?void 0:b.length)!==null&&R!==void 0?R:0,padding:(j=(V=Y?.bits)===null||V===void 0?void 0:V.padding)!==null&&j!==void 0?j:0,mightContain:L=>{var T;return(T=v?.mightContain(L))!==null&&T!==void 0&&T}}),$})(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Od(r).toUint8Array()}catch(l){if(l instanceof TM)return Eh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pL(s,i,o)}catch(l){return Eh(l instanceof Hf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&aL(a.target)){let l=new ut(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,Ja.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=_n();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new PM(e,t,this.He,this.ze,r);return this.ze=Sh(),this.je=yM(),this.Je=yM(),this.He=new Kr(Qt),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new LM,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ji(Qt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ji(Qt),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new LM),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function yM(){return new Kr(ut.comparator)}function NJ(){return new Kr(ut.comparator)}var MTe={asc:"ASCENDING",desc:"DESCENDING"},STe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ITe={and:"AND",or:"OR"},gL=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function mL(n,e){return n.useProto3Json||nS(e)?e:{value:e}}function TTe(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ATe(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xm(n){return Mr(!!n,49232),Ft.fromTimestamp((function(t){let r=Pd(t);return new Go(r.seconds,r.nanos)})(n))}function DTe(n,e){return vL(n,e).canonicalString()}function vL(n,e){let t=(function(i){return new Er(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Uee(n){let e=Er.fromString(n);return Mr(Gee(e),10190,{key:e.toString()}),e}function L6(n,e){let t=Uee(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(zee(t))}function $ee(n,e){return DTe(n.databaseId,e)}function RTe(n){let e=Uee(n);return e.length===4?Er.emptyPath():zee(e)}function LJ(n){return new Er(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zee(n){return Mr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function PTe(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:St(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,u){return c.useProto3Json?(Mr(u===void 0||typeof u=="string",58123),wo.fromBase64String(u||"")):(Mr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),wo.fromUint8Array(u||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(c){let u=c.code===void 0?Ce.UNKNOWN:Hee(c.code);return new Ue(u,c.message||"")})(s);t=new NM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=L6(n,r.document.name),o=Xm(r.document.updateTime),s=r.document.createTime?Xm(r.document.createTime):Ft.min(),a=new Dd({mapValue:{fields:r.document.fields}}),l=Ja.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new Ym(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=L6(n,r.document),o=r.readTime?Xm(r.readTime):Ft.min(),s=Ja.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ym([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=L6(n,r.document),o=r.removedTargetIds||[];t=new Ym([],o,i,null)}else{if(!("filter"in e))return St(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new hL(i,o),a=r.targetId;t=new OM(a,s)}}return t}function OTe(n,e){return{documents:[$ee(n,e.path)]}}function NTe(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$ee(n,i);let o=(function(c){if(c.length!==0)return Wee(dc.create(c,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(c){if(c.length!==0)return c.map(u=>(function(g){return{field:Wm(g.field),direction:BTe(g.dir)}})(u))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=mL(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{Vt:t,parent:i}}function LTe(n){let e=RTe(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Mr(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(p){let g=qee(p);return g instanceof dc&&Iee(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(w){return new s1(Gm(w.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,nS(g)?null:g})(t.limit));let l=null;t.startAt&&(l=(function(p){let g=!!p.before,v=p.values||[];return new o1(v,g)})(t.startAt));let c=null;return t.endAt&&(c=(function(p){let g=!p.before,v=p.values||[];return new o1(v,g)})(t.endAt)),lTe(e,i,s,o,a,"F",l,c)}function FTe(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qee(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Gm(t.unaryFilter.field);return Ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Gm(t.unaryFilter.field);return Ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Gm(t.unaryFilter.field);return Ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Gm(t.unaryFilter.field);return Ci.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ci.create(Gm(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dc.create(t.compositeFilter.filters.map(r=>qee(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(t.compositeFilter.op))})(n):St(30097,{filter:n})}function BTe(n){return MTe[n]}function VTe(n){return STe[n]}function jTe(n){return ITe[n]}function Wm(n){return{fieldPath:n.canonicalString()}}function Gm(n){return Qa.fromServerFormat(n.fieldPath)}function Wee(n){return n instanceof Ci?(function(t){if(t.op==="=="){if(xJ(t.value))return{unaryFilter:{field:Wm(t.field),op:"IS_NAN"}};if(bJ(t.value))return{unaryFilter:{field:Wm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xJ(t.value))return{unaryFilter:{field:Wm(t.field),op:"IS_NOT_NAN"}};if(bJ(t.value))return{unaryFilter:{field:Wm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wm(t.field),op:VTe(t.op),value:t.value}}})(n):n instanceof dc?(function(t){let r=t.getFilters().map(i=>Wee(i));return r.length===1?r[0]:{compositeFilter:{op:jTe(t.op),filters:r}}})(n):St(54877,{filter:n})}function Gee(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var $_=class n{constructor(e,t,r,i,o=Ft.min(),s=Ft.min(),a=wo.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wL=class{constructor(e){this.gt=e}};function HTe(n){let e=LTe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lL(e,e.limit,"L"):e}var FM=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(mr(e.integerValue));else if("doubleValue"in e){let r=mr(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),SM(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Pd(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Od(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Mee(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Eee(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):St(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=L_,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(mr(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ut.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};FM.Ut=new FM;var _L=class{constructor(){this.Dn=new yL}addToCollectionParentIndex(e,t){return this.Dn.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(qf.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(qf.min())}updateCollectionGroup(e,t,r){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}},yL=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ji(Er.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ji(Er.comparator)).toArray()}};var K_t=new Uint8Array(0);var FJ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kee=41943040,da=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};da.DEFAULT_COLLECTION_PERCENTILE=10,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,da.DEFAULT=new da(Kee,da.DEFAULT_COLLECTION_PERCENTILE,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),da.DISABLED=new da(-1,0,0);var z_=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var BJ="LruGarbageCollector",UTe=1048576;function VJ([n,e],[t,r]){let i=Qt(n,t);return i===0?Qt(e,r):i}var kL=class{constructor(e){this.Tr=e,this.buffer=new ji(VJ),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();VJ(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},bL=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Oe(BJ,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){m1(t)?Oe(BJ,"Ignoring IndexedDB error during garbage collection: ",t):yield tS(t)}yield this.Rr(3e5)}))}},xL=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return xe.resolve(p8.ue);let r=new kL(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(FJ)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FJ):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,c,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),zm()<=rn.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function $Te(n,e){return new xL(n,e)}var CL=class{constructor(){this.changes=new Nd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ja.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?xe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var EL=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ML=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&D_(r.mutation,i,Vf.empty(),Go.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){let i=jf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=M_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=jf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Sh(),s=T_(),a=(function(){return T_()})();return t.forEach((l,c)=>{let u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof u1)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),D_(u.mutation,c,u.mutation.getFieldMask(),Go.now())):s.set(c.key,Vf.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var p;return a.set(c,new EL(u,(p=s.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=T_(),i=new Kr((s,a)=>s-a),o=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=r.get(l)||Vf.empty();u=a.applyToLocalView(c,u),r.set(l,u);let p=(i.get(a.batchId)||_n()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,p=Nee();u.forEach(g=>{if(!o.has(g)){let v=Vee(t.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return xe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cTe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):xe.resolve(jf()),a=O_,l=o;return s.next(c=>xe.forEach(c,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?xe.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,_n())).next(u=>({batchId:a,changes:fTe(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let i=M_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=M_();return this.indexManager.getCollectionParents(e,o).next(a=>xe.forEach(a,l=>{let c=(function(p,g){return new a1(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{let u=c.getKey();s.get(u)===null&&(s=s.insert(u,Ja.newInvalidDocument(u)))});let a=M_();return s.forEach((l,c)=>{let u=o.get(l);u!==void 0&&D_(u.mutation,c,Vf.empty(),Go.now()),oS(t,c)&&(a=a.insert(l,c))}),a})}};var SL=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return xe.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Xm(i.createTime)}})(t)),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:HTe(i.bundledQuery),readTime:Xm(i.readTime)}})(t)),xe.resolve()}};var IL=class{constructor(){this.overlays=new Kr(ut.comparator),this.kr=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){let r=jf();return xe.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),xe.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),xe.resolve()}getOverlaysForCollection(e,t,r){let i=jf(),o=t.length+1,s=new ut(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Kr((c,u)=>c-u),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=jf(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=jf(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return xe.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uL(t,r));let o=this.kr.get(t);o===void 0&&(o=_n(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var TL=class{constructor(){this.sessionToken=wo.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,xe.resolve()}};var q_=class{constructor(){this.qr=new ji(ri.Qr),this.$r=new ji(ri.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ri(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ri(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ut(new Er([])),r=new ri(t,e),i=new ri(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ut(new Er([])),r=new ri(t,e),i=new ri(t,e+1),o=_n();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ri(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ri=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ut.comparator(e.key,t.key)||Qt(e.Hr,t.Hr)}static Ur(e,t){return Qt(e.Hr,t.Hr)||ut.comparator(e.key,t.key)}};var AL=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ji(ri.Qr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new dL(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ri(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(s)}lookupMutationBatch(e,t){return xe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?qIe:this.er-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ri(t,0),i=new ri(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ji(Qt);return t.forEach(i=>{let o=new ri(i,0),s=new ri(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),xe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ut.isDocumentKey(o)||(o=o.child(""));let s=new ri(new ut(o),0),a=new ji(Qt);return this.Yr.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},s),xe.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Mr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return xe.forEach(t.mutations,i=>{let o=new ri(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ri(t,0),i=this.Yr.firstAfterOrEqual(r);return xe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var DL=class{constructor(e){this.ni=e,this.docs=(function(){return new Kr(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return xe.resolve(r?r.document.mutableCopy():Ja.newInvalidDocument(t))}getEntries(e,t){let r=Sh();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ja.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Sh(),s=t.path,a=new ut(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||UIe(HIe(u),r)<=0||(i.has(u.key)||oS(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){St(9500)}ri(e,t){return xe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RL(this)}getSize(e){return xe.resolve(this.size)}},RL=class extends CL{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),xe.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var PL=class{constructor(e){this.persistence=e,this.ii=new Nd(t=>m8(t),v8),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.si=0,this.oi=new q_,this.targetCount=0,this._i=z_.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),xe.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new z_(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.hr(t),xe.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(o).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return xe.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),xe.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),xe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),xe.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return xe.resolve(r)}containsKey(e,t){return xe.resolve(this.oi.containsKey(t))}};var BM=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new p8(0),this.ci=!1,this.ci=!0,this.li=new TL,this.referenceDelegate=e(this),this.hi=new PL(this),this.indexManager=new _L,this.remoteDocumentCache=(function(i){return new DL(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new wL(t),this.Ti=new SL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new AL(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);let i=new OL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return xe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},OL=class extends K6{constructor(e){super(),this.currentSequenceNumber=e}},NL=class n{constructor(e){this.persistence=e,this.Ai=new q_,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),xe.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.mi,r=>{let i=ut.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Ft.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return xe.or([()=>xe.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},VM=class n{constructor(e,t){this.persistence=e,this.gi=new Nd(r=>WIe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$Te(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return xe.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?xe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ft.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),xe.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),xe.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bM(e.data.value)),t}Sr(e,t,r){return xe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var LL=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_n(),i=_n();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var FL=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var BL=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return aZ()?8:zIe(Bi())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new FL;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(zm()<=rn.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",qm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),xe.resolve()):(zm()<=rn.DEBUG&&Oe("QueryEngine","Query:",qm(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(zm()<=rn.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",qm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lc(t))):xe.resolve())}ps(e,t){if(SJ(t))return xe.resolve(null);let r=lc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lL(t,null,"F"),r=lc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_n(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.bs(t,a);return this.Ds(t,c,s,l.readTime)?this.ps(e,lL(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,r,i){return SJ(t)||i.isEqual(Ft.min())?xe.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?xe.resolve(null):(zm()<=rn.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qm(t)),this.vs(e,s,t,jIe(i,O_)).next(a=>a))})}bs(e,t){let r=new ji(Pee(e));return t.forEach((i,o)=>{oS(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return zm()<=rn.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",qm(t)),this.gs.getDocumentsMatchingQuery(e,t,qf.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _8="LocalStore",zTe=3e8,VL=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Kr(Qt),this.Ms=new Nd(o=>m8(o),v8),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function qTe(n,e,t,r){return new VL(n,e,t,r)}function Yee(n,e){return E(this,null,function*(){let t=fn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=_n();for(let c of i){s.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of o){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:a}))})})})}function Xee(n){let e=fn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function WTe(n,e){let t=fn(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((u,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,u.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,u.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(wo.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,r)),i=i.insert(p,v),(function(y,x,b){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=zTe?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(g,v,u)&&a.push(t.hi.updateTargetData(o,v))});let l=Sh(),c=_n();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(GTe(o,s,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!r.isEqual(Ft.min())){let u=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return xe.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Fs=i,o))}function GTe(n,e,t){let r=_n(),i=_n();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Sh();return t.forEach((a,l)=>{let c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ft.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Oe(_8,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function KTe(n,e){let t=fn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,xe.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new $_(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function jL(n,e,t){return E(this,null,function*(){let r=fn(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!m1(s))throw s;Oe(_8,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function jJ(n,e,t){let r=fn(n),i=Ft.min(),o=_n();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,c,u){let p=fn(l),g=p.Ms.get(u);return g!==void 0?xe.resolve(p.Fs.get(g)):p.hi.getTargetData(c,u)})(r,s,lc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Ft.min(),t?o:_n())).next(a=>(YTe(r,uTe(e),a),{documents:a,qs:o})))}function YTe(n,e,t){let r=n.xs.get(e)||Ft.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var jM=class{constructor(){this.activeTargetIds=vTe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var HL=class{constructor(){this.Fo=new jM,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UL=class{xo(e){}shutdown(){}};var HJ="ConnectivityMonitor",HM=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Oe(HJ,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Oe(HJ,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kM=null;function $L(){return kM===null?kM=(function(){return 268435456+Math.round(2147483648*Math.random())})():kM++,"0x"+kM.toString(16)}var F6="RestConnection",XTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},zL=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===AM?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=$L(),a=this.Go(e,t.toUriEncodedString());Oe(F6,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:c}=new URL(a),u=Yl(c);return this.jo(e,a,l,r,u).then(p=>(Oe(F6,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Eh(F6,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+g1})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=XTe[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var qL=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vo="WebChannelConnection",WL=class extends zL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=$L();return new Promise((a,l)=>{let c=new A6;c.setWithCredentials(!0),c.listenOnce(D6.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case E_.NO_ERROR:let p=c.getResponseJson();Oe(vo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case E_.TIMEOUT:Oe(vo,`RPC '${e}' ${s} timed out`),l(new Ue(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case E_.HTTP_ERROR:let g=c.getStatus();if(Oe(vo,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let w=v?.error;if(w&&w.status&&w.message){let y=(function(b){let R=b.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(R)>=0?R:Ce.UNKNOWN})(w.status);l(new Ue(y,w.message))}else l(new Ue(Ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ue(Ce.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:e,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Oe(vo,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);Oe(vo,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}P_(e,t,r){let i=$L(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O6(),a=P6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let u=o.join("");Oe(vo,`Creating RPC '${e}' stream ${i}: ${u}`,l);let p=s.createWebChannel(u,l);this.T_(p);let g=!1,v=!1,w=new qL({Ho:x=>{v?Oe(vo,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Oe(vo,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Oe(vo,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),y=(x,b,R)=>{x.listen(b,V=>{try{R(V)}catch(j){setTimeout(()=>{throw j},0)}})};return y(p,$m.EventType.OPEN,()=>{v||(Oe(vo,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),y(p,$m.EventType.CLOSE,()=>{v||(v=!0,Oe(vo,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(p))}),y(p,$m.EventType.ERROR,x=>{v||(v=!0,Eh(vo,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),w.__(new Ue(Ce.UNAVAILABLE,"The operation could not be completed")))}),y(p,$m.EventType.MESSAGE,x=>{var b;if(!v){let R=x.data[0];Mr(!!R,16349);let V=R,j=V?.error||((b=V[0])===null||b===void 0?void 0:b.error);if(j){Oe(vo,`RPC '${e}' stream ${i} received error:`,j);let $=j.status,Y=(function(I){let B=ni[I];if(B!==void 0)return Hee(B)})($),L=j.message;Y===void 0&&(Y=Ce.INTERNAL,L="Unknown error status: "+$+" with message "+j.message),v=!0,w.__(new Ue(Y,L)),p.close()}else Oe(vo,`RPC '${e}' stream ${i} received:`,R),w.a_(R)}}),y(a,R6.STAT_EVENT,x=>{x.stat===wM.PROXY?Oe(vo,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===wM.NOPROXY&&Oe(vo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function B6(){return typeof document<"u"?document:null}function Zee(n){return new gL(n,!0)}var UM=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var UJ="PersistentStream",GL=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new UM(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return E(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return E(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return E(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Rd(t.toString()),Rd("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Ue(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>E(this,null,function*(){this.state=0,this.start()}))}G_(e){return Oe(UJ,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Oe(UJ,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KL=class extends GL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=PTe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ft.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ft.min():s.readTime?Xm(s.readTime):Ft.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=LJ(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=aL(l)?{documents:OTe(o,l)}:{query:NTe(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ATe(o,s.resumeToken);let c=mL(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ft.min())>0){a.readTime=TTe(o,s.snapshotVersion.toTimestamp());let c=mL(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);let r=FTe(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=LJ(this.serializer),t.removeTarget=e,this.k_(t)}};var YL=class{},XL=class extends YL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,vL(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(Ce.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,vL(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(Ce.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ZL=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rd(t),this._a=!1):Oe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var h1="RemoteStore",QL=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>E(this,null,function*(){X_(this)&&(Oe(h1,"Restarting streams for network reachability change."),yield(function(l){return E(this,null,function*(){let c=fn(l);c.Ia.add(4),yield Y_(c),c.Aa.set("Unknown"),c.Ia.delete(4),yield sS(c)})})(this))}))}),this.Aa=new ZL(r,i)}};function sS(n){return E(this,null,function*(){if(X_(n))for(let e of n.da)yield e(!0)})}function Y_(n){return E(this,null,function*(){for(let e of n.da)yield e(!1)})}function Qee(n,e){let t=fn(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),x8(t)?b8(t):v1(t).x_()&&k8(t,e))}function y8(n,e){let t=fn(n),r=v1(t);t.Ta.delete(e),r.x_()&&Jee(t,e),t.Ta.size===0&&(r.x_()?r.B_():X_(t)&&t.Aa.set("Unknown"))}function k8(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}v1(n).H_(e)}function Jee(n,e){n.Ra.$e(e),v1(n).Y_(e)}function b8(n){n.Ra=new fL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),v1(n).start(),n.Aa.aa()}function x8(n){return X_(n)&&!v1(n).M_()&&n.Ta.size>0}function X_(n){return fn(n).Ia.size===0}function ete(n){n.Ra=void 0}function ZTe(n){return E(this,null,function*(){n.Aa.set("Online")})}function QTe(n){return E(this,null,function*(){n.Ta.forEach((e,t)=>{k8(n,e)})})}function JTe(n,e){return E(this,null,function*(){ete(n),x8(n)?(n.Aa.la(e),b8(n)):n.Aa.set("Unknown")})}function eAe(n,e,t){return E(this,null,function*(){if(n.Aa.set("Online"),e instanceof NM&&e.state===2&&e.cause)try{yield(function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){Oe(h1,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $J(n,r)}else if(e instanceof Ym?n.Ra.Ye(e):e instanceof OM?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ft.min()))try{let r=yield Xee(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=o.Ta.get(c);u&&o.Ta.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{let u=o.Ta.get(l);if(!u)return;o.Ta.set(l,u.withResumeToken(wo.EMPTY_BYTE_STRING,u.snapshotVersion)),Jee(o,l);let p=new $_(u.target,l,c,u.sequenceNumber);k8(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){Oe(h1,"Failed to raise snapshot:",r),yield $J(n,r)}})}function $J(n,e,t){return E(this,null,function*(){if(!m1(e))throw e;n.Ia.add(1),yield Y_(n),n.Aa.set("Offline"),t||(t=()=>Xee(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){Oe(h1,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield sS(n)}))})}function zJ(n,e){return E(this,null,function*(){let t=fn(n);t.asyncQueue.verifyOperationInProgress(),Oe(h1,"RemoteStore received new credentials");let r=X_(t);t.Ia.add(3),yield Y_(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield sS(t)})}function tAe(n,e){return E(this,null,function*(){let t=fn(n);e?(t.Ia.delete(2),yield sS(t)):e||(t.Ia.add(2),yield Y_(t),t.Aa.set("Unknown"))})}function v1(n){return n.Va||(n.Va=(function(t,r,i){let o=fn(t);return o.ia(),new KL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:ZTe.bind(null,n),e_:QTe.bind(null,n),n_:JTe.bind(null,n),J_:eAe.bind(null,n)}),n.da.push(e=>E(null,null,function*(){e?(n.Va.N_(),x8(n)?b8(n):n.Aa.set("Unknown")):(yield n.Va.stop(),ete(n))}))),n.Va}var JL=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tte(n,e){if(Rd("AsyncQueue",`${e}: ${n}`),m1(n))return new Ue(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}var $M=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=M_(),this.sortedSet=new Kr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var zM=class{constructor(){this.fa=new Kr(ut.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):St(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},p1=class n{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$M.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var e8=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},t8=class{constructor(){this.queries=qJ(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=fn(t),o=i.queries;i.queries=qJ(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new Ue(Ce.ABORTED,"Firestore shutting down"))}};function qJ(){return new Nd(n=>Ree(n),iS)}function nte(n,e){return E(this,null,function*(){let t=fn(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new e8,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=tte(s,`Initialization of query '${qm(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&C8(t)})}function rte(n,e){return E(this,null,function*(){let t=fn(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function nAe(n,e){let t=fn(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&C8(t)}function rAe(n,e,t){let r=fn(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function C8(n){n.Da.forEach(e=>{e.next()})}var n8,WJ;(WJ=n8||(n8={})).Fa="default",WJ.Cache="cache";var qM=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new p1(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=p1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==n8.Cache}};var WM=class{constructor(e){this.key=e}},GM=class{constructor(e){this.key=e}},r8=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_n(),this.mutatedKeys=_n(),this.Xa=Pee(e),this.eu=new $M(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new zM,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,p)=>{let g=i.get(u),v=oS(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;g&&v?g.data.isEqual(v.data)?w!==y&&(r.track({type:3,doc:v}),x=!0):this.iu(g,v)||(r.track({type:2,doc:v}),x=!0,(l&&this.Xa(v,l)>0||c&&this.Xa(v,c)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(l||c)&&(a=!0)),x&&(v?(s=s.add(v),o=y?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((u,p)=>(function(v,w){let y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:x})}};return y(v)-y(w)})(u.type,p.type)||this.Xa(u.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,s.length!==0||c?{snapshot:new p1(this.query,e.eu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zM,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=_n(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new GM(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new WM(r))}),t}uu(e){this.Ha=e.qs,this.Za=_n();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return p1.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},E8="SyncEngine",i8=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},o8=class{constructor(e){this.key=e,this.lu=!1}},s8=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Nd(a=>Ree(a),iS),this.Tu=new Map,this.Iu=new Set,this.du=new Kr(ut.comparator),this.Eu=new Map,this.Au=new q_,this.Ru={},this.Vu=new Map,this.mu=z_.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function iAe(n,e,t=!0){return E(this,null,function*(){let r=lte(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ite(r,e,t,!0),i})}function oAe(n,e){return E(this,null,function*(){let t=lte(n);yield ite(t,e,!0,!1)})}function ite(n,e,t,r){return E(this,null,function*(){let i=yield KTe(n.localStore,lc(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield sAe(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Qee(n.remoteStore,i),a})}function sAe(n,e,t,r,i){return E(this,null,function*(){n.gu=(p,g,v)=>(function(y,x,b,R){return E(this,null,function*(){let V=x.view.nu(b);V.Ds&&(V=yield jJ(y.localStore,x.query,!1).then(({documents:L})=>x.view.nu(L,V)));let j=R&&R.targetChanges.get(x.targetId),$=R&&R.targetMismatches.get(x.targetId)!=null,Y=x.view.applyChanges(V,y.isPrimaryClient,j,$);return KJ(y,x.targetId,Y._u),Y.snapshot})})(n,p,g,v);let o=yield jJ(n.localStore,e,!0),s=new r8(e,o.qs),a=s.nu(o.documents),l=U_.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=s.applyChanges(a,n.isPrimaryClient,l);KJ(n,t,c._u);let u=new i8(e,t,s);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot})}function aAe(n,e,t){return E(this,null,function*(){let r=fn(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!iS(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jL(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&y8(r.remoteStore,i.targetId),a8(r,i.targetId)}).catch(tS))):(a8(r,i.targetId),yield jL(r.localStore,i.targetId,!0))})}function lAe(n,e){return E(this,null,function*(){let t=fn(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),y8(t.remoteStore,r.targetId))})}function ote(n,e){return E(this,null,function*(){let t=fn(n);try{let r=yield WTe(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Mr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Mr(s.lu,14607):i.removedDocuments.size>0&&(Mr(s.lu,42227),s.lu=!1))}),yield ate(t,r,e)}catch(r){yield tS(r)}})}function GJ(n,e,t){let r=fn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=fn(s);l.onlineState=a;let c=!1;l.queries.forEach((u,p)=>{for(let g of p.wa)g.va(a)&&(c=!0)}),c&&C8(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cAe(n,e,t){return E(this,null,function*(){let r=fn(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Kr(ut.comparator);s=s.insert(o,Ja.newNoDocument(o,Ft.min()));let a=_n().add(o),l=new PM(Ft.min(),new Map,new Kr(Qt),s,a);yield ote(r,l),r.du=r.du.remove(o),r.Eu.delete(e),M8(r)}else yield jL(r.localStore,e,!1).then(()=>a8(r,e,t)).catch(tS)})}function a8(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||ste(n,r)})}function ste(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(y8(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),M8(n))}function KJ(n,e,t){for(let r of t)r instanceof WM?(n.Au.addReference(r.key,e),dAe(n,r)):r instanceof GM?(Oe(E8,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||ste(n,r.key)):St(19791,{yu:r})}function dAe(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Oe(E8,"New document in limbo: "+t),n.Iu.add(r),M8(n))}function M8(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ut(Er.fromString(e)),r=n.mu.next();n.Eu.set(r,new o8(t)),n.du=n.du.insert(t,r),Qee(n.remoteStore,new $_(lc(w8(t.path)),r,"TargetPurposeLimboResolution",p8.ue))}}function ate(n,e,t){return E(this,null,function*(){let r=fn(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){let p=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);let p=LL.Es(l.targetId,c);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(l,c){return E(this,null,function*(){let u=fn(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>xe.forEach(c,g=>xe.forEach(g.Is,v=>u.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>xe.forEach(g.ds,v=>u.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!m1(p))throw p;Oe(_8,"Failed to update sequence numbers: "+p)}for(let p of c){let g=p.targetId;if(!p.fromCache){let v=u.Fs.get(g),w=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(w);u.Fs=u.Fs.insert(g,y)}}})})(r.localStore,o))})}function uAe(n,e){return E(this,null,function*(){let t=fn(n);if(!t.currentUser.isEqual(e)){Oe(E8,"User change. New user:",e.toKey());let r=yield Yee(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Ue(Ce.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ate(t,r.Bs)}})}function hAe(n,e){let t=fn(n),r=t.Eu.get(e);if(r&&r.lu)return _n().add(r.key);{let i=_n(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function lte(n){let e=fn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ote.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cAe.bind(null,e),e.hu.J_=nAe.bind(null,e.eventManager),e.hu.pu=rAe.bind(null,e.eventManager),e}var cte=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Zee(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return qTe(this.persistence,new BL,t.initialUser,this.serializer)}Du(t){return new BM(NL.Vi,this.serializer)}bu(t){return new HL}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),l8=class extends cte{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Mr(this.persistence.referenceDelegate instanceof VM,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new bL(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?da.withCacheSize(this.cacheSizeBytes):da.DEFAULT;return new BM(r=>VM.Vi(r,t),this.serializer)}};var pAe=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GJ(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uAe.bind(null,this.syncEngine),yield tAe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new t8})()}createDatastore(t){let r=Zee(t.databaseInfo.databaseId),i=(function(s){return new WL(s)})(t.databaseInfo);return(function(s,a,l,c){return new XL(s,a,l,c)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new QL(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>GJ(this.syncEngine,r,0),(function(){return HM.C()?new HM:new UL})())}createSyncEngine(t,r){return(function(o,s,a,l,c,u,p){let g=new s8(o,s,a,l,c,u);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield(function(o){return E(this,null,function*(){let s=fn(o);Oe(h1,"RemoteStore shutting down."),s.Ia.add(5),yield Y_(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var KM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rd("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ih="FirestoreClient",c8=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){Oe(Ih,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Oe(Ih,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tte(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function V6(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Oe(Ih,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield Yee(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Eh("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Oe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Eh("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function YJ(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield fAe(n);Oe(Ih,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zJ(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zJ(e.remoteStore,i)),n._onlineComponents=e})}function fAe(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(Ih,"Using user provided OfflineComponentProvider");try{yield V6(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Eh("Error using user provided cache. Falling back to memory cache: "+t),yield V6(n,new cte)}}else Oe(Ih,"Using default OfflineComponentProvider"),yield V6(n,new l8(void 0));return n._offlineComponents})}function gAe(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(Ih,"Using user provided OnlineComponentProvider"),yield YJ(n,n._uninitializedComponentsProvider._online)):(Oe(Ih,"Using default OnlineComponentProvider"),yield YJ(n,new pAe))),n._onlineComponents})}function dte(n){return E(this,null,function*(){let e=yield gAe(n),t=e.eventManager;return t.onListen=iAe.bind(null,e.syncEngine),t.onUnlisten=aAe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oAe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lAe.bind(null,e.syncEngine),t})}function mAe(n,e,t={}){let r=new sc;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return(function(o,s,a,l,c){let u=new KM({next:g=>{u.Ou(),s.enqueueAndForget(()=>rte(o,p));let v=g.docs.has(a);!v&&g.fromCache?c.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?c.reject(new Ue(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new qM(w8(a.path),u,{includeMetadataChanges:!0,ka:!0});return nte(o,p)})(yield dte(n),n.asyncQueue,e,t,r)})),r.promise}function vAe(n,e,t={}){let r=new sc;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return(function(o,s,a,l,c){let u=new KM({next:g=>{u.Ou(),s.enqueueAndForget(()=>rte(o,p)),g.fromCache&&l.source==="server"?c.reject(new Ue(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new qM(a,u,{includeMetadataChanges:!0,ka:!0});return nte(o,p)})(yield dte(n),n.asyncQueue,e,t,r)})),r.promise}function ute(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var XJ=new Map;var hte="firestore.googleapis.com",ZJ=!0,YM=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hte,this.ssl=ZJ}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZJ;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kee;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UTe)throw new Ue(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FIe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ute((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},f1=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j6;switch(r.type){case"firstParty":return new z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=XJ.get(t);r&&(Oe("ComponentProvider","Removing Datastore"),XJ.delete(t),r.terminate())})(this),Promise.resolve()}};function pte(n,e,t,r={}){var i;n=P_(n,f1);let o=Yl(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(Im(`https://${l}`),Tm("Firestore",!0)),s.host!==hte&&s.host!==l&&Eh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Xl(c,a)&&(n._setSettings(c),r.mockUserToken)){let u,p;if(typeof r.mockUserToken=="string")u=r.mockUserToken,p=Vi.MOCK_USER;else{u=I4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ue(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Vi(g)}n._authCredentials=new H6(new CM(u,p))}}var XM=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ls=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(G_(t,n._jsonSchema))return new n(e,r||null,new ut(Er.fromString(t.referencePath)))}};Ls._jsonSchemaVersion="firestore/documentReference/1.0",Ls._jsonSchema={type:ii("string",Ls._jsonSchemaVersion),referencePath:ii("string")};var Ch=class n extends XM{constructor(e,t,r){super(e,t,w8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new ut(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function fte(n,e,...t){if(n=Ki(n),ree("collection","path",e),n instanceof f1){let r=Er.fromString(e,...t);return gJ(r),new Ch(n,null,r)}{if(!(n instanceof Ls||n instanceof Ch))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Er.fromString(e,...t));return gJ(r),new Ch(n.firestore,null,r)}}function gte(n,e,...t){if(n=Ki(n),arguments.length===1&&(e=R_.newId()),ree("doc","path",e),n instanceof f1){let r=Er.fromString(e,...t);return fJ(r),new Ls(n,null,new ut(r))}{if(!(n instanceof Ls||n instanceof Ch))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Er.fromString(e,...t));return fJ(r),new Ls(n.firestore,n instanceof Ch?n.converter:null,new ut(r))}}var QJ="AsyncQueue",ZM=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new UM(this,"async_queue_retry"),this.oc=()=>{let r=B6();r&&Oe(QJ,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=B6();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=B6();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new sc;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return E(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!m1(e))throw e;Oe(QJ,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rd("INTERNAL UNHANDLED ERROR: ",JJ(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=JL.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&St(47125,{hc:JJ(this.tc)})}verifyOperationInProgress(){}Pc(){return E(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function JJ(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var W_=class extends f1{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ZM,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ZM(e),this._firestoreClient=void 0,yield e}})}};function mte(n,e){let t=typeof n=="object"?n:bd(),r=typeof n=="string"?n:e||AM,i=ph(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=S4("firestore");o&&pte(i,...o)}return i}function vte(n){if(n._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wAe(n),n._firestoreClient}function wAe(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,l,c,u){return new Y6(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ute(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new c8(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var Zm=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wo.fromBase64String(e))}catch(t){throw new Ue(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(G_(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Zm._jsonSchemaVersion="firestore/bytes/1.0",Zm._jsonSchema={type:ii("string",Zm._jsonSchemaVersion),bytes:ii("string")};var QM=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qm=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(G_(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Qm._jsonSchemaVersion="firestore/geoPoint/1.0",Qm._jsonSchema={type:ii("string",Qm._jsonSchemaVersion),latitude:ii("number"),longitude:ii("number")};var Jm=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(G_(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Ue(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Jm._jsonSchemaVersion="firestore/vectorValue/1.0",Jm._jsonSchema={type:ii("string",Jm._jsonSchemaVersion),vectorValues:ii("object")};var _Ae=new RegExp("[~\\*/\\[\\]]");function yAe(n,e,t){if(e.search(_Ae)>=0)throw eee(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new QM(...e.split("."))._internalPath}catch{throw eee(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eee(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ue(Ce.INVALID_ARGUMENT,a+n+l)}var JM=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new d8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(wte("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},d8=class extends JM{data(){return super.data()}};function wte(n,e){return typeof e=="string"?yAe(n,e):e instanceof QM?e._internalPath:e._delegate._internalPath}function kAe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ue(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var u8=class{convertValue(e,t="none"){switch(Mh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return K_(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[L_].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>mr(s.doubleValue));return new Jm(o)}convertGeoPoint(e){return new Qm(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rS(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(N_(e));default:return null}}convertTimestamp(e){let t=Pd(e);return new Go(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Er.fromString(e);Mr(Gee(r),9688,{name:e});let i=new DM(r.get(1),r.get(3)),o=new ut(r.popFirst(5));return i.isEqual(t)||Rd(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Uf=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$f=class n extends JM{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new e1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(wte("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};$f._jsonSchemaVersion="firestore/documentSnapshot/1.0",$f._jsonSchema={type:ii("string",$f._jsonSchemaVersion),bundleSource:ii("string","DocumentSnapshot"),bundleName:ii("string"),bundle:ii("string")};var e1=class extends $f{data(e={}){return super.data(e)}},t1=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new e1(this._firestore,this._userDataWriter,r.key,r,new Uf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new e1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new e1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:bAe(a.type),doc:l,oldIndex:c,newIndex:u}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function bAe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}function _te(n){n=P_(n,Ls);let e=P_(n.firestore,W_);return mAe(vte(e),n._key).then(t=>xAe(e,n,t))}t1._jsonSchemaVersion="firestore/querySnapshot/1.0",t1._jsonSchema={type:ii("string",t1._jsonSchemaVersion),bundleSource:ii("string","QuerySnapshot"),bundleName:ii("string"),bundle:ii("string")};var eS=class extends u8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zm(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,t)}};function yte(n){n=P_(n,XM);let e=P_(n.firestore,W_),t=vte(e),r=new eS(e);return kAe(n._query),vAe(t,n._query).then(i=>new t1(e,r,n,i))}function xAe(n,e,t){let r=t.docs.get(e._key),i=new eS(n);return new $f(n,i,e._key,r,new Uf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){g1=i})(Jl),Os(new Yi("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new W_(new U6(r.getProvider("auth-internal")),new q6(s,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ue(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DM(c.options.projectId,u)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qn(dJ,uJ,e),Qn(dJ,uJ,"esm2017")})();var Ld=class{constructor(e){return e}},kte="firestore",S8=class{constructor(){return fh(kte)}};var I8=new ue("angularfire2.firestore-instances");function CAe(n,e){let t=Rf(kte,n,e);return t&&new Ld(t)}function EAe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ld(r)}}var MAe={provide:S8,deps:[[new ei,I8]]},SAe={provide:Ld,useFactory:CAe,deps:[[new ei,I8],Ya]};function bte(n,...e){return Qn("angularfire",ec.full,"fst"),Di([SAe,MAe,{provide:I8,useFactory:EAe(n),multi:!0,deps:[Be,Fe,tc,xd,[new ei,Lf],[new ei,mh],...e]}])}var xte=Gr(fte,!0,2);var aS=Gr(gte,!0,2);var lS=Gr(_te,!0);var Cte=Gr(yte,!0);var Ete=Gr(mte,!0);function Z_(n,e){return E(this,null,function*(){return yield $n(n,()=>new Promise((t,r)=>{e().then(t).catch(r)}))})}var Dte="firebasestorage.googleapis.com",TAe="storageBucket",AAe=120*1e3,DAe=600*1e3;var uc=class n extends $o{constructor(e,t,r=0){super(T8(e),`Firebase Storage: ${t} (${T8(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return T8(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Bd=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(Bd||{});function T8(n){return"storage/"+n}function RAe(){let n="An unknown error occurred, please check the error payload for server response.";return new uc(Bd.UNKNOWN,n)}function PAe(){return new uc(Bd.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OAe(){return new uc(Bd.CANCELED,"User canceled the upload/download.")}function NAe(n){return new uc(Bd.INVALID_URL,"Invalid URL '"+n+"'.")}function LAe(n){return new uc(Bd.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Mte(n){return new uc(Bd.INVALID_ARGUMENT,n)}function Rte(){return new uc(Bd.APP_DELETED,"The Firebase app was deleted.")}function FAe(n){return new uc(Bd.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Fd=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw LAe(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(j){j.path_=decodeURIComponent(j.path)}let u="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${u}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},y=t===Dte?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${x}`,"i"),V=[{regex:a,indices:l,postModify:o},{regex:v,indices:w,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let j=0;j<V.length;j++){let $=V[j],Y=$.regex.exec(e);if(Y){let L=Y[$.indices.bucket],T=Y[$.indices.path];T||(T=""),r=new n(L,T),$.postModify(r);break}}if(r==null)throw NAe(e);return r}},A8=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function BAe(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,n(v,l())},x)}function g(){o&&clearTimeout(o)}function v(x,...b){if(c){g();return}if(x){g(),u.call(null,x,...b);return}if(l()||s){g(),u.call(null,x,...b);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,p(V)}let w=!1;function y(x){w||(w=!0,g(),!c&&(i!==null?(x||(a=2),clearTimeout(i),p(0)):x||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,y(!0)},t),y}function VAe(n){n(!1)}function jAe(n){return n!==void 0}function Ste(n,e,t,r){if(r<e)throw Mte(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Mte(`Invalid value for '${n}'. Expected ${t} or less.`)}function HAe(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var D8=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(D8||{});function UAe(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var R8=class{constructor(e,t,r,i,o,s,a,l,c,u,p,g=!0,v=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,y)=>{this.resolve_=w,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new w1(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===D8.NO_ERROR,l=o.getStatus();if(!a||UAe(l,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===D8.ABORT;r(!1,new w1(!1,null,u));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new w1(c,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());jAe(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=RAe();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?Rte():OAe();s(l)}else{let l=PAe();s(l)}};this.canceled_?t(!1,new w1(!1,null,!0)):this.backoffId_=BAe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VAe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},w1=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function $Ae(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function zAe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qAe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WAe(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function GAe(n,e,t,r,i,o,s=!0,a=!1){let l=HAe(n.urlParams),c=n.url+l,u=Object.assign({},n.headers);return qAe(u,e),$Ae(u,t),zAe(u,o),WAe(u,r),new R8(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function KAe(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function YAe(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var pkt=256*1024;var P8=class n{constructor(e,t){this._service=e,t instanceof Fd?this._location=t:this._location=Fd.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Fd(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YAe(this._location.path)}get storage(){return this._service}get parent(){let e=KAe(this._location.path);if(e===null)return null;let t=new Fd(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FAe(e)}};function Ite(n,e){let t=e?.[TAe];return t==null?null:Fd.makeFromBucketSpec(t,n)}function XAe(n,e,t,r={}){n.host=`${e}:${t}`;let i=Yl(e);i&&(Im(`https://${n.host}/b`),Tm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:I4(o,n.app.options.projectId))}var O8=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Dte,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AAe,this._maxUploadRetryTime=DAe,this._requests=new Set,i!=null?this._bucket=Fd.makeFromBucketSpec(i,this._host):this._bucket=Ite(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fd.makeFromBucketSpec(this._url,e):this._bucket=Ite(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ste("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ste("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){if(Xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new P8(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new A8(Rte());{let s=GAe(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},Tte="@firebase/storage",Ate="0.13.14";var Pte="storage";function Ote(n=bd(),e){n=Ki(n);let r=ph(n,Pte).getImmediate({identifier:e}),i=S4("storage");return i&&Nte(r,...i),r}function Nte(n,e,t,r={}){XAe(n,e,t,r)}function ZAe(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new O8(t,r,i,e,Jl)}function QAe(){Os(new Yi(Pte,ZAe,"PUBLIC").setMultipleInstances(!0)),Qn(Tte,Ate,""),Qn(Tte,Ate,"esm2017")}QAe();var Wf=class{constructor(e){return e}},Lte="storage",N8=class{constructor(){return fh(Lte)}};var L8=new ue("angularfire2.storage-instances");function JAe(n,e){let t=Rf(Lte,n,e);return t&&new Wf(t)}function eDe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Wf(r)}}var tDe={provide:N8,deps:[[new ei,L8]]},nDe={provide:Wf,useFactory:JAe,deps:[[new ei,L8],Ya]};function Fte(n,...e){return Qn("angularfire",ec.full,"gcs"),Di([nDe,tDe,{provide:L8,useFactory:eDe(n),multi:!0,deps:[Be,Fe,tc,xd,[new ei,Lf],[new ei,mh],...e]}])}var Bte=Gr(Ote,!0);var _1=class n{constructor(e,t,r,i,o){this.firestore=e;this.storage=t;this.injector=r;this.apiService=i;this.userService=o}addSocialLinkForUser(e){return E(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.post(Vn.ADDSOCIALLINK,e,t)})}addSocialLinkGreeting(e){return E(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.post(Vn.ADDSOCIALGREETING,e,t)})}getAllSocialLinksForUser(e){return E(this,null,function*(){return yield Z_(this.injector,()=>E(this,null,function*(){let t=xte(this.firestore,"User",e,"SocialLinks");return(yield Cte(t)).docs.map(i=>i.data())}))})}getSocialLinkGreeting(e){return E(this,null,function*(){return yield Z_(this.injector,()=>E(this,null,function*(){let t=aS(this.firestore,"User",e,"SocialLinkGreeting","greeting"),r=yield lS(t);return r.exists()?r.data():null}))})}uploadIconAndGetUrl(e){return E(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken(),r=new FormData;return r.append("file",e),(yield this.apiService.post(Vn.UPLOADICON,r,t)).url})}deleteSocialLink(e){return E(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.delete(Vn.DELETE_SOCIAL_LINK,{sid:e},t)})}static \u0275fac=function(t){return new(t||n)(Ae(Ld),Ae(Wf),Ae(Fe),Ae(ti),Ae(gr))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var F8=class{_box;_destroyed=new Pe;_resizeSubject=new Pe;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Qe(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(an(t=>t.some(r=>r.target===e)),Mx({bufferSize:1,refCount:!0}),$e(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},jte=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=M(Be);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new F8(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y1=(()=>{class n{orientation=W("horizontal");$orientation=this.orientation;direction=W("ltr");$direction=this.direction;activeTab=dd(void 0,{alias:"brnTabs"});$activeTab=this.activeTab.asReadonly();activationMode=W("automatic");$activationMode=this.activationMode;tabActivated=oa();_tabs=Te({});$tabs=this._tabs.asReadonly();registerTrigger(t,r){this.updateEntry(t,{trigger:r})}registerContent(t,r){this.updateEntry(t,{content:r})}unregisterTrigger(t){this.updateEntry(t,{trigger:void 0}),this.activeTab()===t&&this.activeTab.set(void 0)}unregisterContent(t){this.updateEntry(t,{content:void 0})}updateEntry(t,r){this._tabs.update(i=>{let o=i[t]??{},s=G(G({},o),r);if(!s.trigger&&!s.content){let l=i,{[t]:c}=l;return xp(l,[dU(t)])}return ye(G({},i),{[t]:s})})}emitTabActivated(t){this.tabActivated.emit(t)}setActiveTab(t){this.activeTab.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnTabs",""]],hostVars:2,hostBindings:function(r,i){r&2&&Pt("data-orientation",i.orientation())("dir",i.direction())},inputs:{orientation:[1,"orientation"],direction:[1,"direction"],activeTab:[1,"brnTabs","activeTab"],activationMode:[1,"activationMode"]},outputs:{activeTab:"brnTabsChange",tabActivated:"tabActivated"},exportAs:["brnTabs"]})}return n})(),Ute=(()=>{class n{_root=M(y1);_elementRef=M(ft);contentFor=W.required({alias:"brnTabsContent"});_isSelected=ee(()=>this._root.$activeTab()===this.contentFor());_contentId=ee(()=>`brn-tabs-content-${this.contentFor()}`);_labelId=ee(()=>`brn-tabs-label-${this.contentFor()}`);constructor(){Ot(()=>{let t=this.contentFor();zt(()=>this._root.registerContent(t,this))})}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._root.unregisterContent(this.contentFor())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnTabsContent",""]],hostAttrs:["role","tabpanel","tabindex","0"],hostVars:3,hostBindings:function(r,i){r&2&&(ki("id",i._contentId())("hidden",i._isSelected()===!1),Pt("aria-labelledby",i._labelId()))},inputs:{contentFor:[1,"brnTabsContent","contentFor"]},exportAs:["brnTabsContent"]})}return n})(),Gf=(()=>{class n{elementRef=M(ft);_root=M(y1);_orientation=this._root.$orientation;triggerFor=W.required({alias:"brnTabsTrigger"});selected=ee(()=>this._root.$activeTab()===this.triggerFor());_contentId=ee(()=>`brn-tabs-content-${this.triggerFor()}`);_labelId=ee(()=>`brn-tabs-label-${this.triggerFor()}`);_disabled=W(!1,{alias:"disabled",transform:Je});get disabled(){return this._disabled()}constructor(){Ot(()=>{let t=this.triggerFor();zt(()=>this._root.registerTrigger(t,this))})}focus(){this.elementRef.nativeElement.focus(),this._root.$activationMode()==="automatic"&&this.activate()}activate(){this.triggerFor()&&(this._root.setActiveTab(this.triggerFor()),this._root.emitTabActivated(this.triggerFor()))}get key(){return this.triggerFor()}ngOnDestroy(){this._root.unregisterTrigger(this.triggerFor())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["button","brnTabsTrigger",""]],hostAttrs:["type","button","role","tab"],hostVars:9,hostBindings:function(r,i){r&1&&we("click",function(){return i.activate()}),r&2&&(ki("id",i._labelId())("tabIndex",i._disabled()?-1:i.selected()?0:-1),Pt("aria-selected",i.selected())("aria-controls",i._contentId())("aria-disabled",i._disabled())("data-state",i.selected()?"active":"inactive")("data-orientation",i._orientation())("data-disabled",i._disabled()?"":void 0)("disabled",i._disabled()?"":void 0))},inputs:{triggerFor:[1,"brnTabsTrigger","triggerFor"],_disabled:[1,"disabled","_disabled"]},exportAs:["brnTabsTrigger"]})}return n})(),$te=(()=>{class n{_root=M(y1);_orientation=this._root.$orientation;_direction=this._root.$direction;_activeTab=this._root.$activeTab;_tabs=this._root.$tabs;_elementRef=M(ft);_keyDownListener=Cn(this._elementRef.nativeElement,"keydown");_keyManager;triggers=cd(Gf,{descendants:!0});ngAfterContentInit(){this._keyManager=new ah(this.triggers()).withHorizontalOrientation(this._direction()).withHomeAndEnd().withPageUpDown().withWrap(),this._keyDownListener.pipe(Ur(1)).subscribe(()=>{let t=this._activeTab(),r=this._tabs(),i=0;if(t){let o=r[t];o&&(i=this.triggers().indexOf(o.trigger))}this._keyManager?.setActiveItem(i)}),this._keyDownListener.subscribe(t=>{"key"in t&&(this._orientation()==="horizontal"&&(t.key==="ArrowUp"||t.key==="ArrowDown")||this._orientation()==="vertical"&&(t.key==="ArrowLeft"||t.key==="ArrowRight"))||this._keyManager?.onKeydown(t)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,selectors:[["","brnTabsList",""]],contentQueries:function(r,i,o){r&1&&bi(o,i.triggers,Gf,5),r&2&&br()},hostAttrs:["role","tablist"],hostVars:2,hostBindings:function(r,i){r&2&&Pt("aria-orientation",i._orientation())("data-orientation",i._orientation())},exportAs:["brnTabsList"]})}return n})();var Hte=kf({passive:!0}),sDe=650,aDe=100,zte=(()=>{class n{_scrollDistance=0;_selectedIndexChanged=!1;_root=M(y1);_activeTab=this._root.$activeTab;_tabs=this._root.$tabs;_destroyed=new Pe;showPaginationControls=Te(!1);disableScrollAfter=!0;disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Pe;disablePagination=W(!1,{transform:Je});_selectedIndex=ee(()=>{let t=this._activeTab(),r=this._tabs(),i=0;if(t&&this.items()){let o=r[t];o&&(i=this.items().indexOf(o.trigger))}return i});selectFocusedIndex=oa();indexFocused=oa();_sharedResizeObserver=M(jte);_injector=M(Fe);_elementRef=M(ft);_changeDetectorRef=M(go);_viewportRuler=M(dh);_dir=M(Ga,{optional:!0});_ngZone=M(Be);_platform=M(qr);animationMode=M(Wv,{optional:!0});constructor(){this._ngZone.runOutsideAngular(()=>{Cn(this._elementRef.nativeElement,"mouseleave").pipe($e(this._destroyed)).subscribe(()=>{this._stopInterval()})}),Ot(()=>{let t=this._selectedIndex();t!==0&&(this._selectedIndexChanged=!0,this._keyManager&&this._keyManager.updateActiveItem(t))})}ngAfterViewInit(){Cn(this.previousPaginator().nativeElement,"touchstart",Hte).pipe($e(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Cn(this.nextPaginator().nativeElement,"touchstart",Hte).pipe($e(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let t=this._dir?this._dir.change:Xe("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Gc(32),$e(this._destroyed)),i=this._viewportRuler.change(150).pipe($e(this._destroyed)),o=()=>{this.updatePagination()};this._keyManager=new ah(this.items()).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex()),qi(o,{injector:this._injector}),bx(t,i,r,this.itemsChanges,this._itemsResized()).pipe($e(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Ai:this.itemsChanges.pipe(Vu(this.items()),$r(t=>new Qe(r=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>r.next(o));for(let o of t)i.observe(o.elementRef.nativeElement);return()=>{i.disconnect()}}))),gv(1),an(t=>t.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!==this.items().length&&(this.updatePagination(),this._tabLabelCount=this.items().length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex()),this._checkScrollingControls(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Wl(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this._selectedIndex()){let r=this.items()[this.focusIndex];r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex??0:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this.items()?!!this.items()[t]:!0}_setTabFocus(t){if(this.showPaginationControls()&&this._scrollToLabel(t),this.items()?.length){this.items()[t].focus();let r=this.tabListContainer().nativeElement;this._getLayoutDirection()==="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination())return;let t=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-t:t;this.tabList().nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this.tabListContainer().nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let r=this.tabListContainer().nativeElement.offsetWidth,i=(t==="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination())return;let r=this.items()?this.items()[t]:null;if(!r)return;let i=this.tabListContainer().nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement,a,l;this._getLayoutDirection()==="ltr"?(a=o,l=a+s):(l=this.tabListInner().nativeElement.offsetWidth-o,a=l-s);let c=this.scrollDistance,u=this.scrollDistance+i;a<c?this.scrollDistance-=c-a:l>u&&(this.scrollDistance+=Math.min(l-u,a-c))}_checkPaginationEnabled(){if(this.disablePagination())this.showPaginationControls.set(!1);else{let t=this.tabListInner().nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this.showPaginationControls()&&this._changeDetectorRef.markForCheck(),this.showPaginationControls.set(t)}}_checkScrollingControls(){this.disablePagination()?this.disableScrollAfter=this.disableScrollBefore=!0:(this.disableScrollBefore=this.scrollDistance===0,this.disableScrollAfter=this.scrollDistance===this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this.tabListInner().nativeElement.scrollWidth,r=this.tabListContainer().nativeElement.offsetWidth;return t-r||0}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&r.button!==null&&r.button!==0||(this._stopInterval(),Wc(sDe,aDe).pipe($e(bx(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination())return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ve({type:n,inputs:{disablePagination:[1,"disablePagination"]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})();var lDe=["*"],Vd=class n{tab=W.required();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex flex-col gap-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tabs"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{tab:[1,"tab"],userClass:[1,"class","userClass"]},features:[Zn([{directive:y1,inputs:["orientation","orientation","direction","direction","activationMode","activationMode","brnTabs","tab"],outputs:["tabActivated","tabActivated"]}])],ngContentSelectors:lDe,decls:1,vars:0,template:function(t,r){t&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})};var jd=class n{contentFor=W.required({alias:"hlmTabsContent"});userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmTabsContent",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{contentFor:[1,"hlmTabsContent","contentFor"],userClass:[1,"class","userClass"]},features:[Zn([{directive:Ute,inputs:["brnTabsContent","hlmTabsContent"]}])]})};var cDe=["*"],B8=Bl("inline-flex h-9 w-fit items-center justify-center rounded-lg bg-muted p-[3px] text-muted-foreground",{variants:{orientation:{horizontal:"h-10 space-x-1",vertical:"mt-2 flex-col h-fit space-y-1"}},defaultVariants:{orientation:"horizontal"}}),Hd=class n{orientation=W("horizontal");userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(B8({orientation:this.orientation()}),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tabs-list"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{orientation:[1,"orientation"],userClass:[1,"class","userClass"]},features:[Zn([$te])],ngContentSelectors:cDe,decls:1,vars:0,template:function(t,r){t&1&&(tn(),rt(0))},encapsulation:2,changeDetection:0})};var dDe=["tabListContainer"],uDe=["tabList"],hDe=["tabListInner"],pDe=["nextPaginator"],fDe=["previousPaginator"],gDe=["*"],V8=class n extends zte{items=cd(Gf,{descendants:!1});itemsChanges=d4(this.items);tabListContainer=fo.required("tabListContainer");tabList=fo.required("tabList");tabListInner=fo.required("tabListInner");nextPaginator=fo.required("nextPaginator");previousPaginator=fo.required("previousPaginator");userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("flex overflow-hidden relative gap-1 flex-shrink-0",this.userClass()));tabListClass=W("",{alias:"tabListClass"});_tabListClass=ee(()=>Me(B8(),this.tabListClass()));paginationButtonClass=W("",{alias:"paginationButtonClass"});_paginationButtonClass=ee(()=>Me("relative z-[2] select-none disabled:cursor-default",iO({variant:"ghost",size:"icon"}),this.paginationButtonClass()));_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["hlm-paginated-tabs-list"]],contentQueries:function(t,r,i){t&1&&bi(i,r.items,Gf,4),t&2&&br()},viewQuery:function(t,r){t&1&&(Wi(r.tabListContainer,dDe,5),Wi(r.tabList,uDe,5),Wi(r.tabListInner,hDe,5),Wi(r.nextPaginator,pDe,5),Wi(r.previousPaginator,fDe,5)),t&2&&br(5)},hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"],tabListClass:[1,"tabListClass"],paginationButtonClass:[1,"paginationButtonClass"]},features:[Le([un({lucideChevronRight:jY,lucideChevronLeft:VY})]),kt],ngContentSelectors:gDe,decls:13,vars:16,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["data-pagination","previous","type","button","aria-hidden","true","tabindex","-1",3,"click","mousedown","touchend","disabled"],["hlm","","size","base","name","lucideChevronLeft"],[1,"z-[1]","flex","grow","overflow-hidden",3,"keydown"],["role","tablist",1,"relative","grow","transition-transform",3,"cdkObserveContent"],["data-pagination","next","type","button","aria-hidden","true","tabindex","-1",3,"click","mousedown","touchend","disabled"],["hlm","","size","base","name","lucideChevronRight"]],template:function(t,r){if(t&1){let i=dn();tn(),D(0,"button",5,0),we("click",function(){return We(i),Ge(r._handlePaginatorClick("before"))})("mousedown",function(s){return We(i),Ge(r._handlePaginatorPress("before",s))})("touchend",function(){return We(i),Ge(r._stopInterval())}),oe(2,"ng-icon",6),A(),D(3,"div",7,1),we("keydown",function(s){return We(i),Ge(r._handleKeydown(s))}),D(5,"div",8,2),we("cdkObserveContent",function(){return We(i),Ge(r._onContentChanges())}),D(7,"div",null,3),rt(9),A()()(),D(10,"button",9,4),we("click",function(){return We(i),Ge(r._handlePaginatorClick("after"))})("mousedown",function(s){return We(i),Ge(r._handlePaginatorPress("after",s))})("touchend",function(){return We(i),Ge(r._stopInterval())}),oe(12,"ng-icon",10),A()}t&2&&(se(r._paginationButtonClass()),xr("flex",r.showPaginationControls())("hidden",!r.showPaginationControls()),fe("disabled",r.disableScrollBefore||null),N(7),se(r._tabListClass()),N(3),se(r._paginationButtonClass()),xr("flex",r.showPaginationControls())("hidden",!r.showPaginationControls()),fe("disabled",r.disableScrollAfter||null))},dependencies:[fX,hn,tr],encapsulation:2,changeDetection:0})};var Ud=class n{triggerFor=W.required({alias:"hlmTabsTrigger"});userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_ng-icon]:pointer-events-none [&_ng-icon]:shrink-0 [&_ng-icon]:text-base",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["","hlmTabsTrigger",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{triggerFor:[1,"hlmTabsTrigger","triggerFor"],userClass:[1,"class","userClass"]},features:[Zn([{directive:Gf,inputs:["brnTabsTrigger","hlmTabsTrigger","disabled","disabled"]}])]})};var mDe=new ue("HlmTableConfig"),vDe={table:"w-full caption-bottom text-sm",thead:"[&_tr]:border-b",tbody:"[&_tr:last-child]:border-0",tfoot:"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",tr:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",th:"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",td:"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",caption:"text-muted-foreground mt-4 text-sm"};function k1(){return M(mDe,{optional:!0})??vDe}var Q_=class n{userVariant=W({},{alias:"hlmTable"});userClass=W("",{alias:"class"});_globalOrDefaultConfig=k1();_variant=ee(()=>{let e=this._globalOrDefaultConfig,t=this.userVariant();return typeof t=="object"&&t!==null&&Object.keys(t).length>0?G(G({},e),t):e});_computedClass=ee(()=>Me(this._variant().table,this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["table","hlmTable",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userVariant:[1,"hlmTable","userVariant"],userClass:[1,"class","userClass"]}})},J_=class n{_globalOrDefaultConfig=k1();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this._globalOrDefaultConfig?this._globalOrDefaultConfig.thead.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["thead","hlmTHead",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},ey=class n{_globalOrDefaultConfig=k1();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this._globalOrDefaultConfig?this._globalOrDefaultConfig.tbody.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["tbody","hlmTBody",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var ty=class n{_globalOrDefaultConfig=k1();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this._globalOrDefaultConfig?this._globalOrDefaultConfig.tr.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["tr","hlmTr",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},ny=class n{_globalOrDefaultConfig=k1();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this._globalOrDefaultConfig?this._globalOrDefaultConfig.th.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["th","hlmTh",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},ry=class n{_globalOrDefaultConfig=k1();userClass=W("",{alias:"class"});_computedClass=ee(()=>Me(this._globalOrDefaultConfig?this._globalOrDefaultConfig.td.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=ve({type:n,selectors:[["td","hlmTd",""]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var _De=(n,e)=>e.value;function yDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Profile URL is required."),A())}function kDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Profile URL cannot exceed 200 characters."),A())}function bDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Platform name is required."),A())}function xDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Platform name cannot exceed 20 characters."),A())}function CDe(n,e){if(n&1&&(D(0,"hlm-form-field")(1,"label",44)(2,"div",13),H(3,"Platform Name"),A()(),oe(4,"input",45),te(5,bDe,2,0,"hlm-error"),te(6,xDe,2,0,"hlm-error"),A()),n&2){let t,r,i=ae();N(5),ne(!((t=i.newLinkForm.get("customPlatformName"))==null||t.errors==null)&&t.errors.required&&(!(i.newLinkForm==null||(t=i.newLinkForm.get("customPlatformName"))==null)&&t.dirty||!(i.newLinkForm==null||(t=i.newLinkForm.get("customPlatformName"))==null)&&t.touched)?5:-1),N(),ne(!((r=i.newLinkForm.get("username"))==null||r.errors==null)&&r.errors.maxlength?6:-1)}}function EDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Username is required."),A())}function MDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Username cannot exceed 30 characters."),A())}function SDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Handle is required."),A())}function IDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Handle cannot exceed 30 characters."),A())}function TDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Followers cannot exceed 9 digits."),A())}function ADe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Followers must be a number."),A())}function DDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Following cannot exceed 9 digits."),A())}function RDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Following must be a number."),A())}function PDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Bio is required."),A())}function ODe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Bio cannot exceed 160 characters."),A())}function NDe(n,e){if(n&1&&(D(0,"hlm-option",32),H(1),A()),n&2){let t=e.$implicit;fe("value",t.value),N(),Ke(t.label)}}function LDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Social media type is required."),A())}function FDe(n,e){if(n&1&&(D(0,"div",34)(1,"label",46),H(2,"Already set icon"),A(),oe(3,"img",47),A()),n&2){let t=ae();N(3),fe("src",t.existingIconURL,_i)}}function BDe(n,e){if(n&1){let t=dn();tw(0),D(1,"hlm-form-field",34)(2,"label",48),H(3),D(4,"input",49),we("change",function(i){We(t);let o=ae();return Ge(o.onIconUpload(i))}),A()()(),nw()}if(n&2){let t=ae();N(3),xt(" ",t.isUpdatingSocialLink?"Change":"Choose"," custom Icon ")}}function VDe(n,e){if(n&1&&(D(0,"div",35)(1,"span",50),H(2,"Preview:"),A(),oe(3,"img",51),A()),n&2){let t=ae();N(3),fe("src",t.customIcon,_i)}}function jDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Title is required."),A())}function HDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Title cannot exceed 50 characters."),A())}function UDe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Body is required."),A())}function $De(n,e){n&1&&(D(0,"hlm-error"),H(1,"Body cannot exceed 256 characters."),A())}function zDe(n,e){if(n&1){let t=dn();D(0,"tr",58)(1,"td",66),H(2),A(),D(3,"td",67),H(4),A(),D(5,"td",68),H(6),A(),D(7,"td",69),H(8),A(),D(9,"td",69),H(10),A(),D(11,"td",70)(12,"button",71),we("click",function(){let i=We(t).$implicit,o=ae(2);return Ge(o.deleteSocialLink(i.id))}),oe(13,"ng-icon",72),A(),D(14,"button",71),we("click",function(){let i=We(t).$implicit,o=ae(2);return Ge(o.updateSocialLink(i))}),oe(15,"ng-icon",73),A()()()}if(n&2){let t=e.$implicit;N(2),Ke(t.username),N(2),Ke(t.platformName),N(2),xt(" ",t.desc," "),N(2),xt(" ",t.followers," "),N(2),xt(" ",t.following," ")}}function qDe(n,e){if(n&1&&(D(0,"div",52),oe(1,"span",53),D(2,"span",54),H(3,"Your Social Links"),A(),oe(4,"span",53),A(),oe(5,"div",55),D(6,"table",56)(7,"thead",57)(8,"tr",58)(9,"th",59),H(10,"Username"),A(),D(11,"th",60),H(12,"Platform"),A(),D(13,"th",61),H(14,"Bio"),A(),D(15,"th",62),H(16,"Followers"),A(),D(17,"th",62),H(18,"Following"),A(),D(19,"th",63),H(20,"Actions"),A()()(),D(21,"tbody",64),Rn(22,zDe,16,5,"tr",58,yi),A()(),oe(24,"div",65)),n&2){let t=ae();N(22),Pn(t.socialLinks)}}var dS=class n extends nr{constructor(t,r,i){super();this.fb=t;this.preloaderService=r;this.socialLinkService=i}newLinkForm=null;greetingsForm=null;layout="card";socialLinks=[];customIcon="";customIconFile=null;platforms=QQ;isUpdatingSocialLink=!1;existingIconURL="";udpatingSocialLink=null;platformValueChangeSubscription;profileURLChangeSubscription;userService=M(gr);_hlmDialogService=M(fr);socialLinkGreetCloud=null;fetchSocialLinks(){return E(this,null,function*(){this.preloaderService.show(),this.socialLinks=yield this.socialLinkService.getAllSocialLinksForUser(this.userService.getCurrentUserObject().uid),this.socialLinkGreetCloud=yield this.socialLinkService.getSocialLinkGreeting(this.userService.getCurrentUserObject().uid),this.greetingsForm&&(this.greetingsForm.get("title")?.setValue(this.socialLinkGreetCloud?.title),this.greetingsForm.get("body")?.setValue(this.socialLinkGreetCloud?.body)),this.preloaderService.hide()})}ngOnInit(){window.scrollTo(0,0),this.greetingsForm=this.fb.group({title:new Cr({value:null,disabled:!1},[He.maxLength(50),He.required]),body:new Cr({value:null,disabled:!1},[He.maxLength(256),He.required])}),this.newLinkForm=this.fb.group({url:new Cr({value:"",disabled:!1},[He.required,He.maxLength(200)]),customPlatformName:new Cr({value:null,disabled:!1},[He.maxLength(20),He.required]),username:new Cr({value:"",disabled:!1},[He.required,He.maxLength(30)]),handle:new Cr({value:"",disabled:!1},[He.maxLength(30)]),follower:new Cr({value:null,disabled:!1},[He.max(999999999),He.pattern(/^[0-9]+$/)]),following:new Cr({value:null,disabled:!1},[He.max(999999999),He.pattern(/^[0-9]+$/)]),bio:new Cr({value:"",disabled:!1},[He.required,He.maxLength(160)]),platform:new Cr({value:null,disabled:!0},[He.required]),color:new Cr({value:"#666666",disabled:!0})}),this.platformValueChangeSubscription=this.newLinkForm.get("platform")?.valueChanges.subscribe(t=>{this.onPlatformChange(t)}),this.profileURLChangeSubscription=this.newLinkForm.get("url")?.valueChanges.subscribe(t=>{this.onProfileURLChange(t)}),this.fetchSocialLinks()}ngOnDestroy(){this.platformValueChangeSubscription&&this.platformValueChangeSubscription.unsubscribe(),this.profileURLChangeSubscription&&this.profileURLChangeSubscription.unsubscribe()}get url(){return this.newLinkForm?.get("url")}get platform(){return this.newLinkForm?.get("platform")}get color(){return this.newLinkForm?.get("color")}get followers(){return this.newLinkForm?.get("follower")}get following(){return this.newLinkForm?.get("following")}get customPlatformName(){return this.newLinkForm?.get("customPlatformName")}get username(){return this.newLinkForm?.get("username")}get bio(){return this.newLinkForm?.get("bio")}get handle(){return this.newLinkForm?.get("handle")}onProfileURLChange(t){if(t){let r=JQ.find(i=>t.includes(i.baseURL));if(r){let i=r.value;this.platform?.enable(),this.platform?.setValue(i)}else this.platform?.setValue("custom")}}onPlatformChange(t){let r=t;if(r&&r!=="custom"){this.newLinkForm?.get("color")?.disable();let i=this.platforms.find(o=>o.value===r);this.color?.setValue(i?i.color:"#666666"),this.customIcon="",this.customPlatformName?.setValidators(null),this.customPlatformName?.updateValueAndValidity()}else r==="custom"&&(this.newLinkForm?.get("color")?.enable(),this.color?.setValue("#666666"),this.customPlatformName?.setValidators([He.required,He.maxLength(20)]),this.customPlatformName?.updateValueAndValidity())}onIconUpload(t){let i=t.target.files[0];if(i){if(i.size>5*1024*1024){this._hlmDialogService.open(la,{context:{info:"Icon file size must be less than 5MB.",desc:"File size limit"}});return}this.customIconFile=i}}addGreetings(){return E(this,null,function*(){if(this.greetingsForm&&(this.greetingsForm.markAllAsTouched(),!this.greetingsForm.invalid)){this.preloaderService.show();try{let t={title:this.greetingsForm.get("title")?.value,body:this.greetingsForm.get("body")?.value};yield this.socialLinkService.addSocialLinkGreeting(t),this.preloaderService.hide(),this.greetingsForm.reset({title:t.title,body:t.body}),this._hlmDialogService.open(la,{context:{info:"Greeting Updated",desc:"Check your view page to see updated greeting"}})}catch(t){this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:t?.message||"Unknown error",desc:"Problem while adding greeting"}})}}})}deleteSocialLink(t){return E(this,null,function*(){try{this._hlmDialogService.open(xh,{context:{title:"Are you sure?",desc:"you want to delete this social link"}}).closed$.subscribe(r=>E(this,null,function*(){if(r==="yes")this.preloaderService.show(),yield this.socialLinkService.deleteSocialLink(t),this.socialLinks=this.socialLinks.filter(i=>i.id!==t),this.preloaderService.hide(),this._hlmDialogService.open(la,{context:{info:"Delete Successfull",desc:"Your social link has successfully deleted, go to viewer page to see changes"}});else return}))}catch{this._hlmDialogService.open(nn,{context:{error:"Unable to delete your social link",desc:"Check your internet connection, or try again later"}})}})}updateSocialLink(t){return E(this,null,function*(){this.isUpdatingSocialLink=!0,this.udpatingSocialLink=t,this.url?.disable(),this.url?.setValue(t.url),this.username?.setValue(t.username),this.handle?.setValue(t.handle),this.followers?.setValue(t.followers),this.following?.setValue(t.following),this.bio?.setValue(t.desc),this.color?.setValue(t.color),this.platform?.setValue(t.platform),this.platform?.disable(),this.customPlatformName?.setValue(t.platformName),t.platform!=="custom"?this.color?.disable():(this.color?.enable(),this.existingIconURL=t.customIcon,this.color?.setValue(t.color))})}updateSocialLinkDB(){return E(this,null,function*(){if(!this.newLinkForm||(this.newLinkForm.markAllAsTouched(),this.newLinkForm.invalid)||!this.url?.value||!this.platform?.value)return null;this.preloaderService.show();let t="";return this.platform.value==="custom"&&this.customIconFile&&(t=yield this.socialLinkService.uploadIconAndGetUrl(this.customIconFile)),{id:this.udpatingSocialLink?.id,url:this.url.value,username:this.username?.value,platform:this.platform.value,platformName:this.customPlatformName?.value,icon:this.udpatingSocialLink?.icon,color:this.color?.value,customIcon:t!==""?t:this.udpatingSocialLink?.customIcon,followers:this.followers?.value,following:this.following?.value,desc:this.bio?.value,handle:this.handle?.value}})}addSocialLink(){return E(this,null,function*(){if(this.newLinkForm&&(this.newLinkForm.markAllAsTouched(),!this.newLinkForm.invalid&&!(!this.url?.value||!this.platform?.value)))if(this.isUpdatingSocialLink){this.preloaderService.show();try{let t=yield this.updateSocialLinkDB();t&&(yield this.socialLinkService.addSocialLinkForUser(t),this.socialLinks=this.socialLinks.filter(r=>r.id!==t.id),this.socialLinks.push(t),this._hlmDialogService.open(la,{context:{info:"Update Successfull",desc:"Your social link has successfully updated, go to viewer page to see changes"}}))}catch(t){this._hlmDialogService.open(nn,{context:{error:t?.message||"Unknown error",desc:"Problem while updating social link"}})}finally{this.isUpdatingSocialLink=!1,this.newLinkForm.reset({color:"#666666"}),this.platform.disable(),this.customIcon="",this.customIconFile=null,this.preloaderService.hide()}}else{let t=this.platforms.find(i=>i.value===this.platform?.value),r="";try{this.preloaderService.show(),this.platform.value==="custom"&&this.customIconFile&&(r=yield this.socialLinkService.uploadIconAndGetUrl(this.customIconFile));let i={id:E6(),url:this.url.value,username:this.username?.value,platform:this.platform.value,platformName:t?this.platform.value==="custom"?this.customPlatformName?.value:t.value:"Custom",icon:t?t.icon:"",color:this.color?.value||(t?t.color:"#666666"),customIcon:this.platform.value==="custom"?r:"",followers:this.followers?.value,following:this.following?.value,desc:this.bio?.value,handle:this.handle?.value};this.socialLinks.push(i),yield this.socialLinkService.addSocialLinkForUser(i),this.preloaderService.hide(),this._hlmDialogService.open(la,{context:{info:"Saved Successfull",desc:"Your social link has successfully saved, go to viewer page to see changes"}})}catch(i){this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:i?.message||"Unknown error",desc:"Problem while adding social link"}})}finally{this.newLinkForm.reset({color:"#666666"}),this.platform.disable(),this.customIcon="",this.customIconFile=null}}})}static \u0275fac=function(r){return new(r||n)(De(KE),De(rr),De(_1))};static \u0275cmp=de({type:n,selectors:[["app-social-links-screen"]],features:[Le([un({lucideLinkedin:gm,lucideMessageCircle:mm,lucideTwitter:vm,lucideFacebook:hm,lucideInstagram:fm,lucideGithub:pm,lucideYoutube:wm,lucideTrash:e4,lucidePencil:QY})]),kt],decls:111,vars:25,consts:[[1,"flex","flex-col","items-center","p-4","sm:p-8","w-full","max-w-4xl","mx-auto"],["tab","socialLink"],["hlmTabsTrigger","socialLink"],["hlmTabsTrigger","greet"],["hlmTabsContent","socialLink"],["hlmCard","",1,"max-w-[695px]"],[3,"submit","formGroup"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"flex-1","mb-4"],["for","profileURL","hlmLabel",""],[1,"text-xs"],["id","profileURL","hlmInput","","placeholder","Paste your profile URL","formControlName","url",1,"w-xs","sm:w-xl"],[1,"flex","gap-2","mb-8","flex-col","sm:ml-4","ml-0"],[1,"flex","flex-col","sm:flex-row","gap-2"],["for","username","hlmLabel",""],["id","username","hlmInput","","type","text","placeholder","Smil_thakur","formControlName","username"],["for","handle","hlmLabel",""],["id","handle","hlmInput","","type","text","formControlName","handle","placeholder","@SmilThakur"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-6"],["for","follower","hlmLabel",""],["id","follower","hlmInput","","type","number","placeholder","25","formControlName","follower",1,"w-[72px]"],["for","following","hlmLabel",""],["id","following","hlmInput","","type","number","placeholder","65","formControlName","following",1,"w-[72px]"],["for","bio","hlmLabel",""],["id","bio","type","text","hlmInput","","placeholder","you know who I am","formControlName","bio",1,"w-xs","sm:w-md"],[1,"flex","flex-col","sm:flex-row","items-center","justify-center","sm:space-x-2","space-y-2","sm:space-y-0"],[1,"flex-1"],["placeholder","Select social media","formControlName","platform",1,"inline-block","w-full"],[1,"w-full"],[3,"value"],["type","color","hlmInput","","placeholder","Color","formControlName","color",1,"w-[40px]","h-[40px]","p-1"],[1,"mt-4"],[1,"flex","items-center","gap-4","mt-2"],["hlmCardFooter",""],["hlmBtn","","type","submit"],["hlmTabsContent","greet"],[1,"mb-4"],["for","greetingTitle","hlmLabel",""],["id","greetingTitle","hlmInput","","type","text","placeholder","Welcome everyone!","formControlName","title",1,"w-xs","sm:w-xl"],["for","greetingBody","hlmLabel",""],["id","greetingBody","hlmInput","","type","text","placeholder","Here are my social Links","formControlName","body",1,"w-xs","sm:w-xl"],["for","platformName","hlmLabel",""],["id","platformName","hlmInput","","type","text","placeholder","codeforces","formControlName","customPlatformName"],[1,"text-xs","mt-4"],[1,"mt-2","ml-4","w-8","h-8","rounded-full","border",3,"src"],["hlmLabel",""],["hlmInput","","type","file","accept","image/*",1,"w-xs","sm:w-md",3,"change"],[1,"text-muted-foreground","text-xs"],[1,"w-8","h-8","rounded-full","border",3,"src"],[1,"w-full","flex","flex-col","sm:flex-row","items-center","gap-2","sm:gap-4","mb-4","mt-4"],[1,"flex-1","border-b","border-muted"],[1,"text-muted-foreground"],[1,"upper-cushion"],["hlmTable",""],["hlmTHead",""],["hlmTr",""],["hlmTh","",1,"max-w-[100px]"],["hlmTh","",1,"max-w-[86px]"],["hlmTh","",1,"hidden","sm:table-cell","max-w-[200px]"],["hlmTh","",1,"hidden","sm:table-cell"],["hlmTh",""],["hlmTBody",""],[1,"lower-cushion"],["hlmTd","",1,"max-w-[100px]"],["hlmTd","",1,"max-w-[86px]"],["hlmTd","",1,"hidden","sm:table-cell","max-w-[200px]"],["hlmTd","",1,"hidden","sm:table-cell"],["hlmTd","",1,"action"],["hlmBtn","","size","icon","variant","secondary",1,"size-8",3,"click"],["hlm","","name","lucideTrash"],["hlm","","name","lucidePencil"]],template:function(r,i){if(r&1&&(oe(0,"app-only-back-nav-bar"),D(1,"div",0)(2,"hlm-tabs",1)(3,"hlm-tabs-list")(4,"button",2),H(5,"Social Link"),A(),D(6,"button",3),H(7,"Greetings"),A()(),D(8,"div",4)(9,"div",5)(10,"form",6),we("submit",function(){return i.addSocialLink()}),D(11,"div",7)(12,"div",8),H(13,"Add a Social Link"),A(),D(14,"div",9),H(15," Enter your profile link, select the platform, pick a color, and optionally upload a custom icon. "),A()(),D(16,"div",10)(17,"hlm-form-field",11)(18,"label",12)(19,"div",13),H(20,"Profile URL"),A()(),oe(21,"input",14),te(22,yDe,2,0,"hlm-error"),te(23,kDe,2,0,"hlm-error"),A(),D(24,"div",15)(25,"div"),H(26,"Additional Info"),A(),D(27,"div",16),te(28,CDe,7,2,"hlm-form-field"),D(29,"hlm-form-field")(30,"label",17)(31,"div",13),H(32,"Username"),A()(),oe(33,"input",18),te(34,EDe,2,0,"hlm-error"),te(35,MDe,2,0,"hlm-error"),A(),D(36,"hlm-form-field")(37,"label",19)(38,"div",13),H(39,"handle"),A()(),oe(40,"input",20),te(41,SDe,2,0,"hlm-error"),te(42,IDe,2,0,"hlm-error"),A()(),D(43,"div",21)(44,"hlm-form-field")(45,"label",22)(46,"div",13),H(47,"Followers"),A()(),oe(48,"input",23),te(49,TDe,2,0,"hlm-error"),te(50,ADe,2,0,"hlm-error"),A(),D(51,"hlm-form-field")(52,"label",24)(53,"div",13),H(54,"Following"),A()(),oe(55,"input",25),te(56,DDe,2,0,"hlm-error"),te(57,RDe,2,0,"hlm-error"),A()(),D(58,"hlm-form-field")(59,"label",26)(60,"div",13),H(61,"Bio"),A()(),oe(62,"input",27),te(63,PDe,2,0,"hlm-error"),te(64,ODe,2,0,"hlm-error"),A()(),D(65,"div",28)(66,"hlm-form-field",29)(67,"brn-select",30)(68,"hlm-select-trigger",31),oe(69,"hlm-select-value"),A(),D(70,"hlm-select-content")(71,"hlm-select-label"),H(72,"Platform"),A(),Rn(73,NDe,2,2,"hlm-option",32,_De),A()(),te(75,LDe,2,0,"hlm-error"),A(),D(76,"hlm-form-field"),oe(77,"input",33),A()(),te(78,FDe,4,1,"div",34),te(79,BDe,5,1,"ng-container"),te(80,VDe,4,1,"div",35),A(),D(81,"div",36)(82,"button",37),H(83),A()()()()(),D(84,"div",38)(85,"div",5)(86,"form",6),we("submit",function(){return i.addGreetings()}),D(87,"div",7)(88,"div",8),H(89,"Add a Greeting"),A(),D(90,"div",9),H(91," Add a personal greeting to welcome people viewing your social links page. Don't worry if you leave this empty, we'll show a friendly default message. "),A()(),D(92,"div",10)(93,"hlm-form-field",39)(94,"label",40)(95,"div",13),H(96,"Title"),A()(),oe(97,"input",41),te(98,jDe,2,0,"hlm-error"),te(99,HDe,2,0,"hlm-error"),A(),D(100,"hlm-form-field")(101,"label",42)(102,"div",13),H(103,"Body"),A()(),oe(104,"input",43),te(105,UDe,2,0,"hlm-error"),te(106,$De,2,0,"hlm-error"),A()(),D(107,"div",36)(108,"button",37),H(109,"Refresh Greeting"),A()()()()()(),te(110,qDe,25,0),A()),r&2){let o,s,a,l,c,u,p,g,v,w,y,x,b,R,V,j,$,Y;N(10),fe("formGroup",i.newLinkForm),N(12),ne(!((o=i.newLinkForm.get("url"))==null||o.errors==null)&&o.errors.required&&(!(i.newLinkForm==null||(o=i.newLinkForm.get("url"))==null)&&o.dirty||!(i.newLinkForm==null||(o=i.newLinkForm.get("url"))==null)&&o.touched)?22:-1),N(),ne(!((s=i.newLinkForm.get("url"))==null||s.errors==null)&&s.errors.maxlength?23:-1),N(5),ne((i.newLinkForm==null||(a=i.newLinkForm.get("platform"))==null?null:a.value)==="custom"?28:-1),N(6),ne(!((l=i.newLinkForm.get("username"))==null||l.errors==null)&&l.errors.required&&(!(i.newLinkForm==null||(l=i.newLinkForm.get("username"))==null)&&l.dirty||!(i.newLinkForm==null||(l=i.newLinkForm.get("username"))==null)&&l.touched)?34:-1),N(),ne(!((c=i.newLinkForm.get("username"))==null||c.errors==null)&&c.errors.maxlength?35:-1),N(6),ne(!((u=i.newLinkForm.get("handle"))==null||u.errors==null)&&u.errors.required&&(!(i.newLinkForm==null||(u=i.newLinkForm.get("handle"))==null)&&u.dirty||!(i.newLinkForm==null||(u=i.newLinkForm.get("handle"))==null)&&u.touched)?41:-1),N(),ne(!((p=i.newLinkForm.get("handle"))==null||p.errors==null)&&p.errors.maxlength?42:-1),N(7),ne(!((g=i.newLinkForm.get("follower"))==null||g.errors==null)&&g.errors.max&&(!(i.newLinkForm==null||(g=i.newLinkForm.get("follower"))==null)&&g.dirty||!(i.newLinkForm==null||(g=i.newLinkForm.get("follower"))==null)&&g.touched)?49:-1),N(),ne(!((v=i.newLinkForm.get("follower"))==null||v.errors==null)&&v.errors.pattern&&(!(i.newLinkForm==null||(v=i.newLinkForm.get("follower"))==null)&&v.dirty||!(i.newLinkForm==null||(v=i.newLinkForm.get("follower"))==null)&&v.touched)?50:-1),N(6),ne(!((w=i.newLinkForm.get("following"))==null||w.errors==null)&&w.errors.max&&(!(i.newLinkForm==null||(w=i.newLinkForm.get("following"))==null)&&w.dirty||!(i.newLinkForm==null||(w=i.newLinkForm.get("following"))==null)&&w.touched)?56:-1),N(),ne(!((y=i.newLinkForm.get("following"))==null||y.errors==null)&&y.errors.pattern&&(!(i.newLinkForm==null||(y=i.newLinkForm.get("following"))==null)&&y.dirty||!(i.newLinkForm==null||(y=i.newLinkForm.get("following"))==null)&&y.touched)?57:-1),N(6),ne(!((x=i.newLinkForm.get("bio"))==null||x.errors==null)&&x.errors.required&&(!(i.newLinkForm==null||(x=i.newLinkForm.get("bio"))==null)&&x.dirty||!(i.newLinkForm==null||(x=i.newLinkForm.get("bio"))==null)&&x.touched)?63:-1),N(),ne(!((b=i.newLinkForm.get("bio"))==null||b.errors==null)&&b.errors.maxlength?64:-1),N(9),Pn(i.platforms),N(2),ne(!((R=i.newLinkForm.get("platform"))==null||R.errors==null)&&R.errors.required&&(!(i.newLinkForm==null||(R=i.newLinkForm.get("platform"))==null)&&R.dirty||!(i.newLinkForm==null||(R=i.newLinkForm.get("platform"))==null)&&R.touched)?75:-1),N(3),ne((i.platform==null?null:i.platform.value)==="custom"&&i.isUpdatingSocialLink&&i.existingIconURL?78:-1),N(),ne((i.platform==null?null:i.platform.value)==="custom"?79:-1),N(),ne(i.customIcon?80:-1),N(3),xt(" ",i.isUpdatingSocialLink?"Update":"Add"," "),N(3),fe("formGroup",i.greetingsForm),N(12),ne(!((V=i.greetingsForm.get("title"))==null||V.errors==null)&&V.errors.required&&(!(i.greetingsForm==null||(V=i.greetingsForm.get("title"))==null)&&V.dirty||!(i.greetingsForm==null||(V=i.greetingsForm.get("title"))==null)&&V.touched)?98:-1),N(),ne(!((j=i.greetingsForm.get("title"))==null||j.errors==null)&&j.errors.maxlength?99:-1),N(6),ne(!(($=i.greetingsForm.get("body"))==null||$.errors==null)&&$.errors.required&&(!(i.greetingsForm==null||($=i.greetingsForm.get("body"))==null)&&$.dirty||!(i.greetingsForm==null||($=i.greetingsForm.get("body"))==null)&&$.touched)?105:-1),N(),ne(!((Y=i.greetingsForm.get("body"))==null||Y.errors==null)&&Y.errors.maxlength?106:-1),N(4),ne(i.socialLinks.length>0?110:-1)}},dependencies:[Vd,Hd,Ud,jd,$l,sh,Ul,_O,ih,oh,ps,md,jl,Vl,Ps,gM,Ff,Um,Hm,C_,x_,zl,uM,jm,ZQ,Gl,On,hn,Qi,qo,Ns,Wo,Ji,zo,Q_,ey,ry,ny,J_,ty,ds,mM,oc],encapsulation:2})};var Kf=(n,e)=>{let t=M(Zi),r=M(Or);return Bm(t).pipe(nt(i=>i&&i.emailVerified?!0:(r.navigate(["/login"]),!1)))};var j8=(n,e)=>{let t=M(Zi),r=M(Or);return Bm(t).pipe(nt(i=>i&&i.emailVerified?(r.navigate(["/home"]),!1):!0))};function Wte(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;let t=document.implementation.createHTMLDocument(),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),e&&(r.href=e),i.href=n,i.href}var Gte=(()=>{let n=0,e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function el(n){let e=[];for(let t=0,r=n.length;t<r;t++)e.push(n[t]);return e}var b1=null;function hS(n={}){return b1||(n.includeStyleProperties?(b1=n.includeStyleProperties,b1):(b1=el(window.getComputedStyle(document.documentElement)),b1))}function uS(n,e){let r=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function WDe(n){let e=uS(n,"border-left-width"),t=uS(n,"border-right-width");return n.clientWidth+e+t}function GDe(n){let e=uS(n,"border-top-width"),t=uS(n,"border-bottom-width");return n.clientHeight+e+t}function H8(n,e={}){let t=e.width||WDe(n),r=e.height||GDe(n);return{width:t,height:r}}function Kte(){let n,e;try{e=process}catch{}let t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}var Fs=16384;function Yte(n){(n.width>Fs||n.height>Fs)&&(n.width>Fs&&n.height>Fs?n.width>n.height?(n.height*=Fs/n.width,n.width=Fs):(n.width*=Fs/n.height,n.height=Fs):n.width>Fs?(n.height*=Fs/n.width,n.width=Fs):(n.width*=Fs/n.height,n.height=Fs))}function x1(n){return new Promise((e,t)=>{let r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=t,r.crossOrigin="anonymous",r.decoding="async",r.src=n})}function KDe(n){return E(this,null,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})}function Xte(n,e,t){return E(this,null,function*(){let r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${t}`),i.setAttribute("viewBox",`0 0 ${e} ${t}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(n),KDe(i)})}var _o=(n,e)=>{if(n instanceof e)return!0;let t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||_o(t,e)};function YDe(n){let e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function XDe(n,e){return hS(e).map(t=>{let r=n.getPropertyValue(t),i=n.getPropertyPriority(t);return`${t}: ${r}${i?" !important":""};`}).join(" ")}function ZDe(n,e,t,r){let i=`.${n}:${e}`,o=t.cssText?YDe(t):XDe(t,r);return document.createTextNode(`${i}{${o}}`)}function Zte(n,e,t,r){let i=window.getComputedStyle(n,t),o=i.getPropertyValue("content");if(o===""||o==="none")return;let s=Gte();try{e.className=`${e.className} ${s}`}catch{return}let a=document.createElement("style");a.appendChild(ZDe(s,t,i,r)),e.appendChild(a)}function Qte(n,e,t){Zte(n,e,":before",t),Zte(n,e,":after",t)}var Jte="application/font-woff",ene="image/jpeg",QDe={woff:Jte,woff2:Jte,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ene,jpeg:ene,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function JDe(n){let e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function C1(n){let e=JDe(n).toLowerCase();return QDe[e]||""}function e3e(n){return n.split(/,/)[1]}function iy(n){return n.search(/^(data:)/)!==-1}function $8(n,e){return`data:${e};base64,${n}`}function z8(n,e,t){return E(this,null,function*(){let r=yield fetch(n,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);let i=yield r.blob();return new Promise((o,s)=>{let a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(t({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})})}var U8={};function t3e(n,e,t){let r=n.replace(/\?.*/,"");return t&&(r=n),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}function E1(n,e,t){return E(this,null,function*(){let r=t3e(n,e,t.includeQueryParams);if(U8[r]!=null)return U8[r];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let i;try{let o=yield z8(n,t.fetchRequestInit,({res:s,result:a})=>(e||(e=s.headers.get("Content-Type")||""),e3e(a)));i=$8(o,e)}catch(o){i=t.imagePlaceholder||"";let s=`Failed to fetch resource: ${n}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return U8[r]=i,i})}function n3e(n){return E(this,null,function*(){let e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):x1(e)})}function r3e(n,e){return E(this,null,function*(){if(n.currentSrc){let o=document.createElement("canvas"),s=o.getContext("2d");o.width=n.clientWidth,o.height=n.clientHeight,s?.drawImage(n,0,0,o.width,o.height);let a=o.toDataURL();return x1(a)}let t=n.poster,r=C1(t),i=yield E1(t,r,e);return x1(i)})}function i3e(n,e){return E(this,null,function*(){var t;try{if(!((t=n?.contentDocument)===null||t===void 0)&&t.body)return yield oy(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)})}function o3e(n,e){return E(this,null,function*(){return _o(n,HTMLCanvasElement)?n3e(n):_o(n,HTMLVideoElement)?r3e(n,e):_o(n,HTMLIFrameElement)?i3e(n,e):n.cloneNode(tne(n))})}var s3e=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",tne=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";function a3e(n,e,t){return E(this,null,function*(){var r,i;if(tne(e))return e;let o=[];return s3e(n)&&n.assignedNodes?o=el(n.assignedNodes()):_o(n,HTMLIFrameElement)&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?o=el(n.contentDocument.body.childNodes):o=el(((i=n.shadowRoot)!==null&&i!==void 0?i:n).childNodes),o.length===0||_o(n,HTMLVideoElement)||(yield o.reduce((s,a)=>s.then(()=>oy(a,t)).then(l=>{l&&e.appendChild(l)}),Promise.resolve())),e})}function l3e(n,e,t){let r=e.style;if(!r)return;let i=window.getComputedStyle(n);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):hS(t).forEach(o=>{let s=i.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),_o(n,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),r.setProperty(o,s,i.getPropertyPriority(o))})}function c3e(n,e){_o(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),_o(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function d3e(n,e){if(_o(n,HTMLSelectElement)){let t=e,r=Array.from(t.children).find(i=>n.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function u3e(n,e,t){return _o(e,Element)&&(l3e(n,e,t),Qte(n,e,t),c3e(n,e),d3e(n,e)),e}function h3e(n,e){return E(this,null,function*(){let t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;let r={};for(let o=0;o<t.length;o++){let a=t[o].getAttribute("xlink:href");if(a){let l=n.querySelector(a),c=document.querySelector(a);!l&&c&&!r[a]&&(r[a]=yield oy(c,e,!0))}}let i=Object.values(r);if(i.length){let o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";let a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);n.appendChild(s)}return n})}function oy(n,e,t){return E(this,null,function*(){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(r=>o3e(r,e)).then(r=>a3e(n,r,e)).then(r=>u3e(n,r,e)).then(r=>h3e(r,e))})}var nne=/url\((['"]?)([^'"]+?)\1\)/g,p3e=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,f3e=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function g3e(n){let e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function m3e(n){let e=[];return n.replace(nne,(t,r,i)=>(e.push(i),t)),e.filter(t=>!iy(t))}function v3e(n,e,t,r,i){return E(this,null,function*(){try{let o=t?Wte(e,t):e,s=C1(e),a;if(i){let l=yield i(o);a=$8(l,s)}else a=yield E1(o,s,r);return n.replace(g3e(e),`$1${a}$3`)}catch{}return n})}function w3e(n,{preferredFontFormat:e}){return e?n.replace(f3e,t=>{for(;;){let[r,,i]=p3e.exec(t)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):n}function q8(n){return n.search(nne)!==-1}function pS(n,e,t){return E(this,null,function*(){if(!q8(n))return n;let r=w3e(n,t);return m3e(r).reduce((o,s)=>o.then(a=>v3e(a,s,e,t)),Promise.resolve(r))})}function M1(n,e,t){return E(this,null,function*(){var r;let i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(n);if(i){let o=yield pS(i,null,t);return e.style.setProperty(n,o,e.style.getPropertyPriority(n)),!0}return!1})}function _3e(n,e){return E(this,null,function*(){(yield M1("background",n,e))||(yield M1("background-image",n,e)),(yield M1("mask",n,e))||(yield M1("-webkit-mask",n,e))||(yield M1("mask-image",n,e))||(yield M1("-webkit-mask-image",n,e))})}function y3e(n,e){return E(this,null,function*(){let t=_o(n,HTMLImageElement);if(!(t&&!iy(n.src))&&!(_o(n,SVGImageElement)&&!iy(n.href.baseVal)))return;let r=t?n.src:n.href.baseVal,i=yield E1(r,C1(r),e);yield new Promise((o,s)=>{n.onload=o,n.onerror=e.onImageErrorHandler?(...l)=>{try{o(e.onImageErrorHandler(...l))}catch(c){s(c)}}:s;let a=n;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),t?(n.srcset="",n.src=i):n.href.baseVal=i})})}function k3e(n,e){return E(this,null,function*(){let r=el(n.childNodes).map(i=>W8(i,e));yield Promise.all(r).then(()=>n)})}function W8(n,e){return E(this,null,function*(){_o(n,Element)&&(yield _3e(n,e),yield y3e(n,e),yield k3e(n,e))})}function rne(n,e){let{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);let r=e.style;return r!=null&&Object.keys(r).forEach(i=>{t[i]=r[i]}),n}var ine={};function one(n){return E(this,null,function*(){let e=ine[n];if(e!=null)return e;let r=yield(yield fetch(n)).text();return e={url:n,cssText:r},ine[n]=e,e})}function sne(n,e){return E(this,null,function*(){let t=n.cssText,r=/url\(["']?([^"')]+)["']?\)/g,o=(t.match(/url\([^)]+\)/g)||[]).map(s=>E(null,null,function*(){let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,n.url).href),z8(a,e.fetchRequestInit,({result:l})=>(t=t.replace(s,`url(${l})`),[s,l]))}));return Promise.all(o).then(()=>t)})}function ane(n){if(n==null)return[];let e=[],t=/(\/\*[\s\S]*?\*\/)/gi,r=n.replace(t,""),i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");let o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(l[0])}return e}function b3e(n,e){return E(this,null,function*(){let t=[],r=[];return n.forEach(i=>{if("cssRules"in i)try{el(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1,l=o.href,c=one(l).then(u=>sne(u,e)).then(u=>ane(u).forEach(p=>{try{i.insertRule(p,p.startsWith("@import")?a+=1:i.cssRules.length)}catch(g){console.error("Error inserting rule from remote css",{rule:p,error:g})}})).catch(u=>{console.error("Error loading remote css",u.toString())});r.push(c)}})}catch(o){let s=n.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(one(i.href).then(a=>sne(a,e)).then(a=>ane(a).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(n.forEach(i=>{if("cssRules"in i)try{el(i.cssRules||[]).forEach(o=>{t.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),t))})}function x3e(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>q8(e.style.getPropertyValue("src")))}function C3e(n,e){return E(this,null,function*(){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");let t=el(n.ownerDocument.styleSheets),r=yield b3e(t,e);return x3e(r)})}function lne(n){return n.trim().replace(/["']/g,"")}function E3e(n){let e=new Set;function t(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{e.add(lne(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&t(o)})}return t(n),e}function cne(n,e){return E(this,null,function*(){let t=yield C3e(n,e),r=E3e(n);return(yield Promise.all(t.filter(o=>r.has(lne(o.style.fontFamily))).map(o=>{let s=o.parentStyleSheet?o.parentStyleSheet.href:null;return pS(o.cssText,s,e)}))).join(`
`)})}function dne(n,e){return E(this,null,function*(){let t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:yield cne(n,e);if(t){let r=document.createElement("style"),i=document.createTextNode(t);r.appendChild(i),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}})}function M3e(t){return E(this,arguments,function*(n,e={}){let{width:r,height:i}=H8(n,e),o=yield oy(n,e,!0);return yield dne(o,e),yield W8(o,e),rne(o,e),yield Xte(o,r,i)})}function S3e(t){return E(this,arguments,function*(n,e={}){let{width:r,height:i}=H8(n,e),o=yield M3e(n,e),s=yield x1(o),a=document.createElement("canvas"),l=a.getContext("2d"),c=e.pixelRatio||Kte(),u=e.canvasWidth||r,p=e.canvasHeight||i;return a.width=u*c,a.height=p*c,e.skipAutoScale||Yte(a),a.style.width=`${u}`,a.style.height=`${p}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,a.width,a.height)),l.drawImage(s,0,0,a.width,a.height),a})}function une(t){return E(this,arguments,function*(n,e={}){return(yield S3e(n,e)).toDataURL()})}var hne=["lucideFacebook","lucideGithub","lucideInstagram","lucideLinkedin","lucideMessageCircle","lucideTwitter","lucideYoutube"];var R1=Zg(hre(),1);var b5e=["qrcElement"],pre=(()=>{let e=class e{constructor(r,i){this.renderer=r,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new dt,this.context=null}ngOnChanges(){return E(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(r){return this.allowEmptyString===!1?!(typeof r>"u"||r===""||r==="null"||r===null):!(typeof r>"u")}toDataURL(r){return new Promise((i,o)=>{(0,R1.toDataURL)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}toCanvas(r,i){return new Promise((o,s)=>{(0,R1.toCanvas)(r,this.qrdata,i,a=>{a?s(a):o("success")})})}toSVG(r){return new Promise((i,o)=>{(0,R1.toString)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}renderElement(r){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){return E(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let r={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,o=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,r).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,o),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),o!==this.centerImage.height&&(this.centerImage.height=o),s!==this.centerImage.width&&(this.centerImage.width=s);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-s/2,a.height/2-o/2,s,o)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(r).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let c=a.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(r).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})}convertBase64ImageUrlToBlob(r){let i=r.split(";base64,"),o=i[0].split(":")[1],s=atob(i[1]),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return new Blob([a],{type:o})}emitQRCodeURL(r){let i=r.constructor.name;if(i===SVGSVGElement.name){let c=r.outerHTML,u=new Blob([c],{type:"image/svg+xml"}),p=URL.createObjectURL(u),g=this.sanitizer.bypassSecurityTrustUrl(p);this.qrCodeURL.emit(g);return}let o="";i===HTMLCanvasElement.name&&(o=r.toDataURL("image/png")),i===HTMLImageElement.name&&(o=r.src);let s=this.convertBase64ImageUrlToBlob(o),a=URL.createObjectURL(s),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}};e.\u0275fac=function(i){return new(i||e)(De(Oi),De(TP))},e.\u0275cmp=de({type:e,selectors:[["qrcode"]],viewQuery:function(i,o){if(i&1&&Ol(b5e,7),i&2){let s;Ua(s=$a())&&(o.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[wi],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,o){i&1&&jo(0,"div",null,0),i&2&&se(o.cssClass)},encapsulation:2,changeDetection:0});let n=e;return n})();var Jf=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>Me("block animate-pulse rounded-md bg-muted",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-skeleton"]],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0})};function x5e(n,e){if(n&1&&(D(0,"div",4),oe(1,"ng-icon",17),A()),n&2){let t=ae();N(),fe("name",t.socialLink.icon)}}function C5e(n,e){n&1&&oe(0,"hlm-skeleton",18)}function E5e(n,e){if(n&1){let t=dn();D(0,"div",5),te(1,C5e,1,0,"hlm-skeleton",18),D(2,"img",19),we("load",function(){We(t);let i=ae();return Ge(i.onCustomImageLoaded())}),A()()}if(n&2){let t=ae();N(),ne(t.customImageLoaded?-1:1),N(),xr("opacity-0",!t.customImageLoaded)("opacity-100",t.customImageLoaded),fe("src",t.socialLink.customIcon,_i)("alt",t.socialLink.platformName?t.socialLink.platformName+" icon":"Custom social icon")}}function M5e(n,e){if(n&1&&oe(0,"img",6),n&2){let t=ae();fe("src","https://ui-avatars.com/api/?name="+(t.socialLink.platformName?t.socialLink.platformName.charAt(0):"S")+"&background=random&color=fff&size=48",_i)("alt",t.socialLink.platformName?t.socialLink.platformName+" avatar":"Default avatar")}}function S5e(n,e){if(n&1&&(D(0,"span"),H(1),A()),n&2){let t=ae();N(),xt("",t.formatFollowersCount(t.socialLink.followers)," Followers")}}function I5e(n,e){n&1&&(D(0,"span"),H(1,"\u2022"),A())}function T5e(n,e){if(n&1&&(D(0,"span"),H(1),A()),n&2){let t=ae();N(),xt("",t.formatFollowersCount(t.socialLink.following)," Following")}}function A5e(n,e){if(n&1&&(D(0,"p",9),H(1),A()),n&2){let t=ae();se(Dt("",t.mutedStyle," text-[10px] sm:text-xs font-mono text-ellipsis")),fe("hlmTooltipTrigger",t.socialLink.handle),Pt("aria-label",t.socialLink.handle),N(),xt(" ",t.socialLink.handle," ")}}function D5e(n,e){if(n&1){let t=dn();D(0,"div",15)(1,"button",20),we("click",function(){We(t);let i=ae();return Ge(i.shareCardImage())}),H(2,"Share"),A(),D(3,"button",21),we("click",function(){We(t);let i=ae();return Ge(i.downloadCardImage())}),H(4," Download "),A()()}}function R5e(n,e){if(n&1){let t=dn();D(0,"div",16)(1,"button",22),we("click",function(){We(t);let i=ae();return Ge(i.shareCardImage())}),oe(2,"ng-icon",23),A(),D(3,"button",22),we("click",function(){We(t);let i=ae();return Ge(i.downloadCardImage())}),oe(4,"ng-icon",24),A()()}}var P1=class n extends nr{socialLinkInput=W();isDialog=!0;dialogRef=null;dialogContext=null;socialLink;constructor(){super();try{this.dialogRef=M(Gi),this.dialogContext=Kl(),this.socialLink=this.dialogContext}catch{console.error("main-card not opened as dialog")}}ngOnInit(){this.socialLinkInput()!==void 0&&(this.socialLink=this.socialLinkInput(),this.isDialog=!1)}customImageLoaded=!1;popularMediaLucideIcons=hne;shareCardImage(){return E(this,null,function*(){yield this.captureAndHandleCardImage("share")})}downloadCardImage(){return E(this,null,function*(){yield this.captureAndHandleCardImage("download")})}onCustomImageLoaded(){this.customImageLoaded=!0}captureAndHandleCardImage(e){return E(this,null,function*(){let t=document.getElementById(`main-card-${this.socialLink.id}`);if(!t)return;let r=window.getComputedStyle(t),i=r.getPropertyValue("--card").trim(),o="";i?window.CSS&&CSS.supports("color",`oklch(${i})`)?o=`oklch(${i})`:window.CSS&&CSS.supports("color",`hsl(${i})`)?o=`hsl(${i})`:o="#181A20":(o=r.backgroundColor,(!o||o==="rgba(0, 0, 0, 0)"||o==="transparent")&&(o="#181A20"));let a=yield une(t,{backgroundColor:o,cacheBust:!0,pixelRatio:3,style:{}}),l=yield(yield fetch(a)).blob();if(l)if(e==="share"){let c=new File([l],"social-link-card.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[c]}))yield navigator.share({files:[c],title:"My Social Card",text:"Check out my social profile!"});else{let u=URL.createObjectURL(l),p=document.createElement("a");p.href=u,p.download="social-link-card.png",p.click(),URL.revokeObjectURL(u)}}else{let c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="social-link-card.png",u.click(),URL.revokeObjectURL(c)}})}formatFollowersCount(e){if(e==null||e==="")return"";let t=typeof e=="string"?parseInt(e,10):e;return isNaN(t)?"":t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"b+":t>=1e7?(t/1e6).toFixed(1).replace(/\.0$/,"")+"m+":t>=1e5?(t/1e5).toFixed(1).replace(/\.0$/,"")+"lkh+":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k+":t.toString()}get qrCodeWidth(){return window.innerWidth<640?90:150}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-social-link-main-card"]],inputs:{socialLinkInput:[1,"socialLinkInput"]},features:[Le([un({lucideLinkedin:gm,lucideMessageCircle:mm,lucideTwitter:vm,lucideFacebook:hm,lucideInstagram:fm,lucideGithub:pm,lucideYoutube:wm,lucideExternalLink:$Y,lucideShare2:eX,lucideDownload:QE})]),kt],decls:35,vars:37,consts:[[1,"bg-[var(--card)]","border","rounded-xl","h-[250px]","sm:h-[250px]",3,"id"],[1,"h-full","flex","flex-col","sm:flex-row","gap-4","sm:gap-8","p-4","sm:p-8"],[1,"flex-1","flex","flex-col","justify-between","mb-4","sm:mb-0"],[1,"flex","items-center","gap-2","sm:gap-3"],[1,"flex","items-center","justify-center"],[1,"relative","w-8","h-8","sm:w-10","sm:h-10"],[1,"w-8","h-8","sm:w-10","sm:h-10","rounded-md",3,"src","alt"],[1,"font-semibold","text-xs","sm:text-sm","uppercase","tracking-wider"],[1,"font-bold","text-lg","sm:text-xl","tracking-wider","text-ellipsis",3,"hlmTooltipTrigger"],[3,"hlmTooltipTrigger"],[3,"hlmTooltipTrigger","class"],["size","12px","name","lucideExternalLink",1,"sm:size-[15px]"],["target","_blank",1,"text-[10px]","sm:text-xs","font-mono","text-ellipsis","break-all",3,"hlmTooltipTrigger","href"],[1,"flex","flex-col","items-center","justify-center","min-w-[120px]"],[1,"sm:w-[150px]","w-[90px]","h-[90px]","sm:h-[150px]","flex","items-center","justify-center",3,"width","qrdata","elementType"],[1,"flex","items-center","mt-4","sm:mt-6","gap-2","sm:gap-4","flex-wrap"],[1,"flex","items-center","mt-2","gap-2","ml-4"],["size","24px",1,"sm:size-[30px]",3,"name"],[1,"absolute","inset-0","w-full","h-full","rounded-md","z-10"],["crossorigin","anonymous",1,"absolute","inset-0","w-full","h-full","rounded-md","object-cover","transition-opacity","duration-300",3,"load","src","alt"],["hlmBtn","",3,"click"],["hlmBtn","","variant","outline",3,"click"],["hlmBtn","","size","icon","variant","secondary",1,"size-8",3,"click"],["hlm","","size","sm","name","lucideShare2"],["hlm","","size","sm","name","lucideDownload"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),te(5,x5e,2,1,"div",4)(6,E5e,3,7,"div",5)(7,M5e,1,2,"img",6),D(8,"div")(9,"h2",7),H(10),A(),D(11,"p"),H(12," Social Profile "),A()()(),D(13,"div")(14,"h3",8),H(15),A(),D(16,"p",9),H(17),A(),D(18,"div"),te(19,S5e,2,1,"span"),te(20,I5e,2,0,"span"),te(21,T5e,2,1,"span"),A()()(),D(22,"div"),te(23,A5e,2,6,"p",10),D(24,"div")(25,"div",4),oe(26,"ng-icon",11),A(),D(27,"a",12),H(28),A()()()(),D(29,"div",13),oe(30,"qrcode",14),D(31,"p"),H(32," SCAN TO CONNECT "),A()()()(),te(33,D5e,5,0,"div",15)(34,R5e,5,0,"div",16)),t&2&&(fe("id",Dt("main-card-",r.socialLink.id)),N(5),ne(r.popularMediaLucideIcons.includes(r.socialLink.icon.toString())?5:r.socialLink.customIcon?6:7),N(5),xt(" ",r.socialLink.platformName," "),N(),se(Dt("",r.mutedStyle," text-[10px] sm:text-xs")),N(3),fe("hlmTooltipTrigger",r.socialLink.username),Pt("aria-label",r.socialLink.username),N(),xt(" ",r.socialLink.username," "),N(),se(Dt("",r.mutedStyle," text-xs sm:text-sm leading-relaxed text-ellipsis")),fe("hlmTooltipTrigger",r.socialLink.desc),Pt("aria-label",r.socialLink.desc),N(),xt(" ",r.socialLink.desc," "),N(),se(Dt("flex gap-2 sm:gap-4 text-xs ",r.mutedStyle," flex-wrap")),N(),ne(r.socialLink.followers?19:-1),N(),ne(r.socialLink.followers&&r.socialLink.following?20:-1),N(),ne(r.socialLink.following?21:-1),N(2),ne(r.socialLink.handle?23:-1),N(),se(Dt("flex items-center gap-1 sm:gap-2 ",r.mutedStyle," mt-1 flex-wrap")),N(3),fe("hlmTooltipTrigger",r.socialLink.url)("href",r.socialLink==null?null:r.socialLink.url,_i),Pt("aria-label",r.socialLink.url),N(),xt(" ",r.socialLink.url," "),N(2),fe("width",r.qrCodeWidth)("qrdata",r.socialLink.url)("elementType","url"),N(),se(Dt("text-[10px] sm:text-xs ",r.mutedStyle," text-center mt-3 font-mono")),N(2),ne(r.isDialog?33:34))},dependencies:[hn,pre,On,Bf,Jf,tr],styles:[".text-ellipsis[_ngcontent-%COMP%]{max-width:190px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var O1=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-static-top-bar"]],decls:4,vars:0,consts:[[1,"h-[50px]","backdrop-blur-md"],[1,"flex","h-full","p-2","items-center","justify-center"]],template:function(t,r){t&1&&(pr(0,"div",0)(1,"div",1)(2,"div"),H(3,"Powered by Socially"),kr()()())},styles:["[_nghost-%COMP%]{position:fixed;top:0;width:100%;z-index:999999}"]})};var N1=class n{title=W.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-promotion-footer"]],inputs:{title:[1,"title"]},decls:6,vars:1,consts:[[1,"h-[50px]","bg-[var(--color-primary)]","text-[var(--color-primary-foreground)]"],[1,"flex","h-full","px-4","items-center","justify-center","text-sm","text-center"],["href","https://socially.com","target","_blank","rel","noopener noreferrer",1,"underline","font-medium","hover:opacity-80"]],template:function(t,r){t&1&&(pr(0,"div",0)(1,"div",1)(2,"span"),H(3),pr(4,"a",2),H(5," Visit socially.com "),kr()()()()),t&2&&(N(3),xt(" ",r.title(),"\xA0 "))},styles:["[_nghost-%COMP%]{width:100%;z-index:999999}"]})};var P5e=(n,e,t)=>({"--social-link-color":n,"--frost-x":e,"--frost-y":t});function O5e(n,e){if(n&1&&oe(0,"ng-icon",6),n&2){let t=ae();fe("name",t.socialLink().icon)}}function N5e(n,e){n&1&&oe(0,"hlm-skeleton",9)}function L5e(n,e){if(n&1){let t=dn();D(0,"div",7),te(1,N5e,1,0,"hlm-skeleton",9),D(2,"img",10),we("load",function(){We(t);let i=ae();return Ge(i.onTinyImageLoad())}),A()()}if(n&2){let t=ae();N(),ne(t.tinyImageLoaded?-1:1),N(),xr("opacity-0",!t.tinyImageLoaded)("opacity-100",t.tinyImageLoaded),fe("src",t.socialLink().customIcon,_i)}}function F5e(n,e){if(n&1&&oe(0,"img",8),n&2){let t=ae();fe("src","https://ui-avatars.com/api/?name="+(t.socialLink().platformName?t.socialLink().platformName.charAt(0):"S")+"&background=random&color=fff&size=48",_i)}}var ES=class n{constructor(e){this.hlmDialogService=e}socialLink=W.required();tinyImageLoaded=!1;onTinyImageLoad(){this.tinyImageLoaded=!0}lucideIcons=["lucideLinkedin","lucideMessageCircle","lucideTwitter","lucideFacebook","lucideInstagram","lucideGithub","lucideYoutube"];frostX="50%";frostY="50%";onFrostMove(e){let r=e.currentTarget.getBoundingClientRect(),i=(e.clientX-r.left)/r.width*100,o=(e.clientY-r.top)/r.height*100;this.frostX=`${i}%`,this.frostY=`${o}%`}resetFrost(){this.frostX="50%",this.frostY="50%"}openMainCard(){let e=this.hlmDialogService.open(P1,{context:this.socialLink(),contentClass:"social-link-main-card"})}static \u0275fac=function(t){return new(t||n)(De(fr))};static \u0275cmp=de({type:n,selectors:[["app-social-link-card"]],inputs:{socialLink:[1,"socialLink"]},features:[Le([un({lucideLinkedin:gm,lucideMessageCircle:mm,lucideTwitter:vm,lucideFacebook:hm,lucideInstagram:fm,lucideGithub:pm,lucideYoutube:wm})])],decls:11,vars:10,consts:[["hlmCard","",1,"focus-effect","social-link-card","card-frosted-bg","w-xs",3,"click","mousemove","mouseleave"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],[1,"overflow-hidden","text-ellipsis","whitespace-nowrap","block",3,"href"],["hlmCardContent",""],["size","24px",3,"name"],[1,"relative","w-[30px]","h-[30px]"],["alt","","srcset","",1,"rounded-md","w-[30px]","h-[30px]",3,"src"],[1,"absolute","inset-0","w-full","h-full","rounded-md","z-10"],["alt","","crossorigin","anonymous",1,"absolute","inset-0","w-full","h-full","rounded-md","object-cover","transition-opacity","duration-300",3,"load","src"]],template:function(t,r){t&1&&(D(0,"div",0),we("click",function(){return r.openMainCard()})("mousemove",function(o){return r.onFrostMove(o)})("mouseleave",function(){return r.resetFrost()}),D(1,"div",1)(2,"div",2),H(3),A(),D(4,"div",3)(5,"a",4),H(6),A()()(),D(7,"div",5),te(8,O5e,1,1,"ng-icon",6)(9,L5e,3,6,"div",7)(10,F5e,1,1,"img",8),A()()),t&2&&(ls(JR(6,P5e,r.socialLink().color,r.frostX,r.frostY)),N(3),xt(" ",r.socialLink().platformName," "),N(2),fe("href",r.socialLink().url,_i),N(),Ke(r.socialLink().url),N(2),ne(r.lucideIcons.includes(r.socialLink().icon.toString())?8:r.socialLink().customIcon?9:10))},dependencies:[Qi,qo,Wo,Ji,zo,ds,hn,Jf],styles:['.focus-effect[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.22,1,.36,1),box-shadow .3s cubic-bezier(.22,1,.36,1);will-change:transform,box-shadow;perspective:800px}.focus-effect[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00000040,0 1.5px 8px #0000001a;transform:translateY(-16px) scale(1.04) rotateX(8deg);z-index:2}.social-link-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-frosted-bg[_ngcontent-%COMP%]{position:relative;z-index:1}.social-link-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--social-link-color, #6b7280) 0%,rgba(255,255,255,.25) 100%);opacity:.35;filter:blur(10px) saturate(1.2);z-index:0;transition:opacity .3s,background .15s;pointer-events:none}.social-link-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at var(--frost-x, 50%) var(--frost-y, 50%),var(--social-link-color, #6b7280) 0%,rgba(255,255,255,.1) 80%);opacity:0;filter:blur(18px) saturate(1.5);z-index:1;transition:opacity .3s,background .15s;pointer-events:none}.social-link-card[_ngcontent-%COMP%]:hover:after{opacity:.7}.card-frosted-bg[_ngcontent-%COMP%]{background:#ffffff59;-webkit-backdrop-filter:blur(8px) saturate(1.2);backdrop-filter:blur(8px) saturate(1.2);border-radius:1rem;box-shadow:0 2px 8px #0000000a}']})};function B5e(n,e){if(n&1&&oe(0,"app-social-link-main-card",11),n&2){let t=e.$implicit;fe("socialLinkInput",t)}}function V5e(n,e){if(n&1&&oe(0,"app-social-link-card",13),n&2){let t=e.$implicit;fe("socialLink",t)}}function j5e(n,e){if(n&1&&(D(0,"div",0)(1,"div",3)(2,"h1"),H(3),A(),D(4,"p"),H(5),A()(),D(6,"div",4)(7,"hlm-tabs",5)(8,"hlm-tabs-list")(9,"button",6),oe(10,"ng-icon",7),A(),D(11,"button",8),oe(12,"ng-icon",9),A()(),D(13,"div",10),Rn(14,B5e,1,1,"app-social-link-main-card",11,yi),A(),D(16,"div",12),Rn(17,V5e,1,1,"app-social-link-card",13,yi),A()()()()),n&2){let t=ae();N(2),se(Dt("",t.h1Style," mb-2")),N(),xt(" ",t.socialLinkGreet!=null&&t.socialLinkGreet.title?t.socialLinkGreet.title:"Hey there, welcome aboard!"," "),N(),se(t.mutedStyle),N(),xt(" ",t.socialLinkGreet!=null&&t.socialLinkGreet.body?t.socialLinkGreet.body:" Here's a curated list of my social links feel free to check them out and connect!"," "),N(9),Pn(t.socialLinks),N(3),Pn(t.socialLinks)}}function H5e(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),H(2,"No social Links found"),A()()),n&2){let t=ae();N(),se(t.h1Style)}}function U5e(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),H(2,"User not found!"),A()()),n&2){let t=ae();N(),se(t.h1Style)}}var MS=class n extends nr{constructor(t,r,i,o,s){super();this.route=t;this.socialLinkService=r;this.preloaderService=i;this.userService=o;this.hlmDialogService=s}email;socialLinks=null;fetchingLinks=!0;socialLinkGreet=null;userNotFound=!1;fetchSocialLinks(t){return E(this,null,function*(){this.fetchingLinks=!0,this.preloaderService.show();let r=null;try{if(r=yield this.userService.getUserIdFromEmail(t),r===null)throw this.userNotFound=!0,new Error("Unable to find the user!");this.socialLinks=yield this.socialLinkService.getAllSocialLinksForUser(r),this.socialLinkGreet=yield this.socialLinkService.getSocialLinkGreeting(r)}catch(i){this.hlmDialogService.open(nn,{context:{error:"Unable to fetch the user links",desc:i}})}this.preloaderService.hide(),this.fetchingLinks=!1})}ngOnInit(){this.route.paramMap.subscribe(t=>E(this,null,function*(){this.email=t.get("email"),this.fetchSocialLinks(this.email)}))}static \u0275fac=function(r){return new(r||n)(De(us),De(_1),De(rr),De(gr),De(fr))};static \u0275cmp=de({type:n,selectors:[["app-social-link-viewer"]],features:[Le([un({lucideLayoutGrid:JE,lucideGrid3x3:WY})]),kt],decls:5,vars:3,consts:[[1,"min-h-screen"],[1,"flex","items-center","justify-center","flex-col","h-[100vh]"],["title","Want to create your own social links page?"],[1,"p-4","mt-[80px]","mb-6"],["hlmCard","",1,"p-2","m-2"],["tab","max"],["hlmTabsTrigger","max"],["name","lucideLayoutGrid"],["hlmTabsTrigger","min"],["name","lucideGrid3x3"],["hlmTabsContent","max",1,"flex","flex-wrap","gap-4","items-center","justify-center","mb-6"],[3,"socialLinkInput"],["hlmTabsContent","min",1,"flex","flex-wrap","gap-4","items-center","justify-center","mb-6"],[3,"socialLink"]],template:function(r,i){r&1&&(oe(0,"app-static-top-bar"),te(1,j5e,19,7,"div",0),te(2,H5e,3,2,"div",1),te(3,U5e,3,2,"div",1),oe(4,"app-promotion-footer",2)),r&2&&(N(),ne(!i.fetchingLinks&&i.socialLinks&&i.socialLinks.length>0?1:-1),N(),ne((i.socialLinks==null?null:i.socialLinks.length)===0?2:-1),N(),ne(i.userNotFound?3:-1))},dependencies:[ds,P1,O1,N1,Vd,Hd,Ud,jd,hn,Qi,ES],encapsulation:2})};var fre={basics:{fullName:"John Doe",email:"john.doe@example.com",phone:"+1 234 567 8901",location:{city:"San Francisco",state:"California",country:"USA"},summary:"A passionate software engineer with 5+ years of experience in full-stack development, focused on delivering scalable web applications.",profileImage:"url_or_base64"},socialLinks:[{platform:"LinkedIn",url:"https://linkedin.com/in/johndoe"},{platform:"GitHub",url:"https://github.com/johndoe"},{platform:"Personal Website",url:"https://johndoe.dev"}],skills:[{category:"Frontend",items:["React","Angular","TypeScript","HTML","CSS"]},{category:"Backend",items:["Node.js","Express","Django"]},{category:"DevOps",items:["Docker","AWS","GitHub Actions"]}],workExperience:[{company:"TechCorp",role:"Senior Software Engineer",location:"Remote",startDate:"2019-06",endDate:"2023-12",description:"Led a team of 5 developers to build a scalable SaaS platform using React and Node.js. Improved performance by 40%."},{company:"StartupX",role:"Frontend Developer",location:"New York, NY",startDate:"2017-01",endDate:"2019-05",description:"Built and maintained the UI for a fintech app used by over 100k users."}],education:[{institution:"MIT",degree:"Bachelor of Science in Computer Science",location:"Cambridge, MA",startDate:"2012-08",endDate:"2016-05",grade:"3.8 GPA"}],projects:[{name:"OpenSource CMS",url:"https://github.com/johndoe/opensource-cms",description:"A content management system built using MERN stack, supporting plugins and theming.",technologies:["MongoDB","Express","React","Node.js"]},{name:"Portfolio Website",url:"https://johndoe.dev",description:"Personal portfolio built with Next.js and Tailwind CSS.",technologies:["Next.js","Tailwind","Vercel"]}],certifications:[{name:"AWS Certified Developer \u2013 Associate",issuer:"Amazon",date:"2021-08"},{name:"Scrum Master Certified",issuer:"Scrum Alliance",date:"2020-11"}],achievements:["Built a scalable microservice system for handling 1M+ requests/day","Won Hackathon 2022 organized by XYZ Corp","Mentored 10+ junior developers"],blogs:[{title:"Understanding React Server Components",url:"https://johndoe.dev/blog/react-server-components",summary:"An in-depth guide to how server components work and when to use them."},{title:"How I Built My Portfolio in 2 Days",url:"https://johndoe.dev/blog/build-portfolio-fast",summary:"Tips and lessons learned while creating my dev portfolio."}],languages:[{language:"English",fluency:"Native"},{language:"Spanish",fluency:"Conversational"}],interests:["Open source","Tech blogging","Cycling"]};var kre=Zg(SS());function $5e(n,e){n&1&&(na(),pr(0,"svg",0),jo(1,"path",2),kr())}function z5e(n,e){n&1&&(na(),pr(0,"svg",0),jo(1,"path",3),kr())}function q5e(n,e){n&1&&(na(),pr(0,"svg",0),jo(1,"path",4),kr())}function W5e(n,e){n&1&&(na(),pr(0,"svg",1),jo(1,"path",5)(2,"path",6),kr())}function G5e(n,e){n&1&&jo(0,"div",2)}var K5e=["toastRef"],vre=[[["","loading-icon",""]],[["","success-icon",""]],[["","error-icon",""]],[["","warning-icon",""]],[["","info-icon",""]]],wre=["[loading-icon]","[success-icon]","[error-icon]","[warning-icon]","[info-icon]"];function Y5e(n,e){if(n&1){let t=dn();D(0,"button",3),we("click",function(){We(t);let i=ae();return Ge(i.onCloseButtonClick())}),na(),D(1,"svg",4),oe(2,"line",5)(3,"line",6),A()()}if(n&2){let t,r=ae();se(r.cn(r.classes().closeButton,(t=r.toast().classes)==null?null:t.closeButton)),Pt("data-disabled",r.disabled())}}function X5e(n,e){n&1&&po(0)}function Z5e(n,e){if(n&1&&(ss(0,X5e,1,0,"ng-container",7),As(1,"asComponent")),n&2){let t=ae();fe("ngComponentOutlet",ia(1,2,t.toast().component))("ngComponentOutletInputs",t.toast().componentProps)}}function Q5e(n,e){n&1&&rt(0)}function J5e(n,e){n&1&&po(0)}function eRe(n,e){if(n&1&&(ss(0,J5e,1,0,"ng-container",7),As(1,"asComponent")),n&2){let t=ae(3);fe("ngComponentOutlet",ia(1,2,t.toast().icon))("ngComponentOutletInputs",t.toast().componentProps)}}function tRe(n,e){n&1&&rt(0,1)}function nRe(n,e){n&1&&rt(0,2)}function rRe(n,e){n&1&&rt(0,3)}function iRe(n,e){n&1&&rt(0,4)}function oRe(n,e){if(n&1&&te(0,tRe,1,0)(1,nRe,1,0)(2,rRe,1,0)(3,iRe,1,0),n&2){let t,r=ae(3);ne((t=r.toastType())==="success"?0:t==="error"?1:t==="warning"?2:t==="info"?3:-1)}}function sRe(n,e){if(n&1&&(D(0,"div",8),te(1,Q5e,1,0),te(2,eRe,2,4,"ng-container")(3,oRe,4,1),A()),n&2){let t=ae(2);N(),ne(t.toastType()==="loading"&&!t.toast().icon?1:-1),N(),ne(t.toast().icon?2:3)}}function aRe(n,e){if(n&1&&H(0),n&2){let t=ae(3);xt(" ",t.toast().title," ")}}function lRe(n,e){n&1&&po(0)}function cRe(n,e){if(n&1&&(ss(0,lRe,1,0,"ng-container",7),As(1,"asComponent")),n&2){let t=ae(),r=ae(2);fe("ngComponentOutlet",ia(1,2,t))("ngComponentOutletInputs",r.toast().componentProps)}}function dRe(n,e){if(n&1&&(D(0,"div",14),te(1,aRe,1,1),As(2,"isString"),F0(3,cRe,2,4,"ng-container"),A()),n&2){let t,r=ae(2);se(r.cn(r.classes().title,(t=r.toast().classes)==null?null:t.title)),N(),ne(ia(2,3,e)?1:3)}}function uRe(n,e){if(n&1&&H(0),n&2){let t=ae(3);xt(" ",t.toast().description," ")}}function hRe(n,e){n&1&&po(0)}function pRe(n,e){if(n&1&&(ss(0,hRe,1,0,"ng-container",7),As(1,"asComponent")),n&2){let t=ae(),r=ae(2);fe("ngComponentOutlet",ia(1,2,t))("ngComponentOutletInputs",r.toast().componentProps)}}function fRe(n,e){if(n&1&&(D(0,"div",15),te(1,uRe,1,1),As(2,"isString"),F0(3,pRe,2,4,"ng-container"),A()),n&2){let t,r=ae(2);se(r.cn(r.descriptionClass(),r.toastDescriptionClass(),r.classes().description,(t=r.toast().classes)==null?null:t.description)),N(),ne(ia(2,3,e)?1:3)}}function gRe(n,e){if(n&1){let t=dn();D(0,"button",16),we("click",function(){We(t);let i=ae(2);return Ge(i.onCancelClick())}),H(1),A()}if(n&2){let t,r=ae(2);ls(r.cancelButtonStyle()??r.toast().cancelButtonStyle),se(r.cn(r.classes().cancelButton,(t=r.toast().classes)==null?null:t.cancelButton)),N(),xt(" ",e.label," ")}}function mRe(n,e){if(n&1){let t=dn();D(0,"button",17),we("click",function(i){We(t);let o=ae(2);return Ge(o.onActionClick(i))}),H(1),A()}if(n&2){let t,r=ae(2);ls(r.actionButtonStyle()??r.toast().actionButtonStyle),se(r.cn(r.classes().actionButton,(t=r.toast().classes)==null?null:t.actionButton)),N(),xt(" ",e.label," ")}}function vRe(n,e){if(n&1&&(te(0,sRe,4,2,"div",8),D(1,"div",9),te(2,dRe,4,5,"div",10),te(3,fRe,4,5,"div",11),A(),te(4,gRe,2,5,"button",12),te(5,mRe,2,5,"button",13)),n&2){let t,r,i,o,s=ae();ne(s.toastType()!=="default"||s.toast().icon||s.toast().promise?0:-1),N(2),ne((t=s.toast().title)?2:-1,t),N(),ne((r=s.toast().description)?3:-1,r),N(),ne((i=s.toast().cancel)?4:-1,i),N(),ne((o=s.toast().action)?5:-1,o)}}var wRe=["listRef"],_Re=()=>({}),yRe=(n,e)=>e.id;function kRe(n,e){if(n&1&&oe(0,"ngx-sonner-loader",6),n&2){let t=ae().$implicit;fe("isVisible",t.type==="loading")}}function bRe(n,e){n&1&&oe(0,"ngx-sonner-icon",7)}function xRe(n,e){n&1&&oe(0,"ngx-sonner-icon",8)}function CRe(n,e){n&1&&oe(0,"ngx-sonner-icon",9)}function ERe(n,e){n&1&&oe(0,"ngx-sonner-icon",10)}function MRe(n,e){if(n&1&&(D(0,"ngx-sonner-toast",5),rt(1,0,["loading-icon",""],kRe,1,1),rt(3,1,["success-icon",""],bRe,1,0),rt(5,2,["error-icon",""],xRe,1,0),rt(7,3,["warning-icon",""],CRe,1,0),rt(9,4,["info-icon",""],ERe,1,0),A()),n&2){let t=e.$implicit,r=e.$index,i=ae(3);se(i.toastOptions().class??""),fe("index",r)("toast",t)("invert",i.invert())("visibleToasts",i.visibleToasts())("closeButton",i.closeButton())("interacting",i.interacting())("position",i.position())("expandByDefault",i.expand())("expanded",i.expanded())("actionButtonStyle",i.toastOptions().actionButtonStyle)("cancelButtonStyle",i.toastOptions().cancelButtonStyle)("descriptionClass",i.toastOptions().descriptionClass??"")("classes",i.toastOptions().classes??cf(17,_Re))("duration",i.toastOptions().duration??i.duration())("unstyled",i.toastOptions().unstyled??!1)}}function SRe(n,e){if(n&1){let t=dn();D(0,"ol",3,0),we("blur",function(i){We(t);let o=ae(2);return Ge(o.handleBlur(i))})("focus",function(i){We(t);let o=ae(2);return Ge(o.handleFocus(i))})("mouseenter",function(){We(t);let i=ae(2);return Ge(i.expanded.set(!0))})("mousemove",function(){We(t);let i=ae(2);return Ge(i.expanded.set(!0))})("mouseleave",function(){We(t);let i=ae(2);return Ge(i.handleMouseLeave())})("pointerdown",function(i){We(t);let o=ae(2);return Ge(o.handlePointerDown(i))})("pointerup",function(){We(t);let i=ae(2);return Ge(i.interacting.set(!1))}),Rn(2,MRe,11,18,"ngx-sonner-toast",4,yRe),As(4,"toastFilter"),A()}if(n&2){let t=e.$implicit,r=e.$index,i=ae(2);ls(i.toasterStyles()),se(i._class()),fe("tabIndex",-1),Pt("data-theme",i.actualTheme())("data-rich-colors",i.richColors())("dir",i.dir()==="auto"?i.getDocumentDirection():i.dir())("data-y-position",t.split("-")[0])("data-x-position",t.split("-")[1]),N(2),Pn(tP(4,10,i.toasts(),r,t))}}function IRe(n,e){if(n&1&&(D(0,"section",1),Rn(1,SRe,5,14,"ol",2,ew),A()),n&2){let t=ae();fe("tabIndex",-1),Pt("aria-label","Notifications "+t.hotKeyLabel()),N(),Pn(t.possiblePositions())}}var gre=0;function TRe(){let n=Te([]),e=Te([]);function t(b){n.update(R=>[b,...R])}function r(b){let T=b,{message:R}=T,V=xp(T,["message"]),j=typeof b?.id=="number"||b.id&&b.id?.length>0?b.id:gre++,$=b.dismissible??!0,Y=b.type??"default";return n().find(I=>I.id===j)?n.update(I=>I.map(B=>B.id===j?ye(G(G({},B),b),{id:j,title:R,dismissible:$,type:Y,updated:!0}):ye(G({},B),{updated:!1}))):t(ye(G({},V),{id:j,title:R,dismissible:$,type:Y})),j}function i(b){if(b===void 0){n.set([]);return}return n.update(R=>R.filter(V=>V.id!==b)),b}function o(b,R){return r(ye(G({},R),{type:"default",message:b}))}function s(b,R){return r(ye(G({},R),{type:"error",message:b}))}function a(b,R){return r(ye(G({},R),{type:"success",message:b}))}function l(b,R){return r(ye(G({},R),{type:"info",message:b}))}function c(b,R){return r(ye(G({},R),{type:"warning",message:b}))}function u(b,R){return r(ye(G({},R),{type:"loading",message:b}))}function p(b,R){if(!R)return;let V;R.loading!==void 0&&(V=r(ye(G({},R),{promise:b,type:"loading",message:R.loading})));let j=b instanceof Promise?b:b(),$=V!==void 0;return j.then(Y=>{if(Y&&typeof Y.ok=="boolean"&&!Y.ok){$=!1;let L=typeof R.error=="function"?R.error(`HTTP error! status: ${Y.status}`):R.error;r({id:V,type:"error",message:L})}else if(R.success!==void 0){$=!1;let L=typeof R.success=="function"?R.success(Y):R.success;r({id:V,type:"success",message:L})}}).catch(Y=>{if(R.error!==void 0){$=!1;let L=typeof R.error=="function"?R.error(Y):R.error;r({id:V,type:"error",message:L})}}).finally(()=>{$&&(i(V),V=void 0),R.finally?.()}),V}function g(b,R){let V=R?.id??gre++;return r(G({component:b,id:V},R)),V}function v(b){e.update(R=>R.filter(V=>V.toastId!==b))}function w(b){e.update(R=>[b,...R].sort(y))}let y=(b,R)=>n().findIndex(V=>V.id===b.toastId)-n().findIndex(V=>V.id===R.toastId);function x(){n.set([]),e.set([])}return{create:r,addToast:t,dismiss:i,message:o,error:s,success:a,info:l,warning:c,loading:u,promise:p,custom:g,removeHeight:v,addHeight:w,reset:x,toasts:n.asReadonly(),heights:e.asReadonly()}}var Hi=TRe();function ARe(n,e){return Hi.create(G({message:n},e))}var DRe=ARe,hc=Object.assign(DRe,{success:Hi.success,info:Hi.info,warning:Hi.warning,error:Hi.error,custom:Hi.custom,message:Hi.message,promise:Hi.promise,dismiss:Hi.dismiss,loading:Hi.loading}),RRe=(()=>{let e=class e{constructor(){this.type=W("default")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-icon"]],inputs:{type:[1,"type"]},decls:4,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","height","20","width","20"],["viewBox","0 0 64 64","fill","currentColor","height","20","width","20","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule","evenodd"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule","evenodd"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule","evenodd"],["d","M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"],["d","M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"]],template:function(i,o){if(i&1&&te(0,$5e,2,0,":svg:svg",0)(1,z5e,2,0,":svg:svg",0)(2,q5e,2,0,":svg:svg",0)(3,W5e,3,0,":svg:svg",1),i&2){let s;ne((s=o.type())==="success"?0:s==="error"?1:s==="info"?2:s==="warning"?3:-1)}},encapsulation:2,changeDetection:0});let n=e;return n})(),PRe=3,ORe="32px",IS=4e3,NRe=356,_re=14,LRe=20,FRe=200,BRe={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""},VRe=(()=>{let e=class e{constructor(){this.isVisible=W.required({transform:Je}),this.bars=Array(12).fill(0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-loader"]],inputs:{isVisible:[1,"isVisible"]},decls:4,vars:1,consts:[[1,"sonner-loading-wrapper"],[1,"sonner-spinner"],[1,"sonner-loading-bar"]],template:function(i,o){i&1&&(pr(0,"div",0)(1,"div",1),Rn(2,G5e,1,0,"div",2,yi),kr()()),i&2&&(Pt("data-visible",o.isVisible()),N(2),Pn(o.bars))},encapsulation:2,changeDetection:0});let n=e;return n})(),jRe=(()=>{let e=class e{transform(r,i,o){return r.filter(s=>!s.position&&i===0||s.position===o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Xu({name:"toastFilter",type:e,pure:!0});let n=e;return n})();function mre(...n){return n.filter(Boolean).join(" ")}var HRe=(()=>{let e=class e{transform(r){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Xu({name:"asComponent",type:e,pure:!0});let n=e;return n})(),URe=(()=>{let e=class e{transform(r){return typeof r=="string"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Xu({name:"isString",type:e,pure:!0});let n=e;return n})(),$Re=(()=>{let e=class e{constructor(){this.cn=mre,this.toasts=Hi.toasts,this.heights=Hi.heights,this.removeHeight=Hi.removeHeight,this.addHeight=Hi.addHeight,this.dismiss=Hi.dismiss,this.toast=W.required(),this.index=W.required(),this.expanded=W.required(),this._invert=W.required({alias:"invert"}),this.position=W.required(),this.visibleToasts=W.required(),this.expandByDefault=W.required(),this._closeButton=W.required({alias:"closeButton"}),this.interacting=W.required(),this.cancelButtonStyle=W(),this.actionButtonStyle=W(),this.duration=W(IS),this.descriptionClass=W(""),this._classes=W({},{alias:"classes"}),this.unstyled=W(!1),this._class=W("",{alias:"class"}),this._style=W({},{alias:"style"}),this.mounted=Te(!1),this.removed=Te(!1),this.swiping=Te(!1),this.swipeOut=Te(!1),this.offsetBeforeRemove=Te(0),this.initialHeight=Te(0),this.toastRef=fo.required("toastRef"),this.classes=ee(()=>G(G({},BRe),this._classes())),this.isFront=ee(()=>this.index()===0),this.isVisible=ee(()=>this.index()+1<=this.visibleToasts()),this.toastType=ee(()=>this.toast().type??"default"),this.toastClass=ee(()=>this.toast().class??""),this.toastPosition=ee(()=>this.toast().position??this.position()),this.toastDescriptionClass=ee(()=>this.toast().descriptionClass??""),this.heightIndex=ee(()=>this.heights().findIndex(r=>r.toastId===this.toast().id)),this.offset=Li({source:()=>({heightIndex:this.heightIndex(),toastsHeightBefore:this.toastsHeightBefore()}),computation:({heightIndex:r,toastsHeightBefore:i})=>Math.round(r*_re+i)}),this.closeTimerStartTimeRef=0,this.lastCloseTimerStartTimeRef=0,this.pointerStartRef=null,this.coords=ee(()=>this.toastPosition().split("-")),this.toastsHeightBefore=ee(()=>this.heights().reduce((r,i,o)=>o>=this.heightIndex()?r:r+i.height,0)),this.invert=ee(()=>this.toast().invert??this._invert()),this.closeButton=ee(()=>this.toast().closeButton??this._closeButton()),this.disabled=ee(()=>this.toastType()==="loading"),this.remainingTime=0,this.isPromiseLoadingOrInfiniteDuration=ee(()=>this.toast().promise&&this.toastType()==="loading"||this.toast().duration===Number.POSITIVE_INFINITY),this.toastClasses=ee(()=>mre(this._class(),this.toastClass(),this.classes().toast,this.toast().classes?.toast,this.classes()[this.toastType()],this.toast().classes?.[this.toastType()])),this.toastStyle=ee(()=>G({"--index":`${this.index()}`,"--toasts-before":`${this.index()}`,"--z-index":`${this.toasts().length-this.index()}`,"--offset":`${this.removed()?this.offsetBeforeRemove():this.offset()}px`,"--initial-height":this.expandByDefault()?"auto":`${this.initialHeight()}px`},this._style())),Ot(()=>{this.toast().updated&&(clearTimeout(this.timeoutId),this.remainingTime=this.toast().duration??this.duration()??IS,this.startTimer())}),fG(r=>{this.isPromiseLoadingOrInfiniteDuration()||(this.expanded()||this.interacting()?this.pauseTimer():this.startTimer()),r(()=>clearTimeout(this.timeoutId))}),Ot(()=>{this.toast().delete&&this.deleteToast()})}ngAfterViewInit(){this.remainingTime=this.toast().duration??this.duration()??IS,this.mounted.set(!0);let r=this.toastRef().nativeElement.getBoundingClientRect().height;this.initialHeight.set(r),this.addHeight({toastId:this.toast().id,height:r})}ngOnDestroy(){clearTimeout(this.timeoutId),this.removeHeight(this.toast().id)}deleteToast(){this.removed.set(!0),this.offsetBeforeRemove.set(this.offset()),this.removeHeight(this.toast().id),setTimeout(()=>{this.dismiss(this.toast().id)},FRe)}pauseTimer(){if(this.lastCloseTimerStartTimeRef<this.closeTimerStartTimeRef){let r=new Date().getTime()-this.closeTimerStartTimeRef;this.remainingTime=this.remainingTime-r}this.lastCloseTimerStartTimeRef=new Date().getTime()}startTimer(){this.closeTimerStartTimeRef=new Date().getTime(),this.timeoutId=setTimeout(()=>{this.toast().onAutoClose?.(this.toast()),this.deleteToast()},this.remainingTime)}onPointerDown(r){if(this.disabled()||!this.toast().dismissible)return;this.offsetBeforeRemove.set(this.offset());let i=r.target;i.setPointerCapture(r.pointerId),i.tagName!=="BUTTON"&&(this.swiping.set(!0),this.pointerStartRef={x:r.clientX,y:r.clientY})}onPointerUp(){if(this.swipeOut()||!this.toast().dismissible)return;this.pointerStartRef=null;let r=Number(this.toastRef().nativeElement.style.getPropertyValue("--swipe-amount").replace("px","")||0);if(Math.abs(r)>=LRe){this.offsetBeforeRemove.set(this.offset()),this.toast().onDismiss?.(this.toast()),this.deleteToast(),this.swipeOut.set(!0);return}this.toastRef().nativeElement.style.setProperty("--swipe-amount","0px"),this.swiping.set(!1)}onPointerMove(r){if(!this.pointerStartRef||!this.toast().dismissible)return;let i=r.clientY-this.pointerStartRef.y,o=r.clientX-this.pointerStartRef.x,a=(this.coords()[0]==="top"?Math.min:Math.max)(0,i),l=r.pointerType==="touch"?10:2;Math.abs(a)>l?this.toastRef().nativeElement.style.setProperty("--swipe-amount",`${i}px`):Math.abs(o)>l&&(this.pointerStartRef=null)}onCloseButtonClick(){this.disabled()||!this.toast().dismissible||(this.deleteToast(),this.toast().onDismiss?.(this.toast()))}onCancelClick(){let r=this.toast();r.dismissible&&(this.deleteToast(),r.cancel?.onClick&&r.cancel.onClick())}onActionClick(r){this.toast().action?.onClick(r),!r.defaultPrevented&&this.deleteToast()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-toast"]],viewQuery:function(i,o){i&1&&Wi(o.toastRef,K5e,5),i&2&&br()},inputs:{toast:[1,"toast"],index:[1,"index"],expanded:[1,"expanded"],_invert:[1,"invert","_invert"],position:[1,"position"],visibleToasts:[1,"visibleToasts"],expandByDefault:[1,"expandByDefault"],_closeButton:[1,"closeButton","_closeButton"],interacting:[1,"interacting"],cancelButtonStyle:[1,"cancelButtonStyle"],actionButtonStyle:[1,"actionButtonStyle"],duration:[1,"duration"],descriptionClass:[1,"descriptionClass"],_classes:[1,"classes","_classes"],unstyled:[1,"unstyled"],_class:[1,"class","_class"],_style:[1,"style","_style"]},ngContentSelectors:wre,decls:5,vars:22,consts:[["toastRef",""],["data-sonner-toast","","aria-atomic","true","role","status","tabindex","0",3,"pointerdown","pointerup","pointermove"],["aria-label","Close toast","data-close-button","",3,"class"],["aria-label","Close toast","data-close-button","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[4,"ngComponentOutlet","ngComponentOutletInputs"],["data-icon",""],["data-content",""],["data-title","",3,"class"],["data-description","",3,"class"],["data-button","","data-cancel","",3,"style","class"],["data-button","",3,"style","class"],["data-title",""],["data-description",""],["data-button","","data-cancel","",3,"click"],["data-button","",3,"click"]],template:function(i,o){if(i&1){let s=dn();tn(vre),D(0,"li",1,0),we("pointerdown",function(l){return We(s),Ge(o.onPointerDown(l))})("pointerup",function(){return We(s),Ge(o.onPointerUp())})("pointermove",function(l){return We(s),Ge(o.onPointerMove(l))}),te(2,Y5e,4,3,"button",2),te(3,Z5e,2,4,"ng-container")(4,vRe,6,5),A()}i&2&&(ls(o.toastStyle()),se(o.toastClasses()),Pt("aria-live",o.toast().important?"assertive":"polite")("data-styled",!(o.toast().component||o.toast().unstyled||o.unstyled()))("data-mounted",o.mounted())("data-promise",!!o.toast().promise)("data-removed",o.removed())("data-visible",o.isVisible())("data-y-position",o.coords()[0])("data-x-position",o.coords()[1])("data-index",o.index())("data-front",o.isFront())("data-swiping",o.swiping())("data-dismissible",o.toast().dismissible)("data-type",o.toastType())("data-invert",o.invert())("data-swipe-out",o.swipeOut())("data-expanded",o.expanded()||o.expandByDefault()&&o.mounted()),N(2),ne(o.closeButton()&&!o.toast().component?2:-1),N(),ne(o.toast().component?3:4))},dependencies:[lw,URe,HRe],encapsulation:2,changeDetection:0});let n=e;return n})(),yre=(()=>{let e=class e{constructor(){this.platformId=M(hr),this.toasts=Hi.toasts,this.heights=Hi.heights,this.reset=Hi.reset,this.invert=W(!1,{transform:Je}),this.theme=W("light"),this.position=W("bottom-right"),this.hotKey=W(["altKey","KeyT"]),this.richColors=W(!1,{transform:Je}),this.expand=W(!1,{transform:Je}),this.duration=W(IS,{transform:Ho}),this.visibleToasts=W(PRe,{transform:Ho}),this.closeButton=W(!1,{transform:Je}),this.toastOptions=W({}),this.offset=W(null),this.dir=W(this.getDocumentDirection()),this._class=W("",{alias:"class"}),this._style=W({},{alias:"style"}),this.possiblePositions=ee(()=>Array.from(new Set([this.position(),...this.toasts().filter(r=>r.position).map(r=>r.position)].filter(Boolean)))),this.expanded=Li({source:this.toasts,computation:r=>r.length<1}),this.actualTheme=Li({source:this.theme,computation:r=>this.getActualTheme(r)}),this.interacting=Te(!1),this.listRef=fo("listRef"),this.lastFocusedElementRef=Te(null),this.isFocusWithinRef=Te(!1),this.hotKeyLabel=ee(()=>this.hotKey().join("+").replace(/Key/g,"").replace(/Digit/g,"")),this.toasterStyles=ee(()=>G({"--front-toast-height":`${this.heights()[0]?.height}px`,"--offset":typeof this.offset()=="number"?`${this.offset()}px`:this.offset()??`${ORe}`,"--width":`${NRe}px`,"--gap":`${_re}px`},this._style())),this.handleKeydown=r=>{let i=this.listRef()?.nativeElement;if(!i)return;this.hotKey().every(s=>r[s]||r.code===s)&&(this.expanded.set(!0),i.focus()),r.code==="Escape"&&(document.activeElement===i||i.contains(document.activeElement))&&this.expanded.set(!1)},this.handleThemePreferenceChange=({matches:r})=>{this.theme()==="system"&&this.actualTheme.set(r?"dark":"light")},this.reset(),mo(this.platformId)&&(document.addEventListener("keydown",this.handleKeydown),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.handleThemePreferenceChange))}ngOnDestroy(){mo(this.platformId)&&(document.removeEventListener("keydown",this.handleKeydown),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.handleThemePreferenceChange))}handleBlur(r){this.isFocusWithinRef()&&!r.target.contains(r.relatedTarget)&&(this.isFocusWithinRef.set(!1),this.lastFocusedElementRef()&&(this.lastFocusedElementRef()?.focus({preventScroll:!0}),this.lastFocusedElementRef.set(null)))}handleFocus(r){r.target instanceof HTMLElement&&r.target.dataset.dismissible==="false"||this.isFocusWithinRef()||(this.isFocusWithinRef.set(!0),this.lastFocusedElementRef.set(r.relatedTarget))}handlePointerDown(r){r.target instanceof HTMLElement&&r.target.dataset.dismissible==="false"||this.interacting.set(!0)}handleMouseLeave(){this.interacting()||this.expanded.set(!1)}getActualTheme(r){return r!=="system"?r:mo(this.platformId)&&window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}getDocumentDirection(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return!r||r==="auto"?window.getComputedStyle(document.documentElement).direction:r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-toaster"]],viewQuery:function(i,o){i&1&&Wi(o.listRef,wRe,5),i&2&&br()},inputs:{invert:[1,"invert"],theme:[1,"theme"],position:[1,"position"],hotKey:[1,"hotKey"],richColors:[1,"richColors"],expand:[1,"expand"],duration:[1,"duration"],visibleToasts:[1,"visibleToasts"],closeButton:[1,"closeButton"],toastOptions:[1,"toastOptions"],offset:[1,"offset"],dir:[1,"dir"],_class:[1,"class","_class"],_style:[1,"style","_style"]},ngContentSelectors:wre,decls:1,vars:1,consts:[["listRef",""],[3,"tabIndex"],["data-sonner-toaster","",3,"tabIndex","class","style"],["data-sonner-toaster","",3,"blur","focus","mouseenter","mousemove","mouseleave","pointerdown","pointerup","tabIndex"],[3,"index","toast","invert","visibleToasts","closeButton","interacting","position","expandByDefault","expanded","actionButtonStyle","cancelButtonStyle","class","descriptionClass","classes","duration","unstyled"],[3,"index","toast","invert","visibleToasts","closeButton","interacting","position","expandByDefault","expanded","actionButtonStyle","cancelButtonStyle","descriptionClass","classes","duration","unstyled"],[3,"isVisible"],["type","success"],["type","error"],["type","warning"],["type","info"]],template:function(i,o){i&1&&(tn(vre),te(0,IRe,3,2,"section",1)),i&2&&ne(o.toasts().length>0?0:-1)},dependencies:[$Re,jRe,RRe,VRe],styles:[`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: var(--ngx-sonner-toast-icon-margin-start, -3px);--toast-icon-margin-end: var(--ngx-sonner-toast-icon-margin-end, 4px);--toast-svg-margin-start: var(--ngx-sonner-toast-svg-margin-start,-1px);--toast-svg-margin-end: var(--ngx-sonner-toast-svg-margin-end, 0px);--toast-button-margin-start: var(--ngx-sonner-toast-button-margin-start, auto);--toast-button-margin-end: var(--ngx-sonner-toast-button-margin-end, 0);--toast-close-button-start: var(--ngx-sonner-toast-close-button-start, 0);--toast-close-button-end: var(--ngx-sonner-toast-close-button-end, unset);--toast-close-button-transform: var(--ngx-sonner-toast-close-button-transform, translate(-35%, -35%))}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: var(--ngx-sonner-rtl-toast-icon-margin-start, 4px);--toast-icon-margin-end: var(--ngx-sonner-rtl-toast-icon-margin-end, -3px);--toast-svg-margin-start: var(--ngx-sonner-rtl-toast-svg-margin-start, 0px);--toast-svg-margin-end: var(--ngx-sonner-rtl-toast-svg-margin-end, -1px);--toast-button-margin-start: var(--ngx-sonner-rtl-toast-button-margin-start, 0);--toast-button-margin-end: var(--ngx-sonner-rtl-toast-button-margin-end, auto);--toast-close-button-start: var(--ngx-sonner-rtl-toast-close-button-start, unset);--toast-close-button-end: var(--ngx-sonner-rtl-toast-close-button-end, 0);--toast-close-button-transform: var(--ngx-sonner-rtl-toast-close-button-transform, translate(35%, -35%))}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:var(--ngx-sonner-font-family, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji);--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: var(--ngx-sonner-border-radius, 8px);box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:var(--ngx-sonner-toast-focus-box-shadow, 0 0 0 2px rgba(0, 0, 0, .4))}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--normal-text);background:#00000014}[data-sonner-toast][data-theme=dark] [data-cancel]{background:#ffffff4d}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--ngx-sonner-toast-close-button-background, var(--gray1));color:var(--ngx-sonner-toast-close-button-color, var(--gray12));border:var(--ngx-sonner-toast-close-button-border, 1px solid var(--gray4));transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--ngx-sonner-toast-close-button-hover-background, var(--gray2));color:var(--ngx-sonner-toast-close-button-hover-color, var(--gray12));border-color:var(--ngx-sonner-toast-close-button-hover-border-color, var(--gray5))}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: var(--ngx-sonner-toast-normal-background, #fff);--normal-border: var(--ngx-sonner-toast-normal-border-color, var(--gray4));--normal-text: var(--ngx-sonner-toast-normal-color, var(--gray12));--success-bg: var(--ngx-sonner-toast-success-background, hsl(143, 85%, 96%));--success-border: var(--ngx-sonner-toast-success-border, hsl(145, 92%, 91%));--success-text: var(--ngx-sonner-toast-success-color, hsl(140, 100%, 27%));--info-bg: var(--ngx-sonner-toast-info-background, hsl(208, 100%, 97%));--info-border: var(--ngx-sonner-toast-info-border, hsl(221, 91%, 91%));--info-text: var(--ngx-sonner-toast-info-color, hsl(210, 92%, 45%));--warning-bg: var(--ngx-sonner-toast-warning-background, hsl(49, 100%, 97%));--warning-border: var(--ngx-sonner-toast-warning-border, hsl(49, 91%, 91%));--warning-text: var(--ngx-sonner-toast-warning-color, hsl(31, 92%, 45%));--error-bg: var(--ngx-sonner-toast-error-background, hsl(359, 100%, 97%));--error-border: var(--ngx-sonner-toast-error-border, hsl(359, 100%, 94%));--error-text: var(--ngx-sonner-toast-error-color, hsl(360, 100%, 45%))}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: var(--ngx-sonner-toast-inverse-normal-background, #000);--normal-border: var(--ngx-sonner-toast-inverse-normal-border-color, hsl(0, 0%, 20%));--normal-text: var(--ngx-sonner-toast-inverse-normal-color, var(--gray1))}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: var(--ngx-sonner-toast-inverse-dark-normal-background, #fff);--normal-border: var(--ngx-sonner-toast-inverse-dark-normal-border-color, var(--gray3));--normal-text: var(--ngx-sonner-toast-inverse-dark-normal-color, var(--gray12))}[data-sonner-toaster][data-theme=dark]{--normal-bg: var(--ngx-sonner-toast-dark-normal-background, #000);--normal-border: var(--ngx-sonner-toast-dark-normal-border-color, hsl(0, 0%, 20%));--normal-text: var(--ngx-sonner-toast-dark-normal-color, var(--gray1));--success-bg: var(--ngx-sonner-toast-dark-success-background, hsl(150, 100%, 6%));--success-border: var(--ngx-sonner-toast-dark-success-border, hsl(147, 100%, 12%));--success-text: var(--ngx-sonner-toast-dark-success-color, hsl(150, 86%, 65%));--info-bg: var(--ngx-sonner-toast-dark-info-background, hsl(215, 100%, 6%));--info-border: var(--ngx-sonner-toast-dark-info-border, hsl(223, 100%, 12%));--info-text: var(--ngx-sonner-toast-dark-info-color, hsl(216, 87%, 65%));--warning-bg: var(--ngx-sonner-toast-dark-warning-background, hsl(64, 100%, 6%));--warning-border: var(--ngx-sonner-toast-dark-warning-border, hsl(60, 100%, 12%));--warning-text: var(--ngx-sonner-toast-dark-warning-color, hsl(46, 87%, 65%));--error-bg: var(--ngx-sonner-toast-dark-error-background, hsl(358, 76%, 10%));--error-border: var(--ngx-sonner-toast-dark-error-border, hsl(357, 89%, 16%));--error-text: var(--ngx-sonner-toast-dark-error-color, hsl(358, 100%, 81%))}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`],encapsulation:2,changeDetection:0});let n=e;return n})();var zd=class n{invert=W(!1,{transform:Je});theme=W("light");position=W("bottom-right");hotKey=W(["altKey","KeyT"]);richColors=W(!1,{transform:Je});expand=W(!1,{transform:Je});duration=W(4e3,{transform:Ho});visibleToasts=W(3,{transform:Ho});closeButton=W(!1,{transform:Je});toastOptions=W({classes:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}});offset=W(null);dir=W("auto");userClass=W("",{alias:"class"});userStyle=W({},{alias:"style"});_computedClass=ee(()=>Me("toaster group",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-toaster"]],inputs:{invert:[1,"invert"],theme:[1,"theme"],position:[1,"position"],hotKey:[1,"hotKey"],richColors:[1,"richColors"],expand:[1,"expand"],duration:[1,"duration"],visibleToasts:[1,"visibleToasts"],closeButton:[1,"closeButton"],toastOptions:[1,"toastOptions"],offset:[1,"offset"],dir:[1,"dir"],userClass:[1,"class","userClass"],userStyle:[1,"style","userStyle"]},decls:1,vars:16,consts:[[3,"invert","theme","position","hotKey","richColors","expand","duration","visibleToasts","closeButton","toastOptions","offset","dir"]],template:function(t,r){t&1&&oe(0,"ngx-sonner-toaster",0),t&2&&(ls(r.userStyle()),se(r._computedClass()),fe("invert",r.invert())("theme",r.theme())("position",r.position())("hotKey",r.hotKey())("richColors",r.richColors())("expand",r.expand())("duration",r.duration())("visibleToasts",r.visibleToasts())("closeButton",r.closeButton())("toastOptions",r.toastOptions())("offset",r.offset())("dir",r.dir()))},dependencies:[yre],encapsulation:2,changeDetection:0})};var Ph=class n{userCache=null;setCache(e){this.userCache=e}getCache(){return this.userCache}clearCache(){this.userCache=null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var mF=n=>({"mb-4":n});function zRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Your fullName is required"),A())}function qRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"A title for your life, a catchy oneliner is required"),A())}function WRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"We need to have a summary of your life"),A())}function GRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Come on showoff some skills"),A())}function KRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Degree is required"),A())}function YRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Institution is required"),A())}function XRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Year is required"),A())}function ZRe(n,e){if(n&1){let t=dn();D(0,"div")(1,"div",45)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),H(7,"Degree"),A()(),oe(8,"input",47),te(9,KRe,2,0,"hlm-error"),A(),D(10,"hlm-form-field")(11,"label",46)(12,"div",22),H(13,"Institution"),A()(),oe(14,"input",48),te(15,YRe,2,0,"hlm-error"),A(),D(16,"hlm-form-field")(17,"label",46)(18,"div",22),H(19,"Year"),A()(),oe(20,"input",49),te(21,XRe,2,0,"hlm-error"),A()(),D(22,"div",35)(23,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeEducation(i))}),oe(24,"ng-icon",51),A()()()()()}if(n&2){let t,r,i,o=e.$implicit,s=e.$index,a=e.$count,l=ae();N(),fe("formGroupName",s),N(),se(ld(19,mF,s!==a-1)),N(3),fe("for",Dt("degree",s)),N(3),fe("id",Dt("degree",s)),N(),ne(((t=o.get("degree"))!=null&&t.dirty||(t=o.get("degree"))!=null&&t.touched)&&((t=o.get("degree"))!=null&&t.hasError("required"))?9:-1),N(2),fe("for",Dt("institution",s)),N(3),fe("id",Dt("institution",s)),N(),ne(((r=o.get("institution"))!=null&&r.dirty||(r=o.get("institution"))!=null&&r.touched)&&((r=o.get("institution"))!=null&&r.hasError("required"))?15:-1),N(2),fe("for",Dt("year",s)),N(3),fe("id",Dt("year",s)),N(),ne(((i=o.get("year"))!=null&&i.dirty||(i=o.get("year"))!=null&&i.touched)&&((i=o.get("year"))!=null&&i.hasError("required"))?21:-1),N(2),fe("disabled",l.educations.length===1)}}function QRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Role is required"),A())}function JRe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Company you worked at is required"),A())}function ePe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Years of experience is required"),A())}function tPe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Summary of your work"),A())}function nPe(n,e){if(n&1){let t=dn();D(0,"div")(1,"div",45)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),H(7,"Role"),A()(),oe(8,"input",52),te(9,QRe,2,0,"hlm-error"),A(),D(10,"hlm-form-field")(11,"label",46)(12,"div",22),H(13,"Company"),A()(),oe(14,"input",53),te(15,JRe,2,0,"hlm-error"),A(),D(16,"hlm-form-field")(17,"label",46)(18,"div",22),H(19,"Years"),A()(),oe(20,"input",54),te(21,ePe,2,0,"hlm-error"),A(),D(22,"hlm-form-field")(23,"label",46)(24,"div",22),H(25,"Summary"),A()(),oe(26,"textarea",55),te(27,tPe,2,0,"hlm-error"),A()(),D(28,"div",35)(29,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeExperience(i))}),oe(30,"ng-icon",51),A()()()()()}if(n&2){let t,r,i,o,s=e.$implicit,a=e.$index,l=e.$count,c=ae();N(),fe("formGroupName",a),N(),se(ld(24,mF,a!==l-1)),N(3),fe("for",Dt("role",a)),N(3),fe("id",Dt("role",a)),N(),ne(((t=s.get("role"))!=null&&t.dirty||(t=s.get("role"))!=null&&t.touched)&&((t=s.get("role"))!=null&&t.hasError("required"))?9:-1),N(2),fe("for",Dt("company",a)),N(3),fe("id",Dt("company",a)),N(),ne(((r=s.get("company"))!=null&&r.dirty||(r=s.get("company"))!=null&&r.touched)&&((r=s.get("company"))!=null&&r.hasError("required"))?15:-1),N(2),fe("for",Dt("years",a)),N(3),fe("id",Dt("years",a)),N(),ne(((i=s.get("years"))!=null&&i.dirty||(i=s.get("years"))!=null&&i.touched)&&((i=s.get("years"))!=null&&i.hasError("required"))?21:-1),N(2),fe("for",Dt("summary",a)),N(3),fe("id",Dt("summary",a)),N(),ne(((o=s.get("summary"))!=null&&o.dirty||(o=s.get("summary"))!=null&&o.touched)&&((o=s.get("summary"))!=null&&o.hasError("required"))?27:-1),N(2),fe("disabled",c.experiences.length===1)}}function rPe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Name of the project is required"),A())}function iPe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Techstack used in project is required"),A())}function oPe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Year on which project go completed"),A())}function sPe(n,e){n&1&&(D(0,"hlm-error"),H(1,"Summary of your project is required"),A())}function aPe(n,e){if(n&1){let t=dn();D(0,"div",41)(1,"div",56)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),H(7,"Name"),A()(),oe(8,"input",57),te(9,rPe,2,0,"hlm-error"),A(),D(10,"hlm-form-field")(11,"label",46)(12,"div",29),H(13," Techstack "),oe(14,"ng-icon",30),A()(),oe(15,"input",58),te(16,iPe,2,0,"hlm-error"),A(),D(17,"hlm-form-field")(18,"label",46)(19,"div",22),H(20,"Year"),A()(),oe(21,"input",59),te(22,oPe,2,0,"hlm-error"),A(),D(23,"hlm-form-field")(24,"label",46)(25,"div",22),H(26,"Summary"),A()(),oe(27,"textarea",60),te(28,sPe,2,0,"hlm-error"),A()(),D(29,"div",35)(30,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeProject(i))}),oe(31,"ng-icon",51),A()()()()()}if(n&2){let t,r,i,o,s=e.$implicit,a=e.$index,l=e.$count,c=ae();fe("formGroupName",a),N(2),se(ld(25,mF,a!==l-1)),N(3),fe("for",Dt("name",a)),N(3),fe("id",Dt("name",a)),N(),ne(((t=s.get("name"))!=null&&t.dirty||(t=s.get("name"))!=null&&t.touched)&&((t=s.get("name"))!=null&&t.hasError("required"))?9:-1),N(2),fe("for",Dt("techstack",a)),N(3),fe("hlmTooltipTrigger","Your input should be comma separated"),N(),fe("id",Dt("techstack",a)),N(),ne(((r=s.get("techstack"))!=null&&r.dirty||(r=s.get("techstack"))!=null&&r.touched)&&((r=s.get("techstack"))!=null&&r.hasError("required"))?16:-1),N(2),fe("for",Dt("yearProject",a)),N(3),fe("id",Dt("yearProject",a)),N(),ne(((i=s.get("year"))!=null&&i.dirty||(i=s.get("year"))!=null&&i.touched)&&((i=s.get("year"))!=null&&i.hasError("required"))?22:-1),N(2),fe("for",Dt("summaryProject",a)),N(3),fe("id",Dt("summaryProject",a)),N(),ne(((o=s.get("summary"))!=null&&o.dirty||(o=s.get("summary"))!=null&&o.touched)&&((o=s.get("summary"))!=null&&o.hasError("required"))?28:-1),N(2),fe("disabled",c.projects.length===1)}}var TS=class n extends nr{resumeDataService=M(ic);userService=M(gr);fb=M(KE);router=M(Or);apiService=M(ti);_hlmDialogService=M(fr);preloaderService=M(rr);dummyData=fre;userProfileURL=this.userService.getCurrentUserObject().photoURL;resumeData=this.resumeDataService.resumeDataDTO;initialFormData=null;resumeDataSaved=null;userCacheManager=M(Ph);userDataForm=this.fb.group({fullName:["",He.required],title:["",He.required],summary:["",He.required],skills:["",He.required],educations:this.fb.array([]),experiences:this.fb.array([]),projects:this.fb.array([])});ngOnInit(){this.loadSavedProfile()}loadSavedProfile(){return E(this,null,function*(){this.preloaderService.show();try{this.userCacheManager.getCache()?this.resumeDataSaved=this.userCacheManager.getCache():(this.resumeDataSaved=yield this.resumeDataService.getResumeDataFirebase(),this.userCacheManager.setCache(this.resumeDataSaved)),this.resumeDataSaved&&this.resumeData?(this.setResumeDatatoForm(this.resumeData),hc("This data will override your current Data!",{description:"You can scanned a new PDF which has different data that will override the current data",action:{label:"Discard",onClick:()=>{this.setResumeDatatoForm(this.resumeDataSaved),this.resumeDataService.clearResumeDataDTO(),this.initialFormData=this.resumeDataSaved}}})):this.resumeDataSaved?this.setResumeDatatoForm(this.resumeDataSaved):this.resumeData?this.setResumeDatatoForm(this.resumeData):(this.educations.length===0&&this.addEducation(),this.experiences.length===0&&this.addExperience(),this.projects.length===0&&this.addProject()),this.initialFormData=this.userDataForm.value,this.preloaderService.hide()}catch{this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:"Profile not loaded",desc:"Sorry we are not able to fetch your saved profile, try again!"}})}})}setResumeDatatoForm(e){if(e.fullName&&this.userDataForm.get("fullName")?.setValue(e?.fullName),e.title&&this.userDataForm.get("title")?.setValue(e?.title),e.summary&&this.userDataForm.get("summary")?.setValue(e?.summary),e.skills){let t=(e?.skills??[]).filter(r=>r!==null);this.userDataForm.get("skills")?.setValue(t.join(", "))}if(e.educations){let t=(e?.educations??[]).filter(r=>r!==null);this.educations.clear();for(let r=0;r<t.length;r++){let i=this.fb.group({degree:[t[r].degree??"",He.required],institution:[t[r].institution??"",He.required],year:[t[r].year??"",He.required]});this.educations.push(i)}}if(e.experiences){let t=(e.experiences??[]).filter(r=>r!==null);this.experiences.clear();for(let r=0;r<t.length;r++){let i=this.fb.group({role:[t[r].role??"",He.required],company:[t[r].company??"",He.required],years:[t[r].years??"",He.required],summary:[t[r].summary??"",He.required]});this.experiences.push(i)}}if(e.projects){let t=(e.projects??[]).filter(r=>r!==null);this.projects.clear();for(let r=0;r<t.length;r++){let i=(t[r].techstack??[]).filter(s=>s!==null).join(", "),o=this.fb.group({name:[t[r].name??"",He.required],techstack:[i??"",He.required],year:[t[r].year??"",He.required],summary:[t[r].summary??"",He.required]});this.projects.push(o)}}}get educations(){return this.userDataForm.get("educations")}get experiences(){return this.userDataForm.get("experiences")}get projects(){return this.userDataForm.get("projects")}userExperiences=[];userEducations=[];userProjects=[];userSkills=[];addEducation(){let e=this.fb.group({degree:["",He.required],institution:["",He.required],year:["",He.required]});this.educations.push(e)}addExperience(){let e=this.fb.group({role:["",He.required],company:["",He.required],years:["",He.required],summary:["",He.required]});this.experiences.push(e)}addProject(){let e=this.fb.group({name:["",He.required],techstack:["",He.required],year:["",He.required],summary:["",He.required]});this.projects.push(e)}removeEducation(e){this.educations.length>1&&this.educations.removeAt(e)}removeExperience(e){this.experiences.length>1&&this.experiences.removeAt(e)}removeProject(e){this.projects.length>1&&this.projects.removeAt(e)}canSave(){return this.resumeDataService.resumeDataDTO?!0:!(0,kre.isEqual)(this.userDataForm.value,this.initialFormData)}saveProfile(){return E(this,null,function*(){if(this.userDataForm.markAllAsTouched(),this.userDataForm.markAllAsDirty(),this.userDataForm.valid)try{this.preloaderService.show();let e=[];for(let o=0;o<this.educations.controls.length;o++){let s={degree:this.educations.controls[o].get("degree")?.value,institution:this.educations.controls[o].get("institution")?.value,year:this.educations.controls[o].get("year")?.value};e.push(s)}let t=[];for(let o=0;o<this.experiences.controls.length;o++){let s={role:this.experiences.controls[o].get("role")?.value,company:this.experiences.controls[o].get("company")?.value,years:this.experiences.controls[o].get("years")?.value,summary:this.experiences.controls[o].get("summary")?.value};t.push(s)}let r=[];for(let o=0;o<this.projects.controls.length;o++){let s={name:this.projects.controls[o].get("name")?.value,techstack:(this.projects.controls[o].get("techstack")?.value).split(",").map(a=>a.trim()),year:this.projects.controls[o].get("year")?.value,summary:this.projects.controls[o].get("summary")?.value};r.push(s)}let i={fullName:this.userDataForm.get("fullName")?.value,title:this.userDataForm.get("title")?.value,summary:this.userDataForm.get("summary")?.value,skills:this.userDataForm.get("skills")?.value.split(",").map(o=>o.trim())??[],educations:e,experiences:t,projects:r};yield this.apiService.post(Vn.UPDATEUSERPROFILE,i,yield this.userService.getCurrentUserObject().getIdToken()),this.userCacheManager.setCache(i),this.preloaderService.hide(),this._hlmDialogService.open(la,{context:{error:"Profile Updated",desc:"Your Profile is Updated Successfully"}})}catch(e){this.preloaderService.hide(),this._hlmDialogService.open(nn,{context:{error:"Unable to Update Your Profile",desc:`Please check internet connection or Try again ${e}`}})}else hc("Field Contains Error",{description:"Go through the tabs to check whether you missed a field or a field contains an error"})})}cancel(){this.resumeDataService.clearResumeDataDTO(),this.router.navigate(["/home"])}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-analytics-screen"]],features:[Le([un({lucideInfo:GY,lucideTrash:e4})]),kt],decls:91,vars:24,consts:[[3,"duration","closeButton"],[1,"flex","items-center","justify-center","px-2","py-6"],["hlmCard","",1,"w-full","sm:max-w-lg","md:max-w-2xl","lg:max-w-4xl"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent","",1,"flex","flex-col","md:flex-row-reverse","md:justify-around","gap-6"],[1,"flex","flex-col","items-center"],["alt","User profile image",1,"h-28","w-28","sm:h-36","sm:w-36","md:h-40","md:w-40","rounded-full","object-cover",3,"src"],["hlmBtn","","variant","outline",1,"mt-4","w-full","sm:w-auto"],[1,"flex-1"],[3,"formGroup"],["tab","basic"],[1,"ml-[-10px]","sm:ml-0"],["hlmTabsTrigger","basic"],["hlmTabsTrigger","education"],["hlmTabsTrigger","experience"],["hlmTabsTrigger","project"],["hlmTabsContent","basic"],["hlmCard",""],["hlmCardContent","",1,"flex","flex-col","gap-4"],["for","fullName","hlmLabel",""],[1,"text-xs"],["id","fullName","formControlName","fullName","hlmInput","","placeholder","Your full name",1,"w-full"],["for","title","hlmLabel",""],["id","title","hlmInput","","formControlName","title","placeholder","A catchy oneliner",1,"w-full"],["for","summary","hlmLabel",""],["id","summary","hlmInput","","formControlName","summary","placeholder","Type your message here.",1,"w-full","min-h-[100px]"],["for","skills","hlmLabel",""],[1,"text-xs","flex","items-center","gap-2"],["name","lucideInfo",3,"hlmTooltipTrigger"],["id","skills","formControlName","skills","hlmInput","","placeholder","Your skills comma separated",1,"w-full"],["hlmTabsContent","education"],["hlmCardContent",""],["hlmCardContent","","formArrayName","educations"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",1,"mt-2","w-fit",3,"click"],["hlmTabsContent","experience"],["hlmCardContent","","formArrayName","experiences"],["hlmTabsContent","project"],["hlmCardContent","","formArrayName","projects"],[3,"formGroupName"],["hlmCardFooter","",1,"flex","flex-col","sm:flex-row","items-center","justify-center","gap-4","mt-4"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto",3,"click"],["hlmBtn","",1,"w-full","sm:w-auto",3,"click","disabled"],[1,"flex","flex-col","gap-2","ml-2","mr-2",3,"formGroupName"],["hlmLabel","",3,"for"],["hlmInput","","placeholder","You are qualified in","formControlName","degree",1,"w-full",3,"id"],["hlmInput","","formControlName","institution","placeholder","You qualified from",1,"w-full",3,"id"],["hlmInput","","formControlName","year","placeholder","You qualified on",1,"w-full",3,"id"],["hlmBtn","","size","icon","variant","destructive",1,"size-8",3,"click","disabled"],["hlm","","size","sm","name","lucideTrash"],["hlmInput","","formControlName","role","placeholder","Your role",1,"w-full",3,"id"],["hlmInput","","formControlName","company","placeholder","You worked in",1,"w-full",3,"id"],["hlmInput","","formControlName","years","placeholder","How long you worked",1,"w-full",3,"id"],["hlmInput","","formControlName","summary","placeholder","Type your message here.",1,"w-full","min-h-[100px]",3,"id"],[1,"flex","flex-col","gap-2","mr-2","ml-2"],["hlmInput","","placeholder","Name of your project","formControlName","name",1,"w-full",3,"id"],["hlmInput","","placeholder","Tech used in your project comma separated","formControlName","techstack",1,"w-full",3,"id"],["hlmInput","","placeholder","Project completed on","formControlName","year",1,"w-full",3,"id"],["hlmInput","","placeholder","Type your message here.","formControlName","summary",1,"w-full","min-h-[100px]",3,"id"]],template:function(t,r){if(t&1&&(oe(0,"app-only-back-nav-bar")(1,"hlm-toaster",0),D(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),H(6,"Your Info."),A(),D(7,"div",5),H(8,"Edit and Save."),A()(),D(9,"div",6)(10,"div",7),oe(11,"img",8),D(12,"button",9),H(13," Update Image "),A()(),D(14,"div",10)(15,"form",11)(16,"hlm-tabs",12)(17,"hlm-tabs-list",13)(18,"button",14),H(19,"Basic"),A(),D(20,"button",15),H(21,"Education"),A(),D(22,"button",16),H(23,"Experience"),A(),D(24,"button",17),H(25,"Project"),A()(),D(26,"div",18)(27,"div",19)(28,"h3",3),H(29,"Basic Info"),A(),D(30,"div",20)(31,"hlm-form-field")(32,"label",21)(33,"div",22),H(34,"Fullname"),A()(),oe(35,"input",23),te(36,zRe,2,0,"hlm-error"),A(),D(37,"hlm-form-field")(38,"label",24)(39,"div",22),H(40,"Title"),A()(),oe(41,"input",25),te(42,qRe,2,0,"hlm-error"),A(),D(43,"hlm-form-field")(44,"label",26)(45,"div",22),H(46,"Summary"),A()(),oe(47,"textarea",27),te(48,WRe,2,0,"hlm-error"),A(),D(49,"hlm-form-field")(50,"label",28)(51,"div",29),H(52," Skills "),oe(53,"ng-icon",30),A()(),oe(54,"input",31),te(55,GRe,2,0,"hlm-error"),A()()()(),D(56,"div",32)(57,"div",19)(58,"h3",33),H(59),A(),D(60,"div",34),Rn(61,ZRe,25,21,"div",null,yi),A(),D(63,"div",35)(64,"button",36),we("click",function(){return r.addEducation()}),H(65," Add Education "),A()()()(),D(66,"div",37)(67,"div",19)(68,"h3",33),H(69),A(),D(70,"div",38),Rn(71,nPe,31,26,"div",null,yi),A(),D(73,"div",35)(74,"button",36),we("click",function(){return r.addExperience()}),H(75," Add Experience "),A()()()(),D(76,"div",39)(77,"div",19)(78,"h3",33),H(79),A(),D(80,"div",40),Rn(81,aPe,32,27,"div",41,yi),A(),D(83,"div",35)(84,"button",36),we("click",function(){return r.addProject()}),H(85," Add Project "),A()()()()()()()(),D(86,"div",42)(87,"button",43),we("click",function(){return r.cancel()}),H(88," Discard "),A(),D(89,"button",44),we("click",function(){return r.saveProfile()}),H(90," Save "),A()()()()),t&2){let i,o,s,a;N(),fe("duration",5e3)("closeButton",!0),N(10),fe("src",r.userProfileURL,_i),N(4),fe("formGroup",r.userDataForm),N(13),se(r.h3Style),N(8),ne(!((i=r.userDataForm.get("fullName"))==null||i.errors==null)&&i.errors.required&&((i=r.userDataForm.get("fullName"))!=null&&i.dirty||(i=r.userDataForm.get("fullName"))!=null&&i.touched)?36:-1),N(6),ne(!((o=r.userDataForm.get("title"))==null||o.errors==null)&&o.errors.required&&((o=r.userDataForm.get("title"))!=null&&o.dirty||(o=r.userDataForm.get("title"))!=null&&o.touched)?42:-1),N(6),ne(!((s=r.userDataForm.get("summary"))==null||s.errors==null)&&s.errors.required&&((s=r.userDataForm.get("summary"))!=null&&s.dirty||(s=r.userDataForm.get("summary"))!=null&&s.touched)?48:-1),N(5),fe("hlmTooltipTrigger","Your input should be comma separated"),N(2),ne(!((a=r.userDataForm.get("skills"))==null||a.errors==null)&&a.errors.required&&((a=r.userDataForm.get("skills"))!=null&&a.dirty||(a=r.userDataForm.get("skills"))!=null&&a.touched)?55:-1),N(3),se(Dt("",r.h3Style," mb-2")),N(),xt(" Education",r.educations.length>1?"s":""," "),N(2),Pn(r.educations.controls),N(7),se(Dt("",r.h3Style," mb-2")),N(),xt(" Experience",r.experiences.length>1?"s":""," "),N(2),Pn(r.experiences.controls),N(7),se(Dt("",r.h3Style," mb-2")),N(),xt(" Project",r.projects.length>1?"s":""," "),N(2),Pn(r.projects.controls),N(8),fe("disabled",!r.canSave())}},dependencies:[Qi,qo,Ns,Wo,Ji,zo,$l,sh,Ul,ih,oh,ps,md,WE,GE,jl,Vl,Ps,zl,Gl,oc,On,Vd,jd,Hd,Ud,hn,tr,Bf,ds,zd],encapsulation:2})};function lPe(n,e){if(n&1&&(D(0,"li"),H(1),A()),n&2){let t=e.$implicit;N(),Ke(t)}}function cPe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),H(2),A(),D(3,"p",5),H(4),A()()),n&2){let t=e.$implicit;N(2),Ke(t==null?null:t.degree),N(2),B0(" ",t==null?null:t.institution," - ",t==null?null:t.year," ")}}function dPe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),H(2),A(),D(3,"p",5),H(4),A(),D(5,"p"),H(6),A()()),n&2){let t=e.$implicit;N(2),Ke(t==null?null:t.role),N(2),B0(" ",t==null?null:t.company," - ",t==null?null:t.years," "),N(2),Ke(t==null?null:t.summary)}}function uPe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),H(2),A(),D(3,"p",5),H(4),A(),D(5,"p"),H(6),A()()),n&2){let t=e.$implicit;N(2),Ke(t==null?null:t.name),N(2),B0(" Tech Stack: ",t==null?null:t.techstack," - ",t==null?null:t.year," "),N(2),Ke(t==null?null:t.summary)}}function hPe(n,e){if(n&1&&(D(0,"div",0)(1,"div",2)(2,"div")(3,"div",3)(4,"h1",4),H(5),A(),D(6,"p",5),H(7),A()(),D(8,"div",3)(9,"h2",6),H(10,"Summary"),A(),D(11,"p"),H(12),A()(),D(13,"div",3)(14,"h2",6),H(15,"Skills"),A(),D(16,"ul",7),Rn(17,lPe,2,1,"li",null,yi),A()()(),D(19,"div")(20,"div",3)(21,"h2",6),H(22,"Education"),A(),Rn(23,cPe,5,3,"div",8,yi),A(),D(25,"div",3)(26,"h2",6),H(27,"Experience"),A(),Rn(28,dPe,7,4,"div",8,yi),A(),D(30,"div",3)(31,"h2",6),H(32,"Projects"),A(),Rn(33,uPe,7,4,"div",8,yi),A()()()()),n&2){let t=ae();N(5),Ke(t.resumeData.fullName),N(2),Ke(t.resumeData.title),N(5),Ke(t.resumeData.summary),N(5),Pn(t.resumeData.skills),N(6),Pn(t.resumeData.educations),N(5),Pn(t.resumeData.experiences),N(5),Pn(t.resumeData.projects)}}function pPe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),H(2,"Please update your profile"),A(),D(3,"h3"),H(4,"Error loading your profile!"),A()()),n&2){let t=ae();N(),se(t.h1Style),N(2),se(t.h3Style)}}var AS=class n extends nr{userCacheManager=M(Ph);resumeDataService=M(ic);preloaderService=M(rr);resumeData=null;hlmDialogService=M(fr);ngOnInit(){return E(this,null,function*(){if(this.preloaderService.show(),this.userCacheManager.getCache())this.resumeData=this.userCacheManager.getCache();else try{this.resumeData=yield this.resumeDataService.getResumeDataFirebase(),this.resumeData?this.userCacheManager.setCache(this.resumeData):this.hlmDialogService.open(nn,{context:{error:"Can not get your profile Details",desc:"Make sure you go to analytics page to check if your profile data is valid and save!"}})}catch(e){console.error("Error fetching resume data:",e)}this.preloaderService.hide()})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-analytics-viewer"]],features:[kt],decls:3,vars:2,consts:[[1,"container","mx-auto","p-4"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"mb-4"],[1,"text-2xl","font-bold"],[1,"text-muted-foreground"],[1,"text-lg","font-semibold"],[1,"list-disc","list-inside"],[1,"mb-2"],[1,"font-semibold"]],template:function(t,r){t&1&&(oe(0,"app-only-back-nav-bar"),te(1,hPe,35,3,"div",0),te(2,pPe,5,4,"div",1)),t&2&&(N(),ne(r.resumeData?1:-1),N(),ne(r.resumeData?-1:2))},dependencies:[oc,ds],encapsulation:2})};var F1=class n{apiService=M(ti);userService=M(gr);firestore=M(Ld);injector=M(Fe);generatePDFFromLatex(e){return E(this,null,function*(){try{let t=new Blob([e],{type:"text/plain"}),r=new FormData;return r.append("file",t,"resume.tex"),yield this.apiService.postBlob(Vn.GETPDFFROMLATEX,r,yield this.userService.getCurrentUserObject().getIdToken())}catch(t){throw new Error(t.message||"Failed to generate PDF")}})}getPDFFromEmail(e){return E(this,null,function*(){try{return yield this.apiService.getBlob(Vn.GET_PDF_FROM_EMAIL,{email:e},null)}catch(t){throw new Error(t.message||"Failed to fetch PDF")}})}getSaveTexURL(){return E(this,null,function*(){return yield Z_(this.injector,()=>E(this,null,function*(){let e=aS(this.firestore,"User",this.userService.getCurrentUserObject().uid,"Texs","resume"),t=yield lS(e);return t.exists()?t.data().url:null}))})}getSaveTexContent(){return E(this,null,function*(){let e=yield this.getSaveTexURL();try{return(yield this.apiService.get(Vn.GETTEXCONTENT,null,yield this.userService.getCurrentUserObject().getIdToken())).latex}catch(t){throw new Error(t.message||"Failed to load Tex file")}})}saveTex(e){return E(this,null,function*(){try{let t=new Blob([e],{type:"text/plain"}),r=new FormData;return r.append("file",t,"resume.tex"),yield this.apiService.post(Vn.SAVETEX,r,yield this.userService.getCurrentUserObject().getIdToken())}catch(t){throw new Error(t.message||"Failed to save PDF")}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var z1={};uU(z1,{AbortException:()=>uOe,AnnotationEditorLayer:()=>hOe,AnnotationEditorParamsType:()=>pOe,AnnotationEditorType:()=>GB,AnnotationEditorUIManager:()=>fOe,AnnotationLayer:()=>gOe,AnnotationMode:()=>mOe,ColorPicker:()=>vOe,DOMSVGFactory:()=>wOe,DrawLayer:()=>_Oe,FeatureTest:()=>yOe,GlobalWorkerOptions:()=>KB,ImageKind:()=>kOe,InvalidPDFException:()=>bOe,MissingPDFException:()=>xOe,OPS:()=>COe,OutputScale:()=>EOe,PDFDataRangeTransport:()=>MOe,PDFDateString:()=>SOe,PDFWorker:()=>IOe,PasswordResponses:()=>TOe,PermissionFlag:()=>AOe,PixelsPerInch:()=>DOe,RenderingCancelledException:()=>ROe,TextLayer:()=>POe,UnexpectedResponseException:()=>OOe,Util:()=>NOe,VerbosityLevel:()=>YB,XfaLayer:()=>LOe,build:()=>FOe,createValidAbsoluteUrl:()=>BOe,fetchData:()=>VOe,getDocument:()=>XB,getFilenameFromUrl:()=>jOe,getPdfFilenameFromUrl:()=>HOe,getXfaPageViewport:()=>UOe,isDataScheme:()=>$Oe,isPdfFile:()=>zOe,noContextMenu:()=>qOe,normalizeUnicode:()=>WOe,setLayerDimensions:()=>GOe,shadow:()=>KOe,version:()=>Ny});var _y={};_y.d=(n,e)=>{for(var t in e)_y.o(e,t)&&!_y.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};_y.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var It=globalThis.pdfjsLib={};_y.d(It,{AbortException:()=>Xd,AnnotationEditorLayer:()=>dOe,AnnotationEditorParamsType:()=>Et,AnnotationEditorType:()=>jt,AnnotationEditorUIManager:()=>Ey,AnnotationLayer:()=>PB,AnnotationMode:()=>Oh,ColorPicker:()=>wI,DOMSVGFactory:()=>Ay,DrawLayer:()=>VB,FeatureTest:()=>to,GlobalWorkerOptions:()=>rg,ImageKind:()=>FS,InvalidPDFException:()=>US,MissingPDFException:()=>Yd,OPS:()=>tl,OutputScale:()=>Cy,PDFDataRangeTransport:()=>iI,PDFDateString:()=>zS,PDFWorker:()=>j1,PasswordResponses:()=>wPe,PermissionFlag:()=>vPe,PixelsPerInch:()=>Nh,RenderingCancelledException:()=>xy,TextLayer:()=>Iy,UnexpectedResponseException:()=>$1,Util:()=>Ye,VerbosityLevel:()=>kI,XfaLayer:()=>aI,build:()=>lOe,createValidAbsoluteUrl:()=>bPe,fetchData:()=>EI,getDocument:()=>iOe,getFilenameFromUrl:()=>APe,getPdfFilenameFromUrl:()=>DPe,getXfaPageViewport:()=>RPe,isDataScheme:()=>MI,isPdfFile:()=>UB,noContextMenu:()=>pa,normalizeUnicode:()=>SPe,setLayerDimensions:()=>ig,shadow:()=>ln,version:()=>aOe});var ko=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Fre=[1,0,0,1,0,0],bF=[.001,0,0,.001,0,0],fPe=1e7,LS=1.35,gPe=.35,TMt=gPe/LS,Vs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Oh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mPe="pdfjs_internal_editor_",jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},vPe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},yo={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},FS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ei={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var gy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var kI={ERRORS:0,WARNINGS:1,INFOS:5},tl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},wPe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},bI=kI.WARNINGS;function _Pe(n){Number.isInteger(n)&&(bI=n)}function yPe(){return bI}function xI(n){bI>=kI.INFOS&&console.log(`Info: ${n}`)}function Yt(n){bI>=kI.WARNINGS&&console.log(`Warning: ${n}`)}function ar(n){throw new Error(n)}function Mi(n,e){n||ar(e)}function kPe(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bPe(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=MPe(n)}catch{}let r=e?new URL(n,e):new URL(n);if(kPe(r))return r}catch{}return null}function ln(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}var Lh=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})(),yy=class extends Lh{constructor(e,t){super(e,"PasswordException"),this.code=t}},ky=class extends Lh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},US=class extends Lh{constructor(e){super(e,"InvalidPDFException")}},Yd=class extends Lh{constructor(e){super(e,"MissingPDFException")}},$1=class extends Lh{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},xF=class extends Lh{constructor(e){super(e,"FormatError")}},Xd=class extends Lh{constructor(e){super(e,"AbortException")}};function Bre(n){(typeof n!="object"||n?.length===void 0)&&ar("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let r=[];for(let i=0;i<e;i+=t){let o=Math.min(i+t,e),s=n.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function CI(n){typeof n!="string"&&ar("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function xPe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function jB(n){let e=Object.create(null);for(let[t,r]of n)e[t]=r;return e}function CPe(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function EPe(){try{return new Function(""),!0}catch{return!1}}var to=class{static get isLittleEndian(){return ln(this,"isLittleEndian",CPe())}static get isEvalSupported(){return ln(this,"isEvalSupported",EPe())}static get isOffscreenCanvasSupported(){return ln(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?ln(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):ln(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return ln(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},vF=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),Ye=class{static makeHexColor(e,t,r){return`#${vF[e]}${vF[t]}${vF[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){let r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,t){let r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;let o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>s?null:[r,o,i,s]}static#e(e,t,r,i,o,s,a,l,c,u){if(c<=0||c>=1)return;let p=1-c,g=c*c,v=g*c,w=p*(p*(p*e+3*c*t)+3*g*r)+v*i,y=p*(p*(p*o+3*c*s)+3*g*a)+v*l;u[0]=Math.min(u[0],w),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],w),u[3]=Math.max(u[3],y)}static#t(e,t,r,i,o,s,a,l,c,u,p,g){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,r,i,o,s,a,l,-p/u,g);return}let v=u**2-4*p*c;if(v<0)return;let w=Math.sqrt(v),y=2*c;this.#e(e,t,r,i,o,s,a,l,(-u+w)/y,g),this.#e(e,t,r,i,o,s,a,l,(-u-w)/y,g)}static bezierBoundingBox(e,t,r,i,o,s,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,r,o,a,t,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),c),this.#t(e,r,o,a,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),c),c}};function MPe(n){return decodeURIComponent(escape(n))}var wF=null,bre=null;function SPe(n){return wF||(wF=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bre=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(wF,(e,t,r)=>t?t.normalize("NFKC"):bre.get(r))}function IPe(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Bre(n)}var HB="pdfjs_internal_id_",qd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function TPe(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Bre(n))}var Gd="http://www.w3.org/2000/svg",Nh=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function EI(n,e="text"){return E(this,null,function*(){if(wy(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{let i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})})}var by=class n{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=o;let a=(e[2]+e[0])/2,l=(e[3]+e[1])/2,c,u,p,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,p=0,g=1;break;case 90:c=0,u=1,p=1,g=0;break;case 270:c=0,u=-1,p=-1,g=0;break;case 0:c=1,u=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(p=-p,g=-g);let v,w,y,x;c===0?(v=Math.abs(l-e[1])*t+i,w=Math.abs(a-e[0])*t+o,y=(e[3]-e[1])*t,x=(e[2]-e[0])*t):(v=Math.abs(a-e[0])*t+i,w=Math.abs(l-e[1])*t+o,y=(e[2]-e[0])*t,x=(e[3]-e[1])*t),this.transform=[c*t,u*t,p*t,g*t,v-c*t*a-p*t*l,w-u*t*a-g*t*l],this.width=y,this.height=x}get rawDims(){let{viewBox:e}=this;return ln(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,t){return Ye.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=Ye.applyTransform([e[0],e[1]],this.transform),r=Ye.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Ye.applyInverseTransform([e,t],this.transform)}},xy=class extends Lh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function MI(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function UB(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function APe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function DPe(n,e="document.pdf"){if(typeof n!="string")return e;if(MI(n))return Yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}var $S=class{started=Object.create(null);times=[];time(e){e in this.started&&Yt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Yt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:r}of this.times)t=Math.max(r.length,t);for(let{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(t)} ${o-i}ms
`);return e.join("")}};function wy(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function pa(n){n.preventDefault()}function xre(n){console.log("Deprecated API usage: "+n)}var zS=class{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=this.#e.exec(e);if(!t)return null;let r=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;let c=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,c==="-"?(s+=u,a+=p):c==="+"&&(s-=u,a-=p),new Date(Date.UTC(r,i,o,s,a,l))}};function RPe(n,{scale:e=1,rotation:t=0}){let{width:r,height:i}=n.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new by({viewBox:o,scale:e,rotation:t})}function $B(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Yt(`Not a valid color format: "${n}"`),[0,0,0])}function PPe(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let r=window.getComputedStyle(e).color;n.set(t,$B(r))}e.remove()}function Sr(n){let{a:e,b:t,c:r,d:i,e:o,f:s}=n.getTransform();return[e,t,r,i,o,s]}function Wd(n){let{a:e,b:t,c:r,d:i,e:o,f:s}=n.getTransform().invertSelf();return[e,t,r,i,o,s]}function ig(n,e,t=!1,r=!0){if(e instanceof by){let{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=n,a=to.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${o}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,p=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(s.width=u,s.height=p):(s.width=p,s.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}var Cy=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},CF=class n{#e=null;#t=null;#n;#r=null;#o=null;static#i=null;constructor(e){this.#n=e,n.#i||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",pa,{signal:t}),e.addEventListener("pointerdown",n.#l,{signal:t});let r=this.#r=document.createElement("div");r.className="buttons",e.append(r);let i=this.#n.toolbarPosition;if(i){let{style:o}=e,s=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}get div(){return this.#e}static#l(e){e.stopPropagation()}#c(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#a(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",pa,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#o?.shown()}#u(){let{editorType:e,_uiManager:t}=this.#n,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",n.#i[e]),this.#a(r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#r.append(r)}get#s(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return E(this,null,function*(){let t=yield e.render();this.#a(t),this.#r.prepend(t,this.#s),this.#o=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#a(t),this.#r.prepend(t,this.#s)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},EF=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pa,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#o(e,t){let r=0,i=0;for(let o of e){let s=o.y+o.height;if(s<r)continue;let a=o.x+(t?o.width:0);if(s>r){i=a,r=s;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]}show(e,t,r){let[i,o]=this.#o(t,r),{style:s}=this.#t||=this.#r();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let r=this.#n._signal;e.addEventListener("contextmenu",pa,{signal:r}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(e)}};function qS(n,e,t){for(let r of t)e.addEventListener(r,n[r].bind(n))}function OPe(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var MF=class{#e=0;get id(){return`${mPe}${this.#e++}`}},SF=class n{#e=IPe();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;let o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ln(this,"_isSVGFittingCanvas",o)}#r(e,t){return E(this,null,function*(){this.#n||=new Map;let r=this.#n.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(r.url=t,i=yield EI(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){let o=n._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},s.onload=()=>E(this,null,function*(){let p=r.svgUrl=s.result;a.src=(yield o)?`${p}#svgView(preserveAspectRatio(none))`:p}),a.onerror=s.onerror=u});s.readAsDataURL(i),yield l}else r.bitmap=yield createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return this.#n.set(e,r),r&&this.#n.set(r.id,r),r})}getFromFile(e){return E(this,null,function*(){let{lastModified:t,name:r,size:i,type:o}=e;return this.#r(`${t}_${r}_${i}_${o}`,e)})}getFromUrl(e){return E(this,null,function*(){return this.#r(e,e)})}getFromBlob(e,t){return E(this,null,function*(){let r=yield t;return this.#r(e,r)})}getFromId(e){return E(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){let{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)})}getFromCanvas(e,t){this.#n||=new Map;let r=this.#n.get(e);if(r?.bitmap)return r.refCounter+=1,r;let i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,r),this.#n.set(r.id,r),r}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;let{bitmap:r}=t;if(!t.url&&!t.file){let i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}r.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},IF=class{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),this.#t)return;let l={cmd:e,undo:t,post:r,type:o};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(l);return}if(s&&this.#e[this.#r].type===o){a&&(l.undo=this.#e[this.#r].undo),this.#e[this.#r]=l;return}let c=this.#r+1;c===this.#n?this.#e.splice(0,1):(this.#r=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#r===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}},og=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=to.platform;for(let[r,i,o={}]of e)for(let s of r){let a=s.startsWith("mac+");t&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!t&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let r=this.callbacks.get(this.#e(t));if(!r)return;let{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...s,t)(),o||(t.stopPropagation(),t.preventDefault()))}},TF=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return PPe(e),ln(this,"_colors",e)}convert(e){let t=$B(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[r,i]of this._colors)if(i.every((o,s)=>o===t[s]))return n._colorsMapping.get(r);return t}getHexCode(e){let t=this._colors.get(e);return t?Ye.makeHexColor(...t):e}},Ey=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#o=null;#i=null;#l=null;#c=new IF;#d=null;#a=0;#u=new Set;#s=null;#h=null;#f=new Set;#p=!1;#g=!1;#v=!1;#m=null;#w=null;#y=null;#x=null;#k=!1;#b=null;#A=new MF;#S=!1;#C=!1;#I=null;#M=null;#D=null;#P=null;#E=jt.NONE;#_=new Set;#T=null;#R=null;#F=null;#H={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#L=null;#B=null;#V=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,r=a=>a.#B.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:c}=l;return c!=="text"&&c!=="number"}return!0},o=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ln(this,"_keyboardManager",new og([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#B.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#B.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:r}]]))}constructor(t,r,i,o,s,a,l,c,u,p,g){let v=this._signal=this.#e.signal;this.#B=t,this.#V=r,this.#o=i,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:v}),this.#ee(),this.#ie(),this.#G(),this.#i=s.annotationStorage,this.#m=s.filterFactory,this.#R=a,this.#x=l||null,this.#p=c,this.#g=u,this.#v=p,this.#P=g||null,this.viewParameters={realScale:Nh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#f.clear(),this.#t=null,this.#_.clear(),this.#c.destroy(),this.#o?.destroy(),this.#b?.hide(),this.#b=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#L&&(clearTimeout(this.#L),this.#L=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#P}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return ln(this,"hcmFilter",this.#R?this.#m.addHCMFilter(this.#R.foreground,this.#R.background):"none")}get direction(){return ln(this,"direction",getComputedStyle(this.#B).direction)}get highlightColors(){return ln(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(t=>t.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return ln(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#D=t}editAltText(t,r=!1){this.#o?.editAltText(this,t,r)}switchToMode(t,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,r){this._eventBus.dispatch("setpreference",{source:this,name:t,value:r})}onSetPreference({name:t,value:r}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=r;break}}onPageChanging({pageNumber:t}){this.#a=t-1}focusMainContainer(){this.#B.focus()}findParent(t,r){for(let i of this.#r.values()){let{x:o,y:s,width:a,height:l}=i.div.getBoundingClientRect();if(t>=o&&t<=o+a&&r>=s&&r<=s+l)return i}return null}disableUserSelect(t=!1){this.#V.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#f.add(t)}removeShouldRescale(t){this.#f.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Nh.PDF_TO_CSS_UNITS;for(let r of this.#f)r.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){let{currentLayer:r}=this;if(r.hasTextLayer(t))return r;for(let i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){let r=document.getSelection();if(!r||r.isCollapsed)return;let{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a}=r,l=r.toString(),u=this.#z(r).closest(".textLayer"),p=this.getSelectionBoxes(u);if(!p)return;r.empty();let g=this.#W(u),v=this.#E===jt.NONE,w=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a,text:l}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(jt.HIGHLIGHT,w);return}w()}#Q(){let t=document.getSelection();if(!t||t.isCollapsed)return;let i=this.#z(t).closest(".textLayer"),o=this.getSelectionBoxes(i);o&&(this.#b||=new EF(this),this.#b.show(i,o,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}#J(){let t=document.getSelection();if(!t||t.isCollapsed){this.#T&&(this.#b?.hide(),this.#T=null,this.#N({hasSelectedText:!1}));return}let{anchorNode:r}=t;if(r===this.#T)return;let o=this.#z(t).closest(".textLayer");if(!o){this.#T&&(this.#b?.hide(),this.#T=null,this.#N({hasSelectedText:!1}));return}if(this.#b?.hide(),this.#T=r,this.#N({hasSelectedText:!0}),!(this.#E!==jt.HIGHLIGHT&&this.#E!==jt.NONE)&&(this.#E===jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#k=this.isShiftKeyDown,!this.isShiftKeyDown)){let s=this.#E===jt.HIGHLIGHT?this.#W(o):null;s?.toggleDrawing();let a=new AbortController,l=this.combinedSignal(a),c=u=>{u.type==="pointerup"&&u.button!==0||(a.abort(),s?.toggleDrawing(!0),u.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#q(t=""){this.#E===jt.HIGHLIGHT?this.highlightSelection(t):this.#p&&this.#Q()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#y)return;this.#y=new AbortController;let t=this.combinedSignal(this.#y);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ne(){this.#y?.abort(),this.#y=null}blur(){if(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#q("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let r of this.#_)if(r.div.contains(t)){this.#M=[r,t],r._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;let[t,r]=this.#M;this.#M=null,r.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}#G(){if(this.#I)return;this.#I=new AbortController;let t=this.combinedSignal(this.#I);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#re(){this.#I?.abort(),this.#I=null}#K(){if(this.#d)return;this.#d=new AbortController;let t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Y(){this.#d?.abort(),this.#d=null}#ie(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#G(),this.#K()}removeEditListeners(){this.#re(),this.#Y()}dragOver(t){for(let{type:r}of t.dataTransfer.items)for(let i of this.#h)if(i.isHandlingMimeForPasting(r)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let r of t.dataTransfer.items)for(let i of this.#h)if(i.isHandlingMimeForPasting(r.type)){i.paste(r,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let r=[];for(let i of this.#_){let o=i.serialize(!0);o&&r.push(o)}r.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(t){this.copy(t),this.delete()}paste(t){return E(this,null,function*(){t.preventDefault();let{clipboardData:r}=t;for(let s of r.items)for(let a of this.#h)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=r.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Yt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();let o=this.currentLayer;try{let s=[];for(let c of i){let u=yield o.deserialize(c);if(!u)return;s.push(u)}let a=()=>{for(let c of s)this.#X(c);this.#Z(s)},l=()=>{for(let c of s)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){Yt(`paste: "${s.message}".`)}})}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==jt.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#q("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,o])=>this.#H[i]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,t)}),this.#E===jt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#U([[Et.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#te(),this.#K(),this.#N({isEditing:this.#E!==jt.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ne(),this.#Y(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#h){this.#h=t;for(let r of this.#h)this.#U(r.defaultPropertiesToUpdate)}}getId(){return this.#A.id}get currentLayer(){return this.#r.get(this.#a)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#a}addLayer(t){this.#r.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}updateMode(t,r=null,i=!1){return E(this,null,function*(){if(this.#E!==t&&!(this.#O&&(yield this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#E=t,t===jt.NONE){this.setEditingState(!1),this.#se(),this.#O.resolve();return}this.setEditingState(!0),yield this.#oe(),this.unselectAll();for(let o of this.#r.values())o.updateMode(t);if(!r){i&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(let o of this.#n.values())o.annotationElementId===r?(this.setSelected(o),o.enterInEditMode()):o.unselect();this.#O.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,r){if(this.#h){switch(t){case Et.CREATE:this.currentLayer.addNewEditor();return;case Et.HIGHLIGHT_DEFAULT_COLOR:this.#D?.updateColor(r);break;case Et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#F||=new Map).set(t,r),this.showAllEditors("highlight",r);break}for(let i of this.#_)i.updateParams(t,r);for(let i of this.#h)i.updateDefaultParams(t,r)}}showAllEditors(t,r,i=!1){for(let s of this.#n.values())s.editorType===t&&s.show(r);(this.#F?.get(Et.HIGHLIGHT_SHOW_ALL)??!0)!==r&&this.#U([[Et.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(t=!1){if(this.#C!==t){this.#C=t;for(let r of this.#r.values())t?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",t)}}#oe(){return E(this,null,function*(){if(!this.#S){this.#S=!0;let t=[];for(let r of this.#r.values())t.push(r.enable());yield Promise.all(t);for(let r of this.#n.values())r.enable()}})}#se(){if(this.unselectAll(),this.#S){this.#S=!1;for(let t of this.#r.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let r=[];for(let i of this.#n.values())i.pageIndex===t&&r.push(i);return r}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#X(t){let r=this.#r.get(t.pageIndex);r?r.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#U(t.propertiesToUpdate))}get#ae(){let t=null;for(t of this.#_);return t}updateUI(t){this.#ae===t&&this.#U(t.propertiesToUpdate)}toggleSelected(t){if(this.#_.has(t)){this.#_.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#_.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){for(let r of this.#_)r!==t&&r.unselect();this.#_.clear(),this.#_.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#_.has(t)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(t){t.unselect(),this.#_.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()})}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#c.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#_],r=()=>{for(let o of t)o.remove()},i=()=>{for(let o of t)this.#X(o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Z(t){for(let r of this.#_)r.unselect();this.#_.clear();for(let r of t)r.isEmpty()||(this.#_.add(r),r.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#_)t.commit();this.#Z(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==jt.NONE))&&this.hasSelection){for(let t of this.#_)t.unselect();this.#_.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,r,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=r;let[o,s]=this.#j,a=[...this.#_],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(o,s)},undo:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(-o,-s)},mustExec:!1})},l);for(let c of a)c.translateInPage(t,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#s=new Map;for(let t of this.#_)this.#s.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#s)return!1;this.disableUserSelect(!1);let t=this.#s;this.#s=null;let r=!1;for(let[{x:o,y:s,pageIndex:a},l]of t)l.newX=o,l.newY=s,l.newPageIndex=a,r||=o!==l.savedX||s!==l.savedY||a!==l.savedPageIndex;if(!r)return!1;let i=(o,s,a,l)=>{if(this.#n.has(o.id)){let c=this.#r.get(l);c?o._setParentAndPosition(c,s,a):(o.pageIndex=l,o.x=s,o.y=a)}};return this.addCommands({cmd:()=>{for(let[o,{newX:s,newY:a,newPageIndex:l}]of t)i(o,s,a,l)},undo:()=>{for(let[o,{savedX:s,savedY:a,savedPageIndex:l}]of t)i(o,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,r){if(this.#s)for(let i of this.#s.keys())i.drag(t,r)}rebuild(t){if(t.parent===null){let r=this.getLayer(t.pageIndex);r?(r.changeParent(t),r.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return ln(this,"imageManager",new SF)}getSelectionBoxes(t){if(!t)return null;let r=document.getSelection();for(let u=0,p=r.rangeCount;u<p;u++)if(!t.contains(r.getRangeAt(u).commonAncestorContainer))return null;let{x:i,y:o,width:s,height:a}=t.getBoundingClientRect(),l;switch(t.getAttribute("data-main-rotation")){case"90":l=(u,p,g,v)=>({x:(p-o)/a,y:1-(u+g-i)/s,width:v/a,height:g/s});break;case"180":l=(u,p,g,v)=>({x:1-(u+g-i)/s,y:1-(p+v-o)/a,width:g/s,height:v/a});break;case"270":l=(u,p,g,v)=>({x:1-(p+v-o)/a,y:(u-i)/s,width:v/a,height:g/s});break;default:l=(u,p,g,v)=>({x:(u-i)/s,y:(p-o)/a,width:g/s,height:v/a});break}let c=[];for(let u=0,p=r.rangeCount;u<p;u++){let g=r.getRangeAt(u);if(!g.collapsed)for(let{x:v,y:w,width:y,height:x}of g.getClientRects())y===0||x===0||c.push(l(v,w,y,x))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:r}){(this.#l||=new Map).set(t,r)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){let r=this.#l?.get(t.data.id);if(!r)return;let i=this.#i.getRawValue(r);i&&(this.#E===jt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}}return n})(),Cre=(()=>{class n{#e=null;#t=!1;#n=null;#r=null;#o=null;#i=null;#l=!1;#c=null;#d=null;#a=null;#u=null;#s=!1;static#h=null;static _l10n=null;constructor(t){this.#d=t,this.#s=t._uiManager.useNewAltTextFlow,n.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){n._l10n??=t}render(){return E(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";let r=this.#r=document.createElement("span");t.append(r),this.#s?(t.classList.add("new"),t.setAttribute("data-l10n-id",n.#h.missing),r.setAttribute("data-l10n-id",n.#h["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let i=this.#d._uiManager._signal;t.addEventListener("contextmenu",pa,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});let o=s=>{s.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#s&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#f}})};return t.addEventListener("click",o,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#l=!0,o(s))},{signal:i}),yield this.#p(),t})}get#f(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#s?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#s?this.#e!==null||!!this.#a:this.isEmpty()}get guessedText(){return this.#a}setGuessedText(t){return E(this,null,function*(){this.#e===null&&(this.#a=t,this.#u=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())})}toggleAltTextBadge(t=!1){if(!this.#s||this.#e){this.#c?.remove(),this.#c=null;return}if(!this.#c){let r=this.#c=document.createElement("div");r.className="noAltTextBadge",this.#d.div.append(r)}this.#c.classList.toggle("hidden",!t)}serialize(t){let r=this.#e;return!t&&this.#a===r&&(r=this.#u),{altText:r,decorative:this.#t,guessedText:this.#a,textWithDisclaimer:this.#u}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:r,guessedText:i,textWithDisclaimer:o,cancel:s=!1}){i&&(this.#a=i,this.#u=o),!(this.#e===t&&this.#t===r)&&(s||(this.#e=t,this.#t=r),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#f}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#o=null,this.#c?.remove(),this.#c=null}#p(){return E(this,null,function*(){let t=this.#n;if(!t)return;if(this.#s){if(t.classList.toggle("done",!!this.#e),t.setAttribute("data-l10n-id",n.#h[this.#f]),this.#r?.setAttribute("data-l10n-id",n.#h[`${this.#f}-label`]),!this.#e){this.#o?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#o?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=this.#o;if(!r){this.#o=r=document.createElement("span"),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${this.#d.id}`;let o=100,s=this.#d._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#o.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#o?.classList.remove("show")},{signal:s})}this.#t?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=this.#e),r.parentNode||t.append(r),this.#d.getImageForAltText()?.setAttribute("aria-describedby",r.id)})}}return n})(),jn=class n{#e=null;#t=null;#n=null;#r=!1;#o=!1;#i=null;#l=null;#c=null;#d="";#a=!1;#u=null;#s=!1;#h=!1;#f=!1;#p=null;#g=0;#v=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#y=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new TF;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=Ey.TRANSLATE_SMALL,r=Ey.TRANSLATE_BIG;return ln(this,"_resizerKeyboardManager",new og([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];let[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ln(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new AF({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(n._l10n??=e,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let r=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ar("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#F(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){let[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(t+i)/s,this.fixAndSetPosition()}#x([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()}translate(e,t){this.#x(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y],this.#x(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#u||=[this.x,this.y];let[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this,[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:r}=n,i=r/e,o=r/t;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,r]=this.pageDimensions,{x:i,y:o,width:s,height:a}=this;if(s*=t,a*=r,i*=t,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(t-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(t,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(t,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=t,this.y=o/=r;let[l,c]=this.getBaseTranslation();i+=l,o+=c;let{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#k(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#k(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#k(e,t,360-this.parentRotation)}#b(e){switch(e){case 90:{let[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){let[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),o=!this.#o&&t.endsWith("%");if(i&&o)return;let[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!this.#o&&!o&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#A(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let r of e){let i=document.createElement("div");this.#i.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#S.bind(this,r),{signal:t}),i.addEventListener("contextmenu",pa,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#i)}#S(e,t){t.preventDefault();let{isMac:r}=to.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#n?.toggle(!1);let i=this._isDraggable;this._isDraggable=!1;let o=new AbortController,s=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",pa,{signal:s});let a=this.x,l=this.y,c=this.width,u=this.height,p=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let v=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=p,this.div.style.cursor=g,this.#C(a,l,c,u)};window.addEventListener("pointerup",v,{signal:s}),window.addEventListener("blur",v,{signal:s})}#C(e,t,r,i){let o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;let[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;let[c,u]=this.parentDimensions;this.setDims(c*r,u*i),this.fixAndSetPosition()},mustExec:!0})}#I(e,t){let[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,c=n.MIN_SIZE/r,u=n.MIN_SIZE/i,p=Re=>Math.round(Re*1e4)/1e4,g=this.#b(this.rotation),v=(Re,be)=>[g[0]*Re+g[2]*be,g[1]*Re+g[3]*be],w=this.#b(360-this.rotation),y=(Re,be)=>[w[0]*Re+w[2]*be,w[1]*Re+w[3]*be],x,b,R=!1,V=!1;switch(e){case"topLeft":R=!0,x=(Re,be)=>[0,0],b=(Re,be)=>[Re,be];break;case"topMiddle":x=(Re,be)=>[Re/2,0],b=(Re,be)=>[Re/2,be];break;case"topRight":R=!0,x=(Re,be)=>[Re,0],b=(Re,be)=>[0,be];break;case"middleRight":V=!0,x=(Re,be)=>[Re,be/2],b=(Re,be)=>[0,be/2];break;case"bottomRight":R=!0,x=(Re,be)=>[Re,be],b=(Re,be)=>[0,0];break;case"bottomMiddle":x=(Re,be)=>[Re/2,be],b=(Re,be)=>[Re/2,0];break;case"bottomLeft":R=!0,x=(Re,be)=>[0,be],b=(Re,be)=>[Re,0];break;case"middleLeft":V=!0,x=(Re,be)=>[0,be/2],b=(Re,be)=>[Re,be/2];break}let j=x(a,l),$=b(a,l),Y=v(...$),L=p(o+Y[0]),T=p(s+Y[1]),I=1,B=1,[U,X]=this.screenToPageTranslation(t.movementX,t.movementY);if([U,X]=y(U/r,X/i),R){let Re=Math.hypot(a,l);I=B=Math.max(Math.min(Math.hypot($[0]-j[0]-U,$[1]-j[1]-X)/Re,1/a,1/l),c/a,u/l)}else V?I=Math.max(c,Math.min(1,Math.abs($[0]-j[0]-U)))/a:B=Math.max(u,Math.min(1,Math.abs($[1]-j[1]-X)))/l;let z=p(a*I),tt=p(l*B);Y=v(...b(z,tt));let gt=L-Y[0],Tt=T-Y[1];this.width=z,this.height=tt,this.x=gt,this.y=Tt,this.setDims(r*z,i*tt),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return E(this,null,function*(){return this._editToolbar||this.#h?this._editToolbar:(this._editToolbar=new CF(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){let t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return E(this,null,function*(){this.#n||(Cre.initialize(n._l10n),this.#n=new Cre(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return E(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#r?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#P();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[r,i]=this.getInitialTranslation();return this.translate(r,i),qS(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=to.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#a=!0,this._isDraggable){this.#D(e);return}this.#M(e)}get isSelected(){return this._uiManager.isSelected(this)}#M(e){let{isMac:t}=to.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#D(e){let{isSelected:t}=this;this._uiManager.setUpDragSession();let r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),this.#g=e.clientX,this.#v=e.clientY;let s=a=>{let{clientX:l,clientY:c}=a,[u,p]=this.screenToPageTranslation(l-this.#g,c-this.#v);this.#g=l,this.#v=c,this._uiManager.dragSelectedEditors(u,p)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}let o=()=>{r.abort(),t&&this.div.classList.remove("moving"),this.#a=!1,this._uiManager.endDragSession()||this.#M(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}moveInDOM(){this.#p&&clearTimeout(this.#p),this.#p=setTimeout(()=>{this.#p=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){let i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,p=this.x*o,g=this.y*s,v=this.width*o,w=this.height*s;switch(r){case 0:return[p+c+a,s-g-u-w+l,p+c+v+a,s-g-u+l];case 90:return[p+u+a,s-g+c+l,p+u+w+a,s-g+c+v+l];case 180:return[p-c-v+a,s-g+u+l,p-c+a,s-g+u+w+l];case 270:return[p-u-w+a,s-g-c-v+l,p-u+a,s-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,t-s,a,l];case 90:return[r,t-i,l,a];case 180:return[o,t-i,a,l];case 270:return[o,t-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#f}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#P(){if(this.#c||!this.div)return;this.#c=new AbortController;let e=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#P()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){ar("An editor must be serializable")}static deserialize(e,t,r){return E(this,null,function*(){let i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,i.#e=e.accessibilityData;let[o,s]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=c/o,i.height=u/s,i})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#p&&(clearTimeout(this.#p),this.#p=null),this.#F(),this.removeEditToolbar(),this.#m){for(let e of this.#m.values())clearTimeout(e);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#A(),this.#i.classList.remove("hidden"),qS(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#i.children;if(!this.#t){this.#t=Array.from(t);let s=this.#E.bind(this),a=this.#_.bind(this),l=this._uiManager._signal;for(let c of this.#t){let u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#T.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",n._l10nResizer[u])}}let r=this.#t[0],i=0;for(let s of t){if(s===r)break;i++}let o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)this.#i.append(this.#i.firstChild);else if(o>i)for(let a=0;a<o-i;a++)this.#i.firstChild.before(this.#i.lastChild);let s=0;for(let a of t){let c=this.#t[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",n._l10nResizer[c])}}this.#R(0),this.#f=!0,this.#i.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#E(e){n._resizerKeyboardManager.exec(this,e)}#_(e){this.#f&&e.relatedTarget?.parentNode!==this.#i&&this.#F()}#T(e){this.#d=this.#f?e:""}#R(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#f&&this.#I(this.#d,{movementX:e,movementY:t})}#F(){if(this.#f=!1,this.#R(-1),this.#l){let{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=this.#l;this.#C(e,t,r,i),this.#l=null}}_stopResizingWithKeyboard(){this.#F(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#s}set isEditing(e){this.#s=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#o=!0;let r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#m||=new Map;let{action:r}=e,i=this.#m.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#m.delete(r),this.#m.size===0&&(this.#m=null)},n._telemetryTimeout),this.#m.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},AF=class extends jn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},Ere=3285377520,ha=4294901760,pc=65535,WS=class{constructor(e){this.h1=e?e&4294967295:Ere,this.h2=e?e&4294967295:Ere}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,x=e.length;y<x;y++){let b=e.charCodeAt(y);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let i=r>>2,o=r-i*4,s=new Uint32Array(t.buffer,0,i),a=0,l=0,c=this.h1,u=this.h2,p=3432918353,g=461845907,v=p&pc,w=g&pc;for(let y=0;y<i;y++)y&1?(a=s[y],a=a*p&ha|a*v&pc,a=a<<15|a>>>17,a=a*g&ha|a*w&pc,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=s[y],l=l*p&ha|l*v&pc,l=l<<15|l>>>17,l=l*g&ha|l*w&pc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,o){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*p&ha|a*v&pc,a=a<<15|a>>>17,a=a*g&ha|a*w&pc,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ha|e*36045&pc,t=t*4283543511&ha|((t<<16|e>>>16)*2950163797&ha)>>>16,e^=t>>>1,e=e*444984403&ha|e*60499&pc,t=t*3301882366&ha|((t<<16|e>>>16)*3120437893&ha)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},DF=Object.freeze({map:null,hash:"",transfer:void 0}),My=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let r=this.#n.get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof jn)return;this.onAnnotationEditor(null)}}setValue(e,t){let r=this.#n.get(e),i=!1;if(r!==void 0)for(let[o,s]of Object.entries(t))r[o]!==s&&(i=!0,r[o]=s);else i=!0,this.#n.set(e,t);i&&this.#r(),t instanceof jn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?jB(this.#n):null}setAll(e){for(let[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new GS(this)}get serializable(){if(this.#n.size===0)return DF;let e=new Map,t=new WS,r=[],i=Object.create(null),o=!1;for(let[s,a]of this.#n){let l=a instanceof jn?a.serialize(!1,i):a;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),o||=!!l.bitmap)}if(o)for(let s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:DF}get editorStats(){let e=null,t=new Map;for(let r of this.#n.values()){if(!(r instanceof jn))continue;let i=r.telemetryFinalData;if(!i)continue;let{type:o}=i;t.has(o)||t.set(o,Object.getPrototypeOf(r).constructor),e||=Object.create(null);let s=e[o]||=new Map;for(let[a,l]of Object.entries(i)){if(a==="type")continue;let c=s.get(a);c||(c=new Map,s.set(a,c));let u=c.get(l)??0;c.set(l,u+1)}}for(let[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof jn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},GS=class extends My{#e;constructor(e){super();let{map:t,hash:r,transfer:i}=e.serializable,o=structuredClone(t,i?{transfer:i}:null);this.#e={map:o,hash:r,transfer:i}}get print(){ar("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return ln(this,"modifiedIds",{ids:new Set,hash:""})}},RF=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(r){return E(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(Mi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:i,src:o,style:s}=e,a=new FontFace(i,o,s);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(i),t?.(e)}catch{Yt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ar("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return E(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{yield r.loaded}catch(i){throw Yt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(r=>{let i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return ln(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ko||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ln(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Mi(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){let o=r.shift();setTimeout(o.callback,0)}}let{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ln(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(j,$){return j.charCodeAt($)<<24|j.charCodeAt($+1)<<16|j.charCodeAt($+2)<<8|j.charCodeAt($+3)&255}function i(j,$,Y,L){let T=j.substring(0,$),I=j.substring($+Y);return T+L+I}let o,s,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),c=0;function u(j,$){if(++c>30){Yt("Load test font never loaded."),$();return}if(l.font="30px "+j,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){$();return}setTimeout(u.bind(null,j,$))}let p=`lt${Date.now()}${this.loadTestFontId++}`,g=this._loadTestFont;g=i(g,976,p.length,p);let w=16,y=1482184792,x=r(g,w);for(o=0,s=p.length-3;o<s;o+=4)x=x-y+r(p,o)|0;o<p.length&&(x=x-y+r(p+"XXX",o)|0),g=i(g,w,4,xPe(x));let b=`url(data:font/opentype;base64,${btoa(g)});`,R=`@font-face {font-family:"${p}";src:${b}}`;this.insertRule(R);let V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(let j of[e.loadedName,p]){let $=this._document.createElement("span");$.textContent="Hi",$.style.fontFamily=j,V.append($)}this._document.body.append(V),u(p,()=>{V.remove(),t.complete()})}},PF=class{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(let i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=`url(data:${this.mimetype};base64,${TPe(this.data)});`,t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(o){Yt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(o,s){};let i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case qd.BEZIER_CURVE_TO:{let[a,l,c,u,p,g]=r.slice(o,o+6);i.push(v=>v.bezierCurveTo(a,l,c,u,p,g)),o+=6}break;case qd.MOVE_TO:{let[a,l]=r.slice(o,o+2);i.push(c=>c.moveTo(a,l)),o+=2}break;case qd.LINE_TO:{let[a,l]=r.slice(o,o+2);i.push(c=>c.lineTo(a,l)),o+=2}break;case qd.QUADRATIC_CURVE_TO:{let[a,l,c,u]=r.slice(o,o+4);i.push(p=>p.quadraticCurveTo(a,l,c,u)),o+=4}break;case qd.RESTORE:i.push(a=>a.restore());break;case qd.SAVE:i.push(a=>a.save());break;case qd.SCALE:Mi(i.length===2,"Scale command is only valid at the third position.");break;case qd.TRANSFORM:{let[a,l,c,u,p,g]=r.slice(o,o+6);i.push(v=>v.transform(a,l,c,u,p,g)),o+=6}break;case qd.TRANSLATE:{let[a,l]=r.slice(o,o+2);i.push(c=>c.translate(a,l)),o+=2}break}return this.compiledGlyphs[t]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](s)}}},KS=class{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ar("Abstract method `_createCanvas` called.")}},OF=class extends KS{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let r=this._document.createElement("canvas");return r.width=e,r.height=t,r}},YS=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return E(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})})}_fetch(e){return E(this,null,function*(){ar("Abstract method `_fetch` called.")})}},XS=class extends YS{_fetch(e){return E(this,null,function*(){let t=yield EI(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):CI(t)})}},ZS=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,o){return"none"}destroy(e=!1){}},NF=class extends ZS{#e;#t;#n;#r;#o;#i;#l=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#o=t}get#c(){return this.#t||=new Map}get#d(){return this.#i||=new Map}get#a(){if(!this.#n){let e=this.#o.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let r=this.#o.createElementNS(Gd,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#n=this.#o.createElementNS(Gd,"defs"),e.append(r),r.append(this.#n),this.#o.body.append(e)}return this.#n}#u(e){if(e.length===1){let l=e[0],c=new Array(256);for(let p=0;p<256;p++)c[p]=l[p]/255;let u=c.join(",");return[u,u,u]}let[t,r,i]=e,o=new Array(256),s=new Array(256),a=new Array(256);for(let l=0;l<256;l++)o[l]=t[l]/255,s[l]=r[l]/255,a[l]=i[l]/255;return[o.join(","),s.join(","),a.join(",")]}#s(e){if(this.#e===void 0){this.#e="";let t=this.#o.URL;t!==this.#o.baseURI&&(MI(t)?Yt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#c.get(e);if(t)return t;let[r,i,o]=this.#u(e),s=e.length===1?r:`${r}${i}${o}`;if(t=this.#c.get(s),t)return this.#c.set(e,t),t;let a=`g_${this.#r}_transfer_map_${this.#l++}`,l=this.#s(a);this.#c.set(e,l),this.#c.set(s,l);let c=this.#p(a);return this.#v(r,i,o,c),l}addHCMFilter(e,t){let r=`${e}-${t}`,i="base",o=this.#d.get(i);if(o?.key===r||(o?(o.filter?.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},this.#d.set(i,o)),!e||!t))return o.url;let s=this.#w(e);e=Ye.makeHexColor(...s);let a=this.#w(t);if(t=Ye.makeHexColor(...a),this.#a.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;let l=new Array(256);for(let v=0;v<=255;v++){let w=v/255;l[v]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}let c=l.join(","),u=`g_${this.#r}_hcm_filter`,p=o.filter=this.#p(u);this.#v(c,c,c,p),this.#f(p);let g=(v,w)=>{let y=s[v]/255,x=a[v]/255,b=new Array(w+1);for(let R=0;R<=w;R++)b[R]=y+R/w*(x-y);return b.join(",")};return this.#v(g(0,5),g(1,5),g(2,5),p),o.url=this.#s(u),o.url}addAlphaFilter(e){let t=this.#c.get(e);if(t)return t;let[r]=this.#u([e]),i=`alpha_${r}`;if(t=this.#c.get(i),t)return this.#c.set(e,t),t;let o=`g_${this.#r}_alpha_map_${this.#l++}`,s=this.#s(o);this.#c.set(e,s),this.#c.set(i,s);let a=this.#p(o);return this.#m(r,a),s}addLuminosityFilter(e){let t=this.#c.get(e||"luminosity");if(t)return t;let r,i;if(e?([r]=this.#u([e]),i=`luminosity_${r}`):i="luminosity",t=this.#c.get(i),t)return this.#c.set(e,t),t;let o=`g_${this.#r}_luminosity_map_${this.#l++}`,s=this.#s(o);this.#c.set(e,s),this.#c.set(i,s);let a=this.#p(o);return this.#h(a),e&&this.#m(r,a),s}addHighlightHCMFilter(e,t,r,i,o){let s=`${t}-${r}-${i}-${o}`,a=this.#d.get(e);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#d.set(e,a)),!t||!r))return a.url;let[l,c]=[t,r].map(this.#w.bind(this)),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),p=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,v]=[i,o].map(this.#w.bind(this));p<u&&([u,p,g,v]=[p,u,v,g]),this.#a.style.color="";let w=(b,R,V)=>{let j=new Array(256),$=(p-u)/V,Y=b/255,L=(R-b)/(255*V),T=0;for(let I=0;I<=V;I++){let B=Math.round(u+I*$),U=Y+I*L;for(let X=T;X<=B;X++)j[X]=U;T=B+1}for(let I=T;I<256;I++)j[I]=j[T-1];return j.join(",")},y=`g_${this.#r}_hcm_${e}_filter`,x=a.filter=this.#p(y);return this.#f(x),this.#v(w(g[0],v[0],5),w(g[1],v[1],5),w(g[2],v[2],5),x),a.url=this.#s(y),a.url}destroy(e=!1){e&&this.#d.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#h(e){let t=this.#o.createElementNS(Gd,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#f(e){let t=this.#o.createElementNS(Gd,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){let t=this.#o.createElementNS(Gd,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#a.append(t),t}#g(e,t,r){let i=this.#o.createElementNS(Gd,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#v(e,t,r,i){let o=this.#o.createElementNS(Gd,"feComponentTransfer");i.append(o),this.#g(o,"feFuncR",e),this.#g(o,"feFuncG",t),this.#g(o,"feFuncB",r)}#m(e,t){let r=this.#o.createElementNS(Gd,"feComponentTransfer");t.append(r),this.#g(r,"feFuncA",e)}#w(e){return this.#a.style.color=e,$B(getComputedStyle(this.#a).getPropertyValue("color"))}},QS=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return E(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let r=`${this.baseUrl}${e}`;return this._fetch(r).catch(i=>{throw new Error(`Unable to load font data at: ${r}`)})})}_fetch(e){return E(this,null,function*(){ar("Abstract method `_fetch` called.")})}},JS=class extends QS{_fetch(e){return E(this,null,function*(){let t=yield EI(e,"arraybuffer");return new Uint8Array(t)})}};ko&&(BS=Promise.withResolvers(),VS=null,E(null,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),r=yield import("./chunk-ALIQTIYY.js"),i=yield import("./chunk-NYZOWURK.js"),o,s;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:o,path2d:s}))}).then(e=>{VS=e,BS.resolve()},e=>{Yt(`loadPackages: ${e}`),VS=new Map,BS.resolve()}));var BS,VS,fc=class{static get promise(){return BS.promise}static get(e){return VS?.get(e)}};function Vre(n){return E(this,null,function*(){let t=yield fc.get("fs").promises.readFile(n);return new Uint8Array(t)})}var LF=class extends ZS{},FF=class extends KS{_createCanvas(e,t){return fc.get("canvas").createCanvas(e,t)}},BF=class extends YS{_fetch(e){return E(this,null,function*(){return Vre(e)})}},VF=class extends QS{_fetch(e){return E(this,null,function*(){return Vre(e)})}},Ko={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function jF(n,e){if(!e)return;let t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}var Sy=class{getPattern(){ar("Abstract method `getPattern` called.")}},HF=class extends Sy{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let o;if(i===Ko.STROKE||i===Ko.FILL){let s=t.current.getClippedPathBoundingBox(i,Sr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),r=Ye.transform(r,[1,0,0,1,s[0],s[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),jF(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),o=e.createPattern(c.canvas,"no-repeat");let p=new DOMMatrix(r);o.setTransform(p)}else jF(e,this._bbox),o=this._createGradient(e);return o}};function _F(n,e,t,r,i,o,s,a){let l=e.coords,c=e.colors,u=n.data,p=n.width*4,g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=o,o=s,s=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=s,s=a,a=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=o,o=s,s=g);let v=(l[t]+e.offsetX)*e.scaleX,w=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,R=(l[i+1]+e.offsetY)*e.scaleY;if(w>=R)return;let V=c[o],j=c[o+1],$=c[o+2],Y=c[s],L=c[s+1],T=c[s+2],I=c[a],B=c[a+1],U=c[a+2],X=Math.round(w),z=Math.round(R),tt,gt,Tt,Re,be,er,So,ai;for(let vn=X;vn<=z;vn++){if(vn<x){let et=vn<w?0:(w-vn)/(w-x);tt=v-(v-y)*et,gt=V-(V-Y)*et,Tt=j-(j-L)*et,Re=$-($-T)*et}else{let et;vn>R?et=1:x===R?et=0:et=(x-vn)/(x-R),tt=y-(y-b)*et,gt=Y-(Y-I)*et,Tt=L-(L-B)*et,Re=T-(T-U)*et}let ze;vn<w?ze=0:vn>R?ze=1:ze=(w-vn)/(w-R),be=v-(v-b)*ze,er=V-(V-I)*ze,So=j-(j-B)*ze,ai=$-($-U)*ze;let Wn=Math.round(Math.min(tt,be)),Si=Math.round(Math.max(tt,be)),wr=p*vn+Wn*4;for(let et=Wn;et<=Si;et++)ze=(tt-et)/(tt-be),ze<0?ze=0:ze>1&&(ze=1),u[wr++]=gt-(gt-er)*ze|0,u[wr++]=Tt-(Tt-So)*ze|0,u[wr++]=Re-(Re-ai)*ze|0,u[wr++]=255}}function NPe(n,e,t){let r=e.coords,i=e.colors,o,s;switch(e.type){case"lattice":let a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(o=0;o<l;o++){let u=o*a;for(let p=0;p<c;p++,u++)_F(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),_F(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)_F(n,t,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}var UF=class extends Sy{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),v=c/p,w=u/g,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/v,scaleY:1/w},x=p+4,b=g+4,R=r.getCanvas("mesh",x,b),V=R.context,j=V.createImageData(p,g);if(t){let Y=j.data;for(let L=0,T=Y.length;L<T;L+=4)Y[L]=t[0],Y[L+1]=t[1],Y[L+2]=t[2],Y[L+3]=255}for(let Y of this._figures)NPe(j,Y,y);return V.putImageData(j,2,2),{canvas:R.canvas,offsetX:a-2*v,offsetY:l-2*w,scaleX:v,scaleY:w}}getPattern(e,t,r,i){jF(e,this._bbox);let o;if(i===Ko.SHADING)o=Ye.singularValueDecompose2dScale(Sr(e));else if(o=Ye.singularValueDecompose2dScale(t.baseTransform),this.matrix){let a=Ye.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}let s=this._createMeshCanvas(o,i===Ko.SHADING?null:this._background,t.cachedCanvases);return i!==Ko.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}},$F=class extends Sy{getPattern(){return"hotpink"}};function LPe(n){switch(n[0]){case"RadialAxial":return new HF(n);case"Mesh":return new UF(n);case"Dummy":return new $F}throw new Error(`Unknown IR type: ${n[0]}`)}var Mre={COLORED:1,UNCOLORED:2},FPe=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,r,i,o,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=r,this.ctx=i,this.canvasGraphicsFactory=o,this.baseTransform=s}createPatternCanvas(t){let{bbox:r,operatorList:i,paintType:o,tilingType:s,color:a,canvasGraphicsFactory:l}=this,{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),xI("TilingType: "+s);let p=r[0],g=r[1],v=r[2],w=r[3],y=v-p,x=w-g,b=Ye.singularValueDecompose2dScale(this.matrix),R=Ye.singularValueDecompose2dScale(this.baseTransform),V=b[0]*R[0],j=b[1]*R[1],$=y,Y=x,L=!1,T=!1,I=Math.ceil(c*V),B=Math.ceil(u*j),U=Math.ceil(y*V),X=Math.ceil(x*j);I>=U?$=c:L=!0,B>=X?Y=u:T=!0;let z=this.getSizeAndScale($,this.ctx.canvas.width,V),tt=this.getSizeAndScale(Y,this.ctx.canvas.height,j),gt=t.cachedCanvases.getCanvas("pattern",z.size,tt.size),Tt=gt.context,Re=l.createCanvasGraphics(Tt);if(Re.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Re,o,a),Tt.translate(-z.scale*p,-tt.scale*g),Re.transform(z.scale,0,0,tt.scale,0,0),Tt.save(),this.clipBbox(Re,p,g,v,w),Re.baseTransform=Sr(Re.ctx),Re.executeOperatorList(i),Re.endDrawing(),Tt.restore(),L||T){let be=gt.canvas;L&&($=c),T&&(Y=u);let er=this.getSizeAndScale($,this.ctx.canvas.width,V),So=this.getSizeAndScale(Y,this.ctx.canvas.height,j),ai=er.size,vn=So.size,ze=t.cachedCanvases.getCanvas("pattern-workaround",ai,vn),Wn=ze.context,Si=L?Math.floor(y/c):0,wr=T?Math.floor(x/u):0;for(let et=0;et<=Si;et++)for(let io=0;io<=wr;io++)Wn.drawImage(be,ai*et,vn*io,ai,vn,0,0,ai,vn);return{canvas:ze.canvas,scaleX:er.scale,scaleY:So.scale,offsetX:p,offsetY:g}}return{canvas:gt.canvas,scaleX:z.scale,scaleY:tt.scale,offsetX:p,offsetY:g}}getSizeAndScale(t,r,i){let o=Math.max(n.MAX_PATTERN_SIZE,r),s=Math.ceil(t*i);return s>=o?s=o:i=s/t,{scale:i,size:s}}clipBbox(t,r,i,o,s){let a=o-r,l=s-i;t.ctx.rect(r,i,a,l),t.current.updateRectMinMax(Sr(t.ctx),[r,i,o,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,r,i){let o=t.ctx,s=t.current;switch(r){case Mre.COLORED:let a=this.ctx;o.fillStyle=a.fillStyle,o.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case Mre.UNCOLORED:let l=Ye.makeHexColor(i[0],i[1],i[2]);o.fillStyle=l,o.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new xF(`Unsupported paint type: ${r}`)}}getPattern(t,r,i,o){let s=i;o!==Ko.SHADING&&(s=Ye.transform(s,r.baseTransform),this.matrix&&(s=Ye.transform(s,this.matrix)));let a=this.createPatternCanvas(r),l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let c=t.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return n})();function BPe({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){let a=to.isLittleEndian?4278190080:255,[l,c]=s?[o,a]:[a,o],u=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let w=0;w<i;w++){for(let x=e+u;e<x;e++){let b=e<g?n[e]:255;t[v++]=b&128?c:l,t[v++]=b&64?c:l,t[v++]=b&32?c:l,t[v++]=b&16?c:l,t[v++]=b&8?c:l,t[v++]=b&4?c:l,t[v++]=b&2?c:l,t[v++]=b&1?c:l}if(p===0)continue;let y=e<g?n[e++]:255;for(let x=0;x<p;x++)t[v++]=y&1<<7-x?c:l}return{srcPos:e,destPos:v}}var Sre=16,Ire=100,VPe=15,Tre=10,Are=1e3,gs=16;function jPe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},n.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,o,s,a){e.bezierCurveTo(t,r,i,o,s,a),this.__originalBezierCurveTo(t,r,i,o,s,a)},n.rect=function(t,r,i,o){e.rect(t,r,i,o),this.__originalRect(t,r,i,o)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var zF=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function DS(n,e,t,r,i,o,s,a,l,c){let[u,p,g,v,w,y]=Sr(n);if(p===0&&g===0){let R=s*u+w,V=Math.round(R),j=a*v+y,$=Math.round(j),Y=(s+l)*u+w,L=Math.abs(Math.round(Y)-V)||1,T=(a+c)*v+y,I=Math.abs(Math.round(T)-$)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(v),V,$),n.drawImage(e,t,r,i,o,0,0,L,I),n.setTransform(u,p,g,v,w,y),[L,I]}if(u===0&&v===0){let R=a*g+w,V=Math.round(R),j=s*p+y,$=Math.round(j),Y=(a+c)*g+w,L=Math.abs(Math.round(Y)-V)||1,T=(s+l)*p+y,I=Math.abs(Math.round(T)-$)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,V,$),n.drawImage(e,t,r,i,o,0,0,I,L),n.setTransform(u,p,g,v,w,y),[I,L]}n.drawImage(e,t,r,i,o,s,a,l,c);let x=Math.hypot(u,p),b=Math.hypot(g,v);return[x*l,b*c]}function HPe(n){let{width:e,height:t}=n;if(e>Are||t>Are)return null;let r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1,s=new Uint8Array(o*(t+1)),a,l,c,u=e+7&-8,p=new Uint8Array(u*t),g=0;for(let b of n.data){let R=128;for(;R>0;)p[g++]=b&R?0:255,R>>=1}let v=0;for(g=0,p[g]!==0&&(s[0]=1,++v),l=1;l<e;l++)p[g]!==p[g+1]&&(s[l]=p[g]?2:1,++v),g++;for(p[g]!==0&&(s[l]=2,++v),a=1;a<t;a++){g=a*u,c=a*o,p[g-u]!==p[g]&&(s[c]=p[g]?1:8,++v);let b=(p[g]?4:0)+(p[g-u]?8:0);for(l=1;l<e;l++)b=(b>>2)+(p[g+1]?4:0)+(p[g-u+1]?8:0),i[b]&&(s[c+l]=i[b],++v),g++;if(p[g-u]!==p[g]&&(s[c+l]=p[g]?2:4,++v),v>r)return null}for(g=u*(t-1),c=a*o,p[g]!==0&&(s[c]=8,++v),l=1;l<e;l++)p[g]!==p[g+1]&&(s[c+l]=p[g]?4:8,++v),g++;if(p[g]!==0&&(s[c+l]=4,++v),v>r)return null;let w=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(a=0;v&&a<=t;a++){let b=a*o,R=b+e;for(;b<R&&!s[b];)b++;if(b===R)continue;y.moveTo(b%o,a);let V=b,j=s[b];do{let $=w[j];do b+=$;while(!s[b]);let Y=s[b];Y!==5&&Y!==10?(j=Y,s[b]=0):(j=Y&51*j>>4,s[b]&=j>>2|j<<2),y.lineTo(b%o,b/o|0),s[b]||--v}while(V!==b);--a}return p=null,s=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(y),b.beginPath(),b.restore()}}var eI=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Fre,this.textMatrixScale=1,this.fontMatrix=bF,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=yo.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Ye.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){let r=Ye.applyTransform(t,e),i=Ye.applyTransform(t.slice(2),e),o=Ye.applyTransform([t[0],t[3]],e),s=Ye.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,t){Ye.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,o,s,a,l,c,u){let p=Ye.bezierBoundingBox(t,r,i,o,s,a,l,c,u);u||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Ko.FILL,t=null){let r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ko.STROKE){t||ar("Stroke bounding box must include transform.");let i=Ye.singularValueDecompose2dScale(t),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){let e=Ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ko.FILL,t=null){return Ye.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function Dre(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,r=e.width,i=t%gs,o=(t-i)/gs,s=i===0?o:o+1,a=n.createImageData(r,gs),l=0,c,u=e.data,p=a.data,g,v,w,y;if(e.kind===FS.GRAYSCALE_1BPP){let x=u.byteLength,b=new Uint32Array(p.buffer,0,p.byteLength>>2),R=b.length,V=r+7>>3,j=4294967295,$=to.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(w=g<o?gs:i,c=0,v=0;v<w;v++){let Y=x-l,L=0,T=Y>V?r:Y*8-7,I=T&-8,B=0,U=0;for(;L<I;L+=8)U=u[l++],b[c++]=U&128?j:$,b[c++]=U&64?j:$,b[c++]=U&32?j:$,b[c++]=U&16?j:$,b[c++]=U&8?j:$,b[c++]=U&4?j:$,b[c++]=U&2?j:$,b[c++]=U&1?j:$;for(;L<T;L++)B===0&&(U=u[l++],B=128),b[c++]=U&B?j:$,B>>=1}for(;c<R;)b[c++]=0;n.putImageData(a,0,g*gs)}}else if(e.kind===FS.RGBA_32BPP){for(v=0,y=r*gs*4,g=0;g<o;g++)p.set(u.subarray(l,l+y)),l+=y,n.putImageData(a,0,v),v+=gs;g<s&&(y=r*i*4,p.set(u.subarray(l,l+y)),n.putImageData(a,0,v))}else if(e.kind===FS.RGB_24BPP)for(w=gs,y=r*w,g=0;g<s;g++){for(g>=o&&(w=i,y=r*w),c=0,v=y;v--;)p[c++]=u[l++],p[c++]=u[l++],p[c++]=u[l++],p[c++]=255;n.putImageData(a,0,g*gs)}else throw new Error(`bad image kind: ${e.kind}`)}function Rre(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,r=e.width,i=t%gs,o=(t-i)/gs,s=i===0?o:o+1,a=n.createImageData(r,gs),l=0,c=e.data,u=a.data;for(let p=0;p<s;p++){let g=p<o?gs:i;({srcPos:l}=BPe({src:c,srcPos:l,dest:u,width:r,height:g,nonBlackColor:0})),n.putImageData(a,0,p*gs)}}function my(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function RS(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!ko){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Pre(n,e){if(e)return!0;let t=Ye.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let r=Math.fround((globalThis.devicePixelRatio||1)*Nh.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}var UPe=["butt","round","square"],$Pe=["miter","round","bevel"],zPe={},Ore={},V1=class n{constructor(e,t,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,c){this.ctx=e,this.current=new eI(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new zF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){let o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){let l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Sr(this.compositeCtx))}this.ctx.save(),RS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Sr(this.ctx)}executeOperatorList(e,t,r,i){let o=e.argsArray,s=e.fnArray,a=t||0,l=o.length;if(l===a)return a;let c=l-a>Tre&&typeof r=="function",u=c?Date.now()+VPe:0,p=0,g=this.commonObjs,v=this.objs,w;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(w=s[a],w!==tl.dependency)this[w].apply(this,o[a]);else for(let y of o[a]){let x=y.startsWith("g_")?g:v;if(!x.has(y))return x.get(y,r),a}if(a++,a===l)return a;if(c&&++p>Tre){if(Date.now()>u)return r(),a;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let r=e.width??e.displayWidth,i=e.height??e.displayHeight,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,p;for(;o>2&&a>1||s>2&&l>1;){let g=a,v=l;o>2&&a>1&&(g=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/g),s>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/v),u=this.cachedCanvases.getCanvas(c,g,v),p=u.context,p.clearRect(0,0,g,v),p.drawImage(e,0,0,a,l,0,0,g,v),e=u.canvas,a=g,l=v,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){let t=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=Sr(t),l,c,u,p;if((e.bitmap||e.data)&&e.count>1){let T=e.bitmap||e.data.buffer;c=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(T),l||(l=new Map,this._cachedBitmapsMap.set(T,l));let I=l.get(c);if(I&&!s){let B=Math.round(Math.min(a[0],a[2])+a[4]),U=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:I,offsetX:B,offsetY:U}}u=I}u||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),Rre(p.context,e));let g=Ye.transform(a,[1/r,0,0,-1/i,0,0]);g=Ye.transform(g,[1,0,0,1,0,-i]);let[v,w,y,x]=Ye.getAxialAlignedBoundingBox([0,0,r,i],g),b=Math.round(y-v)||1,R=Math.round(x-w)||1,V=this.cachedCanvases.getCanvas("fillCanvas",b,R),j=V.context,$=v,Y=w;j.translate(-$,-Y),j.transform(...g),u||(u=this._scaleImage(p.canvas,Wd(j)),u=u.img,l&&s&&l.set(c,u)),j.imageSmoothingEnabled=Pre(Sr(j),e.interpolate),DS(j,u,0,0,u.width,u.height,0,0,r,i),j.globalCompositeOperation="source-in";let L=Ye.transform(Wd(j),[1,0,0,1,-$,-Y]);return j.fillStyle=s?o.getPattern(t,this,L,Ko.FILL):o,j.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,V.canvas)),{canvas:V.canvas,offsetX:Math.round($),offsetY:Math.round(Y)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=UPe[e]}setLineJoin(e){this.ctx.lineJoin=$Pe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;let o=this.ctx;o.setTransform(...Sr(this.suspendedCtx)),my(this.suspendedCtx,o),jPe(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),my(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){let o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,o,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,o,s,a,l,c,u,p){let g=e.canvas,v=l-u,w=c-p;if(s){let x=Ye.makeHexColor(...s);if(v<0||w<0||v+r>g.width||w+i>g.height){let b=this.cachedCanvases.getCanvas("maskExtension",r,i),R=b.context;R.drawImage(g,-v,-w),R.globalCompositeOperation="destination-atop",R.fillStyle=x,R.fillRect(0,0,r,i),R.globalCompositeOperation="source-over",g=b.canvas,v=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let b=new Path2D;b.rect(v,w,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=x,e.fillRect(v,w,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));let y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(g,v,w,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(my(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),my(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,o,s){this.ctx.transform(e,t,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let i=this.ctx,o=this.current,s=o.x,a=o.y,l,c,u=Sr(i),p=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,g=p?r.slice(0):null;for(let v=0,w=0,y=e.length;v<y;v++)switch(e[v]|0){case tl.rectangle:s=t[w++],a=t[w++];let x=t[w++],b=t[w++],R=s+x,V=a+b;i.moveTo(s,a),x===0||b===0?i.lineTo(R,V):(i.lineTo(R,a),i.lineTo(R,V),i.lineTo(s,V)),p||o.updateRectMinMax(u,[s,a,R,V]),i.closePath();break;case tl.moveTo:s=t[w++],a=t[w++],i.moveTo(s,a),p||o.updatePathMinMax(u,s,a);break;case tl.lineTo:s=t[w++],a=t[w++],i.lineTo(s,a),p||o.updatePathMinMax(u,s,a);break;case tl.curveTo:l=s,c=a,s=t[w+4],a=t[w+5],i.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],s,a),o.updateCurvePathMinMax(u,l,c,t[w],t[w+1],t[w+2],t[w+3],s,a,g),w+=6;break;case tl.curveTo2:l=s,c=a,i.bezierCurveTo(s,a,t[w],t[w+1],t[w+2],t[w+3]),o.updateCurvePathMinMax(u,l,c,s,a,t[w],t[w+1],t[w+2],t[w+3],g),s=t[w+2],a=t[w+3],w+=4;break;case tl.curveTo3:l=s,c=a,s=t[w+2],a=t[w+3],i.bezierCurveTo(t[w],t[w+1],s,a,s,a),o.updateCurvePathMinMax(u,l,c,t[w],t[w+1],s,a,s,a,g),w+=4;break;case tl.closePath:i.closePath();break}p&&o.updateScalingPathMinMax(u,g),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&r?.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,Wd(t),Ko.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,o=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Wd(t),Ko.FILL),o=!0);let s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zPe}eoClip(){this.pendingClip=Ore}beginText(){this.current.textMatrix=Fre,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||bF,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Yt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;let o=r.loadedName||"sans-serif",s=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`,a="normal";r.black?a="900":r.bold&&(a="bold");let l=r.italic?"italic":"normal",c=t;t<Sre?c=Sre:t>Ire&&(c=Ire),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,o,s){this.current.textMatrix=[e,t,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){let o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,u=l&yo.FILL_STROKE_MASK,p=!!(l&yo.ADD_TO_PATH_FLAG),g=s.patternFill&&!a.missingFile,v;(a.disableFontFace||p||g)&&(v=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||g?(o.save(),o.translate(t,r),o.beginPath(),v(o,c),i&&o.setTransform(...i),(u===yo.FILL||u===yo.FILL_STROKE)&&o.fill(),(u===yo.STROKE||u===yo.FILL_STROKE)&&o.stroke(),o.restore()):((u===yo.FILL||u===yo.FILL_STROKE)&&o.fillText(e,t,r),(u===yo.STROKE||u===yo.FILL_STROKE)&&o.strokeText(e,t,r)),p&&(this.pendingTextPaths||=[]).push({transform:Sr(o),x:t,y:r,fontSize:c,addToPath:v})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return ln(this,"isFontSubpixelAAEnabled",r)}showText(e){let t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);let i=t.fontSize;if(i===0)return;let o=this.ctx,s=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,p=e.length,g=r.vertical,v=g?1:-1,w=r.defaultVMetrics,y=i*t.fontMatrix[0],x=t.textRenderingMode===yo.FILL&&!r.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),c>0?o.scale(u,-1):o.scale(u,1);let b;if(t.patternFill){o.save();let Y=t.fillColor.getPattern(o,this,Wd(o),Ko.FILL);b=Sr(o),o.restore(),o.fillStyle=Y}let R=t.lineWidth,V=t.textMatrixScale;if(V===0||R===0){let Y=t.textRenderingMode&yo.FILL_STROKE_MASK;(Y===yo.STROKE||Y===yo.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=V;if(s!==1&&(o.scale(s,s),R/=s),o.lineWidth=R,r.isInvalidPDFjsFont){let Y=[],L=0;for(let T of e)Y.push(T.unicode),L+=T.width;o.fillText(Y.join(""),0,0),t.x+=L*y*u,o.restore(),this.compose();return}let j=0,$;for($=0;$<p;++$){let Y=e[$];if(typeof Y=="number"){j+=v*Y*i/1e3;continue}let L=!1,T=(Y.isSpace?l:0)+a,I=Y.fontChar,B=Y.accent,U,X,z=Y.width;if(g){let gt=Y.vmetric||w,Tt=-(Y.vmetric?gt[1]:z*.5)*y,Re=gt[2]*y;z=gt?-gt[0]:z,U=Tt/s,X=(j+Re)/s}else U=j/s,X=0;if(r.remeasure&&z>0){let gt=o.measureText(I).width*1e3/i*s;if(z<gt&&this.isFontSubpixelAAEnabled){let Tt=z/gt;L=!0,o.save(),o.scale(Tt,1),U/=Tt}else z!==gt&&(U+=(z-gt)/2e3*i/s)}if(this.contentVisible&&(Y.isInFont||r.missingFile)){if(x&&!B)o.fillText(I,U,X);else if(this.paintChar(I,U,X,b),B){let gt=U+i*B.offset.x/s,Tt=X-i*B.offset.y/s;this.paintChar(B.fontChar,gt,Tt,b)}}let tt=g?z*y-T*c:z*y+T*c;j+=tt,L&&o.restore()}g?t.y-=j:t.x+=j*u,o.restore(),this.compose()}showType3Text(e){let t=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*s,p=r.fontMatrix||bF,g=e.length,v=r.textRenderingMode===yo.INVISIBLE,w,y,x,b;if(!(v||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,s),w=0;w<g;++w){if(y=e[w],typeof y=="number"){b=a*y*o/1e3,this.ctx.translate(b,0),r.x+=b*u;continue}let R=(y.isSpace?c:0)+l,V=i.charProcOperatorList[y.operatorListId];if(!V){Yt(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(o,o),t.transform(...p),this.executeOperatorList(V),this.restore()),x=Ye.applyTransform([y.width,0],p)[0]*o+R,t.translate(x,0),r.x+=x*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let r=e[1],i=this.baseTransform||Sr(this.ctx),o={createCanvasGraphics:s=>new n(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new FPe(e,r,this.ctx,o,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=Ye.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=Ye.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=LPe(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Wd(t),Ko.SHADING);let i=Wd(t);if(i){let{width:o,height:s}=t.canvas,[a,l,c,u]=Ye.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ar("Should not call beginInlineImage")}beginImageData(){ar("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Sr(this.ctx),t)){let r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Sr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||xI("TODO: Support non-isolated groups."),e.knockout&&Yt("Knockout groups not supported.");let r=Sr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ye.getAxialAlignedBoundingBox(e.bbox,Sr(t)),o=[0,0,t.canvas.width,t.canvas.height];i=Ye.intersect(i,o)||[0,0,0,0];let s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);let p=this.cachedCanvases.getCanvas(u,l,c),g=p.context;g.translate(-s,-a),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),my(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let i=Sr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);let o=Ye.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,o){if(this.#e(),RS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let s=t[2]-t[0],a=t[3]-t[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=a;let[l,c]=Ye.singularValueDecompose2dScale(Sr(this.ctx)),{viewportScale:u}=this,p=Math.ceil(s*this.outputScaleX*u),g=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(p,g);let{canvas:v,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),RS(this.ctx)}else RS(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],s,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new eI(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=HPe(e)),i.compiled)){i.compiled(r);return}let o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);let a=this.ctx;a.save();let l=Sr(a);a.transform(t,r,i,o,0,0);let c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,p=s.length;u<p;u+=2){let g=Ye.transform(l,[t,r,i,o,s[u],s[u+1]]),[v,w]=Ye.applyTransform([0,0],g);a.drawImage(c.canvas,v,w)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(let o of e){let{data:s,width:a,height:l,transform:c}=o,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),p=u.context;p.save();let g=this.getObject(s,o);Rre(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,Wd(t),Ko.FILL):r,p.fillRect(0,0,a,l),p.restore(),t.save(),t.transform(...c),t.scale(1,-1),DS(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){Yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;let o=this.getObject(e);if(!o){Yt("Dependent image isn't ready yet");return}let s=o.width,a=o.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,r=e.height,i=this.ctx;if(this.save(),!ko){let{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{let l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;Dre(l,e),o=this.applyTransferMapsToCanvas(l)}let s=this._scaleImage(o,Wd(i));i.imageSmoothingEnabled=Pre(Sr(i),e.interpolate),DS(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let r=this.ctx,i;if(e.bitmap)i=e.bitmap;else{let o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;Dre(l,e),i=this.applyTransferMapsToCanvas(l)}for(let o of t)r.save(),r.transform(...o.transform),r.scale(1,-1),DS(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Ore?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=Sr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:r,c:i,d:o}=this.ctx.getTransform(),s,a;if(r===0&&i===0){let l=Math.abs(t),c=Math.abs(o);if(l===c)if(e===0)s=a=1/l;else{let u=l*e;s=a=u<1?1/u:1}else if(e===0)s=1/l,a=1/c;else{let u=l*e,p=c*e;s=u<1?1/u:1,a=p<1?1/p:1}}else{let l=Math.abs(t*o-r*i),c=Math.hypot(t,r),u=Math.hypot(i,o);if(e===0)s=u/l,a=c/l;else{let p=e*l;s=u>p?u/p:1,a=c>p?c/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&o===1){t.stroke();return}let s=t.getLineDash();if(e&&t.save(),t.scale(i,o),s.length>0){let a=Math.max(i,o);t.setLineDash(s.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in tl)V1.prototype[n]!==void 0&&(V1.prototype[tl[n]]=V1.prototype[n]);var rg=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},PS={UNKNOWN:0,DATA:1,ERROR:2},si={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Bs(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ar('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Xd(n.message);case"MissingPDFException":return new Yd(n.message);case"PasswordException":return new yy(n.message,n.code);case"UnexpectedResponseException":return new $1(n.message,n.status);case"UnknownErrorException":return new ky(n.message,n.details);default:return new ky(n.message,n.toString())}}var eg=class{#e=new AbortController;constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){let r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===PS.DATA)i.resolve(e.data);else if(e.callback===PS.ERROR)i.reject(Bs(e.reason));else throw new Error("Unexpected callback case");return}let t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){let r=this.sourceName,i=e.sourceName,o=this.comObj;new Promise(function(s){s(t(e.data))}).then(function(s){o.postMessage({sourceName:r,targetName:i,callback:PS.DATA,callbackId:e.callbackId,data:s})},function(s){o.postMessage({sourceName:r,targetName:i,callback:PS.ERROR,callbackId:e.callbackId,reason:Bs(s)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){let r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){let i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,t,r,i){let o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{let u=Promise.withResolvers();return this.streamControllers[o]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{let u=Promise.withResolvers();return this.streamControllers[o].pullCall=u,l.postMessage({sourceName:s,targetName:a,stream:si.PULL,streamId:o,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Mi(c instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[o].cancelCall=u,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:si.CANCEL,streamId:o,reason:Bs(c)}),u.promise}},r)}#n(e){let t=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,p){if(this.isCancelled)return;let g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:si.ENQUEUE,streamId:t,chunk:c},p)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:si.CLOSE,streamId:t}),delete s.streamSinks[t])},error(c){Mi(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:si.ERROR,streamId:t,reason:Bs(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:si.START_COMPLETE,streamId:t,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:si.START_COMPLETE,streamId:t,reason:Bs(c)})})}#r(e){let t=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case si.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Bs(e.reason));break;case si.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Bs(e.reason));break;case si.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:si.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:si.PULL_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:si.PULL_COMPLETE,streamId:t,reason:Bs(l)})});break;case si.ENQUEUE:if(Mi(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case si.CLOSE:if(Mi(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#o(s,t);break;case si.ERROR:Mi(s,"error should have stream controller"),s.controller.error(Bs(e.reason)),this.#o(s,t);break;case si.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Bs(e.reason)),this.#o(s,t);break;case si.CANCEL:if(!a)break;new Promise(function(l){l(a.onCancel?.(Bs(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:si.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:si.CANCEL_COMPLETE,streamId:t,reason:Bs(l)})}),a.sinkCapability.reject(Bs(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#o(e,t){return E(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.#e?.abort(),this.#e=null}},qF=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return jB(this.#e)}has(e){return this.#e.has(e)}},B1=Symbol("INTERNAL"),WF=class{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:r,usage:i,rbGroups:o}){this.#e=!!(e&Vs.DISPLAY),this.#t=!!(e&Vs.PRINT),this.name=t,this.intent=r,this.usage=i,this.rbGroups=o}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,r=!1){e!==B1&&ar("Internal method `_setVisible` called."),this.#n=r,this.#r=t}},GF=class{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=Vs.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(let r of e.groups)this.#t.set(r.id,new WF(t,r));if(e.baseState==="OFF")for(let r of this.#t.values())r._setVisible(B1,!1);for(let r of e.on)this.#t.get(r)._setVisible(B1,!0);for(let r of e.off)this.#t.get(r)._setVisible(B1,!1);this.#n=this.getHash()}}#o(e){let t=e.length;if(t<2)return!0;let r=e[0];for(let i=1;i<t;i++){let o=e[i],s;if(Array.isArray(o))s=this.#o(o);else if(this.#t.has(o))s=this.#t.get(o).visible;else return Yt(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return xI("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Yt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#o(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return Yt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return Yt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return Yt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return Yt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Yt(`Unknown optional content policy ${e.policy}.`),!0}return Yt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){let i=this.#t.get(e);if(!i){Yt(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(let o of i.rbGroups)for(let s of o)s!==e&&this.#t.get(s)?._setVisible(B1,!1,!0);i._setVisible(B1,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let r;for(let i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}let o=this.#t.get(i);if(o)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!o.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?jB(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new WS;for(let[t,r]of this.#t)e.update(`${t}:${r.visible}`);return this.#e=e.hexdigest()}},KF=class{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Mi(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,o?.length>0){let l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{let i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});Mi(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new YF(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=new XF(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},YF=class{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=UB(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return E(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},XF=class{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return E(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function qPe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),o(u)}if(t=s(n),t){let u=c(t);return o(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),o(u)}function r(u,p){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(u,p){if(u){if(!/^[\x00-\xFF]+$/.test(p))return p;try{let g=new TextDecoder(u,{fatal:!0}),v=CI(p);p=g.decode(v),e=!1}catch{}}return p}function o(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function s(u){let p=[],g,v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(u))!==null;){let[,y,x,b]=g;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[x,b]}let w=[];for(let y=0;y<p.length&&y in p;++y){let[x,b]=p[y];b=a(b),x&&(b=unescape(b),y===0&&(b=l(b))),w.push(b)}return w.join("")}function a(u){if(u.startsWith('"')){let p=u.slice(1).split('\\"');for(let g=0;g<p.length;++g){let v=p[g].indexOf('"');v!==-1&&(p[g]=p[g].slice(0,v),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}u=p.join('"')}return u}function l(u){let p=u.indexOf("'");if(p===-1)return u;let g=u.slice(0,p),w=u.slice(p+1).replace(/^[^']*'/,"");return i(g,w)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,x){return String.fromCharCode(parseInt(x,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function zB(n,e){let t=new Headers;if(!n||!e||typeof e!="object")return t;for(let r in e){let i=e[r];i!==void 0&&t.append(r,i)}return t}function qB({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){let i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function WB(n){let e=n.get("Content-Disposition");if(e){let t=qPe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(UB(t))return t}return null}function SI(n,e){return n===404||n===0&&e.startsWith("file:")?new Yd('Missing PDF "'+e+'".'):new $1(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function jre(n){return n===200||n===206}function Hre(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ure(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Yt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var tI=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=zB(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Mi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZF(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=new QF(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},ZF=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;let r=new Headers(e.headers),i=t.url;fetch(i,Hre(r,this._withCredentials,this._abortController)).then(o=>{if(!jre(o.status))throw SI(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();let s=o.headers,{allowRangeRequests:a,suggestedLength:l}=qB({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=WB(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Xd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return E(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Ure(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},QF=class{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;let i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;let o=new Headers(e.headers);o.append("Range",`bytes=${t}-${r-1}`);let s=i.url;fetch(s,Hre(o,this._withCredentials,this._abortController)).then(a=>{if(!jre(a.status))throw SI(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return E(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Ure(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},yF=200,kF=206;function WPe(n){let e=n.response;return typeof e!="string"?e:CI(e).buffer}var JF=class{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=zB(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){let i={begin:e,end:t};for(let o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let[o,s]of this.headers)t.setRequestHeader(o,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=kF):i.expectedStatus=yF,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){let r=this.pendingRequests[e];r&&r.onProgress?.(t)}onStateChange(e,t){let r=this.pendingRequests[e];if(!r)return;let i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError?.(i.status);return}let o=i.status||yF;if(!(o===yF&&r.expectedStatus===kF)&&o!==r.expectedStatus){r.onError?.(i.status);return}let a=WPe(i);if(o===kF){let l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);r.onDone({begin:parseInt(c[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):r.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},eB=class{constructor(e){this._source=e,this._manager=new JF(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tB(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let r=new nB(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},tB=class{constructor(e,t){this._manager=e;let r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{let[a,...l]=s.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:o}=qB({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=WB(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=SI(e,this._url),this._headersCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return E(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},nB=class{constructor(e,t,r){this._manager=e;let i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=SI(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return E(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},GPe=/^[a-z][a-z0-9\-+.]+:/i;function KPe(n){if(GPe.test(n))return new URL(n);let e=fc.get("url");return new URL(e.pathToFileURL(n))}function $re(n,e,t){return n.protocol==="http:"?fc.get("http").request(n,{headers:e},t):fc.get("https").request(n,{headers:e},t)}var rB=class{constructor(e){this.source=e,this.url=KPe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=zB(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Mi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sB(this):new iB(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=this.isFsUrl?new aB(this,e,t):new oB(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},nI=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return E(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Xd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},rI=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return E(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},iB=class extends nI{constructor(e){super(e);let t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){let l=new Yd(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);let o=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:a}=qB({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=WB(o)};this._request=$re(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}},oB=class extends rI{constructor(e,t,r){super(e);let i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;let o=s=>{if(s.statusCode===404){let a=new Yd(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};this._request=$re(this._url,i,o),this._request.on("error",s=>{this._storedError=s}),this._request.end()}},sB=class extends nI{constructor(e){super(e);let t=fc.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Yd(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}},aB=class extends rI{constructor(e,t,r){super(e);let i=fc.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}},YPe=1e5,fs=30,XPe=.8,Iy=class n{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#o=null;#i=null;#l=0;#c=0;#d=null;#a=null;#u=0;#s=0;#h=Object.create(null);#f=[];#p=null;#g=[];#v=new WeakMap;#m=null;static#w=new Map;static#y=new Map;static#x=new WeakMap;static#k=null;static#b=new Set;constructor({textContentSource:e,container:t,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#a=t,this.#s=r.scale*(globalThis.devicePixelRatio||1),this.#u=r.rotation,this.#i={div:null,properties:null,ctx:null};let{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;this.#m=[1,0,0,-1,-s,a+o],this.#c=i,this.#l=o,n.#D(),ig(t,r),this.#e.promise.finally(()=>{n.#b.delete(this),this.#i=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:e,isFirefox:t}=to.platform;return ln(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){let e=()=>{this.#d.read().then(({value:t,done:r})=>{if(r){this.#e.resolve();return}this.#o??=t.lang,Object.assign(this.#h,t.styles),this.#A(t.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),n.#b.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==this.#u&&(t?.(),this.#u=i,ig(this.#a,{rotation:i})),r!==this.#s){t?.(),this.#s=r;let o={div:null,properties:null,ctx:n.#I(this.#o)};for(let s of this.#g)o.properties=this.#v.get(s),o.div=s,this.#C(o)}}cancel(){let e=new Xd("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#f}#A(e){if(this.#n)return;this.#i.ctx??=n.#I(this.#o);let t=this.#g,r=this.#f;for(let i of e){if(t.length>YPe){Yt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){let o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),o.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#S(i)}}#S(e){let t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#g.push(t);let i=Ye.transform(this.#m,e.transform),o=Math.atan2(i[1],i[0]),s=this.#h[e.fontName];s.vertical&&(o+=Math.PI/2);let a=this.#r&&s.fontSubstitution||s.fontFamily;a=n.fontFamilyMap.get(a)||a;let l=Math.hypot(i[2],i[3]),c=l*n.#P(a,this.#o),u,p;o===0?(u=i[4],p=i[5]-c):(u=i[4]+c*Math.sin(o),p=i[5]-c*Math.cos(o));let g="calc(var(--scale-factor)*",v=t.style;this.#t===this.#a?(v.left=`${(100*u/this.#c).toFixed(2)}%`,v.top=`${(100*p/this.#l).toFixed(2)}%`):(v.left=`${g}${u.toFixed(2)}px)`,v.top=`${g}${p.toFixed(2)}px)`),v.fontSize=`${g}${(n.#k*l).toFixed(2)}px)`,v.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let y=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);y!==x&&Math.max(y,x)/Math.min(y,x)>1.5&&(w=!0)}if(w&&(r.canvasWidth=s.vertical?e.height:e.width),this.#v.set(t,r),this.#i.div=t,this.#i.properties=r,this.#C(this.#i),r.hasText&&this.#t.append(t),r.hasEOL){let y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#C(e){let{div:t,properties:r,ctx:i}=e,{style:o}=t,s="";if(n.#k>1&&(s=`scale(${1/n.#k})`),r.canvasWidth!==0&&r.hasText){let{fontFamily:a}=o,{canvasWidth:l,fontSize:c}=r;n.#M(i,c*this.#s,a);let{width:u}=i.measureText(t.textContent);u>0&&(s=`scaleX(${l*this.#s/u}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(o.transform=s)}static cleanup(){if(!(this.#b.size>0)){this.#w.clear();for(let{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#I(e=null){let t=this.#y.get(e||="");if(!t){let r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#M(e,t,r){let i=this.#x.get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)}static#D(){if(this.#k!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#k=e.getBoundingClientRect().height,e.remove()}static#P(e,t){let r=this.#w.get(e);if(r)return r;let i=this.#I(t);i.canvas.width=i.canvas.height=fs,this.#M(i,fs,e);let o=i.measureText(""),s=o.fontBoundingBoxAscent,a=Math.abs(o.fontBoundingBoxDescent);if(s){let u=s/(s+a);return this.#w.set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,fs,fs),i.strokeText("g",0,0);let l=i.getImageData(0,0,fs,fs).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/fs);break}i.clearRect(0,0,fs,fs),i.strokeText("A",0,fs),l=i.getImageData(0,0,fs,fs).data,s=0;for(let u=0,p=l.length;u<p;u+=4)if(l[u]>0){s=fs-Math.floor(u/4/fs);break}i.canvas.width=i.canvas.height=0;let c=s?s/(s+a):XPe;return this.#w.set(e,c),c}},Ty=class n{static textContent(e){let t=[],r={items:t,styles:Object.create(null)};function i(o){if(!o)return;let s=null,a=o.name;if(a==="#text")s=o.value;else if(n.shouldBuildText(a))o?.attributes?.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&t.push({str:s}),!!o.children)for(let l of o.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},ZPe=65536,QPe=100,JPe=5e3,eOe=ko?FF:OF,tOe=ko?BF:XS,nOe=ko?LF:NF,rOe=ko?VF:JS;function iOe(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new lB,{docId:t}=e,r=n.url?oOe(n.url):null,i=n.data?sOe(n.data):null,o=n.httpHeaders||null,s=n.withCredentials===!0,a=n.password??null,l=n.range instanceof iI?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:ZPe,u=n.worker instanceof j1?n.worker:null,p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!MI(n.docBaseUrl)?n.docBaseUrl:null,v=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,y=n.CMapReaderFactory||tOe,x=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,b=n.StandardFontDataFactory||rOe,R=n.stopAtErrors!==!0,V=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,j=n.isEvalSupported!==!1,$=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!ko,Y=typeof n.isChrome=="boolean"?n.isChrome:!to.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:ko,I=n.fontExtraProperties===!0,B=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,X=n.disableRange===!0,z=n.disableStream===!0,tt=n.disableAutoFetch===!0,gt=n.pdfBug===!0,Tt=n.CanvasFactory||eOe,Re=n.FilterFactory||nOe,be=n.enableHWA===!0,er=l?l.length:n.length??NaN,So=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!ko&&!T,ai=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===XS&&b===JS&&v&&x&&wy(v,document.baseURI)&&wy(x,document.baseURI);n.canvasFactory&&xre("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&xre("`filterFactory`-instance option, please use `FilterFactory` instead.");let vn=null;_Pe(p);let ze={canvasFactory:new Tt({ownerDocument:U,enableHWA:be}),filterFactory:new Re({docId:t,ownerDocument:U}),cMapReaderFactory:ai?null:new y({baseUrl:v,isCompressed:w}),standardFontDataFactory:ai?null:new b({baseUrl:x})};if(!u){let wr={verbosity:p,port:rg.workerPort};u=wr.port?j1.fromPort(wr):new j1(wr),e._worker=u}let Wn={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:tt,rangeChunkSize:c,length:er,docBaseUrl:g,enableXfa:B,evaluatorOptions:{maxImageSize:V,disableFontFace:T,ignoreErrors:R,isEvalSupported:j,isOffscreenCanvasSupported:$,isChrome:Y,canvasMaxAreaInBytes:L,fontExtraProperties:I,useSystemFonts:So,cMapUrl:ai?v:null,standardFontDataUrl:ai?x:null}},Si={disableFontFace:T,fontExtraProperties:I,ownerDocument:U,pdfBug:gt,styleElement:vn,loadingParams:{disableAutoFetch:tt,enableXfa:B}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let wr=u.messageHandler.sendWithPromise("GetDocRequest",Wn,i?[i.buffer]:null),et;if(l)et=new KF(l,{disableRange:X,disableStream:z});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let io;ko?io=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&wy(r)?tI:rB:io=wy(r)?tI:eB,et=new io({url:r,length:er,httpHeaders:o,withCredentials:s,rangeChunkSize:c,disableRange:X,disableStream:z})}return wr.then(io=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let Io=new eg(t,io,u.port),oo=new hB(Io,e,et,Si,ze);e._transport=oo,Io.send("Ready",null)})}).catch(e._capability.reject),e}function oOe(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(ko&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function sOe(n){if(ko&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return CI(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nre(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var lB=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return E(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},iI=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ar("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},cB=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},dB=class{#e=null;#t=!1;constructor(e,t,r,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new $S:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new oI,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new by({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return E(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Oh.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:p=!1}){this._stats?.time("Overall");let g=this._transport.getRenderingIntent(r,i,u,p),{renderingIntent:v,cacheKey:w}=g;this.#t=!1,this.#r(),a||=this._transport.getOptionalContentConfig(v);let y=this._intentStates.get(w);y||(y=Object.create(null),this._intentStates.set(w,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);let x=!!(v&Vs.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));let b=j=>{y.renderTasks.delete(R),(this._maybeCleanupAfterRender||x)&&(this.#t=!0),this.#n(!x),j?(R.capability.reject(j),this._abortOperatorList({intentState:y,reason:j instanceof Error?j:new Error(j)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new fB({callback:b,params:{canvasContext:e,viewport:t,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||=new Set).add(R);let V=R.task;return Promise.all([y.displayReadyCapability.promise,a]).then(([j,$])=>{if(this.destroyed){b();return}if(this._stats?.time("Rendering"),!($.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:j,optionalContentConfig:$}),R.operatorListChanged()}).catch(b),V}getOperatorList({intent:e="display",annotationMode:t=Oh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function o(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let s=this._transport.getRenderingIntent(e,t,r,i,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ty.textContent(r));let t=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}let s=t.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new $S),t}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},JPe),!1;for(let{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let r=this._intentStates.get(t);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){let{map:o,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:i},s).getReader(),c=this._intentStates.get(t);c.streamReader=l;let u=()=>{l.read().then(({value:p,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,c),u())},p=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let g of c.renderTasks)g.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(p);else if(c.opListReadCapability)c.opListReadCapability.reject(p);else throw p}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof xy){let i=QPe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Xd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}},uB=class{#e=new Map;#t=Promise.resolve();postMessage(e,t){let r={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let[i]of this.#e)i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){let{signal:o}=r;if(o.aborted){Yt("LoopbackPort - cannot use an `aborted` signal.");return}let s=()=>this.removeEventListener(e,t);i=()=>o.removeEventListener("abort",s),o.addEventListener("abort",s)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(let[,e]of this.#e)e?.();this.#e.clear()}},yI,tg,ng,H1,jS,U1,HS,vr=class vr{constructor({name:e=null,port:t=null,verbosity:r=yPe()}={}){Su(this,H1);if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(co(vr,ng)?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(co(vr,ng)||Vb(vr,ng,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return ko?Promise.all([fc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new eg("main","worker",e),this._messageHandler.on("ready",function(){}),jb(this,H1,jS).call(this)}_initialize(){if(co(vr,tg)||co(vr,U1,HS)){this._setupFakeWorker();return}let{workerSrc:e}=vr;try{vr._isSameOrigin(window.location.href,e)||(e=vr._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),r=new eg("main","worker",t),i=()=>{o.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,jb(this,H1,jS).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{xI("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){co(vr,tg)||(Yt("Setting up fake worker."),Vb(vr,tg,!0)),vr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new uB;this._port=t;let r=`fake${pU(vr,yI)._++}`,i=new eg(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new eg(r,r+"_worker",t),jb(this,H1,jS).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),co(vr,ng)?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=co(this,ng)?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new vr(e)}static get workerSrc(){if(rg.workerSrc)return rg.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ln(this,"_setupFakeWorkerGlobal",E(this,null,function*(){return co(this,U1,HS)?co(this,U1,HS):(yield import(this.workerSrc)).WorkerMessageHandler}))}};yI=new WeakMap,tg=new WeakMap,ng=new WeakMap,H1=new WeakSet,jS=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},U1=new WeakSet,HS=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Su(vr,U1),Su(vr,yI,0),Su(vr,tg,!1),Su(vr,ng),ko&&(Vb(vr,tg,!0),rg.workerSrc||="./pdf.worker.mjs"),vr._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}let i=new URL(t,r);return r.origin===i.origin},vr._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var j1=vr,hB=class{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#o=null;constructor(e,t,r,i,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new oI,this.fontLoader=new RF({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,t=null){let r=this.#e.get(e);if(r)return r;let i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return ln(this,"annotationStorage",new My)}getRenderingIntent(e,t=Oh.ENABLE,r=null,i=!1,o=!1){let s=Vs.DISPLAY,a=DF;switch(e){case"any":s=Vs.ANY;break;case"display":break;case"print":s=Vs.PRINT;break;default:Yt(`getRenderingIntent - invalid intent: ${e}`)}let l=s&Vs.PRINT&&r instanceof GS?r:this.annotationStorage;switch(t){case Oh.DISABLE:s+=Vs.ANNOTATIONS_DISABLE;break;case Oh.ENABLE:break;case Oh.ENABLE_FORMS:s+=Vs.ANNOTATIONS_FORMS;break;case Oh.ENABLE_STORAGE:s+=Vs.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Yt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=Vs.IS_EDITING),o&&(s+=Vs.OPLIST);let{ids:c,hash:u}=l.modifiedIds,p=[s,a.hash,u];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#o?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Iy.cleanup(),this._networkStream?.cancelAllRequests(new Xd("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Mi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}Mi(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>E(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:i,isRangeSupported:o,contentLength:s}=this._fullReader;return(!i||!o)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{t.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:s}})),e.on("GetRangeReader",(r,i)=>{Mi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}Mi(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new cB(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new yy(r.message,r.code);break;case"InvalidPDFException":i=new US(r.message);break;case"MissingPDFException":i=new Yd(r.message);break;case"UnexpectedResponseException":i=new $1(r.message,r.status);break;case"UnknownErrorException":i=new ky(r.message,r.details);break;default:ar("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(this.#o=Promise.withResolvers(),t.onPassword){let i=o=>{o instanceof Error?this.#o.reject(o):this.#o.resolve({password:o})};try{t.onPassword(i,r.code)}catch(o){this.#o.reject(o)}}else this.#o.reject(new yy(r.message,r.code));return this.#o.promise}),e.on("DataLoaded",r=>{t.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":let{disableFontFace:s,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in o){let g=o.error;Yt(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}let c=l&&globalThis.FontInspector?.enabled?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new PF(o,{disableFontFace:s,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":let{imageRef:p}=o;Mi(p,"The imageRef must be defined.");for(let g of this.#t.values())for(let[,v]of g.objs)if(v?.ref===p)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{if(this.destroyed)return;let a=this.#t.get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){s?.bitmap?.close();return}switch(o){case"Image":a.objs.resolve(r,s),s?.dataLen>fPe&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{this.destroyed||t.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>E(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)})),e.on("FetchStandardFontData",r=>E(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,r=this.#n.get(t);if(r)return r;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#r.set(o.refStr,e);let s=new dB(t,o,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#n.set(t,i),i}getPageIndex(e){return Nre(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new GF(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new qF(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return E(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Iy.cleanup()}})}cachedPageNumber(e){if(!Nre(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}},OS=Symbol("INITIAL_DATA"),oI=class{#e=Object.create(null);#t(e){return this.#e[e]||=ye(G({},Promise.withResolvers()),{data:OS})}get(e,t=null){if(t){let i=this.#t(e);return i.promise.then(()=>t(i.data)),null}let r=this.#e[e];if(!r||r.data===OS)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){let t=this.#e[e];return!!t&&t.data!==OS}resolve(e,t=null){let r=this.#t(e);r.data=t,r.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==OS&&(yield[e,t])}}},pB=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},fB=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:p=!1,pageColors:g=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pB(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new V1(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new xy(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return E(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},aOe="4.8.69",lOe="3634dab10";function Lre(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function vy(n){return Math.max(0,Math.min(255,255*n))}var sI=class{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=vy(e),[e,e,e]}static G_HTML([e]){let t=Lre(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(vy)}static RGB_HTML(e){return`#${e.map(Lre).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[vy(1-Math.min(1,e+i)),vy(1-Math.min(1,r+i)),vy(1-Math.min(1,t+i))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){let i=1-e,o=1-t,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}},gB=class{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ar("Abstract method `_createSVG` called.")}},Ay=class extends gB{_createSVG(e){return document.createElementNS(Gd,e)}},aI=class{static setupStorage(e,t,r,i,o){let s=i.getValue(t,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(let a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{let l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:o}){let{attributes:s}=t,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(let[l,c]of Object.entries(s))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,t,r)}static render(e){let t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});let a=o!=="richText",l=e.div;if(l.append(s),e.viewport){let p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");let c=[];if(i.children.length===0){if(i.value){let p=document.createTextNode(i.value);s.append(p),a&&Ty.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}let u=[[i,-1,s]];for(;u.length>0;){let[p,g,v]=u.at(-1);if(g+1===p.children.length){u.pop();continue}let w=p.children[++u.at(-1)[1]];if(w===null)continue;let{name:y}=w;if(y==="#text"){let b=document.createTextNode(w.value);c.push(b),v.append(b);continue}let x=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,y):document.createElement(y);if(v.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:t,intent:o,linkService:r}),w.children?.length>0)u.push([w,-1,x]);else if(w.value){let b=document.createTextNode(w.value);a&&Ty.shouldBuildText(y)&&c.push(b),x.append(b)}}for(let p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},Oy=1e3,cOe=9,sg=new WeakSet;function Kd(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var mB=class{static create(e){switch(e.data.annotationType){case Ei.LINK:return new lI(e);case Ei.TEXT:return new vB(e);case Ei.WIDGET:switch(e.data.fieldType){case"Tx":return new wB(e);case"Btn":return e.data.radioButton?new cI(e):e.data.checkBox?new yB(e):new kB(e);case"Ch":return new bB(e);case"Sig":return new _B(e)}return new Zd(e);case Ei.POPUP:return new Dy(e);case Ei.FREETEXT:return new dI(e);case Ei.LINE:return new CB(e);case Ei.SQUARE:return new EB(e);case Ei.CIRCLE:return new MB(e);case Ei.POLYLINE:return new uI(e);case Ei.CARET:return new IB(e);case Ei.INK:return new Ry(e);case Ei.POLYGON:return new SB(e);case Ei.HIGHLIGHT:return new hI(e);case Ei.UNDERLINE:return new TB(e);case Ei.SQUIGGLY:return new AB(e);case Ei.STRIKEOUT:return new DB(e);case Ei.STAMP:return new pI(e);case Ei.FILEATTACHMENT:return new RB(e);default:return new Yr(e)}}},Yr=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e?.str||t?.str||r?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#r(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){let{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r?.splice(0,4,...e);let{width:c,height:u}=Kd(e);t.left=`${100*(e[0]-a)/o}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*c/o}%`,t.height=`${100*u/s}%`):this.setRotation(i)}_createContainer(e){let{data:t,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Zd||(o.tabIndex=Oy);let{style:s}=o;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Dy){let{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}let{width:a,height:l}=Kd(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;let y=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(y>0||x>0){let R=`calc(${y}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;s.borderRadius=R}else if(this instanceof cI){let R=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=R}switch(t.borderStyle.style){case gy.SOLID:s.borderStyle="solid";break;case gy.DASHED:s.borderStyle="dashed";break;case gy.BEVELED:Yt("Unimplemented border style: beveled");break;case gy.INSET:Yt("Unimplemented border style: inset");break;case gy.UNDERLINE:s.borderBottomStyle="solid";break;default:break}let b=t.borderColor||null;b?(this.#t=!0,s.borderColor=Ye.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):s.borderWidth=0}let c=Ye.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:p,pageX:g,pageY:v}=i.rawDims;s.left=`${100*(c[0]-g)/u}%`,s.top=`${100*(c[1]-v)/p}%`;let{rotation:w}=t;return t.hasOwnCanvas||w===0?(s.width=`${100*a/u}%`,s.height=`${100*l/p}%`):this.setRotation(w,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Kd(this.data.rect),a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,r,i)=>{let o=i.detail[t],s=o[0],a=o.slice(1);i.target.style[r]=sI[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:sI[`${s}_rgb`](a)})};return ln(this,"_commonActions",{display:t=>{let{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){let r=this._commonActions;for(let i of Object.keys(t.detail))(e[i]||r[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let r=this._commonActions;for(let[i,o]of Object.entries(t)){let s=r[i];if(s){let a={detail:{[i]:o},target:e};s(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,r,i,o]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){let[y,x,b,R]=e.subarray(2,6);if(i===y&&o===x&&t===b&&r===R)return}let{style:s}=this.container,a;if(this.#t){let{borderColor:y,borderWidth:x}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}let l=i-t,c=o-r,{svgFactory:u}=this,p=u.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);let g=u.createElement("defs");p.append(g);let v=u.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let y=2,x=e.length;y<x;y+=8){let b=e[y],R=e[y+1],V=e[y+2],j=e[y+3],$=u.createElement("rect"),Y=(V-t)/l,L=(o-R)/c,T=(b-V)/l,I=(R-j)/c;$.setAttribute("x",Y),$.setAttribute("y",L),$.setAttribute("width",T),$.setAttribute("height",I),v.append($),a?.push(`<rect vector-effect="non-scaling-stroke" x="${Y}" y="${L}" width="${T}" height="${I}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(){let{data:e}=this,t=this.#n=new Dy({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){ar("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let r=[];if(this._fieldObjects){let i=this._fieldObjects[e];if(i)for(let{page:o,id:s,exportValues:a}of i){if(o===-1||s===t)continue;let l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!sg.has(c)){Yt(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:c})}return r}for(let i of document.getElementsByName(e)){let{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==t&&sg.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},lI=class extends Yr{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action),i=!0):e.attachment?(this.#t(r,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(r,e.setOCGState),i=!0):e.dest?(this._bindLink(r,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,r=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let i of Object.keys(t.actions)){let o=r.get(i);o&&(e[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();let{fields:i,refs:o,include:s}=t,a=[];if(i.length!==0||o.length!==0){let u=new Set(o);for(let p of i){let g=this._fieldObjects[p]||[];for(let{id:v}of g)u.add(v)}for(let p of Object.values(this._fieldObjects))for(let g of p)u.has(g.id)===s&&a.push(g)}else for(let u of Object.values(this._fieldObjects))a.push(...u);let l=this.annotationStorage,c=[];for(let u of a){let{id:p}=u;switch(c.push(p),u.type){case"text":{let v=u.defaultValue||"";l.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{let v=u.defaultValue===u.exportValues;l.setValue(p,{value:v});break}case"combobox":case"listbox":{let v=u.defaultValue||"";l.setValue(p,{value:v});break}default:continue}let g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!sg.has(g)){Yt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},vB=class extends Yr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},Zd=class extends Yr{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return to.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{if(r==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}})})}_setEventListeners(e,t,r,i){for(let[o,s]of r)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,o,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ye.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||cOe,o=e.style,s,a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(LS*i))||1,p=c/u;s=Math.min(i,l(p/LS))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(c/LS))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Ye.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},wB=class extends Zd{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){let o=this.annotationStorage;for(let s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=r),o.setValue(s.id,{[i]:r})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){let i=e.getValue(t,{value:this.data.fieldValue}),o=i.value||"",s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&o.length>s&&(o=o.slice(0,s));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:o,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=a??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",a??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),sg.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Oy,this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(r,"value",u.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",u=>{let p=this.data.defaultFieldValue??"";r.value=l.userValue=p,l.formattedValue=null});let c=u=>{let{formattedValue:p}=l;p!=null&&(u.target.value=p),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{if(l.focused)return;let{target:g}=p;l.userValue&&(g.value=l.userValue),l.lastCommittedValue=g.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);let g={value(v){l.userValue=v.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){let{formattedValue:w}=v.detail;l.formattedValue=w,w!=null&&v.target!==document.activeElement&&(v.target.value=w),e.setValue(t,{formattedValue:w})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{let{charLimit:w}=v.detail,{target:y}=v;if(w===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",w);let x=l.userValue;!x||x.length<=w||(x=x.slice(0,w),y.value=l.userValue=x,e.setValue(t,{value:x}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{l.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(l.commitKey=3),g===-1)return;let{value:v}=p.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});let u=c;c=null,r.addEventListener("blur",p=>{if(!l.focused||!p.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:g}=p.target;l.userValue=g,l.lastCommittedValue!==g&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:l.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}),u(p)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",p=>{l.lastCommittedValue=null;let{data:g,target:v}=p,{value:w,selectionStart:y,selectionEnd:x}=v,b=y,R=x;switch(p.inputType){case"deleteWordBackward":{let V=w.substring(0,y).match(/\w*[^\w]*$/);V&&(b-=V[0].length);break}case"deleteWordForward":{let V=w.substring(y).match(/^[^\w]*\w*/);V&&(R+=V[0].length);break}case"deleteContentBackward":y===x&&(b-=1);break;case"deleteContentForward":y===x&&(R+=1);break}p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:g||"",willCommit:!1,selStart:b,selEnd:R}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(c&&r.addEventListener("blur",c),this.data.comb){let p=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},_B=class extends Zd{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},yB=class extends Zd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,r=t.id,i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return sg.add(o),o.setAttribute("data-element-id",r),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Oy,o.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let c of this._getElementsByName(a,r)){let u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue||"Off";s.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{let a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},cI=class extends Zd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,r=t.id,i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(let s of this._getElementsByName(t.fieldName,r))e.setValue(s.id,{value:!1});let o=document.createElement("input");if(sg.add(o),o.setAttribute("data-element-id",r),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=Oy,o.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue;s.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){let s=t.buttonValue;o.addEventListener("updatefromsandbox",a=>{let l={value:c=>{let u=s===c.detail.value;for(let p of this._getElementsByName(c.target.name)){let g=u&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},kB=class extends lI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}},bB=class extends Zd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");sg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Oy;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{let p=this.data.defaultFieldValue;for(let g of i.options)g.selected=g.value===p});for(let u of this.data.options){let p=document.createElement("option");p.textContent=u.displayValue,p.value=u.exportValue,r.value.includes(u.exportValue)&&(p.setAttribute("selected",!0),o=!1),i.append(p)}let s=null;if(o){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),s=()=>{u.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}let a=u=>{let p=u?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]},l=a(!1),c=u=>{let p=u.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{let p={value(g){s?.();let v=g.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(let y of i.options)y.selected=w.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(g){i.multiple=!0},remove(g){let v=i.options,w=g.detail.remove;v[w].selected=!1,i.remove(w),v.length>0&&Array.prototype.findIndex.call(v,x=>x.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:a(!0),items:c(g)}),l=a(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(g){let{index:v,displayValue:w,exportValue:y}=g.detail.insert,x=i.children[v],b=document.createElement("option");b.textContent=w,b.value=y,x?x.before(b):i.append(b),e.setValue(t,{value:a(!0),items:c(g)}),l=a(!1)},items(g){let{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(let w of v){let{displayValue:y,exportValue:x}=w,b=document.createElement("option");b.textContent=y,b.value=x,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(g)}),l=a(!1)},indices(g){let v=new Set(g.detail.indices);for(let w of g.target.options)w.selected=v.has(w.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,u)}),i.addEventListener("input",u=>{let p=a(!0),g=a(!1);e.setValue(t,{value:p}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},Dy=class extends Yr{constructor(e){let{data:t,elements:r}=e;super(e,{isRenderable:Yr._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new xB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${HB}${r}`).join(",")),this.container}},xB=class{#e=this.#A.bind(this);#t=this.#M.bind(this);#n=this.#I.bind(this);#r=this.#C.bind(this);#o=null;#i=null;#l=null;#c=null;#d=null;#a=null;#u=null;#s=!1;#h=null;#f=null;#p=null;#g=null;#v=null;#m=null;#w=!1;constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:c,parentRect:u,open:p}){this.#i=e,this.#v=i,this.#l=s,this.#g=a,this.#a=l,this.#o=t,this.#p=c,this.#u=u,this.#d=r,this.#c=zS.toDateObject(o),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup());for(let g of this.trigger)g.addEventListener("click",this.#r),g.addEventListener("mouseenter",this.#n),g.addEventListener("mouseleave",this.#t),g.classList.add("popupTriggerArea");for(let g of r)g.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,p&&this.#C()}render(){if(this.#h)return;let e=this.#h=document.createElement("div");if(e.className="popup",this.#o){let o=e.style.outlineColor=Ye.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ye.makeHexColor(...this.#o.map(a=>Math.floor(.7*(255-a)+a)))}let t=document.createElement("span");t.className="header";let r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=this.#v,e.append(t),this.#c){let o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),t.append(o)}let i=this.#y;if(i)aI.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let o=this._formatContents(this.#l);e.append(o)}this.#i.append(e)}get#y(){let e=this.#g,t=this.#l;return e?.str&&(!t?.str||t.str===e.str)&&this.#g.html||null}get#x(){return this.#y?.attributes?.style?.fontSize||0}get#k(){return this.#y?.attributes?.style?.color||null}#b(e){let t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#k,fontSize:this.#x?`calc(${this.#x}px * var(--scale-factor))`:""}};for(let o of e.split(`
`))t.push({name:"span",value:o,attributes:i});return r}_formatContents({str:e,dir:t}){let r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;let i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){let a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}#A(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#s)&&this.#C()}updateEdited({rect:e,popupContent:t}){this.#m||={contentsObj:this.#l,richText:this.#g},e&&(this.#f=null),t&&(this.#g=this.#b(t),this.#l=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&({contentsObj:this.#l,richText:this.#g}=this.#m,this.#m=null,this.#h?.remove(),this.#h=null,this.#f=null)}#S(){if(this.#f!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:o}}}=this.#a,s=!!this.#u,a=s?this.#u:this.#p;for(let w of this.#d)if(!a||Ye.intersect(w.data.rect,a)!==null){a=w.data.rect,s=!0;break}let l=Ye.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=s?a[2]-a[0]+5:0,p=l[0]+u,g=l[1];this.#f=[100*(p-i)/t,100*(g-o)/r];let{style:v}=this.#i;v.left=`${this.#f[0]}%`,v.top=`${this.#f[1]}%`}#C(){this.#s=!this.#s,this.#s?(this.#I(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#M(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#I(){this.#h||this.render(),this.isVisible?this.#s&&this.#i.classList.add("focused"):(this.#S(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#M(){this.#i.classList.remove("focused"),!(this.#s||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#w=this.isVisible,this.#w&&(this.#i.hidden=!0)}maybeShow(){this.#w&&(this.#h||this.#I(),this.#w=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}},dI=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},CB=class extends Yr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:r}=Kd(e.rect),i=this.svgFactory.create(t,r,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},EB=class extends Yr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:r}=Kd(e.rect),i=this.svgFactory.create(t,r,!0),o=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",o/2),s.setAttribute("y",o/2),s.setAttribute("width",t-o),s.setAttribute("height",r-o),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},MB=class extends Yr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:r}=Kd(e.rect),i=this.svgFactory.create(t,r,!0),o=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",r/2),s.setAttribute("rx",t/2-o/2),s.setAttribute("ry",r/2-o/2),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},uI=class extends Yr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:r,popupRef:i}}=this;if(!t)return this.container;let{width:o,height:s}=Kd(e),a=this.svgFactory.create(o,s,!0),l=[];for(let u=0,p=t.length;u<p;u+=2){let g=t[u]-e[0],v=e[3]-t[u+1];l.push(`${g},${v}`)}l=l.join(" ");let c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},SB=class extends uI{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},IB=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Ry=class extends Yr{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?jt.HIGHLIGHT:jt.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:r,popupRef:i}}=this,{width:o,height:s}=Kd(e),a=this.svgFactory.create(o,s,!0);for(let l of t){let c=[];for(let p=0,g=l.length;p<g;p+=2){let v=l[p]-e[0],w=e[3]-l[p+1];c.push(`${v},${w}`)}c=c.join(" ");let u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",c),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},hI=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=jt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},TB=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},AB=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},DB=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},pI=class extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=jt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},RB=class extends Yr{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",G({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;let{isMac:i}=to.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},PB=class{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s,structTreeLayer:a}){this.div=e,this.#e=t,this.#t=r,this.#r=a||null,this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}#o(e,t){return E(this,null,function*(){let r=e.firstChild||e,i=r.id=`${HB}${t}`,o=yield this.#r?.getAriaAttributes(i);if(o)for(let[s,a]of o)r.setAttribute(s,a);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,r,!1)})}render(e){return E(this,null,function*(){let{annotations:t}=e,r=this.div;ig(r,this.viewport);let i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ay,annotationStorage:e.annotationStorage||new My,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let s of t){if(s.noHTML)continue;let a=s.annotationType===Ei.POPUP;if(a){let u=i.get(s.id);if(!u)continue;o.elements=u}else{let{width:u,height:p}=Kd(s.rect);if(u<=0||p<=0)continue}o.data=s;let l=mB.create(o);if(!l.isRenderable)continue;if(!a&&s.popupRef){let u=i.get(s.popupRef);u?u.push(l):i.set(s.popupRef,[l])}let c=l.render();s.hidden&&(c.style.visibility="hidden"),yield this.#o(c,s.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()})}update({viewport:e}){let t=this.div;this.viewport=e,ig(t,{rotation:e.rotation}),this.#i(),t.hidden=!1}#i(){if(!this.#t)return;let e=this.div;for(let[t,r]of this.#t){let i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";let{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},NS=/\r\n?|\n/g,OB=class n extends jn{#e;#t="";#n=`${this.id}-editor`;#r=null;#o;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=o=>o.isEmpty(),r=Ey.TRANSLATE_SMALL,i=Ey.TRANSLATE_BIG;return ln(this,"_keyboardManager",new og([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=jt.FREETEXT;constructor(e){super(ye(G({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||jn._defaultLineColor,this.#o=e.fontSize||n._defaultFontSize}static initialize(e,t){jn.initialize(e,t);let r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Et.FREETEXT_SIZE:n._defaultFontSize=t;break;case Et.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case Et.FREETEXT_SIZE:this.#i(t);break;case Et.FREETEXT_COLOR:this.#l(t);break}}static get defaultPropertiesToUpdate(){return[[Et.FREETEXT_SIZE,n._defaultFontSize],[Et.FREETEXT_COLOR,n._defaultColor||jn._defaultLineColor]]}get propertiesToUpdate(){return[[Et.FREETEXT_SIZE,this.#o],[Et.FREETEXT_COLOR,this.#e]]}#i(e){let t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-this.#o)*this.parentScale),this.#o=i,this.#d()},r=this.#o;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){let t=i=>{this.#e=this.editorDiv.style.color=i},r=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#o)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(jt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;let e=this._uiManager.combinedSignal(this.#r);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){let e=[];this.editorDiv.normalize();let t=null;for(let r of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(n.#a(r)),t=r);return e.join(`
`)}#d(){let[e,t]=this.parentDimensions,r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{let{currentLayer:i,div:o}=this,s=o.style.display,a=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=s,o.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#c().trimEnd();if(e===t)return;let r=i=>{if(this.#t=i,!i){this.remove();return}this.#u(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#o}px * var(--scale-factor))`,r.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),qS(this,this.div,["dblclick","keydown"]),this.width){let[i,o]=this.parentDimensions;if(this.annotationElementId){let{position:s}=this._initialData,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[c,u]=this.pageDimensions,[p,g]=this.pageTranslation,v,w;switch(this.rotation){case 0:v=e+(s[0]-p)/c,w=t+this.height-(s[1]-g)/u;break;case 90:v=e+(s[0]-p)/c,w=t-(s[1]-g)/u,[a,l]=[l,-a];break;case 180:v=e-this.width+(s[0]-p)/c,w=t-(s[1]-g)/u,[a,l]=[-a,-l];break;case 270:v=e+(s[0]-p-this.height*u)/c,w=t+(s[1]-g-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(v*i,w*o,a,l)}else this.setAt(e*i,t*o,this.width*i,this.height*o);this.#u(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#a(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(NS,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:r}=t;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();let i=n.#h(t.getData("text")||"").replaceAll(NS,`
`);if(!i)return;let o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();let s=o.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}let{startContainer:a,startOffset:l}=s,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){let v=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(NS,"")),v!==this.editorDiv){let w=c;for(let y of this.editorDiv.childNodes){if(y===v){w=u;continue}w.push(n.#a(y))}}c.push(a.nodeValue.slice(0,l).replaceAll(NS,""))}else if(a===this.editorDiv){let v=c,w=0;for(let y of this.editorDiv.childNodes)w++===l&&(v=u),v.push(n.#a(y))}this.#t=`${c.join(`
`)}${i}${u.join(`
`)}`,this.#u();let p=new Range,g=c.reduce((v,w)=>v+w.length,0);for(let{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){let w=v.nodeValue.length;if(g<=w){p.setStart(v,g),p.setEnd(v,g);break}g-=w}o.removeAllRanges(),o.addRange(p)}#u(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#s(){return this.#t.replaceAll("\xA0"," ")}static#h(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,r){return E(this,null,function*(){let i=null;if(e instanceof dI){let{data:{defaultAppearanceData:{fontSize:s,fontColor:a},rect:l,rotation:c,id:u,popupRef:p},textContent:g,textPosition:v,parent:{page:{pageNumber:w}}}=e;if(!g||g.length===0)return null;i=e={annotationType:jt.FREETEXT,color:Array.from(a),fontSize:s,value:g.join(`
`),position:v,pageIndex:w-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:p}}let o=yield rs(n,this,"deserialize").call(this,e,t,r);return o.#o=e.fontSize,o.#e=Ye.makeHexColor(...e.color),o.#t=n.#h(e.value),o.annotationElementId=e.id||null,o._initialData=i,o})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let t=n._internalPadding*this.parentScale,r=this.getRect(t,t),i=jn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:jt.FREETEXT,color:i,fontSize:this.#o,value:this.#s(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!this.#f(o)?null:(o.id=this.annotationElementId,o)}#f(e){let{value:t,fontSize:r,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((s,a)=>s!==i[a])||e.pageIndex!==o}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:r}=t;r.fontSize=`calc(${this.#o}px * var(--scale-factor))`,r.color=this.#e,t.replaceChildren();for(let o of this.#t.split(`
`)){let s=document.createElement("div");s.append(o?document.createTextNode(o):document.createElement("br")),t.append(s)}let i=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},fI=class{toSVGPath(){ar("Abstract method `toSVGPath` must be implemented.")}get box(){ar("Abstract getter `box` must be implemented.")}serialize(e,t){ar("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ar("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ar("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}},gI=class n{#e;#t=[];#n;#r;#o=[];#i=new Float64Array(18);#l;#c;#d;#a;#u;#s;#h=[];static#f=8;static#p=2;static#g=n.#f+n.#p;constructor({x:e,y:t},r,i,o,s,a=0){this.#e=r,this.#s=o*i,this.#r=s,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#a=n.#f*i,this.#d=n.#g*i,this.#u=i,this.#h.push(e,t)}isEmpty(){return isNaN(this.#i[8])}#v(){let e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[r,i,o,s]=this.#e;return[(this.#l+(e[0]-t[0])/2-r)/o,(this.#c+(e[1]-t[1])/2-i)/s,(this.#l+(t[0]-e[0])/2-r)/o,(this.#c+(t[1]-e[1])/2-i)/s]}add({x:e,y:t}){this.#l=e,this.#c=t;let[r,i,o,s]=this.#e,[a,l,c,u]=this.#i.subarray(8,12),p=e-c,g=t-u,v=Math.hypot(p,g);if(v<this.#d)return!1;let w=v-this.#a,y=w/v,x=y*p,b=y*g,R=a,V=l;a=c,l=u,c+=x,u+=b,this.#h?.push(e,t);let j=-b/w,$=x/w,Y=j*this.#s,L=$*this.#s;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+Y,u+L],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-Y,u-L],16),isNaN(this.#i[6])?(this.#o.length===0&&(this.#i.set([a+Y,l+L],2),this.#o.push(NaN,NaN,NaN,NaN,(a+Y-r)/o,(l+L-i)/s),this.#i.set([a-Y,l-L],14),this.#t.push(NaN,NaN,NaN,NaN,(a-Y-r)/o,(l-L-i)/s)),this.#i.set([R,V,a,l,c,u],6),!this.isEmpty()):(this.#i.set([R,V,a,l,c,u],6),Math.abs(Math.atan2(V-l,R-a)-Math.atan2(b,x))<Math.PI/2?([a,l,c,u]=this.#i.subarray(2,6),this.#o.push(NaN,NaN,NaN,NaN,((a+c)/2-r)/o,((l+u)/2-i)/s),[a,l,R,V]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((R+a)/2-r)/o,((V+l)/2-i)/s),!0):([R,V,a,l,c,u]=this.#i.subarray(0,6),this.#o.push(((R+5*a)/6-r)/o,((V+5*l)/6-i)/s,((5*a+c)/6-r)/o,((5*l+u)/6-i)/s,((a+c)/2-r)/o,((l+u)/2-i)/s),[c,u,a,l,R,V]=this.#i.subarray(12,18),this.#t.push(((R+5*a)/6-r)/o,((V+5*l)/6-i)/s,((5*a+c)/6-r)/o,((5*l+u)/6-i)/s,((a+c)/2-r)/o,((l+u)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#o,t=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#m();let r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#w(r),r.join(" ")}#m(){let[e,t,r,i]=this.#e,[o,s,a,l]=this.#v();return`M${(this.#i[2]-e)/r} ${(this.#i[3]-t)/i} L${(this.#i[4]-e)/r} ${(this.#i[5]-t)/i} L${o} ${s} L${a} ${l} L${(this.#i[16]-e)/r} ${(this.#i[17]-t)/i} L${(this.#i[14]-e)/r} ${(this.#i[15]-t)/i} Z`}#w(e){let t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){let[t,r,i,o]=this.#e,s=this.#i.subarray(4,6),a=this.#i.subarray(16,18),[l,c,u,p]=this.#v();e.push(`L${(s[0]-t)/i} ${(s[1]-r)/o} L${l} ${c} L${u} ${p} L${(a[0]-t)/i} ${(a[1]-r)/o}`)}newFreeDrawOutline(e,t,r,i,o,s){return new mI(e,t,r,i,o,s)}getOutlines(){let e=this.#o,t=this.#t,r=this.#i,[i,o,s,a]=this.#e,l=new Float64Array((this.#h?.length??0)+2);for(let p=0,g=l.length-2;p<g;p+=2)l[p]=(this.#h[p]-i)/s,l[p+1]=(this.#h[p+1]-o)/a;if(l[l.length-2]=(this.#l-i)/s,l[l.length-1]=(this.#c-o)/a,isNaN(r[6])&&!this.isEmpty())return this.#x(l);let c=new Float64Array(this.#o.length+24+this.#t.length),u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=this.#b(c,u);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[p+g],c[u+1]=t[p+g+1],u+=2}return this.#k(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#u,this.#n,this.#r)}#x(e){let t=this.#i,[r,i,o,s]=this.#e,[a,l,c,u]=this.#v(),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/o,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-r)/o,(t[5]-i)/s,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/o,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-r)/o,(t[15]-i)/s],0),this.newFreeDrawOutline(p,e,this.#e,this.#u,this.#n,this.#r)}#k(e,t){let r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6}#b(e,t){let r=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[o,s,a,l]=this.#e,[c,u,p,g]=this.#v();return e.set([NaN,NaN,NaN,NaN,(r[0]-o)/a,(r[1]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-o)/a,(i[1]-s)/l],t),t+=24}},mI=class extends fI{#e;#t=null;#n;#r;#o;#i;#l;constructor(e,t,r,i,o,s){super(),this.#l=e,this.#o=t,this.#e=r,this.#i=i,this.#n=o,this.#r=s,this.#a(s);let{x:a,y:l,width:c,height:u}=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-a)/c,e[p+1]=(e[p+1]-l)/u;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-a)/c,t[p+1]=(t[p+1]-l)/u}toSVGPath(){let e=[`M${this.#l[4]} ${this.#l[5]}`];for(let t=6,r=this.#l.length;t<r;t+=6){if(isNaN(this.#l[t])){e.push(`L${this.#l[t+4]} ${this.#l[t+5]}`);continue}e.push(`C${this.#l[t]} ${this.#l[t+1]} ${this.#l[t+2]} ${this.#l[t+3]} ${this.#l[t+4]} ${this.#l[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,i],o){let s=r-e,a=i-t,l,c;switch(o){case 0:l=this.#c(this.#l,e,i,s,-a),c=this.#c(this.#o,e,i,s,-a);break;case 90:l=this.#d(this.#l,e,t,s,a),c=this.#d(this.#o,e,t,s,a);break;case 180:l=this.#c(this.#l,r,t,-s,a),c=this.#c(this.#o,r,t,-s,a);break;case 270:l=this.#d(this.#l,r,i,-s,-a),c=this.#d(this.#o,r,i,-s,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#c(e,t,r,i,o){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a]*i,s[a+1]=r+e[a+1]*o;return s}#d(e,t,r,i,o){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a+1]*i,s[a+1]=r+e[a]*o;return s}#a(e){let t=this.#l,r=t[4],i=t[5],o=r,s=i,a=r,l=i,c=r,u=i,p=e?Math.max:Math.min;for(let x=6,b=t.length;x<b;x+=6){if(isNaN(t[x]))o=Math.min(o,t[x+4]),s=Math.min(s,t[x+5]),a=Math.max(a,t[x+4]),l=Math.max(l,t[x+5]),u<t[x+5]?(c=t[x+4],u=t[x+5]):u===t[x+5]&&(c=p(c,t[x+4]));else{let R=Ye.bezierBoundingBox(r,i,...t.slice(x,x+6));o=Math.min(o,R[0]),s=Math.min(s,R[1]),a=Math.max(a,R[2]),l=Math.max(l,R[3]),u<R[3]?(c=R[2],u=R[3]):u===R[3]&&(c=p(c,R[2]))}r=t[x+4],i=t[x+5]}let g=o-this.#n,v=s-this.#n,w=a-o+2*this.#n,y=l-s+2*this.#n;this.#t={x:g,y:v,width:w,height:y,lastPoint:[c,u]}}get box(){return this.#t}newOutliner(e,t,r,i,o,s=0){return new gI(e,t,r,i,o,s)}getNewOutline(e,t){let{x:r,y:i,width:o,height:s}=this.#t,[a,l,c,u]=this.#e,p=o*c,g=s*u,v=r*c+a,w=i*u+l,y=this.newOutliner({x:this.#o[0]*p+v,y:this.#o[1]*g+w},this.#e,this.#i,e,this.#r,t??this.#n);for(let x=2;x<this.#o.length;x+=2)y.add({x:this.#o[x]*p+v,y:this.#o[x+1]*g+w});return y.getOutlines()}get mustRemoveSelfIntersections(){return!0}},vI=class{#e;#t=[];#n=[];constructor(e,t=0,r=0,i=!0){let o=1/0,s=-1/0,a=1/0,l=-1/0,u=10**-4;for(let{x:b,y:R,width:V,height:j}of e){let $=Math.floor((b-t)/u)*u,Y=Math.ceil((b+V+t)/u)*u,L=Math.floor((R-t)/u)*u,T=Math.ceil((R+j+t)/u)*u,I=[$,L,T,!0],B=[Y,L,T,!1];this.#t.push(I,B),o=Math.min(o,$),s=Math.max(s,Y),a=Math.min(a,L),l=Math.max(l,T)}let p=s-o+2*r,g=l-a+2*r,v=o-r,w=a-r,y=this.#t.at(i?-1:-2),x=[y[0],y[2]];for(let b of this.#t){let[R,V,j]=b;b[0]=(R-v)/p,b[1]=(V-w)/g,b[2]=(j-w)/g}this.#e={x:v,y:w,width:p,height:g,lastPoint:x}}getOutlines(){this.#t.sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#c(t)),this.#i(t)):(this.#l(t),e.push(...this.#c(t)));return this.#r(e)}#r(e){let t=[],r=new Set;for(let s of e){let[a,l,c]=s;t.push([a,l,s],[a,c,s])}t.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=t.length;s<a;s+=2){let l=t[s][2],c=t[s+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}let i=[],o;for(;r.size>0;){let s=r.values().next().value,[a,l,c,u,p]=s;r.delete(s);let g=a,v=l;for(o=[a,c],i.push(o);;){let w;if(r.has(u))w=u;else if(r.has(p))w=p;else break;r.delete(w),[a,l,c,u,p]=w,g!==a&&(o.push(g,v,a,v===l?l:c),g=a),v=v===l?c:l}o.push(g,v)}return new NB(i,this.#e)}#o(e){let t=this.#n,r=0,i=t.length-1;for(;r<=i;){let o=r+i>>1,s=t[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1}#i([,e,t]){let r=this.#o(e);this.#n.splice(r,0,[e,t])}#l([,e,t]){let r=this.#o(e);for(let i=r;i<this.#n.length;i++){let[o,s]=this.#n[i];if(o!==e)break;if(o===e&&s===t){this.#n.splice(i,1);return}}for(let i=r-1;i>=0;i--){let[o,s]=this.#n[i];if(o!==e)break;if(o===e&&s===t){this.#n.splice(i,1);return}}}#c(e){let[t,r,i]=e,o=[[t,r,i]],s=this.#o(i);for(let a=0;a<s;a++){let[l,c]=this.#n[a];for(let u=0,p=o.length;u<p;u++){let[,g,v]=o[u];if(!(c<=g||v<=l)){if(g>=l){if(v>c)o[u][1]=c;else{if(p===1)return[];o.splice(u,1),u--,p--}continue}o[u][2]=l,v>c&&o.push([t,c,v])}}}return o}},NB=class extends fI{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[r,i]=t;e.push(`M${r} ${i}`);for(let o=2;o<t.length;o+=2){let s=t[o],a=t[o+1];s===r?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,t,r,i],o){let s=[],a=r-e,l=i-t;for(let c of this.#t){let u=new Array(c.length);for(let p=0;p<c.length;p+=2)u[p]=e+c[p]*a,u[p+1]=i-c[p+1]*l;s.push(u)}return s}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}},Py=class extends gI{newFreeDrawOutline(e,t,r,i,o,s){return new LB(e,t,r,i,o,s)}get classNamesForDrawing(){return["highlight","free"]}},LB=class extends mI{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,o,s=0){return new Py(e,t,r,i,o,s)}},wI=class n{#e=null;#t=null;#n;#r=null;#o=!1;#i=!1;#l=null;#c;#d=null;#a=null;#u;static#s=null;static get _keyboardManager(){return ln(this,"_keyboardManager",new og([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#i=!1,this.#u=Et.HIGHLIGHT_COLOR,this.#l=e):(this.#i=!0,this.#u=Et.HIGHLIGHT_DEFAULT_COLOR),this.#a=e?._uiManager||t,this.#c=this.#a._eventBus,this.#n=e?.color||this.#a?.highlightColors.values().next().value||"#FFFF98",n.#s||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#a._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});let r=this.#t=document.createElement("span");return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=this.#n,e.append(r),e}renderMainDropdown(){let e=this.#r=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){let e=document.createElement("div"),t=this.#a._signal;e.addEventListener("contextmenu",pa,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[r,i]of this.#a.highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",n.#s[r]);let s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===this.#n),o.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(o)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#u,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}let t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#g(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#g(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#g(e);return}this.#r.lastChild?.focus()}#p(e){n._keyboardManager.exec(this,e)}#g(e){if(this.#m){this.hideDropdown();return}if(this.#o=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#v.bind(this),{signal:this.#a.combinedSignal(this.#d)})),this.#r){this.#r.classList.remove("hidden");return}let t=this.#r=this.#h();this.#e.append(t)}#v(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#m){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;let t=this.#a.highlightColors.values();for(let r of this.#r.children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}},_I=class n extends jn{#e=null;#t=0;#n;#r=null;#o=null;#i=null;#l=null;#c=0;#d=null;#a=null;#u=null;#s=!1;#h=null;#f;#p=null;#g="";#v;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=jt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return ln(this,"_keyboardManager",new og([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(ye(G({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#v=e.thickness||n._defaultThickness,this.#f=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#m=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#s=!0,this.#y(e),this.#S()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#l=e.focusNode,this.#c=e.focusOffset,this.#w(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#s?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#w(){let e=new vI(this.#n,.001);this.#a=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#a.box;let t=new vI(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=t.getOutlines();let{lastPoint:r}=this.#i.box;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#a=e;let i=1.5;if(this.#i=e.getNewOutline(this.#v/2+i,.0025),t>=0)this.#u=t,this.#r=r,this.parent.drawLayer.finalizeLine(t,e),this.#p=this.parent.drawLayer.drawOutline(this.#i);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,n.#C(this.#a.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#p,this.#i),this.parent.drawLayer.updateBox(this.#p,n.#C(this.#i.box,u))}let{x:o,y:s,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=o,this.y=s,this.width=a,this.height=l;break;case 90:{let[u,p]=this.parentDimensions;this.x=s,this.y=1-o,this.width=a*p/u,this.height=l*u/p;break}case 180:this.x=1-o,this.y=1-s,this.width=a,this.height=l;break;case 270:{let[u,p]=this.parentDimensions;this.x=1-s,this.y=o,this.width=a*p/u,this.height=l*u/p;break}}let{lastPoint:c}=this.#i.box;this.#h=[(c[0]-o)/a,(c[1]-s)/l]}static initialize(e,t){jn.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Et.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case Et.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#h}updateParams(e,t){switch(e){case Et.HIGHLIGHT_COLOR:this.#x(t);break;case Et.HIGHLIGHT_THICKNESS:this.#k(t);break}}static get defaultPropertiesToUpdate(){return[[Et.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[Et.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,this.color||n._defaultColor],[Et.HIGHLIGHT_THICKNESS,this.#v||n._defaultThickness],[Et.HIGHLIGHT_FREE,this.#s]]}#x(e){let t=(o,s)=>{this.color=o,this.parent?.drawLayer.changeColor(this.#u,o),this.#o?.updateColor(o),this.#f=s,this.parent?.drawLayer.changeOpacity(this.#u,s)},r=this.color,i=this.#f;this.addCommands({cmd:t.bind(this,e,n._defaultOpacity),undo:t.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#k(e){let t=this.#v,r=i=>{this.#v=i,this.#b(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return E(this,null,function*(){let e=yield rs(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#o=new wI({editor:this}),e.addColorPicker(this.#o)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#D())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#A():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#b(e){if(!this.#s)return;this.#y({highlightOutlines:this.#a.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,r]=this.parentDimensions;this.setDims(this.width*t,this.height*r)}#A(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#r}=e.drawLayer.draw(this.#a,this.color,this.#f),this.#p=e.drawLayer.drawOutline(this.#i),this.#d&&(this.#d.style.clipPath=this.#r))}static#C({x:e,y:t,width:r,height:i},o){switch(o){case 90:return{x:1-t-i,y:e,width:i,height:r};case 180:return{x:1-e-r,y:1-t-i,width:r,height:i};case 270:return{x:t,y:1-e-r,width:i,height:r}}return{x:e,y:t,width:r,height:i}}rotate(e){let{drawLayer:t}=this.parent,r;this.#s?(e=(e-this.rotation+360)%360,r=n.#C(this.#a.box,e)):r=n.#C(this,e),t.rotate(this.#u,e),t.rotate(this.#p,e),t.updateBox(this.#u,r),t.updateBox(this.#p,n.#C(this.#i.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#s?e.classList.add("free"):this.div.addEventListener("keydown",this.#I.bind(this),{signal:this._uiManager._signal});let t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r;let[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),qS(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#p,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#p,"hovered")}#I(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#l,this.#c)}select(){super.select(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"hovered"),this.parent?.drawLayer.addClass(this.#p,"selected"))}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"selected"),this.#s||this.#M(!1))}get _mustFixPosition(){return!this.#s}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#p,e))}#D(){return this.#s?this.rotation:0}#P(){if(this.#s)return null;let[e,t]=this.pageDimensions,[r,i]=this.pageTranslation,o=this.#n,s=new Float32Array(o.length*8),a=0;for(let{x:l,y:c,width:u,height:p}of o){let g=l*e+r,v=(1-c-p)*t+i;s[a]=s[a+4]=g,s[a+1]=s[a+3]=v,s[a+2]=s[a+6]=g+u*e,s[a+5]=s[a+7]=v+p*t,a+=8}return s}#E(e){return this.#a.serialize(e,this.#D())}static startHighlighting(e,t,{target:r,x:i,y:o}){let{x:s,y:a,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,p=e.combinedSignal(u),g=w=>{w.preventDefault(),w.stopPropagation()},v=w=>{u.abort(),this.#T(e,w)};window.addEventListener("blur",v,{signal:p}),window.addEventListener("pointerup",v,{signal:p}),window.addEventListener("pointerdown",g,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",pa,{signal:p}),r.addEventListener("pointermove",this.#_.bind(this,e),{signal:p}),this._freeHighlight=new Py({x:i,y:o},[s,a,l,c],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#_(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#T(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,r){return E(this,null,function*(){let i=null;if(e instanceof hI){let{data:{quadPoints:w,rect:y,rotation:x,id:b,color:R,opacity:V,popupRef:j},parent:{page:{pageNumber:$}}}=e;i=e={annotationType:jt.HIGHLIGHT,color:Array.from(R),opacity:V,quadPoints:w,boxes:null,pageIndex:$-1,rect:y.slice(0),rotation:x,id:b,deleted:!1,popupRef:j}}else if(e instanceof Ry){let{data:{inkLists:w,rect:y,rotation:x,id:b,color:R,borderStyle:{rawWidth:V},popupRef:j},parent:{page:{pageNumber:$}}}=e;i=e={annotationType:jt.HIGHLIGHT,color:Array.from(R),thickness:V,inkLists:w,boxes:null,pageIndex:$-1,rect:y.slice(0),rotation:x,id:b,deleted:!1,popupRef:j}}let{color:o,quadPoints:s,inkLists:a,opacity:l}=e,c=yield rs(n,this,"deserialize").call(this,e,t,r);c.color=Ye.makeHexColor(...o),c.#f=l||1,a&&(c.#v=e.thickness),c.annotationElementId=e.id||null,c._initialData=i;let[u,p]=c.pageDimensions,[g,v]=c.pageTranslation;if(s){let w=c.#n=[];for(let y=0;y<s.length;y+=8)w.push({x:(s[y]-g)/u,y:1-(s[y+1]-v)/p,width:(s[y+2]-s[y])/u,height:(s[y+1]-s[y+5])/p});c.#w(),c.#S(),c.rotate(c.rotation)}else if(a){c.#s=!0;let w=a[0],y={x:w[0]-g,y:p-(w[1]-v)},x=new Py(y,[0,0,u,p],1,c.#v/2,!0,.001);for(let V=0,j=w.length;V<j;V+=2)y.x=w[V]-g,y.y=p-(w[V+1]-v),x.add(y);let{id:b,clipPathId:R}=t.drawLayer.draw(x,c.color,c._defaultOpacity,!0);c.#y({highlightOutlines:x.getOutlines(),highlightId:b,clipPathId:R}),c.#S()}return c})}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();let t=this.getRect(0,0),r=jn._colorManager.convert(this.color),i={annotationType:jt.HIGHLIGHT,color:r,opacity:this.#f,thickness:this.#v,quadPoints:this.#P(),outlines:this.#E(t),pageIndex:this.pageIndex,rect:t,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#R(i)?null:(i.id=this.annotationElementId,i)}#R(e){let{color:t}=this._initialData;return e.color.some((r,i)=>r!==t[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},FB=class n extends jn{#e=0;#t=0;#n=null;#r=new Path2D;#o=!1;#i=null;#l=!1;#c=!1;#d=null;#a=null;#u=0;#s=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=jt.INK;constructor(e){super(ye(G({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){jn.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Et.INK_THICKNESS:n._defaultThickness=t;break;case Et.INK_COLOR:n._defaultColor=t;break;case Et.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case Et.INK_THICKNESS:this.#f(t);break;case Et.INK_COLOR:this.#p(t);break;case Et.INK_OPACITY:this.#g(t);break}}static get defaultPropertiesToUpdate(){return[[Et.INK_THICKNESS,n._defaultThickness],[Et.INK_COLOR,n._defaultColor||jn._defaultLineColor],[Et.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Et.INK_THICKNESS,this.thickness||n._defaultThickness],[Et.INK_COLOR,this.color||n._defaultColor||jn._defaultLineColor],[Et.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#f(e){let t=i=>{this.thickness=i,this.#O()},r=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#p(e){let t=i=>{this.color=i,this.#C()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(e){let t=i=>{this.opacity=i,this.#C()};e/=100;let r=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#O()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,r=this.width*e,i=this.height*t;this.setDimensions(r,i)}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#I())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#M())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#v(){let{parentRotation:e,parentDimensions:[t,r]}=this;switch(e){case 90:return[0,r,r,t];case 180:return[t,r,t,r];case 270:return[t,0,r,t];default:return[0,0,t,r]}}#m(){let{ctx:e,color:t,opacity:r,thickness:i,parentScale:o,scaleFactor:s}=this;e.lineWidth=i*o/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${OPe(r)}`}#w(e,t){this.canvas.addEventListener("contextmenu",pa,{signal:this._uiManager._signal}),this.#M(),this.#i=new AbortController;let r=this._uiManager.combinedSignal(this.#i);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,this.#c||(this.#c=!0,this.#_(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||jn._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#l=!1,this.#m(),this.#h=()=>{this.#b(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#y(e,t){let[r,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&t===i)return;let o=this.currentPath,s=this.#r;if(o.push([e,t]),this.#l=!0,o.length<=2){s.moveTo(...o[0]),s.lineTo(e,t);return}o.length===3&&(this.#r=s=new Path2D,s.moveTo(...o[0])),this.#A(s,...o.at(-3),...o.at(-2),e,t)}#x(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#r.lineTo(...e)}#k(e,t){this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#y(e,t),this.#x();let r;if(this.currentPath.length!==1)r=this.#S();else{let l=[e,t];r=[[l,l.slice(),l.slice(),l]]}let i=this.#r,o=this.currentPath;this.currentPath=[],this.#r=new Path2D;let s=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#E()),this.#O())};this.addCommands({cmd:s,undo:a,mustExec:!0})}#b(){if(!this.#l)return;this.#l=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),r=t.map(u=>u[0]),i=t.map(u=>u[1]),o=Math.min(...r)-e,s=Math.max(...r)+e,a=Math.min(...i)-e,l=Math.max(...i)+e,{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(let u of this.bezierPath2D)c.stroke(u);c.stroke(this.#r),c.restore()}#A(e,t,r,i,o,s,a){let l=(t+i)/2,c=(r+o)/2,u=(i+s)/2,p=(o+a)/2;e.bezierCurveTo(l+2*(i-l)/3,c+2*(o-c)/3,u+2*(i-u)/3,p+2*(o-p)/3,u,p)}#S(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],r,[i,o]=e[0];for(r=1;r<e.length-2;r++){let[g,v]=e[r],[w,y]=e[r+1],x=(g+w)/2,b=(v+y)/2,R=[i+2*(g-i)/3,o+2*(v-o)/3],V=[x+2*(g-x)/3,b+2*(v-b)/3];t.push([[i,o],R,V,[x,b]]),[i,o]=[x,b]}let[s,a]=e[r],[l,c]=e[r+1],u=[i+2*(s-i)/3,o+2*(a-o)/3],p=[l+2*(s-l)/3,c+2*(a-c)/3];return t.push([[i,o],u,p,[l,c]]),t}#C(){if(this.isEmpty()){this.#R();return}this.#m();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#R();for(let r of this.bezierPath2D)t.stroke(r)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#O(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#I(){if(this.#a)return;this.#a=new AbortController;let e=this._uiManager.combinedSignal(this.#a);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#M(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#w(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#y(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#D(e)}canvasPointerleave(e){this.#D(e)}#D(e){this.#i?.abort(),this.#i=null,this.#I(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",pa)},10),this.#k(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#d=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[r,i,o,s]=this.#v();if(this.setAt(r,i,0,0),this.setDims(o,s),this.#P(),this.width){let[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#c=!0,this.#_(),this.setDims(this.width*a,this.height*l),this.#C(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#_(){if(!this.#c)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#R()}setDimensions(e,t){let r=Math.round(e),i=Math.round(t);if(this.#u===r&&this.#s===i)return;this.#u=r,this.#s=i,this.canvas.style.visibility="hidden";let[o,s]=this.parentDimensions;this.width=e/o,this.height=t/s,this.fixAndSetPosition(),this.#o&&this.#T(e,t),this.#_(),this.#C(),this.canvas.style.visibility="visible",this.fixDims()}#T(e,t){let r=this.#V(),i=(e-r)/this.#t,o=(t-r)/this.#e;this.scaleFactor=Math.min(i,o)}#R(){let e=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#F(e){let t=new Path2D;for(let r=0,i=e.length;r<i;r++){let[o,s,a,l]=e[r];r===0&&t.moveTo(...o),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}return t}static#H(e,t,r){let[i,o,s,a]=t;switch(r){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]+=i,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=e[l+1]+i,e[l+1]=u+o}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=s-e[l],e[l+1]+=o;break;case 270:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=s-e[l+1],e[l+1]=a-u}break;default:throw new Error("Invalid rotation")}return e}static#j(e,t,r){let[i,o,s,a]=t;switch(r){case 0:for(let l=0,c=e.length;l<c;l+=2)e[l]-=i,e[l+1]=a-e[l+1];break;case 90:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=e[l+1]-o,e[l+1]=u-i}break;case 180:for(let l=0,c=e.length;l<c;l+=2)e[l]=s-e[l],e[l+1]-=o;break;case 270:for(let l=0,c=e.length;l<c;l+=2){let u=e[l];e[l]=a-e[l+1],e[l+1]=s-u}break;default:throw new Error("Invalid rotation")}return e}#L(e,t,r,i){let o=[],s=this.thickness/2,a=e*t+s,l=e*r+s;for(let c of this.paths){let u=[],p=[];for(let g=0,v=c.length;g<v;g++){let[w,y,x,b]=c[g];if(w[0]===b[0]&&w[1]===b[1]&&v===1){let B=e*w[0]+a,U=e*w[1]+l;u.push(B,U),p.push(B,U);break}let R=e*w[0]+a,V=e*w[1]+l,j=e*y[0]+a,$=e*y[1]+l,Y=e*x[0]+a,L=e*x[1]+l,T=e*b[0]+a,I=e*b[1]+l;g===0&&(u.push(R,V),p.push(R,V)),u.push(j,$,Y,L,T,I),p.push(j,$),g===v-1&&p.push(T,I)}o.push({bezier:n.#H(u,i,this.rotation),points:n.#H(p,i,this.rotation)})}return o}#B(){let e=1/0,t=-1/0,r=1/0,i=-1/0;for(let o of this.paths)for(let[s,a,l,c]of o){let u=Ye.bezierBoundingBox(...s,...a,...l,...c);e=Math.min(e,u[0]),r=Math.min(r,u[1]),t=Math.max(t,u[2]),i=Math.max(i,u[3])}return[e,r,t,i]}#V(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#O(e=!1){if(this.isEmpty())return;if(!this.#o){this.#C();return}let t=this.#B(),r=this.#V();this.#t=Math.max(jn.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(jn.MIN_SIZE,t[3]-t[1]);let i=Math.ceil(r+this.#t*this.scaleFactor),o=Math.ceil(r+this.#e*this.scaleFactor),[s,a]=this.parentDimensions;this.width=i/s,this.height=o/a,this.setAspectRatio(i,o);let l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#_(),this.#C(),this.#u=i,this.#s=o,this.setDims(i,o);let u=e?r/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}static deserialize(e,t,r){return E(this,null,function*(){if(e instanceof Ry)return null;let i=yield rs(n,this,"deserialize").call(this,e,t,r);i.thickness=e.thickness,i.color=Ye.makeHexColor(...e.color),i.opacity=e.opacity;let[o,s]=i.pageDimensions,a=i.width*o,l=i.height*s,c=i.parentScale,u=e.thickness/2;i.#o=!0,i.#u=Math.round(a),i.#s=Math.round(l);let{paths:p,rect:g,rotation:v}=e;for(let{bezier:y}of p){y=n.#j(y,g,v);let x=[];i.paths.push(x);let b=c*(y[0]-u),R=c*(y[1]-u);for(let j=2,$=y.length;j<$;j+=6){let Y=c*(y[j]-u),L=c*(y[j+1]-u),T=c*(y[j+2]-u),I=c*(y[j+3]-u),B=c*(y[j+4]-u),U=c*(y[j+5]-u);x.push([[b,R],[Y,L],[T,I],[B,U]]),b=B,R=U}let V=this.#F(x);i.bezierPath2D.push(V)}let w=i.#B();return i.#t=Math.max(jn.MIN_SIZE,w[2]-w[0]),i.#e=Math.max(jn.MIN_SIZE,w[3]-w[1]),i.#T(a,l),i})}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=jn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:jt.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#L(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},BB=class n extends jn{#e=null;#t=null;#n=null;#r=null;#o=null;#i="";#l=null;#c=null;#d=null;#a=!1;#u=!1;static _type="stamp";static _editorType=jt.STAMP;constructor(e){super(ye(G({},e),{name:"stampEditor"})),this.#r=e.bitmapUrl,this.#o=e.bitmapFile}static initialize(e,t){jn.initialize(e,t)}static get supportedTypes(){return ln(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return ln(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(jt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#s(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#a=e.isSvg),e.file&&(this.#i=e.file.name),this.#p()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return E(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!(yield r.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:i,width:o,height:s}=e||this.copyCanvas(null,null,!0).imageData,a=yield r.guess({name:"altText",request:{data:i,width:o,height:s,channels:i.length/(o*s)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");let l=a.output;return yield this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#s(r,!0)).finally(()=>this.#h());return}if(this.#r){let r=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#s(i)).finally(()=>this.#h());return}if(this.#o){let r=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#s(i)).finally(()=>this.#h());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(r=>{e.addEventListener("change",()=>E(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let i=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#s(i)}r()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#c?.disconnect(),this.#c=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#p():this.#f(),this.width&&!this.annotationElementId){let[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i)}return this.div}#p(){let{div:e}=this,{width:t,height:r}=this.#e,[i,o]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,r=this.height*o;else if(t>s*i||r>s*o){let u=Math.min(s*i/t,s*o/r);t*=u,r*=u}let[a,l]=this.parentDimensions;this.setDims(t*a/i,r*l/o),this._uiManager.enableWaiting(!1);let c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(t,r),this.#y(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&c.setAttribute("aria-label",this.#i)}copyCanvas(e,t,r=!1){e||(e=224);let{width:i,height:o}=this.#e,s=new Cy,a=this.#e,l=i,c=o,u=null;if(t){if(i>t||o>t){let Y=Math.min(t/i,t/o);l=Math.floor(i*Y),c=Math.floor(o*Y)}u=document.createElement("canvas");let g=u.width=Math.ceil(l*s.sx),v=u.height=Math.ceil(c*s.sy);this.#a||(a=this.#v(g,v));let w=u.getContext("2d");w.filter=this._uiManager.hcmFilter;let y="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",x="#42414d");let b=15,R=b*s.sx,V=b*s.sy,j=new OffscreenCanvas(R*2,V*2),$=j.getContext("2d");$.fillStyle=y,$.fillRect(0,0,R*2,V*2),$.fillStyle=x,$.fillRect(0,0,R,V),$.fillRect(R,V,R,V),w.fillStyle=w.createPattern(j,"repeat"),w.fillRect(0,0,g,v),w.drawImage(a,0,0,a.width,a.height,0,0,g,v)}let p=null;if(r){let g,v;if(s.symmetric&&a.width<e&&a.height<e)g=a.width,v=a.height;else if(a=this.#e,i>e||o>e){let x=Math.min(e/i,e/o);g=Math.floor(i*x),v=Math.floor(o*x),this.#a||(a=this.#v(g,v))}let y=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});y.drawImage(a,0,0,a.width,a.height,0,0,g,v),p={width:g,height:v,data:y.getImageData(0,0,g,v).data}}return{canvas:u,width:l,height:c,imageData:p}}#g(e,t){let[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);let o=200;this.#d=setTimeout(()=>{this.#d=null,this.#m(e,t)},o)}#v(e,t){let{width:r,height:i}=this.#e,o=r,s=i,a=this.#e;for(;o>2*e||s>2*t;){let l=o,c=s;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));let u=new OffscreenCanvas(o,s);u.getContext("2d").drawImage(a,0,0,l,c,0,0,o,s),a=u.transferToImageBitmap()}return a}#m(e,t){let r=new Cy,i=Math.ceil(e*r.sx),o=Math.ceil(t*r.sy),s=this.#l;if(!s||s.width===i&&s.height===o)return;s.width=i,s.height=o;let a=this.#a?this.#e:this.#v(i,o),l=s.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(a,0,0,a.width,a.height,0,0,i,o)}getImageForAltText(){return this.#l}#w(e){if(e){if(this.#a){let i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#a){let[t,r]=this.pageDimensions,i=Math.round(this.width*t*Nh.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Nh.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,o);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,o),s.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this._uiManager._signal&&(this.#c=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static deserialize(e,t,r){return E(this,null,function*(){let i=null;if(e instanceof pI){let{data:{rect:w,rotation:y,id:x,structParent:b,popupRef:R},container:V,parent:{page:{pageNumber:j}}}=e,$=V.querySelector("canvas"),Y=r.imageManager.getFromCanvas(V.id,$);$.remove();let L=(yield t._structTree.getAriaAttributes(`${HB}${x}`))?.get("aria-label")||"";i=e={annotationType:jt.STAMP,bitmapId:Y.id,bitmap:Y.bitmap,pageIndex:j-1,rect:w.slice(0),rotation:y,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:b,popupRef:R}}let o=yield rs(n,this,"deserialize").call(this,e,t,r),{rect:s,bitmap:a,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:p}=e;c&&r.imageManager.isValidId(c)?(o.#t=c,a&&(o.#e=a)):o.#r=l,o.#a=u;let[g,v]=o.pageDimensions;return o.width=(s[2]-s[0])/g,o.height=(s[3]-s[1])/v,o.annotationElementId=e.id||null,p&&(o.altTextData=p),o._initialData=i,o.#u=!!i,o})}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let r={annotationType:jt.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#a,structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=this.#w(!0),r.accessibilityData=this.serializeAltText(!0),r;let{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){let a=this.#x(r);if(a.isSame)return null;a.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,t===null)return r;t.stamps||=new Map;let s=this.#a?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#w(!1);else if(this.#a){let a=t.stamps.get(this.#t);s>a.area&&(a.area=s,a.serialized.bitmap.close(),a.serialized.bitmap=this.#w(!1))}return r}#x(e){let{rect:t,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,o=e.rect.every((l,c)=>Math.abs(l-t[c])<1),s=e.pageIndex===r,a=(e.accessibilityData?.alt||"")===i;return{isSame:o&&s&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}},dOe=(()=>{class n{#e;#t=!1;#n=null;#r=null;#o=null;#i=new Map;#l=!1;#c=!1;#d=!1;#a=null;#u=null;#s;static _initialized=!1;static#h=new Map([OB,FB,BB,_I].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:r,div:i,structTreeLayer:o,accessibilityManager:s,annotationLayer:a,drawLayer:l,textLayer:c,viewport:u,l10n:p}){let g=[...n.#h.values()];if(!n._initialized){n._initialized=!0;for(let v of g)v.initialize(p,t)}t.registerEditorTypes(g),this.#s=t,this.pageIndex=r,this.div=i,this.#e=s,this.#n=a,this.viewport=u,this.#a=c,this.drawLayer=l,this._structTree=o,this.#s.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#s.getMode()===jt.NONE}updateToolbar(t){this.#s.updateToolbar(t)}updateMode(t=this.#s.getMode()){switch(this.#m(),t){case jt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case jt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:r}=this.div;for(let i of n.#h.values())r.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#a?.div}addInkEditorIfNeeded(t){if(this.#s.getMode()!==jt.INK)return;if(!t){for(let i of this.#i.values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#s.setEditingState(t)}addCommands(t){this.#s.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){return E(this,null,function*(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let i of this.#i.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#s.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n)return;let r=this.#n.getEditableAnnotations();for(let i of r){if(i.hide(),this.#s.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;let o=yield this.deserialize(i);o&&(this.addOrRebuild(o),o.enableEditing())}})}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,r=new Map;for(let o of this.#i.values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else r.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}if(this.#n){let o=this.#n.getEditableAnnotations();for(let s of o){let{id:a}=s.data;if(this.#s.isDeletedAnnotationElement(a))continue;let l=r.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=t.get(a),l&&(this.#s.addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}this.#m(),this.isEmpty&&(this.div.hidden=!0);let{classList:i}=this.div;for(let o of n.#h.values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#s.getActive()!==t&&this.#s.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#a?.div&&!this.#u){this.#u=new AbortController;let t=this.#s.combinedSignal(this.#u);this.#a.div.addEventListener("pointerdown",this.#f.bind(this),{signal:t}),this.#a.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#a?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#a.div.classList.remove("highlighting"))}#f(t){this.#s.unselectAll();let{target:r}=t;if(r===this.#a.div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&this.#a.div.contains(r)){let{isMac:i}=to.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#s.showAllEditors("highlight",!0,!0),this.#a.div.classList.add("free"),this.toggleDrawing(),_I.startHighlighting(this,this.#s.direction==="ltr",{target:this.#a.div,x:t.x,y:t.y}),this.#a.div.addEventListener("pointerup",()=>{this.#a.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#s._signal}),t.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;let t=this.#s.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#r?.abort(),this.#r=null}attach(t){this.#i.set(t.id,t);let{annotationElementId:r}=t;r&&this.#s.isDeletedAnnotationElement(r)&&this.#s.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#d&&t.annotationElementId&&this.#s.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#s.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#s.addDeletedAnnotationElement(t.annotationElementId),jn.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#s.addEditor(t),this.attach(t),!t.isAttachedToDOM){let r=t.render();this.div.append(r),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#s.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:r}=document;t.div.contains(r)&&!this.#o&&(t._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#s._signal}),r.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let r=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:r,undo:i,mustExec:!1})}getNextId(){return this.#s.getId()}get#p(){return n.#h.get(this.#s.getMode())}combinedSignal(t){return this.#s.combinedSignal(t)}#g(t){let r=this.#p;return r?new r.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#p?.canCreateNewEmptyEditor()}pasteEditor(t,r){this.#s.updateToolbar(t),this.#s.updateMode(t);let{offsetX:i,offsetY:o}=this.#v(),s=this.getNextId(),a=this.#g(G({parent:this,id:s,x:i,y:o,uiManager:this.#s,isCentered:!0},r));a&&this.add(a)}deserialize(t){return E(this,null,function*(){return(yield n.#h.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#s))||null})}createAndAddNewEditor(t,r,i={}){let o=this.getNextId(),s=this.#g(G({parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:this.#s,isCentered:r},i));return s&&this.add(s),s}#v(){let{x:t,y:r,width:i,height:o}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,r),l=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,r+o),u=(s+l)/2-t,p=(a+c)/2-r,[g,v]=this.viewport.rotation%180===0?[u,p]:[p,u];return{offsetX:g,offsetY:v}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#s.setSelected(t)}toggleSelected(t){this.#s.toggleSelected(t)}unselect(t){this.#s.unselect(t)}pointerup(t){let{isMac:r}=to.platform;if(!(t.button!==0||t.ctrlKey&&r)&&t.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#s.getMode()===jt.STAMP){this.#s.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#s.getMode()===jt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}let{isMac:r}=to.platform;if(t.button!==0||t.ctrlKey&&r||t.target!==this.div)return;this.#l=!0;let i=this.#s.getActive();this.#t=!i||i.isEmpty()}findNewParent(t,r,i){let o=this.#s.findParent(r,i);return o===null||o===this?!1:(o.changeParent(t),!0)}destroy(){this.#s.getActive()?.parent===this&&(this.#s.commitOrRemove(),this.#s.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(let t of this.#i.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#s.removeLayer(this)}#m(){this.#c=!0;for(let t of this.#i.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,ig(this.div,t);for(let r of this.#s.getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:t}){this.#s.commitOrRemove(),this.#m();let r=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ig(this.div,{rotation:i}),r!==i)for(let o of this.#i.values())o.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:r}=this.viewport.rawDims;return[t,r]}get scale(){return this.#s.viewParameters.realScale}}return n})(),VB=class n{#e=null;#t=0;#n=new Map;#r=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return ln(this,"_svgFactory",new Ay)}static#o(e,{x:t=0,y:r=0,width:i=1,height:o=1}={}){let{style:s}=e;s.top=`${100*r}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*o}%`}#i(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#o(t,e),t}#l(e,t){let r=n._svgFactory.createElement("clipPath");e.append(r);let i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");let o=n._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),i}draw(e,t,r,i=!1){let o=this.#t++,s=this.#i(e.box);s.classList.add(...e.classNamesForDrawing);let a=n._svgFactory.createElement("defs");s.append(a);let l=n._svgFactory.createElement("path");a.append(l);let c=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&this.#r.set(o,l);let u=this.#l(a,c),p=n._svgFactory.createElement("use");return s.append(p),s.setAttribute("fill",t),s.setAttribute("fill-opacity",r),p.setAttribute("href",`#${c}`),this.#n.set(o,s),{id:o,clipPathId:`url(#${u})`}}drawOutline(e){let t=this.#t++,r=this.#i(e.box);r.classList.add(...e.classNamesForOutlining);let i=n._svgFactory.createElement("defs");r.append(i);let o=n._svgFactory.createElement("path");i.append(o);let s=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){let u=n._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");let p=n._svgFactory.createElement("rect");u.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");let g=n._svgFactory.createElement("use");u.append(g),g.setAttribute("href",`#${s}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}let l=n._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);let c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(t,r),t}finalizeLine(e,t){let r=this.#r.get(e);this.#r.delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#r.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#o(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}getSVGRoot(e){return this.#n.get(e)}remove(e){this.#r.delete(e),this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear(),this.#r.clear()}};var uOe=It.AbortException,hOe=It.AnnotationEditorLayer,pOe=It.AnnotationEditorParamsType,GB=It.AnnotationEditorType,fOe=It.AnnotationEditorUIManager,gOe=It.AnnotationLayer,mOe=It.AnnotationMode,vOe=It.ColorPicker,wOe=It.DOMSVGFactory,_Oe=It.DrawLayer,yOe=It.FeatureTest,KB=It.GlobalWorkerOptions,kOe=It.ImageKind,bOe=It.InvalidPDFException,xOe=It.MissingPDFException,COe=It.OPS,EOe=It.OutputScale,MOe=It.PDFDataRangeTransport,SOe=It.PDFDateString,IOe=It.PDFWorker,TOe=It.PasswordResponses,AOe=It.PermissionFlag,DOe=It.PixelsPerInch,ROe=It.RenderingCancelledException,POe=It.TextLayer,OOe=It.UnexpectedResponseException,NOe=It.Util,YB=It.VerbosityLevel,LOe=It.XfaLayer,FOe=It.build,BOe=It.createValidAbsoluteUrl,VOe=It.fetchData,XB=It.getDocument,jOe=It.getFilenameFromUrl,HOe=It.getPdfFilenameFromUrl,UOe=It.getXfaPageViewport,$Oe=It.isDataScheme,zOe=It.isPdfFile,qOe=It.noContextMenu,WOe=It.normalizeUnicode,GOe=It.setLayerDimensions,KOe=It.shadow,Ny=It.version;var B7={};uU(B7,{AnnotationLayerBuilder:()=>N6e,DownloadManager:()=>L6e,EventBus:()=>F6e,FindState:()=>B6e,GenericL10n:()=>P7,LinkTarget:()=>dg,PDFFindController:()=>O7,PDFHistory:()=>V6e,PDFLinkService:()=>N7,PDFPageView:()=>j6e,PDFScriptingManager:()=>H6e,PDFSinglePageViewer:()=>L7,PDFViewer:()=>F7,ProgressBar:()=>U6e,RenderingStates:()=>$6e,ScrollMode:()=>z6e,SimpleLinkService:()=>q6e,SpreadMode:()=>W6e,StructTreeLayerBuilder:()=>G6e,TextLayerBuilder:()=>K6e,XfaLayerBuilder:()=>Y6e,parseQueryString:()=>X6e});var Fy={};Fy.d=(n,e)=>{for(var t in e)Fy.o(e,t)&&!Fy.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Fy.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Ir=globalThis.pdfjsViewer={};Fy.d(Ir,{AnnotationLayerBuilder:()=>FI,DownloadManager:()=>c7,EventBus:()=>BI,FindState:()=>Fh,GenericL10n:()=>K1,LinkTarget:()=>ag,PDFFindController:()=>a7,PDFHistory:()=>y7,PDFLinkService:()=>NI,PDFPageView:()=>zI,PDFScriptingManager:()=>T7,PDFSinglePageViewer:()=>R7,PDFViewer:()=>qI,ProgressBar:()=>s7,RenderingStates:()=>Nr,ScrollMode:()=>gn,SimpleLinkService:()=>jy,SpreadMode:()=>bo,StructTreeLayerBuilder:()=>HI,TextLayerBuilder:()=>UI,XfaLayerBuilder:()=>$I,parseQueryString:()=>WI});var YOe="auto",xie=1,zre=1.1,XOe=.1,ZOe=10,ZB=0,QOe=1.25,qre=40,Wre=5,Nr={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},q1={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var mc={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},gn={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},bo={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function Cie(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,o=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,o+=r.offsetLeft,r=r.offsetParent,!r)return;e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0&&(o+=e.left,r.scrollLeft=o)),r.scrollTop=i}function JOe(n,e,t=void 0){let r=function(s){o||(o=window.requestAnimationFrame(function(){o=null;let l=n.scrollLeft,c=i.lastX;l!==c&&(i.right=l>c),i.lastX=l;let u=n.scrollTop,p=i.lastY;u!==p&&(i.down=u>p),i.lastY=u,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r},o=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(o),{once:!0}),i}function WI(n){let e=new Map;for(let[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}var Gre=/[\x00-\x1F]/g;function By(n,e=!1){return Gre.test(n)?e?n.replaceAll(Gre,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Vy(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){let o=r+i>>1,s=n[o];e(s)?i=o:r=o+1}return r}function Kre(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let r=n>1?e:n,i=0,o=1,s=1,a=1;for(;;){let c=i+s,u=o+a;if(u>t)break;r<=c/u?(s=c,a=u):(i=c,o=u)}let l;return r-i/o<s/a-r?l=r===n?[i,o]:[o,i]:l=r===n?[s,a]:[a,s],l}function II(n,e){return n-n%e}function eNe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let o=n-2;o>=0&&(r=e[o].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--o)n=o;return n}function tNe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){let o=n.scrollTop,s=o+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth;function c(R){let V=R.div;return V.offsetTop+V.clientTop+V.clientHeight>o}function u(R){let V=R.div,j=V.offsetLeft+V.clientLeft,$=j+V.clientWidth;return i?j<l:$>a}let p=[],g=new Set,v=e.length,w=Vy(e,r?u:c);w>0&&w<v&&!r&&(w=eNe(w,e,o));let y=r?l:-1;for(let R=w;R<v;R++){let V=e[R],j=V.div,$=j.offsetLeft+j.clientLeft,Y=j.offsetTop+j.clientTop,L=j.clientWidth,T=j.clientHeight,I=$+L,B=Y+T;if(y===-1)B>=s&&(y=B);else if((r?$:Y)>y)break;if(B<=o||Y>=s||I<=a||$>=l)continue;let U=Math.max(0,o-Y)+Math.max(0,B-s),X=Math.max(0,a-$)+Math.max(0,I-l),z=(T-U)/T,tt=(L-X)/L,gt=z*tt*100|0;p.push({id:V.id,x:$,y:Y,view:V,percent:gt,widthPercent:tt*100|0}),g.add(V.id)}let x=p[0],b=p.at(-1);return t&&p.sort(function(R,V){let j=R.percent-V.percent;return Math.abs(j)>.001?-j:R.id-V.id}),{first:x,last:b,views:p,ids:g}}function Eie(n){return Number.isInteger(n)&&n%90===0}function nNe(n){return Number.isInteger(n)&&Object.values(gn).includes(n)&&n!==gn.UNKNOWN}function rNe(n){return Number.isInteger(n)&&Object.values(bo).includes(n)&&n!==bo.UNKNOWN}function Yre(n){return n.width<=n.height}var DMt=new Promise(function(n){window.requestAnimationFrame(n)}),iNe=document.documentElement.style;function oNe(n,e,t){return Math.min(Math.max(n,e),t)}var s7=class{#e=null;#t=null;#n=0;#r=null;#o=!0;constructor(e){this.#e=e.classList,this.#r=e.style}get percent(){return this.#n}set percent(e){if(this.#n=oNe(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#r.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&this.#r.setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#o&&(this.#o=!1,this.#e.add("hidden"))}show(){this.#o||(this.#o=!0,this.#e.remove("hidden"))}};function sNe(n){let e=gn.VERTICAL,t=bo.NONE;switch(n){case"SinglePage":e=gn.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=gn.PAGE;case"TwoColumnLeft":t=bo.ODD;break;case"TwoPageRight":e=gn.PAGE;case"TwoColumnRight":t=bo.EVEN;break}return{scrollMode:e,spreadMode:t}}var TI=(function(){let n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),nl={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function aNe(n){return n<11904}function lNe(n){return(n&65408)===0}function cNe(n){return n>=97&&n<=122||n>=65&&n<=90}function dNe(n){return n>=48&&n<=57}function uNe(n){return n===32||n===9||n===13||n===10}function hNe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function pNe(n){return n>=12448&&n<=12543}function fNe(n){return n>=12352&&n<=12447}function gNe(n){return n>=65376&&n<=65439}function mNe(n){return(n&65408)===3584}function AI(n){return aNe(n)?lNe(n)?uNe(n)?nl.SPACE:cNe(n)||dNe(n)||n===95?nl.ALPHA_LETTER:nl.PUNCT:mNe(n)?nl.THAI_LETTER:n===160?nl.SPACE:nl.ALPHA_LETTER:hNe(n)?nl.HAN_LETTER:pNe(n)?nl.KATAKANA_LETTER:fNe(n)?nl.HIRAGANA_LETTER:gNe(n)?nl.HALFWIDTH_KATAKANA_LETTER:nl.ALPHA_LETTER}var Xre;function vNe(){return Xre||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",Xre}var Fh={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},wNe=250,_Ne=-50,yNe=-400,Zre={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Qre=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),Jre,kNe=new RegExp("\\p{M}+","gu"),bNe=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),xNe=new RegExp("([^\\p{M}])\\p{M}*$","u"),CNe=new RegExp("^\\p{M}*([^\\p{M}])","u"),ENe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,eie=new Map,MNe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",tie=new Map,QB=null,JB=null;function e7(n){let e=[],t;for(;(t=ENe.exec(n))!==null;){let{index:v}=t;for(let w of t[0]){let y=eie.get(w);y||(y=w.normalize("NFD").length,eie.set(w,y)),e.push([y,v++])}}let r;if(e.length===0&&QB)r=QB;else if(e.length>0&&JB)r=JB;else{let v=Object.keys(Zre).join(""),w=vNe(),R=`([${v}])|([${w}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?r=QB=new RegExp(R+"|(\\u0000)","gum"):r=JB=new RegExp(R+`|(${MNe})`,"gum")}let i=[];for(;(t=kNe.exec(n))!==null;)i.push([t[0].length,t.index]);let o=n.normalize("NFD"),s=[[0,0]],a=0,l=0,c=0,u=0,p=0,g=!1;return o=o.replace(r,(v,w,y,x,b,R,V,j,$,Y,L)=>{if(L-=u,w){let T=Zre[w],I=T.length;for(let B=1;B<I;B++)s.push([L-c+B,c-B]);return c-=I-1,T}if(y){let T=tie.get(y);T||(T=y.normalize("NFKC"),tie.set(y,T));let I=T.length;for(let B=1;B<I;B++)s.push([L-c+B,c-B]);return c-=I-1,T}if(x)return g=!0,L+p===i[a]?.[1]?++a:(s.push([L-1-c+1,c-1]),c-=1,u+=1),s.push([L-c+1,c]),u+=1,p+=1,x.charAt(0);if(b){let T=b.endsWith(`
`),I=T?b.length-2:b.length;g=!0;let B=I;L+p===i[a]?.[1]&&(B-=i[a][0],++a);for(let U=1;U<=B;U++)s.push([L-1-c+U,c-U]);return c-=B,u+=B,T?(L+=I-1,s.push([L-c+1,1+c]),c+=1,u+=1,p+=1,b.slice(0,I)):b}if(R)return s.push([L-c+3,1+c]),c+=1,u+=1,p+=1,R.replace(`
`,"");if(V){let T=V.length-2;return s.push([L-c+T,1+c]),c+=1,u+=1,p+=1,V.slice(0,-2)}if(j){let T=j.length-1;return s.push([L-c+T,c]),u+=1,p+=1,j.slice(0,-1)}if($)return s.push([L-c+1,c-1]),c-=1,u+=1,p+=1," ";if(L+p===e[l]?.[1]){let T=e[l][0]-1;++l;for(let I=1;I<=T;I++)s.push([L-(c-I),c-I]);c-=T,u+=T}return Y}),s.push([o.length,c]),[o,s,g]}function SNe(n,e,t){if(!n)return[e,t];let r=e,i=e+t-1,o=Vy(n,u=>u[0]>=r);n[o][0]>r&&--o;let s=Vy(n,u=>u[0]>=i,o);n[s][0]>i&&--s;let a=r+n[o][1],c=i+n[s][1]+1-a;return[a,c]}var a7=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){this._linkService=e,this._eventBus=t,this.#t=r,this.onIsPageVisible=null,this.#o(),t._on("find",this.#r.bind(this)),t._on("findbarclose",this.#w.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#o(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#r(e){if(!e)return;let t=this._pdfDocument,{type:r}=e;(this.#e===null||this.#l(e))&&(this._dirtyMatch=!0),this.#e=e,r!=="highlightallchange"&&this.#k(Fh.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();let i=!this._highlightMatches,o=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?this.#f():r==="again"?(this.#f(),i&&this.#e.highlightAll&&this.#h()):r==="highlightallchange"?(o?this.#f():this._highlightMatches=!0,this.#h()):this.#f():this._findTimeout=setTimeout(()=>{this.#f(),this._findTimeout=null},wNe)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1;let o={top:_Ne,left:t+yNe};Cie(e,o,!0)}#o(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#i(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=e7(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>e7(t)[0])}#l(e){let t=e.query,r=this.#e.query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":let s=this._selected.pageIdx+1,a=this._linkService;return s>=1&&s<=a.pagesCount&&s!==a.page&&!(this.onIsPageVisible?.(s)??!0);case"highlightallchange":return!1}return!0}#c(e,t,r){let i=e.slice(0,t).match(xNe);if(i){let o=e.charCodeAt(t),s=i[1].charCodeAt(0);if(AI(o)===AI(s))return!1}if(i=e.slice(t+r).match(CNe),i){let o=e.charCodeAt(t+r-1),s=i[1].charCodeAt(0);if(AI(o)===AI(s))return!1}return!0}#d(e,t){let{matchDiacritics:r}=this.#e,i=!1;e=e.replaceAll(bNe,(s,a,l,c,u,p)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":r?u||p:u?Qre.has(u.charCodeAt(0))?u:"":t?(i=!0,`${p}\\p{M}*`):p);let o="[ ]*";return e.endsWith(o)&&(e=e.slice(0,e.length-o.length)),r&&t&&(Jre||=String.fromCharCode(...Qre),i=!0,e=`${e}(?=[${Jre}]|[^\\p{M}]|$)`),[i,e]}#a(e){let t=this.#i;if(t.length===0)return;let r=this._pageContents[e],i=this.match(t,r,e),o=this._pageMatches[e]=[],s=this._pageMatchesLength[e]=[],a=this._pageDiffs[e];i?.forEach(({index:c,length:u})=>{let[p,g]=SNe(a,c,u);g&&(o.push(p),s.push(g))}),this.#e.highlightAll&&this.#s(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());let l=o.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#x():++this.#n===this._linkService.pagesCount&&this.#x()}match(e,t,r){let i=this._hasDiacritics[r],o=!1;if(typeof e=="string"?[o,e]=this.#d(e,i):e=e.sort().reverse().map(p=>{let[g,v]=this.#d(p,i);return o||=g,`(${v})`}).join("|"),!e)return;let{caseSensitive:s,entireWord:a}=this.#e,l=`g${o?"u":""}${s?"":"i"}`;e=new RegExp(e,l);let c=[],u;for(;(u=e.exec(t))!==null;)a&&!this.#c(t,u.index,u[0].length)||c.push({index:u.index,length:u[0].length});return c}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let r=0,i=this._linkService.pagesCount;r<i;r++){let{promise:o,resolve:s}=Promise.withResolvers();this._extractTextPromises[r]=o,e=e.then(()=>this._pdfDocument.getPage(r+1).then(a=>a.getTextContent(t)).then(a=>{let l=[];for(let c of a.items)l.push(c.str),c.hasEOL&&l.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=e7(l.join("")),s()},a=>{console.error(`Unable to get text content for page ${r+1}`,a),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,s()}))}}#s(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#f(){let e=this.#e.findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let s=0;s<r;s++)this._pendingFindMatches.has(s)||(this._pendingFindMatches.add(s),this._extractTextPromises[s].then(()=>{this._pendingFindMatches.delete(s),this.#a(s)}))}if(this.#i.length===0){this.#k(Fh.FOUND);return}if(this._resumePageIdx)return;let o=this._offset;if(this._pagesToSearch=r,o.matchIdx!==null){let s=this._pageMatches[o.pageIdx].length;if(!e&&o.matchIdx+1<s||e&&o.matchIdx>0){o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,this.#m(!0);return}this.#v(e)}this.#g()}#p(e){let t=this._offset,r=e.length,i=this.#e.findPrevious;return r?(t.matchIdx=i?r-1:0,this.#m(!0),!0):(this.#v(i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#g(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#p(e))}#v(e){let t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)}#m(e=!1){let t=Fh.NOT_FOUND,r=this._offset.wrapped;if(this._offset.wrapped=!1,e){let i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?Fh.WRAPPED:Fh.FOUND,i!==-1&&i!==this._selected.pageIdx&&this.#s(i)}this.#k(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#s(this._selected.pageIdx))}#w(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#k(Fh.FOUND),this._highlightMatches=!1,this.#h())})}#y(){let{pageIdx:e,matchIdx:t}=this._selected,r=0,i=this._matchesCountTotal;if(t!==-1){for(let o=0;o<e;o++)r+=this._pageMatches[o]?.length||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}#x(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#y()})}#k(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===Fh.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#y(),rawQuery:this.#e?.query??null})}},INe="noopener noreferrer nofollow",ag={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},NI=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return E(this,null,function*(){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=yield this.pdfDocument.getDestination(e)):(t=null,r=yield e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}let[o]=r;if(o&&typeof o=="object"){if(i=this.pdfDocument.cachedPageNumber(o),!i)try{i=(yield this.pdfDocument.getPageIndex(o))+1}catch{console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(o)&&(i=o+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let i=r?ag.BLANK:this.externalLinkTarget,o=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let s="";switch(i){case ag.NONE:break;case ag.SELF:s="_self";break;case ag.BLANK:s="_blank";break;case ag.PARENT:s="_parent";break;case ag.TOP:s="_top";break}e.target=s,e.rel=typeof o=="string"?o:INe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){let i=WI(e);if(i.has("search")){let o=i.get("search").replaceAll('"',""),s=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:s?o:o.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){let o=i.get("zoom").split(","),s=o[0],a=parseFloat(s);s.includes("Fit")?s==="Fit"||s==="FitB"?r=[null,{name:s}]:s==="FitH"||s==="FitBH"||s==="FitV"||s==="FitBV"?r=[null,{name:s},o.length>1?o[1]|0:null]:s==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:s},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${s}" is not a valid zoom value.`):r=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,a?a/100:s]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||n.#e(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return E(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,r=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,r,...i]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof r=="object"&&typeof r?.name=="string"))return!1;let o=i.length,s=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;s=!1;break;default:return!1}for(let a of i)if(!(typeof a=="number"||s&&a===null))return!1;return!0}},jy=class extends NI{setDocument(e,t=null){}},{AbortException:TNe,AnnotationEditorLayer:ANe,AnnotationEditorParamsType:RMt,AnnotationEditorType:js,AnnotationEditorUIManager:DNe,AnnotationLayer:RNe,AnnotationMode:Jd,build:PMt,ColorPicker:OMt,createValidAbsoluteUrl:PNe,DOMSVGFactory:NMt,DrawLayer:ONe,FeatureTest:LMt,fetchData:nie,getDocument:FMt,getFilenameFromUrl:BMt,getPdfFilenameFromUrl:NNe,getXfaPageViewport:VMt,GlobalWorkerOptions:jMt,ImageKind:HMt,InvalidPDFException:UMt,isDataScheme:$Mt,isPdfFile:LNe,MissingPDFException:zMt,noContextMenu:qMt,normalizeUnicode:FNe,OPS:WMt,OutputScale:BNe,PasswordResponses:GMt,PDFDataRangeTransport:KMt,PDFDateString:YMt,PDFWorker:XMt,PermissionFlag:DI,PixelsPerInch:Qd,RenderingCancelledException:l7,setLayerDimensions:VNe,shadow:LI,TextLayer:jNe,UnexpectedResponseException:ZMt,Util:QMt,VerbosityLevel:JMt,version:rie,XfaLayer:t7}=globalThis.pdfjsLib,FI=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:o="",renderForms:s=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:u=null,accessibilityManager:p=null,annotationEditorUIManager:g=null,onAppend:v=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=o,this.renderForms=s,this.annotationStorage=i,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=p,this._annotationEditorUIManager=g,this.#e=v,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t,r="display"){return E(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[i,o,s]=yield Promise.all([this.pdfPage.getAnnotations({intent:r}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let a=this.div=document.createElement("div");if(a.className="annotationLayer",this.#e?.(a),i.length===0){this.hide();return}this.annotationLayer=new RNe({div:a,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t?.structTreeLayer||null}),yield this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:o,fieldObjects:s}),this.linkService.isInPresentationMode&&this.#n(q1.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",l=>{this.#n(l.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case q1.FULLSCREEN:t=!0;break;case q1.NORMAL:break;default:return}for(let r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)}};function iie(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var c7=class{#e=new WeakMap;downloadData(e,t,r){let i=URL.createObjectURL(new Blob([e],{type:r}));iie(i,t)}openOrDownloadData(e,t,r=null){let o=LNe(t)?"application/pdf":"";return this.downloadData(e,t,o),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!PNe(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}iie(i,r)}},oie={EVENT:"event",TIMEOUT:"timeout"};function HNe(r){return E(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:i,resolve:o}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(c),o(u)}let l=n instanceof BI?"_on":"addEventListener";n[l](e,a.bind(null,oie.EVENT),{signal:s.signal});let c=setTimeout(a.bind(null,oie.TIMEOUT),t);return i})}var BI=class{#e=Object.create(null);on(e,t,r=null){this._on(e,t,{external:!0,once:r?.once,signal:r?.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){let r=this.#e[e];if(!r||r.length===0)return;let i;for(let{listener:o,external:s,once:a}of r.slice(0)){if(a&&this._off(e,o),s){(i||=[]).push(o);continue}o(t)}if(i){for(let o of i)o(t);i=null}}_on(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){let{signal:s}=r;if(s.aborted){console.error("Cannot use an `aborted` signal.");return}let a=()=>this._off(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:r?.external===!0,once:r?.once===!0,rmAbort:i})}_off(e,t,r=null){let i=this.#e[e];if(i)for(let o=0,s=i.length;o<s;o++){let a=i[o];if(a.listener===t){a.rmAbort?.(),i.splice(o,1);return}}}};var W1=class{constructor(e){this.value=e}valueOf(){return this.value}},Lr=class extends W1{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},rl=class extends W1{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},cg=class extends W1{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},sie=100,UNe="\u2068",$Ne="\u2069";function zNe(n,e,t){if(t===e||t instanceof rl&&e instanceof rl&&t.value===e.value)return!0;if(e instanceof rl&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function aie(n,e,t){return e[t]?G1(n,e[t].value):(n.reportError(new RangeError("No default")),new Lr)}function d7(n,e){let t=[],r=Object.create(null);for(let i of e)i.type==="narg"?r[i.name]=Hy(n,i.value):t.push(Hy(n,i));return{positional:t,named:r}}function Hy(n,e){switch(e.type){case"str":return e.value;case"num":return new rl(e.value,{minimumFractionDigits:e.precision});case"var":return qNe(n,e);case"mesg":return WNe(n,e);case"term":return GNe(n,e);case"func":return KNe(n,e);case"select":return YNe(n,e);default:return new Lr}}function qNe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Lr(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Lr(`$${e}`);if(t instanceof W1)return t;switch(typeof t){case"string":return t;case"number":return new rl(t);case"object":if(t instanceof Date)return new cg(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Lr(`$${e}`)}}function WNe(n,{name:e,attr:t}){let r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Lr(e);if(t){let i=r.attributes[t];return i?G1(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Lr(`${e}.${t}`))}return r.value?G1(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Lr(e))}function GNe(n,{name:e,attr:t,args:r}){let i=`-${e}`,o=n.bundle._terms.get(i);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new Lr(i);if(t){let a=o.attributes[t];if(a){n.params=d7(n,r).named;let l=G1(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Lr(`${i}.${t}`)}n.params=d7(n,r).named;let s=G1(n,o.value);return n.params=null,s}function KNe(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Lr(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Lr(`${e}()`);try{let i=d7(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new Lr(`${e}()`)}}function YNe(n,{selector:e,variants:t,star:r}){let i=Hy(n,e);if(i instanceof Lr)return aie(n,t,r);for(let o of t){let s=Hy(n,o.key);if(zNe(n,i,s))return G1(n,o.value)}return aie(n,t,r)}function Mie(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Lr;n.dirty.add(e);let t=[],r=n.bundle._useIsolating&&e.length>1;for(let i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>sie)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${sie}`);r&&t.push(UNe),t.push(Hy(n,i).toString(n)),r&&t.push($Ne)}return n.dirty.delete(e),t.join("")}function G1(n,e){return typeof e=="string"?n.bundle._transform(e):Mie(n,e)}var u7=class{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}};function VI(n,e){let t=Object.create(null);for(let[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}var lie=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function XNe(n,e){let t=n[0];if(t instanceof Lr)return new Lr(`NUMBER(${t.valueOf()})`);if(t instanceof rl)return new rl(t.valueOf(),G(G({},t.opts),VI(e,lie)));if(t instanceof cg)return new rl(t.valueOf(),G({},VI(e,lie)));throw new TypeError("Invalid argument to NUMBER")}var cie=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function ZNe(n,e){let t=n[0];if(t instanceof Lr)return new Lr(`DATETIME(${t.valueOf()})`);if(t instanceof cg)return new cg(t.valueOf(),G(G({},t.opts),VI(e,cie)));if(t instanceof rl)return new cg(t.valueOf(),G({},VI(e,cie)));throw new TypeError("Invalid argument to DATETIME")}var die=new Map;function QNe(n){let e=Array.isArray(n)?n.join(" "):n,t=die.get(e);return t===void 0&&(t=new Map,die.set(e,t)),t}var h7=class{constructor(e,{functions:t,useIsolating:r=!0,transform:i=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=G({NUMBER:XNe,DATETIME:ZNe},t),this._useIsolating=r,this._transform=i,this._intls=QNe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let r=[];for(let i=0;i<e.body.length;i++){let o=e.body[i];if(o.id.startsWith("-")){if(t===!1&&this._terms.has(o.id)){r.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(t===!1&&this._messages.has(o.id)){r.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new u7(this,r,t);try{return Mie(i,e).toString(i)}catch(o){if(i.errors&&o instanceof Error)return i.errors.push(o),new Lr().toString(i);throw o}}},n7=/^(-?[a-zA-Z][\w-]*) *= */gm,uie=/\.([a-zA-Z][\w-]*) *= */y,JNe=/\*?\[/y,r7=/(-?[0-9]+(?:\.([0-9]+))?)/y,e6e=/([a-zA-Z][\w-]*)/y,hie=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,t6e=/^[A-Z][A-Z0-9_-]*$/,RI=/([^{}\n\r]+)/y,n6e=/([^\\"\n\r]*)/y,pie=/\\([\\"])/y,fie=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,r6e=/^\n+/,gie=/ +$/,i6e=/ *\r?\n/g,o6e=/( *)$/,s6e=/{\s*/y,mie=/\s*}/y,a6e=/\[\s*/y,l6e=/\s*] */y,c6e=/\s*\(\s*/y,d6e=/\s*->\s*/y,u6e=/\s*:\s*/y,h6e=/\s*,?\s*/y,p6e=/\s+/y,p7=class{constructor(e){this.body=[],n7.lastIndex=0;let t=0;for(;;){let I=n7.exec(e);if(I===null)break;t=n7.lastIndex;try{this.body.push(l(I[1]))}catch(B){if(B instanceof SyntaxError)continue;throw B}}function r(I){return I.lastIndex=t,I.test(e)}function i(I,B){if(e[t]===I)return t++,!0;if(B)throw new B(`Expected ${I}`);return!1}function o(I,B){if(r(I))return t=I.lastIndex,!0;if(B)throw new B(`Expected ${I.toString()}`);return!1}function s(I){I.lastIndex=t;let B=I.exec(e);if(B===null)throw new SyntaxError(`Expected ${I.toString()}`);return t=I.lastIndex,B}function a(I){return s(I)[1]}function l(I){let B=u(),U=c();if(B===null&&Object.keys(U).length===0)throw new SyntaxError("Expected message value or attributes");return{id:I,value:B,attributes:U}}function c(){let I=Object.create(null);for(;r(uie);){let B=a(uie),U=u();if(U===null)throw new SyntaxError("Expected attribute value");I[B]=U}return I}function u(){let I;if(r(RI)&&(I=a(RI)),e[t]==="{"||e[t]==="}")return p(I?[I]:[],1/0);let B=Y();return B?I?p([I,B],B.length):(B.value=L(B.value,r6e),p([B],B.length)):I?L(I,gie):null}function p(I=[],B){for(;;){if(r(RI)){I.push(a(RI));continue}if(e[t]==="{"){I.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let tt=Y();if(tt){I.push(tt),B=Math.min(B,tt.length);continue}break}let U=I.length-1,X=I[U];typeof X=="string"&&(I[U]=L(X,gie));let z=[];for(let tt of I)tt instanceof jI&&(tt=tt.value.slice(0,tt.value.length-B)),tt&&z.push(tt);return z}function g(){o(s6e,SyntaxError);let I=v();if(o(mie))return I;if(o(d6e)){let B=x();return o(mie,SyntaxError),G({type:"select",selector:I},B)}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(r(hie)){let[,I,B,U=null]=s(hie);if(I==="$")return{type:"var",name:B};if(o(c6e)){let X=w();if(I==="-")return{type:"term",name:B,attr:U,args:X};if(t6e.test(B))return{type:"func",name:B,args:X};throw new SyntaxError("Function names must be all upper-case")}return I==="-"?{type:"term",name:B,attr:U,args:[]}:{type:"mesg",name:B,attr:U}}return R()}function w(){let I=[];for(;;){switch(e[t]){case")":return t++,I;case void 0:throw new SyntaxError("Unclosed argument list")}I.push(y()),o(h6e)}}function y(){let I=v();return I.type!=="mesg"?I:o(u6e)?{type:"narg",name:I.name,value:R()}:I}function x(){let I=[],B=0,U;for(;r(JNe);){i("*")&&(U=B);let X=b(),z=u();if(z===null)throw new SyntaxError("Expected variant value");I[B++]={key:X,value:z}}if(B===0)return null;if(U===void 0)throw new SyntaxError("Expected default variant");return{variants:I,star:U}}function b(){o(a6e,SyntaxError);let I;return r(r7)?I=V():I={type:"str",value:a(e6e)},o(l6e,SyntaxError),I}function R(){if(r(r7))return V();if(e[t]==='"')return j();throw new SyntaxError("Invalid expression")}function V(){let[,I,B=""]=s(r7),U=B.length;return{type:"num",value:parseFloat(I),precision:U}}function j(){i('"',SyntaxError);let I="";for(;;){if(I+=a(n6e),e[t]==="\\"){I+=$();continue}if(i('"'))return{type:"str",value:I};throw new SyntaxError("Unclosed string literal")}}function $(){if(r(pie))return a(pie);if(r(fie)){let[,I,B]=s(fie),U=parseInt(I||B,16);return U<=55295||57344<=U?String.fromCodePoint(U):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function Y(){let I=t;switch(o(p6e),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return T(e.slice(I,t))}return e[t-1]===" "?T(e.slice(I,t)):!1}function L(I,B){return I.replace(B,"")}function T(I){let B=I.replace(i6e,`
`),U=o6e.exec(I)[1].length;return new jI(B,U)}}},jI=class{constructor(e,t){this.value=e,this.length=t}},f6e=/<|&#?\w+;/,g6e={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},m6e={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function v6e(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!f6e.test(t))n.textContent=t;else{let r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,w6e(r.content,n)}Sie(e,n)}function w6e(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let r=y6e(e,t);n.replaceChild(r,t);continue}if(b6e(t)){let r=k6e(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(f7(t),t)}e.textContent="",e.appendChild(n)}function _6e(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function Sie(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(let r of Array.from(e.attributes))vie(r.name,e,t)&&!_6e(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(let r of Array.from(n.attributes))vie(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function y6e(n,e){let t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),f7(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),f7(e);n.removeChild(r);let i=r.cloneNode(!1);return Iie(e,i)}function k6e(n){let e=n.ownerDocument.createElement(n.localName);return Iie(n,e)}function f7(n){return n.ownerDocument.createTextNode(n.textContent)}function b6e(n){let e=g6e[n.namespaceURI];return e&&e.includes(n.localName)}function vie(n,e,t=null){if(t&&t.includes(n))return!0;let r=m6e[e.namespaceURI];if(!r)return!1;let i=n.toLowerCase(),o=e.localName;if(r.global.includes(i))return!0;if(!r[o])return!1;if(r[o].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&o==="input"&&i==="value"){let s=e.type.toLowerCase();if(s==="submit"||s==="button"||s==="reset")return!0}return!1}function Iie(n,e){return e.textContent=n.textContent,Sie(n,e),e}var g7=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var m7=class extends g7{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return E(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return E(this,null,function*(){let t=0;for(;t++<e;){let r=this[this.length-1];if(r&&(yield r).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},v7=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return E(this,null,function*(){let r=[],i=!1;try{for(var o=fU(this.bundles),s,a,l;s=!(a=yield o.next()).done;s=!1){let c=a.value;i=!0;let u=E6e(t,c,e,r);if(u.size===0)break;if(typeof console<"u"){let p=c.locales[0],g=Array.from(u).join(", ");console.warn(`[fluent] Missing translations in ${p}: ${g}`)}}}catch{l=[a]}finally{try{s&&(a=o.return)&&(yield a.call(o))}finally{if(l)throw l[0]}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r})}formatMessages(e){return this.formatWithFallback(e,C6e)}formatValues(e){return this.formatWithFallback(e,x6e)}formatValue(e,t){return E(this,null,function*(){let[r]=yield this.formatValues([{id:e,args:t}]);return r})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=m7.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function x6e(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function C6e(n,e,t,r){let i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let o=Object.keys(t.attributes);if(o.length>0){i.attributes=new Array(o.length);for(let[s,a]of o.entries()){let l=n.formatPattern(t.attributes[a],r,e);i.attributes[s]={name:a,value:l}}}return i}function E6e(n,e,t,r){let i=[],o=new Set;return t.forEach(({id:s,args:a},l)=>{if(r[l]!==void 0)return;let c=e.getMessage(s);if(c){if(i.length=0,r[l]=n(e,i,c,a),i.length>0&&typeof console<"u"){let u=e.locales[0],p=i.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${s}: ${p}.`)}}else o.add(s)}),o}var lg="data-l10n-id",Ly="data-l10n-args",M6e=`[${lg}]`,w7=class extends v7{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[lg,Ly]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(lg,t),r?e.setAttribute(Ly,JSON.stringify(r)):e.removeAttribute(Ly),e}getAttributes(e){return{id:e.getAttribute(lg),args:JSON.parse(e.getAttribute(Ly)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(let i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(lg)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return E(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),r=yield this.formatMessages(t);return this.applyTranslations(e,r)})}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&v6e(e[r],t[r]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(M6e));return typeof e.hasAttribute=="function"&&e.hasAttribute(lg)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(lg),args:JSON.parse(e.getAttribute(Ly)||null)}}},_7=class n{#e;#t;#n;#r;constructor({lang:e,isRTL:t},r=null){this.#n=n.#o(e),this.#r=r,this.#e=t??n.#i(this.#n)?"rtl":"ltr"}_setL10n(e){this.#r=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,r){return E(this,null,function*(){return Array.isArray(e)?(e=e.map(s=>({id:s})),(yield this.#r.formatMessages(e)).map(s=>s.value)):(yield this.#r.formatMessages([{id:e,args:t}]))[0]?.value||r})}translate(e){return E(this,null,function*(){(this.#t||=new Set).add(e);try{this.#r.connectRoot(e),yield this.#r.translateRoots()}catch{}})}translateOnce(e){return E(this,null,function*(){try{yield this.#r.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return E(this,null,function*(){if(this.#t){for(let e of this.#t)this.#r.disconnectRoot(e);this.#t.clear(),this.#t=null}this.#r.pauseObserving()})}pause(){this.#r.pauseObserving()}resume(){this.#r.resumeObserving()}static#o(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#i(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function wie(n,e){let t=new p7(e),r=new h7(n),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var K1=class n extends _7{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#r.bind(n,this.getLanguage());this._setL10n(new w7([],t))}static#e(e,t){return SD(this,null,function*(){let{baseURL:r,paths:i}=yield new MD(this.#n()),o=[t];if(e!==t){let s=t.split("-",1)[0];s!==t&&o.push(s),o.push(e)}for(let s of o){let a=yield new MD(this.#t(s,r,i));a?yield a:s==="en-us"&&(yield this.#o(s))}})}static#t(e,t,r){return E(this,null,function*(){let i=r[e];if(!i)return null;let o=new URL(i,t),s=yield nie(o,"text");return wie(e,s)})}static#n(){return E(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield nie(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#r(e){return SD(this,null,function*(){yield this.#o(e)})}static#o(e){return E(this,null,function*(){return wie(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},S6e=1e3,i7=50,_ie=1e3;function o7(){return document.location.hash}var y7=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,this.#u();let o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=o7(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#o(o,!0)||t){let{hash:a,page:l,rotation:c}=this.#l(!0);if(!a||i||t){this.#t(null,!0);return}this.#t({hash:a,page:l,rotation:c},!0);return}let s=o.destination;this.#i(s,o.uid,!0),s.rotation!==void 0&&(this._initialRotation=s.rotation),s.dest?(this._initialBookmark=JSON.stringify(s.dest),this._destination.page=null):s.hash?this._initialBookmark=s.hash:s.page&&(this._initialBookmark=`page=${s.page}`)}reset(){this._initialized&&(this.#a(),this._initialized=!1,this.#s()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#r(r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let i=e||JSON.stringify(t);if(!i)return;let o=!1;if(this._destination&&(I6e(this._destination.hash,i)||T6e(this._destination.dest,t))){if(this._destination.page)return;o=!0}this._popStateInProgress&&!o||(this.#t({dest:t,hash:i,page:r,rotation:this.linkService.rotation},o),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#r(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#o(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#o(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};this.#i(e,i.uid);let o;if(this._updateUrl&&e?.hash){let s=document.location.href.split("#",1)[0];s.startsWith("file://")||(o=`${s}#${e.hash}`)}r?window.history.replaceState(i,"",o):window.history.pushState(i,"",o)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(i7<=0||this._numPositionUpdates<=i7))return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}this.#t(t,r)}#r(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#o(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[r]=performance.getEntriesByType("navigation");if(r?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#i(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#l(e=!1){let t=unescape(o7()).substring(1),r=WI(t),i=r.get("nameddest")||"",o=r.get("page")|0;return(!this.#r(o)||e&&i.length>0)&&(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}#c({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(i7>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,_ie>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},_ie)))}#d({state:e}){let t=o7(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:o,page:s,rotation:a}=this.#l();this.#t({hash:o,page:s,rotation:a},!0);return}if(!this.#o(e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,HNe({target:window,name:"hashchange",delay:S6e}).then(()=>{this._blockHashChange--}));let i=e.destination;this.#i(i,e.uid,!0),Eie(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#a(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#c.bind(this),{signal:e}),window.addEventListener("popstate",this.#d.bind(this),{signal:e}),window.addEventListener("pagehide",this.#a.bind(this),{signal:e})}#s(){this.#e?.abort(),this.#e=null}};function I6e(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||WI(n).get("nameddest")===e}function T6e(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(let o in r)if(!t(r[o],i[o]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var k7=class{#e=null;#t=null;#n=null;#r=null;#o=null;#i;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new K1,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#i=e.uiManager,this.#e=e.annotationLayer||null,this.#o=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null,this.#r=e.structTreeLayer||null}render(e,t="display"){return E(this,null,function*(){if(t!=="display"||this._cancelled)return;let r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}let i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=this.#i.direction,this.#n?.(i),this.annotationEditorLayer=new ANe({uiManager:this.#i,div:i,structTreeLayer:this.#r,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:this.#e,textLayer:this.#o,drawLayer:this.#t});let o={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(o),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{OI=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,r=/Android/.test(n),i=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(i||r)&&OI.set("maxCanvasPixels",5242880)})(),(function(){r&&OI.set("useSystemFonts",!1)})()}var OI,ge={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},b7={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},vc={allowedGlobalEvents:{value:null,kind:ge.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ge.BROWSER+ge.API},isInAutomation:{value:!1,kind:ge.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ge.BROWSER},nimbusDataStr:{value:"",kind:ge.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ge.BROWSER},supportsDocumentFonts:{value:!0,kind:ge.BROWSER},supportsIntegratedFind:{value:!1,kind:ge.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ge.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ge.BROWSER},supportsPinchToZoom:{value:!0,kind:ge.BROWSER},toolbarDensity:{value:0,kind:ge.BROWSER+ge.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ge.VIEWER+ge.PREFERENCE},annotationEditorMode:{value:0,kind:ge.VIEWER+ge.PREFERENCE},annotationMode:{value:2,kind:ge.VIEWER+ge.PREFERENCE},cursorToolOnLoad:{value:0,kind:ge.VIEWER+ge.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ge.VIEWER},defaultZoomDelay:{value:400,kind:ge.VIEWER+ge.PREFERENCE},defaultZoomValue:{value:"",kind:ge.VIEWER+ge.PREFERENCE},disableHistory:{value:!1,kind:ge.VIEWER},disablePageLabels:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableAltText:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ge.VIEWER+ge.PREFERENCE+ge.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:ge.VIEWER+ge.PREFERENCE+ge.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enablePermissions:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enableScripting:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ge.VIEWER},externalLinkTarget:{value:0,kind:ge.VIEWER+ge.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:ge.VIEWER+ge.PREFERENCE},historyUpdateUrl:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ge.VIEWER},maxCanvasPixels:{value:2**25,kind:ge.VIEWER},forcePageColors:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ge.VIEWER+ge.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ge.VIEWER+ge.PREFERENCE},pdfBugEnabled:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},printResolution:{value:150,kind:ge.VIEWER},sidebarViewOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},textLayerMode:{value:1,kind:ge.VIEWER+ge.PREFERENCE},viewOnLoad:{value:0,kind:ge.VIEWER+ge.PREFERENCE},cMapPacked:{value:!0,kind:ge.API},cMapUrl:{value:"../web/cmaps/",kind:ge.API},disableAutoFetch:{value:!1,kind:ge.API+ge.PREFERENCE},disableFontFace:{value:!1,kind:ge.API+ge.PREFERENCE},disableRange:{value:!1,kind:ge.API+ge.PREFERENCE},disableStream:{value:!1,kind:ge.API+ge.PREFERENCE},docBaseUrl:{value:"",kind:ge.API},enableHWA:{value:!0,kind:ge.API+ge.VIEWER+ge.PREFERENCE},enableXfa:{value:!0,kind:ge.API+ge.PREFERENCE},fontExtraProperties:{value:!1,kind:ge.API},isEvalSupported:{value:!0,kind:ge.API},isOffscreenCanvasSupported:{value:!0,kind:ge.API},maxImageSize:{value:-1,kind:ge.API},pdfBug:{value:!1,kind:ge.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ge.API},useSystemFonts:{value:void 0,kind:ge.API,type:b7.BOOLEAN+b7.UNDEFINED},verbosity:{value:1,kind:ge.API},workerPort:{value:null,kind:ge.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ge.WORKER}};vc.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ge.VIEWER},vc.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ge.VIEWER},vc.viewerCssTheme={value:0,kind:ge.VIEWER+ge.PREFERENCE},vc.enableFakeMLManager={value:!0,kind:ge.VIEWER};vc.disablePreferences={value:!1,kind:ge.VIEWER};var Bh,gc=class gc{static get(e){return co(this,Bh).get(e)}static getAll(e=null,t=!1){let r=Object.create(null);for(let i in vc){let o=vc[i];e&&!(e&o.kind)||(r[i]=t?o.value:co(this,Bh).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let r;for(let i in e){let o=vc[i],s=e[i];if(!o||!(typeof s==typeof o.value||b7[(typeof s).toUpperCase()]&o.type))continue;let{kind:a}=o;t&&!(a&ge.BROWSER||a&ge.PREFERENCE)||(this.eventBus&&a&ge.EVENT_DISPATCH&&(r||=new Map).set(i,s),co(this,Bh).set(i,s))}if(r)for(let[i,o]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:o})}};Bh=new WeakMap,hU(gc,"eventBus"),Su(gc,Bh,new Map),(()=>{for(let e in vc)co(gc,Bh).set(e,vc[e].value);for(let[e,t]of OI)co(gc,Bh).set(e,t);gc._hasInvokedSet=!1,gc._checkDisablePreferences=()=>gc.get("disablePreferences")?!0:(gc._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();var x7=gc,C7=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return E(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new ONe({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},yie={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},A6e=/^H(\d+)$/,HI=class{#e;#t=null;#n;#r=new Map;#o;#i=null;constructor(e,t){this.#e=e.getStructTree(),this.#o=t}render(){return E(this,null,function*(){if(this.#n)return this.#n;let{promise:e,resolve:t,reject:r}=Promise.withResolvers();this.#n=e;try{this.#t=this.#d(yield this.#e)}catch(i){r(i)}return this.#e=null,this.#t?.classList.add("structTree"),t(this.#t),e})}getAriaAttributes(e){return E(this,null,function*(){try{return yield this.render(),this.#r.get(e)}catch{}return null})}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#l(e,t){let{alt:r,id:i,lang:o}=e;if(r!==void 0){let s=!1,a=By(r);for(let l of e.children)if(l.type==="annotation"){let c=this.#r.get(l.id);c||(c=new Map,this.#r.set(l.id,c)),c.set("aria-label",a),s=!0}s||t.setAttribute("aria-label",a)}i!==void 0&&t.setAttribute("aria-owns",i),o!==void 0&&t.setAttribute("lang",By(o,!0))}#c(e,t){let{alt:r,bbox:i,children:o}=e,s=o?.[0];if(!this.#o||!r||!i||s?.type!=="content")return!1;let{id:a}=s;if(!a)return!1;t.setAttribute("aria-owns",a);let l=document.createElement("span");(this.#i||=new Map).set(a,l),l.setAttribute("role","img"),l.setAttribute("aria-label",By(r));let{pageHeight:c,pageX:u,pageY:p}=this.#o,g="calc(var(--scale-factor)*",{style:v}=l;return v.width=`${g}${i[2]-i[0]}px)`,v.height=`${g}${i[3]-i[1]}px)`,v.left=`${g}${i[0]-u}px)`,v.top=`${g}${c-i[3]+p}px)`,!0}addElementsToTextLayer(){if(this.#i){for(let[e,t]of this.#i)document.getElementById(e)?.append(t);this.#i.clear(),this.#i=null}}#d(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:r}=e,i=r.match(A6e);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):yie[r]&&t.setAttribute("role",yie[r]),r==="Figure"&&this.#c(e,t))return t}if(this.#l(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#l(e.children[0],t);else for(let r of e.children)t.append(this.#d(r));return t}},E7=class n{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(e){this.#t=e}static#o(e,t){let r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;let o=r.y,s=r.y+r.height,a=r.y+r.height/2,l=i.y,c=i.y+i.height,u=i.y+i.height/2;if(a<=l&&u>=s)return-1;if(u<=o&&a>=c)return 1;let p=r.x+r.width/2,g=i.x+i.width/2;return p-g}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#o),this.#n.size>0){let e=this.#t;for(let[t,r]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#i(t,e[r])}}for(let[e,t]of this.#r)this.addPointerInTextLayer(e,t);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#r.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:r}=e,i=this.#n.get(r);if(i===void 0)return;let o=t[i];this.#n.delete(r);let s=o.getAttribute("aria-owns");s?.includes(r)&&(s=s.split(" ").filter(a=>a!==r).join(" "),s?o.setAttribute("aria-owns",s):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}#i(e,t){let r=t.getAttribute("aria-owns");r?.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:r}=e;if(!r)return null;if(!this.#e)return this.#r.set(e,t),null;t&&this.removePointerInTextLayer(e);let i=this.#t;if(!i||i.length===0)return null;let o=Vy(i,c=>n.#o(e,c)<0),s=Math.max(0,o-1),a=i[s];this.#i(r,a),this.#n.set(r,s);let l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){let o=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),o;let s=Array.from(e.childNodes).filter(c=>c!==t);if(s.length===0)return o;let a=r||t,l=Vy(s,c=>n.#o(a,c)<0);return l===0?s[0].before(t):s[l-1].after(t),o}},M7=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:r}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:r}=this,i=0,o=0,s=r.length-1,a=[];for(let l=0,c=e.length;l<c;l++){let u=e[l];for(;i!==s&&u>=o+r[i].length;)o+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");let p={begin:{divIdx:i,offset:u-o}};for(u+=t[l];i!==s&&u>o+r[i].length;)o+=r[i].length,i++;p.end={divIdx:i,offset:u-o},a.push(p)}return a}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:o}=this,s=r===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll,c=null,u={divIdx:-1,offset:void 0};function p(b,R){let V=b.divIdx;return o[V].textContent="",g(V,0,b.offset,R)}function g(b,R,V,j){let $=o[b];if($.nodeType===Node.TEXT_NODE){let T=document.createElement("span");$.before(T),T.append($),o[b]=T,$=T}let Y=i[b].substring(R,V),L=document.createTextNode(Y);if(j){let T=document.createElement("span");return T.className=`${j} appended`,T.append(L),$.append(T),j.includes("selected")?T.offsetLeft:0}return $.append(L),0}let v=a,w=v+1;if(l)v=0,w=e.length;else if(!s)return;let y=-1,x=-1;for(let b=v;b<w;b++){let R=e[b],V=R.begin;if(V.divIdx===y&&V.offset===x)continue;y=V.divIdx,x=V.offset;let j=R.end,$=s&&b===a,Y=$?" selected":"",L=0;if(!c||V.divIdx!==c.divIdx?(c!==null&&g(c.divIdx,c.offset,u.offset),p(V)):g(c.divIdx,c.offset,V.offset),V.divIdx===j.divIdx)L=g(V.divIdx,V.offset,j.offset,"highlight"+Y);else{L=g(V.divIdx,V.offset,u.offset,"highlight begin"+Y);for(let T=V.divIdx+1,I=j.divIdx;T<I;T++)o[T].className="highlight middle"+Y;p(j,"highlight end"+Y)}c=j,$&&t.scrollMatchIntoView({element:o[V.divIdx],selectedLeft:L,pageIndex:r,matchIndex:a})}c&&g(c.divIdx,c.offset,u.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:o,textDivs:s}=this,a=-1;for(let u of r){let p=Math.max(a,u.begin.divIdx);for(let g=p,v=u.end.divIdx;g<=v;g++){let w=s[g];w.textContent=o[g],w.className=""}a=u.end.divIdx+1}if(!t?.highlightMatches||e)return;let l=t.pageMatches[i]||null,c=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,c),this._renderMatches(this.matches)}},UI=class n{#e=!1;#t=null;#n=!1;#r=null;static#o=new Map;static#i=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:o=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,this.#e=i===!0,this.#t=o,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return E(this,null,function*(){if(this.#n&&this.#r){this.#r.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#r=new jNe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:r,textContentItemsStr:i}=this.#r;this.highlighter?.setTextMapping(r,i),this.accessibilityManager?.setTextMapping(r),yield this.#r.render(),this.#n=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#l(o),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#r?.cancel(),this.#r=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#c(this.div)}#l(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!this.#e){let i=document.getSelection();r.clipboardData.setData("text/plain",By(FNe(i.toString())))}r.preventDefault(),r.stopPropagation()}),n.#o.set(t,e),n.#d()}static#c(e){this.#o.delete(e),this.#o.size===0&&(this.#i?.abort(),this.#i=null)}static#d(){if(this.#i)return;this.#i=new AbortController;let{signal:e}=this.#i,t=(s,a)=>{a.append(s),s.style.width="",s.style.height="",a.classList.remove("selecting")},r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,this.#o.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,this.#o.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||this.#o.forEach(t)},{signal:e});var i,o;document.addEventListener("selectionchange",()=>{let s=document.getSelection();if(s.rangeCount===0){this.#o.forEach(t);return}let a=new Set;for(let v=0;v<s.rangeCount;v++){let w=s.getRangeAt(v);for(let y of this.#o.keys())!a.has(y)&&w.intersectsNode(y)&&a.add(y)}for(let[v,w]of this.#o)a.has(v)?v.classList.add("selecting"):t(w,v);if(i??=getComputedStyle(this.#o.values().next().value).getPropertyValue("-moz-user-select")==="none",i)return;let l=s.getRangeAt(0),c=o&&(l.compareBoundaryPoints(Range.END_TO_END,o)===0||l.compareBoundaryPoints(Range.START_TO_END,o)===0),u=c?l.startContainer:l.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);let p=u.parentElement?.closest(".textLayer"),g=this.#o.get(p);g&&(g.style.width=p.style.width,g.style.height=p.style.height,u.parentElement.insertBefore(g,c?u:u.nextSibling)),o=l.cloneRange()},{signal:e})}},$I=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}render(e,t="display"){return E(this,null,function*(){if(t==="print"){let o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),o.div=this.div,t7.render(o)}let r=yield this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};let i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?t7.update(i):(this.div=document.createElement("div"),i.div=this.div,t7.render(i))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},D6e={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new jy}},R6e=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),zI=class{#e=Jd.ENABLE_FORMS;#t=!1;#n=!1;#r=!1;#o=null;#i=null;#l=null;#c=1;#d=1;#a=null;#u=Nr.INITIAL;#s=mc.ENABLE;#h={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#f=new WeakMap;#p=[null,null,null,null];constructor(e){let t=e.container,r=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#o=e.layerProperties||D6e,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||xie,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#s=e.textLayerMode??mc.ENABLE,this.#e=e.annotationMode??Jd.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??x7.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new K1,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let i=document.createElement("div");if(i.className="page",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),i.setAttribute("data-l10n-id","pdfjs-page-landmark"),i.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=i,this.#v(),t?.append(i),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*Qd.PDF_TO_CSS_UNITS),this.pageColors?.background&&t?.style.setProperty("--page-bg-color",this.pageColors.background);let{optionalContentConfigPromise:o}=e;o&&o.then(s=>{o===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=s.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#g(e,t){let r=R6e.get(t),i=this.#p[r];if(this.#p[r]=e,i){i.replaceWith(e);return}for(let o=r-1;o>=0;o--){let s=this.#p[o];if(s){s.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#u}set renderingState(e){if(e!==this.#u)switch(this.#u=e,this.#i&&(clearTimeout(this.#i),this.#i=null),e){case Nr.PAUSED:this.div.classList.remove("loading");break;case Nr.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case Nr.INITIAL:case Nr.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#v(){let{viewport:e}=this;if(this.pdfPage){if(this.#l===e.rotation)return;this.#l=e.rotation}VNe(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*Qd.PDF_TO_CSS_UNITS,rotation:t}),this.#v(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return LI(this,"_textHighlighter",new M7({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#o.findController}))}#m(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#w(){return E(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#m("annotationlayerrendered",e)}})}#y(){return E(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#m("annotationeditorlayerrendered",e)}})}#x(){return E(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#k(){return E(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#S(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#g(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#m("xfalayerrendered",e)}})}#b(){return E(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof TNe)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#m("textlayerrendered",e),this.#A()})}#A(){return E(this,null,function*(){if(!this.textLayer)return;let e=yield this.structTreeLayer?.render();e&&(this.l10n.pause(),this.structTreeLayer?.addElementsToTextLayer(),this.canvas&&e.parentNode!==this.canvas&&this.canvas.append(e),this.l10n.resume()),this.structTreeLayer?.show()})}#S(e){return E(this,null,function*(){let t=yield this.pdfPage.getTextContent(),r=[];for(let i of t.items)r.push(i.str);this._textHighlighter.setTextMapping(e,r),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#f.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:o=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:o}),this.renderingState=Nr.INITIAL;let s=this.div,a=s.childNodes,l=e&&this.zoomLayer||null,c=t&&this.annotationLayer?.div||null,u=r&&this.annotationEditorLayer?.div||null,p=i&&this.xfaLayer?.div||null,g=o&&this.textLayer?.div||null;for(let v=a.length-1;v>=0;v--){let w=a[v];switch(w){case l:case c:case u:case p:case g:continue}w.remove();let y=this.#p.indexOf(w);y>=0&&(this.#p[y]=null)}s.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),p&&this.xfaLayer.hide(),g&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#f.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#r=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:r=null,drawingDelay:i=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(s=>{r===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=s.hasInitialVisibility)})),this.#h.directDrawing=!0;let o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Qd.PDF_TO_CSS_UNITS,rotation:o}),this.#v(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let s=!1;if(this.#n){if(this.maxCanvasPixels===0)s=!0;else if(this.maxCanvasPixels>0){let{width:l,height:c}=this.viewport,{sx:u,sy:p}=this.outputScale;s=(Math.floor(l)*u|0)*(Math.floor(c)*p|0)>this.maxCanvasPixels}}let a=i>=0&&i<1e3;if(a||s){if(a&&!s&&this.renderingState!==Nr.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:i}),this.renderingState=Nr.FINISHED,this.#h.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:r=!1,keepTextLayer:i=!1,cancelExtraDelay:o=0}={}){this.renderTask&&(this.renderTask.cancel(o),this.renderTask=null),this.resume=null,this.textLayer&&(!i||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:o=!1,hideTextLayer:s=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:l}=e;l.width=l.height=""}let a=this.#f.get(e);if(this.viewport!==a){let l=this.viewport.rotation-a.rotation,c=Math.abs(l),u=1,p=1;if(c===90||c===270){let{width:g,height:v}=this.viewport;u=v/g,p=g/v}e.style.transform=`rotate(${l}deg) scale(${u}, ${p})`}t&&this.annotationLayer&&this.#w(),r&&this.annotationEditorLayer&&(this.drawLayer&&this.#x(),this.#y()),i&&this.xfaLayer&&this.#k(),this.textLayer&&(s?(this.textLayer.hide(),this.structTreeLayer?.hide()):o&&this.#b())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#C(e,t=null){return E(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof l7){this.#a=null;return}if(this.#a=t,this.renderingState=Nr.FINISHED,this._resetZoomLayer(!0),this.#h.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#a}),t)throw t})}draw(){return E(this,null,function*(){this.renderingState!==Nr.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:r,pdfPage:i,viewport:o}=this;if(!i)throw this.renderingState=Nr.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Nr.RUNNING;let s=document.createElement("div");if(s.classList.add("canvasWrapper"),this.#g(s,"canvasWrapper"),!this.textLayer&&this.#s!==mc.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||=new E7,this.textLayer=new UI({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#s===mc.ENABLE_PERMISSIONS,onAppend:I=>{this.l10n.pause(),this.#g(I,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==Jd.DISABLE){let{annotationStorage:I,annotationEditorUIManager:B,downloadManager:U,enableScripting:X,fieldObjectsPromise:z,hasJSActionsPromise:tt,linkService:gt}=this.#o;this._annotationCanvasMap||=new Map,this.annotationLayer=new FI({pdfPage:i,annotationStorage:I,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===Jd.ENABLE_FORMS,linkService:gt,downloadManager:U,enableScripting:X,hasJSActionsPromise:tt,fieldObjectsPromise:z,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:B,onAppend:Tt=>{this.#g(Tt,"annotationLayer")}})}let a=I=>{if(g?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Nr.PAUSED,this.resume=()=>{this.renderingState=Nr.RUNNING,I()};return}I()},{width:l,height:c}=o,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let p=!!(r?.background&&r?.foreground),g=I=>{(!p||I)&&(u.hidden=!1,g=null)};s.append(u),this.canvas=u;let v=u.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),w=this.outputScale=new BNe;if(this.maxCanvasPixels===0){let I=1/this.scale;w.sx*=I,w.sy*=I,this.#n=!0}else if(this.maxCanvasPixels>0){let I=l*c,B=Math.sqrt(this.maxCanvasPixels/I);w.sx>B||w.sy>B?(w.sx=B,w.sy=B,this.#n=!0):this.#n=!1}let y=Kre(w.sx),x=Kre(w.sy),b=u.width=II(TI(l*w.sx),y[0]),R=u.height=II(TI(c*w.sy),x[0]),V=II(TI(l),y[1]),j=II(TI(c),x[1]);w.sx=b/V,w.sy=R/j,this.#c!==y[1]&&(e.style.setProperty("--scale-round-x",`${y[1]}px`),this.#c=y[1]),this.#d!==x[1]&&(e.style.setProperty("--scale-round-y",`${x[1]}px`),this.#d=x[1]),this.#f.set(u,o);let $=w.scaled?[w.sx,0,0,w.sy,0,0]:null,Y={canvasContext:v,transform:$,viewport:o,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:r,isEditing:this.#r},L=this.renderTask=i.render(Y);L.onContinue=a;let T=L.promise.then(()=>E(this,null,function*(){g?.(!0),yield this.#C(L),this.structTreeLayer||=new HI(i,o.rawDims),this.#b(),this.annotationLayer&&(yield this.#w());let{annotationEditorUIManager:I}=this.#o;I&&(this.drawLayer||=new C7({pageIndex:this.id}),yield this.#x(),this.drawLayer.setParent(s),this.annotationEditorLayer||=new k7({uiManager:I,pdfPage:i,l10n:t,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:B=>{this.#g(B,"annotationEditorLayer")}}),this.#y())}),I=>(I instanceof l7||g?.(!0),this.#C(L,I)));if(i.isPureXfa){if(!this.xfaLayer){let{annotationStorage:I,linkService:B}=this.#o;this.xfaLayer=new $I({pdfPage:i,annotationStorage:I,linkService:B})}this.#k()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),T})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:r}=this.#h;return e&&t&&r?this.canvas:null}};function P6e(n){return E(this,null,function*(){let t="".split("#",1)[0],{info:r,metadata:i,contentDispositionFilename:o,contentLength:s}=yield n.getMetadata();if(!s){let{length:a}=yield n.getDownloadInfo();s=a}return ye(G({},r),{baseURL:t,filesize:s,filename:o||NNe(""),metadata:i?.getRaw(),authors:i?.get("dc:creator"),numPages:n.numPages,URL:""})})}var S7=class{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(o=>{t(o.QuickJSSandbox())}).catch(r)})}createSandbox(e){return E(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return E(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return E(this,null,function*(){(yield this._ready).nukeSandbox()})}},I7=class{#e=null;#t=null;#n=null;#r=null;#o=null;#i=null;#l=null;#c=null;#d=!1;#a=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){this.#o=e,this.#i=t,this.#n=r}setViewer(e){this.#c=e}setDocument(e){return E(this,null,function*(){if(this.#l&&(yield this.#g()),this.#l=e,!e)return;let[t,r,i]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){yield this.#g();return}if(e!==this.#l)return;try{this.#a=this.#p()}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}let o=this.#o;this.#r=new AbortController;let{signal:s}=this.#r;o._on("updatefromsandbox",a=>{a?.source===window&&this.#s(a.detail)},{signal:s}),o._on("dispatcheventinsandbox",a=>{this.#a?.dispatchEventInSandbox(a.detail)},{signal:s}),o._on("pagechanging",({pageNumber:a,previous:l})=>{a!==l&&(this.#f(l),this.#h(a))},{signal:s}),o._on("pagerendered",({pageNumber:a})=>{this._pageOpenPending.has(a)&&a===this.#c.currentPageNumber&&this.#h(a)},{signal:s}),o._on("pagesdestroy",()=>E(this,null,function*(){yield this.#f(this.#c.currentPageNumber),yield this.#a?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:s});try{let a=yield this.#n(e);if(e!==this.#l)return;yield this.#a.createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:ye(G({},a),{actions:i})}),o.dispatch("sandboxcreated",{source:this})}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}yield this.#a?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#h(this.#c.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#l&&(this.#d=!0)})})}dispatchWillSave(){return E(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return E(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return E(this,null,function*(){if(this.#a){yield this.#u?.promise,this.#u=Promise.withResolvers();try{yield this.#a.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#u.resolve(),this.#u=null,e}yield this.#u.promise}})}dispatchDidPrint(){return E(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return LI(this,"_pageOpenPending",new Set)}get _visitedPages(){return LI(this,"_visitedPages",new Map)}#s(e){return E(this,null,function*(){let t=this.#c,r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:o,command:s,value:a}=e;if(!i){switch(s){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(!r){let c=sNe(a);t.spreadMode=c.spreadMode}break;case"page-num":t.currentPageNumber=a+1;break;case"print":yield t.pagesPromise,this.#o.dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":r||(t.currentScaleValue=a);break;case"SaveAs":this.#o.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;let l=o?[i,...o]:[i];for(let c of l){let u=document.querySelector(`[data-element-id="${c}"]`);u?u.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#l?.annotationStorage.setValue(c,e)}})}#h(e,t=!1){return E(this,null,function*(){let r=this.#l,i=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let o=this.#c.getPageView(e-1);if(o?.renderingState!==Nr.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let s=E(this,null,function*(){let a=yield i.has(e)?null:o.pdfPage?.getJSActions();r===this.#l&&(yield this.#a?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))});i.set(e,s)})}#f(e){return E(this,null,function*(){let t=this.#l,r=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let i=r.get(e);i&&(r.set(e,null),yield i,t===this.#l&&(yield this.#a?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#p(){if(this.#t=Promise.withResolvers(),this.#a)throw new Error("#initScripting: Scripting already exists.");return this.#i.createScripting()}#g(){return E(this,null,function*(){if(!this.#a){this.#l=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#l=null;try{yield this.#a.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null,this.#r?.abort(),this.#r=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#a=null,this.#d=!1,this.#t?.resolve()})}},T7=class extends I7{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new S7(e.sandboxBundleSrc)},e.docProperties||=t=>P6e(t),super(e)}},O6e=3e4,A7=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),O6e)))}getHighestPriority(e,t,r,i=!1){let o=e.views,s=o.length;if(s===0)return null;for(let p=0;p<s;p++){let g=o[p].view;if(!this.isViewFinished(g))return g}let a=e.first.id,l=e.last.id;if(l-a+1>s){let p=e.ids;for(let g=1,v=l-a;g<v;g++){let w=r?a+g:l-g;if(p.has(w))continue;let y=t[w-1];if(!this.isViewFinished(y))return y}}let c=r?l:a-2,u=t[c];return u&&!this.isViewFinished(u)||i&&(c+=r?1:-1,u=t[c],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===Nr.FINISHED}renderView(e){switch(e.renderingState){case Nr.FINISHED:return!1;case Nr.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Nr.RUNNING:this.highestPriorityPage=e.renderingId;break;case Nr.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof l7||console.error(`renderView: "${t}"`)});break}return!0}},kie=10,PI={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function bie(n){return Object.values(js).includes(n)&&n!==js.DISABLE}var D7=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let r=this.#e;if(t){let i=r.size,o=1;for(let s of r)if(t.has(s.id)&&(r.delete(s),r.add(s)),++o>i)break}for(;r.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},qI=class{#e=null;#t=null;#n=null;#r=js.NONE;#o=null;#i=Jd.ENABLE_FORMS;#l=null;#c=!1;#d=!1;#a=!1;#u=!1;#s=!1;#h=null;#f=null;#p=null;#g=null;#v=!1;#m=null;#w=!1;#y=0;#x=new ResizeObserver(this.#B.bind(this));#k=null;#b=null;#A=mc.ENABLE;constructor(e){let t="4.8.69";if(rie!==t)throw new Error(`The API version "${rie}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#x.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new jy,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=i=>this._getVisiblePages().ids.has(i)),this._scriptingManager=e.scriptingManager||null,this.#A=e.textLayerMode??mc.ENABLE,this.#i=e.annotationMode??Jd.ENABLE_FORMS,this.#r=e.annotationEditorMode??js.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#d=e.enableHighlightFloatingButton===!0,this.#u=e.enableUpdatedAddImage===!0,this.#s=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new K1,this.#a=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#f=e.mlManager||null,this.#c=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new A7,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:r}=e;r?.addEventListener("abort",()=>{this.#x.disconnect(),this.#x=null},{once:!0}),this.scroll=JOe(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=q1.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#L(),this.eventBus._on("thumbnailrendered",({pageNumber:i,pdfPage:o})=>{let s=this._pages[i-1];this.#e.has(s)||o?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#i===Jd.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#R(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:r}),t&&this.#R(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==ZB?this._currentScale:xie}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#T(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#T(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!Eie(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#T(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return LI(this,"_layerProperties",{get annotationEditorUIManager(){return e.#o},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#S(e){let t={annotationEditorMode:this.#r,annotationMode:this.#i,textLayerMode:this.#A};return e&&(!e.includes(DI.COPY)&&this.#A===mc.ENABLE&&(t.textLayerMode=mc.ENABLE_PERMISSIONS),e.includes(DI.MODIFY_CONTENTS)||(t.annotationEditorMode=js.DISABLE),!e.includes(DI.MODIFY_ANNOTATIONS)&&!e.includes(DI.FILL_INTERACTIVE_FORMS)&&this.#i===Jd.ENABLE_FORMS&&(t.annotationMode=Jd.ENABLE)),t}#C(e){return E(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([e,r.signal]):e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()})}getAllText(){return E(this,null,function*(){let e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(this.#w)return null;t.length=0;let o=yield this.pdfDocument.getPage(r),{items:s}=yield o.getTextContent();for(let a of s)a.str&&t.push(a.str),a.hasEOL&&t.push(`
`);e.push(By(t.join("")))}return e.join(`
`)})}#I(e,t){let r=document.getSelection(),{focusNode:i,anchorNode:o}=r;if(o&&i&&r.containsNode(this.#m)){if(this.#v||e===mc.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#v=!0;let{classList:s}=this.viewer;s.add("copyAll");let a=new AbortController;window.addEventListener("keydown",l=>this.#w=l.key==="Escape",{signal:a.signal}),this.getAllText().then(l=>E(this,null,function*(){l!==null&&(yield navigator.clipboard.writeText(l))})).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#v=!1,this.#w=!1,a.abort(),s.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#o?.destroy(),this.#o=null),this.pdfDocument=e,!e)return;let t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),o=this.#a?e.getPermissions():Promise.resolve(),{eventBus:s,pageColors:a,viewer:l}=this;this.#h=new AbortController;let{signal:c}=this.#h;if(t>PI.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let g=this._scrollMode=gn.PAGE;s.dispatch("scrollmodechanged",{source:this,mode:g})}this._pagesCapability.promise.then(()=>{s.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let u=g=>{let v=this._pages[g.pageNumber-1];v&&this.#e.push(v)};s._on("pagerender",u,{signal:c});let p=g=>{g.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:g.timestamp}),s._off("pagerendered",p))};s._on("pagerendered",p,{signal:c}),Promise.all([r,o]).then(([g,v])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(g),this._optionalContentConfigPromise=i;let{annotationEditorMode:w,annotationMode:y,textLayerMode:x}=this.#S(v);if(x!==mc.DISABLE){let j=this.#m=document.createElement("div");j.id="hiddenCopyElement",l.before(j)}if(typeof AbortSignal.any=="function"&&w!==js.DISABLE){let j=w;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):bie(j)?(this.#o=new DNe(this.container,l,this.#t,s,e,a,this.#n,this.#d,this.#u,this.#s,this.#f),s.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#o}),j!==js.NONE&&(j===js.STAMP&&this.#f?.loadModel("altText"),this.#o.updateMode(j))):console.error(`Invalid AnnotationEditor mode: ${j}`)}let b=this._scrollMode===gn.PAGE?null:l,R=this.currentScale,V=g.getViewport({scale:R*Qd.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",V.scale),a?.background&&l.style.setProperty("--page-bg-color",a.background),(a?.foreground==="CanvasText"||a?.background==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let j=1;j<=t;++j){let $=new zI({container:b,eventBus:s,id:j,scale:R,defaultViewport:V.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:x,annotationMode:y,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:a,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#c});this._pages.push($)}this._pages[0]?.setPdfPage(g),this._scrollMode===gn.PAGE?this.#M():this._spreadMode!==bo.NONE&&this._updateSpreadMode(),this.#C(c).then(()=>E(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#m&&document.addEventListener("copy",this.#I.bind(this,x),{signal:c}),this.#o&&s.dispatch("annotationeditormodechanged",{source:this,mode:this.#r}),e.loadingParams.disableAutoFetch||t>PI.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let j=t-1;if(j<=0){this._pagesCapability.resolve();return}for(let $=2;$<=t;++$){let Y=e.getPage($).then(L=>{let T=this._pages[$-1];T.pdfPage||T.setPdfPage(L),--j===0&&this._pagesCapability.resolve()},L=>{console.error(`Unable to get page ${$} to initialize viewer`,L),--j===0&&this._pagesCapability.resolve()});$%PI.PAUSE_EAGER_PAGE_INIT===0&&(yield Y)}})),s.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:j})=>{e===this.pdfDocument&&j.Language&&(l.lang=j.Language)}),this.defaultRenderingQueue&&this.update()}).catch(g=>{console.error("Unable to initialize viewer",g),this._pagesCapability.reject(g)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,r=this._pages.length;t<r;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=ZB,this._currentScaleValue=null,this._pageLabels=null,this.#e=new D7(kie),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=gn.VERTICAL,this._previousScrollMode=gn.UNKNOWN,this._spreadMode=bo.NONE,this.#k={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#V()}#M(){if(this._scrollMode!==gn.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#k,r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===bo.NONE&&!this.isInPresentationMode){let i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{let i=new Set,o=this._spreadMode-1;o===-1?i.add(e-1):e%2!==o?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));let s=document.createElement("div");if(s.className="spread",this.isInPresentationMode){let a=document.createElement("div");a.className="dummyPage",s.append(a)}for(let a of i){let l=this._pages[a];l&&(s.append(l.div),t.pages.push(l))}r.append(s)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#D(e,t=null){let{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===gn.PAGE&&(this.#M(),this.update()),!t&&!this.isInPresentationMode){let o=r.offsetLeft+r.clientLeft,s=o+r.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===gn.HORIZONTAL||o<a||s>a+l)&&(t={left:0,top:0})}Cie(r,t),!this._currentScaleValue&&this._location&&(this._location=null)}#P(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#E(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:o=-1,origin:s=null}){if(this._currentScaleValue=t.toString(),this.#P(e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Qd.PDF_TO_CSS_UNITS);let a=o>=0&&o<1e3;this.refresh(!0,{scale:e,drawingDelay:a?o:-1}),a&&(this.#b=setTimeout(()=>{this.#b=null,this.refresh()},o));let l=this._currentScale;if(this._currentScale=e,!r){let c=this._currentPageNumber,u;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0}),Array.isArray(s)){let p=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(s[0]-v)*p,this.container.scrollTop+=(s[1]-g)*p}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()}get#_(){return this._spreadMode!==bo.NONE&&this._scrollMode!==gn.HORIZONTAL?2:1}#T(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,this.#E(r,e,t);else{let i=this._pages[this._currentPageNumber-1];if(!i)return;let o=qre,s=Wre;this.isInPresentationMode?(o=s=4,this._spreadMode!==bo.NONE&&(o*=2)):this.removePageBorders?o=s=0:this._scrollMode===gn.HORIZONTAL&&([o,s]=[s,o]);let a=(this.container.clientWidth-o)/i.width*i.scale/this.#_,l=(this.container.clientHeight-s)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=a;break;case"page-height":r=l;break;case"page-fit":r=Math.min(a,l);break;case"auto":let c=Yre(i)?a:Math.min(l,a);r=Math.min(QOe,c);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#E(r,e,t)}}#R(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#T(this._currentScaleValue,{noScroll:!0}),this.#D(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1}){if(!this.pdfDocument)return;let o=Number.isInteger(e)&&this._pages[e-1];if(!o){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let s=0,a=0,l=0,c=0,u,p,g=o.rotation%180!==0,v=(g?o.height:o.width)/o.scale/Qd.PDF_TO_CSS_UNITS,w=(g?o.width:o.height)/o.scale/Qd.PDF_TO_CSS_UNITS,y=0;switch(t[1].name){case"XYZ":s=t[2],a=t[3],y=t[4],s=s!==null?s:0,a=a!==null?a:w;break;case"Fit":case"FitB":y="page-fit";break;case"FitH":case"FitBH":a=t[2],y="page-width",a===null&&this._location?(s=this._location.left,a=this._location.top):(typeof a!="number"||a<0)&&(a=w);break;case"FitV":case"FitBV":s=t[2],l=v,c=w,y="page-height";break;case"FitR":s=t[2],a=t[3],l=t[4]-s,c=t[5]-a;let V=qre,j=Wre;this.removePageBorders&&(V=j=0),u=(this.container.clientWidth-V)/l/Qd.PDF_TO_CSS_UNITS,p=(this.container.clientHeight-j)/c/Qd.PDF_TO_CSS_UNITS,y=Math.min(Math.abs(u),Math.abs(p));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(y&&y!==this._currentScale?this.currentScaleValue=y:this._currentScale===ZB&&(this.currentScaleValue=YOe)),y==="page-fit"&&!t[4]){this.#D(o);return}let x=[o.viewport.convertToViewportPoint(s,a),o.viewport.convertToViewportPoint(s+l,a+c)],b=Math.min(x[0][0],x[1][0]),R=Math.min(x[0][1],x[1][1]);r||(b=Math.max(b,0),R=Math.max(R,0)),this.#D(o,{left:b,top:R})}_updateLocation(e){let t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,o=e.id,s=this._pages[o-1],a=this.container,l=s.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),c=Math.round(l[0]),u=Math.round(l[1]),p=`#page=${o}`;this.isInPresentationMode||(p+=`&zoom=${i},${c},${u}`),this._location={pageNumber:o,scale:i,top:u,left:c,rotation:this._pagesRotation,pdfOpenParams:p}}update(){let e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;let i=Math.max(kie,2*r+1);this.#e.resize(i,e.ids),this.renderingQueue.renderHighestPriority(e);let o=this._spreadMode===bo.NONE&&(this._scrollMode===gn.PAGE||this._scrollMode===gn.VERTICAL),s=this._currentPageNumber,a=!1;for(let l of t){if(l.percent<100)break;if(l.id===s&&o){a=!0;break}}this._setCurrentPageNumber(a?s:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#F(){let e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(let o of i){let{view:s}=o;if(!s.hasEditableAnnotations()){r.delete(s.id);continue}t.push(o)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===q1.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===q1.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===gn.PAGE?this.#k.pages:this._pages,t=this._scrollMode===gn.HORIZONTAL,r=t&&this._isContainerRtl;return tNe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(let e of this._pages)e.renderingState!==Nr.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#H(e){return E(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#j(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case gn.PAGE:return this.#k.scrollDown;case gn.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),r=this.#j(t),i=this._spreadMode!==bo.NONE&&this._scrollMode!==gn.HORIZONTAL,o=this.renderingQueue.getHighestPriority(t,this._pages,r,i);return o?(this.#H(o).then(()=>{this.renderingQueue.renderView(o)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){let i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let r=t.pdfPage.getViewport({scale:1}),i=Yre(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!nNe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>PI.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===gn.HORIZONTAL),r.classList.toggle("scrollWrapped",t===gn.WRAPPED),!(!this.pdfDocument||!e)&&(t===gn.PAGE?this.#M():this._previousScrollMode===gn.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#T(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!rNe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,r=this._pages;if(this._scrollMode===gn.PAGE)this.#M();else if(t.textContent="",this._spreadMode===bo.NONE)for(let i of this._pages)t.append(i.div);else{let i=this._spreadMode-1,o=null;for(let s=0,a=r.length;s<a;++s)o===null?(o=document.createElement("div"),o.className="spread",t.append(o)):s%2===i&&(o=o.cloneNode(!1),t.append(o)),o.append(r[s].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#T(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case gn.WRAPPED:{let{views:r}=this._getVisiblePages(),i=new Map;for(let{id:o,y:s,percent:a,widthPercent:l}of r){if(a===0||l<100)continue;let c=i.get(s);c||i.set(s,c||=[]),c.push(o)}for(let o of i.values()){let s=o.indexOf(e);if(s===-1)continue;let a=o.length;if(a===1)break;if(t)for(let l=s-1,c=0;l>=c;l--){let u=o[l],p=o[l+1]-1;if(u<p)return e-p}else for(let l=s+1,c=a;l<c;l++){let u=o[l],p=o[l-1]+1;if(u>p)return p-e}if(t){let l=o[0];if(l<e)return e-l+1}else{let l=o[a-1];if(l>e)return l-e+1}break}break}case gn.HORIZONTAL:break;case gn.PAGE:case gn.VERTICAL:{if(this._spreadMode===bo.NONE)break;let r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;let{views:i}=this._getVisiblePages(),o=t?e-1:e+1;for(let{id:s,percent:a,widthPercent:l}of i)if(s===o){if(a>0&&l===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let o=this._currentScale;if(t>0&&t!==1)o=Math.round(o*t*100)/100;else if(r){let s=r>0?zre:1/zre,a=r>0?Math.ceil:Math.floor;r=Math.abs(r);do o=a((o*s).toFixed(2)*10)/10;while(--r>0)}o=Math.max(XOe,Math.min(ZOe,o)),this.#T(o,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale(ye(G({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(ye(G({},e),{steps:-(e.steps??1)}))}#L(e=this.container.clientHeight){e!==this.#y&&(this.#y=e,iNe.setProperty("--viewer-container-height",`${e}px`))}#B(e){for(let t of e)if(t.target===this.container){this.#L(Math.floor(t.borderBoxSize[0].blockSize)),this.#l=null;break}}get containerTopLeft(){return this.#l||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#p?.abort(),this.#p=null,this.#g!==null&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#o?this.#r:js.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1}){if(!this.#o)throw new Error("The AnnotationEditor is not enabled.");if(this.#r===e)return;if(!bie(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===js.STAMP&&this.#f?.loadModel("altText");let{eventBus:i}=this,o=()=>{this.#V(),this.#r=e,this.#o.updateMode(e,t,r),i.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===js.NONE||this.#r===js.NONE){let s=e!==js.NONE;s||this.pdfDocument.annotationStorage.resetModifiedIds();for(let l of this._pages)l.toggleEditingMode(s);let a=this.#F();if(s&&a){this.#V(),this.#p=new AbortController;let l=AbortSignal.any([this.#h.signal,this.#p.signal]);i._on("pagerendered",({pageNumber:c})=>{a.delete(c),a.size===0&&(this.#g=setTimeout(o,0))},{signal:l});return}}o()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let r of this._pages)r.update(t);this.#b!==null&&(clearTimeout(this.#b),this.#b=null),e||this.update()}}},R7=class extends qI{_resetView(){super._resetView(),this._scrollMode=gn.PAGE,this._spreadMode=bo.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var N6e=Ir.AnnotationLayerBuilder,L6e=Ir.DownloadManager,F6e=Ir.EventBus,B6e=Ir.FindState,P7=Ir.GenericL10n,dg=Ir.LinkTarget,O7=Ir.PDFFindController,V6e=Ir.PDFHistory,N7=Ir.PDFLinkService,j6e=Ir.PDFPageView,H6e=Ir.PDFScriptingManager,L7=Ir.PDFSinglePageViewer,F7=Ir.PDFViewer,U6e=Ir.ProgressBar,$6e=Ir.RenderingStates,z6e=Ir.ScrollMode,q6e=Ir.SimpleLinkService,W6e=Ir.SpreadMode,G6e=Ir.StructTreeLayerBuilder,K6e=Ir.TextLayerBuilder,Y6e=Ir.XfaLayerBuilder,X6e=Ir.parseQueryString;var Z6e=["pdfViewerContainer"];function Q6e(n,e){let t=new n.EventBus;return J6e(t,e),t}function J6e(n,e){Cn(n,"documentload").pipe($e(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Cn(n,"pagerendered").pipe($e(e)).subscribe(({pageNumber:t,cssTransform:r,source:i})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:r}),i.div.dispatchEvent(o)}),Cn(n,"textlayerrendered").pipe($e(e)).subscribe(({pageNumber:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),r.textLayerDiv?.dispatchEvent(i)}),Cn(n,"pagechanging").pipe($e(e)).subscribe(({pageNumber:t,source:r})=>{let i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=t,r.container.dispatchEvent(i)}),Cn(n,"pagesinit").pipe($e(e)).subscribe(({source:t})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(r)}),Cn(n,"pagesloaded").pipe($e(e)).subscribe(({pagesCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(i)}),Cn(n,"scalechange").pipe($e(e)).subscribe(({scale:t,presetValue:r,source:i})=>{let o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=t,o.presetValue=r,i.container.dispatchEvent(o)}),Cn(n,"updateviewarea").pipe($e(e)).subscribe(({location:t,source:r})=>{let i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=t,r.container.dispatchEvent(i)}),Cn(n,"find").pipe($e(e)).subscribe(({source:t,type:r,query:i,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l})=>{if(t===window)return;let c=document.createEvent("CustomEvent");c.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Cn(n,"attachmentsloaded").pipe($e(e)).subscribe(({attachmentsCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),r.container.dispatchEvent(i)}),Cn(n,"sidebarviewchanged").pipe($e(e)).subscribe(({view:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),r.outerContainer.dispatchEvent(i)}),Cn(n,"pagemode").pipe($e(e)).subscribe(({mode:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:t}),r.pdfViewer.container.dispatchEvent(i)}),Cn(n,"namedaction").pipe($e(e)).subscribe(({action:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:t}),r.pdfViewer.container.dispatchEvent(i)}),Cn(n,"presentationmodechanged").pipe($e(e)).subscribe(({active:t,switchInProgress:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:r}),window.dispatchEvent(i)}),Cn(n,"outlineloaded").pipe($e(e)).subscribe(({outlineCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),r.container.dispatchEvent(i)})}function V7(n,e,t){n[e]=t}function Uy(){return typeof window>"u"}Uy()||V7(z1,"verbosity",YB.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}});var j7=(function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n})(j7||{}),GI=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof z1<"u"?`https://unpkg.com/pdfjs-dist@${Ny}/cmaps/`:null;_imageResourcesPath=typeof z1<"u"?`https://unpkg.com/pdfjs-dist@${Ny}/web/images/`:void 0;_renderText=!0;_renderTextMode=j7.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Pe;afterLoadComplete=new dt;pageRendered=new dt;pageInitialized=new dt;textLayerRendered=new dt;onError=new dt;onProgress=new dt;pageChange=new dt(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let r=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,r!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return dg.BLANK;case"none":return dg.NONE;case"self":return dg.SELF;case"parent":return dg.PARENT;case"top":return dg.TOP}return null}constructor(t,r){if(this.element=t,this.ngZone=r,Uy())return;let i,o=Ny,s=window[`pdfWorkerSrc${o}`];s?i=s:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?i=window.pdfWorkerSrc:i=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.mjs`,V7(KB,"workerSrc",i)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(Uy()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:r}=t;if(r.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){Un(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe($e(this.destroy$)).subscribe({next:t=>{let r=this._rotation+t.rotate,i=t.getViewport({scale:this._zoom,rotation:r}).width*n.CSS_UNITS,o=this._zoom,s=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){let a=t.getViewport({scale:1,rotation:r});o=this.getScale(a.width,a.height),s=!this._stickToPage}this.pdfViewer.currentScale=o,s&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=Q6e(B7,this.destroy$),Cn(this.eventBus,"pagerendered").pipe($e(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Cn(this.eventBus,"pagesinit").pipe($e(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Cn(this.eventBus,"pagechanging").pipe($e(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Cn(this.eventBus,"textlayerrendered").pipe($e(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new N7(G({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new O7({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:j7.DISABLED,findController:this.pdfFindController,l10n:new P7("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:GB.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),V7(z1,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new F7(this.getPDFOptions()):this.pdfViewer=new L7(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let r={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return r.isEvalSupported=!1,t==="string"?r.url=this.src:t==="object"&&(this.src.byteLength!==void 0?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=XB(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};let t=this.src;Un(this.loadingTask.promise).pipe($e(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=t,this.afterLoadComplete.emit(r),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{let t=this.pageInitialized.subscribe(()=>{this.updateSize(),t.unsubscribe()})}}getScale(t,r){let i=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-i,s=this.pdfViewerContainer.nativeElement.clientHeight-i;if(s===0||r===0||o===0||t===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(s/r,o/t);break;case"page-height":a=s/r;break;case"page-width":default:a=o/t;break}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Uy()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Uy()||this.ngZone.runOutsideAngular(()=>{Cn(window,"resize").pipe(Gc(100),an(()=>this._canAutoResize&&!!this._pdf),$e(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(r){return new(r||n)(De(ft),De(Be))};static \u0275cmp=de({type:n,selectors:[["pdf-viewer"]],viewQuery:function(r,i){if(r&1&&Ol(Z6e,5),r&2){let o;Ua(o=$a())&&(i.pdfViewerContainer=o.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[wi],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(r,i){r&1&&(D(0,"div",1,0),oe(2,"div",2),A())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),KI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=$t({})}return n})();function eLe(n,e){if(n&1&&oe(0,"pdf-viewer",0),n&2){let t=ae();fe("src",t.pdfURL)("render-text",!0)("original-size",!0)}}function tLe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),H(2,"No resume found"),A()()),n&2){let t=ae();N(),se(t.h1Style)}}var YI=class n extends nr{resumePDFService=M(F1);route=M(us);email;pdfURL="";preloaderService=M(rr);hlmDialogService=M(fr);fetchPDFFromEmail(){return E(this,null,function*(){this.preloaderService.show();try{let e=yield this.resumePDFService.getPDFFromEmail(this.email);this.pdfURL=window.URL.createObjectURL(e)}catch{this.hlmDialogService.open(nn,{context:{error:"Unable to find resume of the user",desc:"Check if user is valid or url is correct, or try again later!"}})}finally{this.preloaderService.hide()}})}ngOnInit(){this.route.paramMap.subscribe(e=>E(this,null,function*(){this.email=e.get("email"),yield this.fetchPDFFromEmail()}))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-resume-viewer"]],features:[Le([]),kt],decls:2,vars:2,consts:[[1,"h-[100vh]",3,"src","render-text","original-size"],[1,"flex","items-center","justify-center","flex-col","h-[100vh]"]],template:function(t,r){t&1&&(te(0,eLe,1,3,"pdf-viewer",0),te(1,tLe,3,2,"div",1)),t&2&&(ne(r.pdfURL!==""?0:-1),N(),ne(r.pdfURL===""?1:-1))},dependencies:[KI,GI],encapsulation:2})};var nLe=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=K7(n.state,t.from);return r.line?rLe(n):r.block?oLe(n):!1};function G7(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}var rLe=G7(lLe,0);var iLe=G7(Bie,0);var oLe=G7((n,e)=>Bie(n,e,aLe(e)),0);function K7(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}var $y=50;function sLe(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-$y,r),s=n.sliceDoc(i,i+$y),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,p;i-r<=2*$y?u=p=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+$y),p=n.sliceDoc(i-$y,i));let g=/^\s*/.exec(u)[0].length,v=/\s*$/.exec(p)[0].length,w=p.length-v-t.length;return u.slice(g,g+e.length)==e&&p.slice(w,w+t.length)==t?{open:{pos:r+g+e.length,margin:/\s/.test(u.charAt(g+e.length))?1:0},close:{pos:i-v-t.length,margin:/\s/.test(p.charAt(w-1))?1:0}}:null}function aLe(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function Bie(n,e,t=e.selection.ranges){let r=t.map(o=>K7(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>sLe(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function lLe(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let a=r.length,l=1e9,c=K7(e,o).line;if(c){for(let u=o;u<=s;){let p=e.doc.lineAt(u);if(p.from>i&&(o==s||s>p.from)){i=p.from;let g=/^\s*/.exec(p.text)[0].length,v=g==p.length,w=p.text.slice(g,g+c.length)==c?g:-1;g<p.text.length&&g<l&&(l=g),r.push({line:p,comment:w,token:c,indent:g,empty:v,single:!1})}u=p.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:p}of r)(p||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}var $7=Cp.define(),cLe=Cp.define(),dLe=yl.define(),Vie=yl.define({combine(n){return Uc(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),jie=kl.define({create(){return U7.empty},update(n,e){let t=e.state.facet(Vie),r=e.annotation($7);if(r){let l=il.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=ZI(u,u.length,t.minDepth,l):u=$ie(u,e.startState.selection),new U7(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(cLe);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(rv.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=il.fromTransaction(e),s=e.annotation(rv.time),a=e.annotation(rv.userEvent);return o?n=n.addChanges(o,s,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new U7(n.done.map(il.fromJSON),n.undone.map(il.fromJSON))}});function Y7(n={}){return[jie,Vie.of(n),wn.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?Hie:e.inputType=="historyRedo"?z7:null;return r?(e.preventDefault(),r(t)):!1}})]}function QI(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(jie,!1);if(!i)return!1;let o=i.pop(n,t,e);return o?(r(o),!0):!1}}var Hie=QI(0,!1),z7=QI(1,!1),uLe=QI(0,!0),hLe=QI(1,!0);var il=class n{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new n(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new n(e.changes&&vU.fromJSON(e.changes),[],e.mapped&&mU.fromJSON(e.mapped),e.startSelection&&lt.fromJSON(e.startSelection),e.selectionsAfter.map(lt.fromJSON))}static fromTransaction(e,t){let r=fa;for(let i of e.startState.facet(dLe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new n(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,fa)}static selection(e){return new n(void 0,fa,void 0,void 0,e)}};function ZI(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function pLe(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&s<=u&&(r=!0)}}),r}function fLe(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function Uie(n,e){return n.length?e.length?n.concat(e):n:e}var fa=[],gLe=200;function $ie(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-gLe));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),ZI(n,n.length-1,1e9,t.setSelAfter(r)))}else return[il.selection([e])]}function mLe(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function H7(n,e){if(!n.length)return n;let t=n.length,r=fa;for(;t;){let i=vLe(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[il.selection(r)]:fa}function vLe(n,e,t){let r=Uie(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):fa,t);if(!n.changes)return il.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new il(i,Dr.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}var wLe=/^(input\.type|delete)($|\.)/,U7=(()=>{class n{constructor(t,r,i=0,o=void 0){this.done=t,this.undone=r,this.prevTime=i,this.prevUserEvent=o}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(t,r,i,o,s){let a=this.done,l=a[a.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!i||wLe.test(i))&&(!l.selectionsAfter.length&&r-this.prevTime<o.newGroupDelay&&o.joinToEvent(s,pLe(l.changes,t.changes))||i=="input.type.compose")?a=ZI(a,a.length-1,o.minDepth,new il(t.changes.compose(l.changes),Uie(Dr.mapEffects(t.effects,l.changes),l.effects),l.mapped,l.startSelection,fa)):a=ZI(a,a.length,o.minDepth,t),new n(a,fa,r,i)}addSelection(t,r,i,o){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:fa;return s.length>0&&r-this.prevTime<o&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&fLe(s[s.length-1],t)?this:new n($ie(this.done,t),this.undone,r,i)}addMapping(t){return new n(H7(this.done,t),H7(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,r,i){let o=t==0?this.done:this.undone;if(o.length==0)return null;let s=o[o.length-1],a=s.selectionsAfter[0]||r.selection;if(i&&s.selectionsAfter.length)return r.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:$7.of({side:t,rest:mLe(o),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=o.length==1?fa:o.slice(0,o.length-1);return s.mapped&&(l=H7(l,s.mapped)),r.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:$7.of({side:t,rest:l,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}return n.empty=new n(fa,fa),n})(),X7=[{key:"Mod-z",run:Hie,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:z7,preventDefault:!0},{linux:"Ctrl-Shift-z",run:z7,preventDefault:!0},{key:"Mod-u",run:uLe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:hLe,preventDefault:!0}];function Y1(n,e){return lt.create(n.ranges.map(e),n.mainIndex)}function wc(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ol({state:n,dispatch:e},t){let r=Y1(n.selection,t);return r.eq(n.selection,!0)?!1:(e(wc(n,r)),!0)}function JI(n,e){return lt.cursor(e?n.to:n.from)}function zie(n,e){return ol(n,t=>t.empty?n.moveByChar(t,e):JI(t,e))}function xo(n){return n.textDirectionAt(n.state.selection.main.head)==zb.LTR}var qie=n=>zie(n,!xo(n)),Wie=n=>zie(n,xo(n));function Gie(n,e){return ol(n,t=>t.empty?n.moveByGroup(t,e):JI(t,e))}var _Le=n=>Gie(n,!xo(n)),yLe=n=>Gie(n,xo(n));var SSt=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function kLe(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function eT(n,e,t){let r=Iu(n).resolveInner(e.head),i=t?qb.closedBy:qb.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;kLe(n,c,i)?r=c:l=t?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=t?Ip(n,r.from,1):Ip(n,r.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?r.to:r.from,lt.cursor(a,t?-1:1)}var bLe=n=>ol(n,e=>eT(n.state,e,!xo(n))),xLe=n=>ol(n,e=>eT(n.state,e,xo(n)));function Kie(n,e){return ol(n,t=>{if(!t.empty)return JI(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}var Yie=n=>Kie(n,!1),Xie=n=>Kie(n,!0);function Zie(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(wn.scrollMargins)){let s=o(n);s?.top&&(t=Math.max(s?.top,t)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function Qie(n,e){let t=Zie(n),{state:r}=n,i=Y1(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):JI(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;s&&s.top>l&&s.bottom<c&&(o=wn.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return n.dispatch(wc(r,i),{effects:o}),!0}var Aie=n=>Qie(n,!1),q7=n=>Qie(n,!0);function Vh(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=lt.cursor(r.from+o))}return i}var CLe=n=>ol(n,e=>Vh(n,e,!0)),ELe=n=>ol(n,e=>Vh(n,e,!1)),MLe=n=>ol(n,e=>Vh(n,e,!xo(n))),SLe=n=>ol(n,e=>Vh(n,e,xo(n))),ILe=n=>ol(n,e=>lt.cursor(n.lineBlockAt(e.head).from,1)),TLe=n=>ol(n,e=>lt.cursor(n.lineBlockAt(e.head).to,-1));function ALe(n,e,t){let r=!1,i=Y1(n.selection,o=>{let s=Ip(n,o.head,-1)||Ip(n,o.head,1)||o.head>0&&Ip(n,o.head-1,1)||o.head<n.doc.length&&Ip(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return t?lt.range(o.anchor,a):lt.cursor(a)});return r?(e(wc(n,i)),!0):!1}var DLe=({state:n,dispatch:e})=>ALe(n,e,!1);function ga(n,e){let t=Y1(n.state.selection,r=>{let i=e(r);return lt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(wc(n.state,t)),!0)}function Jie(n,e){return ga(n,t=>n.moveByChar(t,e))}var eoe=n=>Jie(n,!xo(n)),toe=n=>Jie(n,xo(n));function noe(n,e){return ga(n,t=>n.moveByGroup(t,e))}var RLe=n=>noe(n,!xo(n)),PLe=n=>noe(n,xo(n));var OLe=n=>ga(n,e=>eT(n.state,e,!xo(n))),NLe=n=>ga(n,e=>eT(n.state,e,xo(n)));function roe(n,e){return ga(n,t=>n.moveVertically(t,e))}var ioe=n=>roe(n,!1),ooe=n=>roe(n,!0);function soe(n,e){return ga(n,t=>n.moveVertically(t,e,Zie(n).height))}var Die=n=>soe(n,!1),Rie=n=>soe(n,!0),LLe=n=>ga(n,e=>Vh(n,e,!0)),FLe=n=>ga(n,e=>Vh(n,e,!1)),BLe=n=>ga(n,e=>Vh(n,e,!xo(n))),VLe=n=>ga(n,e=>Vh(n,e,xo(n))),jLe=n=>ga(n,e=>lt.cursor(n.lineBlockAt(e.head).from)),HLe=n=>ga(n,e=>lt.cursor(n.lineBlockAt(e.head).to)),Pie=({state:n,dispatch:e})=>(e(wc(n,{anchor:0})),!0),Oie=({state:n,dispatch:e})=>(e(wc(n,{anchor:n.doc.length})),!0),Nie=({state:n,dispatch:e})=>(e(wc(n,{anchor:n.selection.main.anchor,head:0})),!0),Lie=({state:n,dispatch:e})=>(e(wc(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),ULe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),$Le=({state:n,dispatch:e})=>{let t=tT(n).map(({from:r,to:i})=>lt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:lt.create(t),userEvent:"select"})),!0},zLe=({state:n,dispatch:e})=>{let t=Y1(n.selection,r=>{let i=Iu(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return lt.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(wc(n,t)),!0)},qLe=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=lt.create([t.main]):t.main.empty||(r=lt.create([lt.cursor(t.main.head)])),r?(e(wc(n,r)),!0):!1};function zy(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(t="delete.backward",l=XI(n,l,!1)):l>s&&(t="delete.forward",l=XI(n,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=XI(n,s,!1),a=XI(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:lt.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?wn.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function XI(n,e,t){if(n instanceof wn)for(let r of n.state.facet(wn.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}var aoe=(n,e,t)=>zy(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),a,l;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let c=$b(a,o.tabSize),u=c%Wb(o)||Wb(o);for(let p=0;p<u&&a[a.length-1-p]==" ";p++)i--;l=i}else l=Hc(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=Hc(s.text,l-s.from,!1,!1)+s.from);return l}),W7=n=>aoe(n,!1,!0);var loe=n=>aoe(n,!0,!1),coe=(n,e)=>zy(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Hc(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),doe=n=>coe(n,!1),WLe=n=>coe(n,!0),GLe=n=>zy(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)});var KLe=n=>zy(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),YLe=n=>zy(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)});var XLe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Hb.of(["",""])},range:lt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},ZLe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:Hc(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Hc(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(s,i))},range:lt.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function tT(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function uoe(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of tT(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let l of o.ranges)i.push(lt.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let l of o.ranges)i.push(lt.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:lt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}var QLe=({state:n,dispatch:e})=>uoe(n,e,!1),JLe=({state:n,dispatch:e})=>uoe(n,e,!0);function hoe(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of tT(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var e8e=({state:n,dispatch:e})=>hoe(n,e,!1),t8e=({state:n,dispatch:e})=>hoe(n,e,!0),n8e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(tT(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Y1(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function r8e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Iu(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(qb.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}var Fie=poe(!1),i8e=poe(!0);function poe(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!n&&o==s&&r8e(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new LD(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=ND(c,o);for(u==null&&(u=$b(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let p=["",av(e,u)];return l&&p.push(av(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Hb.of(p)},range:lt.cursor(o+1+p[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Z7(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=n.doc.lineAt(s);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),s=a.to+1}let o=n.changes(i);return{changes:i,range:lt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}var o8e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new LD(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=Z7(n,(o,s,a)=>{let l=ND(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=av(n,l);(c!=u||a.from<o.from+c.length)&&(t[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},foe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Z7(n,(t,r)=>{r.push({from:t.from,insert:n.facet(sv)})}),{userEvent:"input.indent"})),!0),goe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Z7(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=$b(i,n.tabSize),s=0,a=av(n,Math.max(0,o-Wb(n)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),s8e=n=>(n.setTabFocusMode(),!0);var a8e=[{key:"Ctrl-b",run:qie,shift:eoe,preventDefault:!0},{key:"Ctrl-f",run:Wie,shift:toe},{key:"Ctrl-p",run:Yie,shift:ioe},{key:"Ctrl-n",run:Xie,shift:ooe},{key:"Ctrl-a",run:ILe,shift:jLe},{key:"Ctrl-e",run:TLe,shift:HLe},{key:"Ctrl-d",run:loe},{key:"Ctrl-h",run:W7},{key:"Ctrl-k",run:GLe},{key:"Ctrl-Alt-h",run:doe},{key:"Ctrl-o",run:XLe},{key:"Ctrl-t",run:ZLe},{key:"Ctrl-v",run:q7}],l8e=[{key:"ArrowLeft",run:qie,shift:eoe,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:_Le,shift:RLe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:MLe,shift:BLe,preventDefault:!0},{key:"ArrowRight",run:Wie,shift:toe,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yLe,shift:PLe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:SLe,shift:VLe,preventDefault:!0},{key:"ArrowUp",run:Yie,shift:ioe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Pie,shift:Nie},{mac:"Ctrl-ArrowUp",run:Aie,shift:Die},{key:"ArrowDown",run:Xie,shift:ooe,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Oie,shift:Lie},{mac:"Ctrl-ArrowDown",run:q7,shift:Rie},{key:"PageUp",run:Aie,shift:Die},{key:"PageDown",run:q7,shift:Rie},{key:"Home",run:ELe,shift:FLe,preventDefault:!0},{key:"Mod-Home",run:Pie,shift:Nie},{key:"End",run:CLe,shift:LLe,preventDefault:!0},{key:"Mod-End",run:Oie,shift:Lie},{key:"Enter",run:Fie,shift:Fie},{key:"Mod-a",run:ULe},{key:"Backspace",run:W7,shift:W7},{key:"Delete",run:loe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:doe},{key:"Mod-Delete",mac:"Alt-Delete",run:WLe},{mac:"Mod-Backspace",run:KLe},{mac:"Mod-Delete",run:YLe}].concat(a8e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Q7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:bLe,shift:OLe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:xLe,shift:NLe},{key:"Alt-ArrowUp",run:QLe},{key:"Shift-Alt-ArrowUp",run:e8e},{key:"Alt-ArrowDown",run:JLe},{key:"Shift-Alt-ArrowDown",run:t8e},{key:"Escape",run:qLe},{key:"Mod-Enter",run:i8e},{key:"Alt-l",mac:"Ctrl-l",run:$Le},{key:"Mod-i",run:zLe,preventDefault:!0},{key:"Mod-[",run:goe},{key:"Mod-]",run:foe},{key:"Mod-Alt-\\",run:o8e},{key:"Shift-Mod-k",run:n8e},{key:"Shift-Mod-\\",run:DLe},{key:"Mod-/",run:nLe},{key:"Alt-A",run:iLe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:s8e}].concat(l8e),moe={key:"Tab",run:foe,shift:goe};var c8e="#e5c07b",voe="#e06c75",d8e="#56b6c2",u8e="#ffffff",nT="#abb2bf",e9="#7d8799",h8e="#61afef",p8e="#98c379",woe="#d19a66",f8e="#c678dd",g8e="#21252b",_oe="#2c313a",yoe="#282c34",J7="#353a42",m8e="#3E4451",koe="#528bff";var v8e=wn.theme({"&":{color:nT,backgroundColor:yoe},".cm-content":{caretColor:koe},".cm-cursor, .cm-dropCursor":{borderLeftColor:koe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:m8e},".cm-panels":{backgroundColor:g8e,color:nT},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:yoe,color:e9,border:"none"},".cm-activeLineGutter":{backgroundColor:_oe},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:J7},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:J7,borderBottomColor:J7},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:_oe,color:nT}}},{dark:!0}),w8e=PU.define([{tag:mt.keyword,color:f8e},{tag:[mt.name,mt.deleted,mt.character,mt.propertyName,mt.macroName],color:voe},{tag:[mt.function(mt.variableName),mt.labelName],color:h8e},{tag:[mt.color,mt.constant(mt.name),mt.standard(mt.name)],color:woe},{tag:[mt.definition(mt.name),mt.separator],color:nT},{tag:[mt.typeName,mt.className,mt.number,mt.changed,mt.annotation,mt.modifier,mt.self,mt.namespace],color:c8e},{tag:[mt.operator,mt.operatorKeyword,mt.url,mt.escape,mt.regexp,mt.link,mt.special(mt.string)],color:d8e},{tag:[mt.meta,mt.comment],color:e9},{tag:mt.strong,fontWeight:"bold"},{tag:mt.emphasis,fontStyle:"italic"},{tag:mt.strikethrough,textDecoration:"line-through"},{tag:mt.link,color:e9,textDecoration:"underline"},{tag:mt.heading,fontWeight:"bold",color:voe},{tag:[mt.atom,mt.bool,mt.special(mt.variableName)],color:woe},{tag:[mt.processingInstruction,mt.string,mt.inserted],color:p8e},{tag:mt.invalid,color:u8e}]),boe=[v8e,lv(w8e)];var xoe=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n,Hh=class{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(xoe(a)):xoe,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return is(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=tv(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Da(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}};typeof Symbol<"u"&&(Hh.prototype[Symbol.iterator]=function(){return this});var Soe={from:-1,to:-1,match:/.*/.exec("")},a9="gm"+(/x/.unicode==null?"":"u"),oT=class{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Soe,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new aT(e,t,r,i,o);this.re=new RegExp(t,a9+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=lT(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=lT(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},t9=new WeakMap,sT=class n{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=t9.get(e);if(!i||i.from>=r||i.to<=t){let a=new n(t,e.sliceString(t,r));return t9.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),t9.set(e,new n(s,o)),new n(t,o.slice(t-s,r-s))}},aT=class{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Soe,this.matchPos=lT(e,i),this.re=new RegExp(t,a9+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=sT.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=lT(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=sT.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol<"u"&&(oT.prototype[Symbol.iterator]=aT.prototype[Symbol.iterator]=function(){return this});function _8e(n){try{return new RegExp(n,a9),!0}catch{return!1}}function lT(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function n9(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Fn("input",{class:"cm-textfield",name:"line",value:e}),r=Fn("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:qy.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},Fn("label",n.state.phrase("Go to line"),": ",t)," ",Fn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Fn("button",{name:"close",onclick:()=>{n.dispatch({effects:qy.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["\xD7"]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,p]=o,g=u?+u.slice(1):0,v=c?+c:a.number;if(c&&p){let x=v/100;l&&(x=x*(l=="-"?-1:1)+a.number/s.doc.lines),v=Math.round(s.doc.lines*x)}else c&&l&&(v=v*(l=="-"?-1:1)+a.number);let w=s.doc.line(Math.max(1,Math.min(s.doc.lines,v))),y=lt.cursor(w.from+Math.max(0,Math.min(g,w.length)));n.dispatch({effects:[qy.of(!1),wn.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:r}}var qy=Dr.define(),Coe=kl.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(qy)&&(n=t.value);return n},provide:n=>ov.from(n,e=>e?n9:null)}),y8e=n=>{let e=Sp(n,n9);if(!e){let t=[qy.of(!0)];n.state.field(Coe,!1)==null&&t.push(Dr.appendConfig.of([Coe,k8e])),n.dispatch({effects:t}),e=Sp(n,n9)}return e&&e.dom.querySelector("input").select(),!0},k8e=wn.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),b8e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ioe=yl.define({combine(n){return Uc(n,b8e,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Toe(n){let e=[S8e,M8e];return n&&e.push(Ioe.of(n)),e}var x8e=Rr.mark({class:"cm-selectionMatch"}),C8e=Rr.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Eoe(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Ti.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Ti.Word)}function E8e(n,e,t,r){return n(e.sliceDoc(t,t+1))==Ti.Word&&n(e.sliceDoc(r-1,r))==Ti.Word}var M8e=Qg.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Ioe),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Rr.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Rr.none;let l=t.wordAt(i.head);if(!l)return Rr.none;s=t.charCategorizer(i.head),o=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Rr.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(Eoe(s,t,i.from,i.to)&&E8e(s,t,i.from,i.to)))return Rr.none}else if(o=t.sliceDoc(i.from,i.to),!o)return Rr.none}let a=[];for(let l of n.visibleRanges){let c=new Hh(t.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:p}=c.value;if((!s||Eoe(s,t,u,p))&&(i.empty&&u<=i.from&&p>=i.to?a.push(C8e.range(u,p)):(u>=i.to||p<=i.from)&&a.push(x8e.range(u,p)),a.length>e.maxMatches))return Rr.none}}return Rr.set(a)}},{decorations:n=>n.decorations}),S8e=wn.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),I8e=({state:n,dispatch:e})=>{let{selection:t}=n,r=lt.create(t.ranges.map(i=>n.wordAt(i.head)||lt.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function T8e(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,a=new Hh(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Hh(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}var A8e=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return I8e({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=T8e(n,r);return i?(e(n.update({selection:n.selection.addRange(lt.range(i.from,i.to),!1),effects:wn.scrollIntoView(i.to)})),!0):!1},Q1=yl.define({combine(n){return Uc(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new s9(e),scrollToMatch:e=>wn.scrollIntoView(e)})}});var cT=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||_8e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new i9(this):new r9(this)}getCursor(e,t=0,r){let i=e.doc?e:Ep.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Z1(this,i,t,r):X1(this,i,t,r)}},dT=class{constructor(e){this.spec=e}};function X1(n,e,t,r){return new Hh(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?D8e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function D8e(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(uT(i,t-o))!=Ti.Word||e(hT(i,t-o))!=Ti.Word)&&(e(hT(i,r-o))!=Ti.Word||e(uT(i,r-o))!=Ti.Word))}var r9=class extends dT{constructor(e){super(e)}nextMatch(e,t,r){let i=X1(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=X1(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=X1(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=X1(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=X1(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}};function Z1(n,e,t,r){return new oT(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?R8e(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function uT(n,e){return n.slice(Hc(n,e,!1),e)}function hT(n,e){return n.slice(e,Hc(n,e))}function R8e(n){return(e,t,r)=>!r[0].length||(n(uT(r.input,r.index))!=Ti.Word||n(hT(r.input,r.index))!=Ti.Word)&&(n(hT(r.input,r.index+r[0].length))!=Ti.Word||n(uT(r.input,r.index+r[0].length))!=Ti.Word)}var i9=class extends dT{nextMatch(e,t,r){let i=Z1(this.spec,e,r,e.doc.length).next();return i.done&&(i=Z1(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=Z1(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return t})}matchAll(e,t){let r=Z1(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Z1(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}},Gy=Dr.define(),l9=Dr.define(),jh=kl.define({create(n){return new Wy(o9(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Gy)?n=new Wy(t.value.create(),n.panel):t.is(l9)&&(n=new Wy(n.query,t.value?c9:null));return n},provide:n=>ov.from(n,e=>e.panel)});var Wy=class{constructor(e,t){this.query=e,this.panel=t}},P8e=Rr.mark({class:"cm-searchMatch"}),O8e=Rr.mark({class:"cm-searchMatch cm-searchMatch-selected"}),N8e=Qg.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(jh))}update(n){let e=n.state.field(jh);(e!=n.startState.field(jh)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Rr.none;let{view:t}=this,r=new Ub;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-500;)l=o[++i].to;n.highlight(t.state,a,l,(c,u)=>{let p=t.state.selection.ranges.some(g=>g.from==c&&g.to==u);r.add(c,u,p?O8e:P8e)})}return r.finish()}},{decorations:n=>n.decorations});function Ky(n){return e=>{let t=e.state.field(jh,!1);return t&&t.query.spec.valid?n(e,t):Roe(e)}}var pT=Ky((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=lt.single(r.from,r.to),o=n.state.facet(Q1);return n.dispatch({selection:i,effects:[d9(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),Doe(n),!0}),fT=Ky((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=lt.single(i.from,i.to),s=n.state.facet(Q1);return n.dispatch({selection:o,effects:[d9(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),Doe(n),!0}),L8e=Ky((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:lt.create(t.map(r=>lt.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),F8e=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let a=new Hh(n.doc,n.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(lt.range(a.value.from,a.value.to))}return e(n.update({selection:lt.create(o,s),userEvent:"select.search.matches"})),!0},Moe=Ky((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=o,a=[],l,c,u=[];s.from==r&&s.to==i&&(c=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:c}),s=e.nextMatch(t,s.from,s.to),u.push(wn.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let p=n.state.changes(a);return s&&(l=lt.single(s.from,s.to).map(p),u.push(d9(n,s)),u.push(t.facet(Q1).scrollToMatch(l.main,n))),n.dispatch({changes:p,selection:l,effects:u,userEvent:"input.replace"}),!0}),B8e=Ky((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:wn.announce.of(r),userEvent:"input.replace.all"}),!0});function c9(n){return n.state.facet(Q1).createPanel(n)}function o9(n,e){var t,r,i,o,s;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Q1);return new cT({search:((t=e?.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function Aoe(n){let e=Sp(n,c9);return e&&e.dom.querySelector("[main-field]")}function Doe(n){let e=Aoe(n);e&&e==n.root.activeElement&&e.select()}var Roe=n=>{let e=n.state.field(jh,!1);if(e&&e.panel){let t=Aoe(n);if(t&&t!=n.root.activeElement){let r=o9(n.state,e.query.spec);r.valid&&n.dispatch({effects:Gy.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[l9.of(!0),e?Gy.of(o9(n.state,e.query.spec)):Dr.appendConfig.of(j8e)]});return!0},Poe=n=>{let e=n.state.field(jh,!1);if(!e||!e.panel)return!1;let t=Sp(n,c9);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:l9.of(!1)}),!0},Ooe=[{key:"Mod-f",run:Roe,scope:"editor search-panel"},{key:"F3",run:pT,shift:fT,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:pT,shift:fT,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Poe,scope:"editor search-panel"},{key:"Mod-Shift-l",run:F8e},{key:"Mod-Alt-g",run:y8e},{key:"Mod-d",run:A8e,preventDefault:!0}],s9=class{constructor(e){this.view=e;let t=this.query=e.state.field(jh).query.spec;this.commit=this.commit.bind(this),this.searchField=Fn("input",{value:t.search,placeholder:Hs(e,"Find"),"aria-label":Hs(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Fn("input",{value:t.replace,placeholder:Hs(e,"Replace"),"aria-label":Hs(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Fn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Fn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Fn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return Fn("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=Fn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>pT(e),[Hs(e,"next")]),r("prev",()=>fT(e),[Hs(e,"previous")]),r("select",()=>L8e(e),[Hs(e,"all")]),Fn("label",null,[this.caseField,Hs(e,"match case")]),Fn("label",null,[this.reField,Hs(e,"regexp")]),Fn("label",null,[this.wordField,Hs(e,"by word")]),...e.state.readOnly?[]:[Fn("br"),this.replaceField,r("replace",()=>Moe(e),[Hs(e,"replace")]),r("replaceAll",()=>B8e(e),[Hs(e,"replace all")])],Fn("button",{name:"close",onclick:()=>Poe(e),"aria-label":Hs(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new cT({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Gy.of(e)}))}keydown(e){_U(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fT:pT)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Moe(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Gy)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Q1).top}};function Hs(n,e){return n.state.phrase(e)}var rT=30,iT=/[\s\.,:;?!]/;function d9(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-rT),s=Math.min(i,t+rT),a=n.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<rT;l++)if(!iT.test(a[l+1])&&iT.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-rT;l--)if(!iT.test(a[l-1])&&iT.test(a[l])){a=a.slice(0,l);break}}return wn.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}var V8e=wn.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),j8e=[jh,nv.low(N8e),V8e];var mT=class{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Iu(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(Uoe(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}};function Noe(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function H8e(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=Noe(e)+Noe(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function U8e(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:H8e(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}var vT=class{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}};function hg(n){return n.selection.main.from}function Uoe(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}var $oe=Cp.define();function $8e(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return ye(G({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:lt.cursor(a.from+o+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}var Loe=new WeakMap;function z8e(n){if(!Array.isArray(n))return n;let e=Loe.get(n);return e||Loe.set(n,e=U8e(n)),e}var wT=Dr.define(),Yy=Dr.define(),f9=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=is(e,t),i=Da(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(is(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let R=is(e,0),V=Da(R),j=V==e.length?0:-100;if(R!=t[0])if(R==r[0])j+=-200;else return null;return this.ret(j,[0,V])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let R=0,V=Math.min(e.length,200);R<V&&c<l;){let j=is(e,R);(j==t[c]||j==r[c])&&(i[c++]=R),R+=Da(j)}if(c<l)return null}let u=0,p=0,g=!1,v=0,w=-1,y=-1,x=/[a-z]/.test(e),b=!0;for(let R=0,V=Math.min(e.length,200),j=0;R<V&&p<l;){let $=is(e,R);a<0&&(u<l&&$==t[u]&&(o[u++]=R),v<l&&($==t[v]||$==r[v]?(v==0&&(w=R),y=R+1,v++):v=0));let Y,L=$<255?$>=48&&$<=57||$>=97&&$<=122?2:$>=65&&$<=90?1:0:(Y=tv($))!=Y.toLowerCase()?1:Y!=Y.toUpperCase()?2:0;(!R||L==1&&x||j==0&&L!=0)&&(t[p]==$||r[p]==$&&(g=!0)?s[p++]=R:s.length&&(b=!1)),j=L,R+=Da($)}return p==l&&s[0]==0&&b?this.result(-100+(g?-200:0),s,e):v==l&&w==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):v==l?this.ret(-900-e.length,[w,y]):p==l?this.result(-100+(g?-200:0)+-700+(b?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let a=s+(this.astral?Da(is(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}},g9=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}},Ui=yl.define({combine(n){return Uc(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:q8e,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>Foe(e(r),t(r)),optionClass:(e,t)=>r=>Foe(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Foe(n,e){return n?e?n+" "+e:n:e}function q8e(n,e,t,r,i,o){let s=n.textDirection==zb.RTL,a=s,l=!1,c="top",u,p,g=e.left-i.left,v=i.right-e.right,w=r.right-r.left,y=r.bottom-r.top;if(a&&g<Math.min(w,v)?a=!1:!a&&v<Math.min(w,g)&&(a=!0),w<=(a?g:v))u=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,p=Math.min(400,a?g:v);else{l=!0,p=Math.min(400,(s?e.right:i.right-e.left)-30);let R=i.bottom-e.bottom;R>=y||R>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let x=(e.bottom-e.top)/o.offsetHeight,b=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${u/x}px; max-width: ${p/b}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function W8e(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<o.length;){let u=o[c++],p=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(a.slice(u,p))),g.className="cm-completionMatchedText",l=p}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function u9(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}var m9=class{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,a=e.state.facet(Ui);this.optionContent=W8e(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=u9(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,p;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(p=/-(\d+)$/.exec(u.id))&&+p[1]<c.length){this.applyCompletion(e,c[+p[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Ui).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Yy.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=u9(o.length,s,e.state.facet(Ui).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=u9(t.options.length,t.selected,this.view.state.facet(Ui).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>iv(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&K8e(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(Ui).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){let i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let g=typeof c=="string"?c:c.name;if(g!=o&&(s>r.from||r.from==0))if(o=g,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let v=i.appendChild(document.createElement("completion-section"));v.textContent=g}}let u=i.appendChild(document.createElement("li"));u.id=t+"-"+s,u.setAttribute("role","option");let p=this.optionClass(a);p&&(u.className=p);for(let g of this.optionContent){let v=g(a,this.view.state,this.view,l);v&&u.appendChild(v)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function G8e(n,e){return t=>new m9(t,n,e)}function K8e(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function Boe(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Y8e(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let p=typeof u=="string"?u:u.name;r.some(g=>g.name==p)||r.push(typeof u=="string"?{name:p}:u)}},o=e.facet(Ui);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let p of c.result.options)i(new vT(p,c.source,u?u(p):[],1e9-t.length));else{let p=e.sliceDoc(c.from,c.to),g,v=o.filterStrict?new g9(p):new f9(p);for(let w of c.result.options)if(g=v.match(w.label)){let y=w.displayLabel?u?u(w,g.matched):[]:g.matched;i(new vT(w,c.source,y,g.score+(w.boost||0)))}}}if(r){let c=Object.create(null),u=0,p=(g,v)=>{var w,y;return((w=g.rank)!==null&&w!==void 0?w:1e9)-((y=v.rank)!==null&&y!==void 0?y:1e9)||(g.name<v.name?-1:1)};for(let g of r.sort(p))u-=1e5,c[g.name]=u;for(let g of t){let{section:v}=g.completion;v&&(g.score+=c[typeof v=="string"?v:v.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of t.sort((u,p)=>p.score-u.score||l(u.completion,p.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):Boe(c.completion)>Boe(a)&&(s[s.length-1]=c),a=c.completion}return s}var v9=class n{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new n(this.options,Voe(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(c=>c.isPending))return i.setDisabled();let a=Y8e(e,t);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=t.facet(Ui).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new n(a,Voe(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:tFe,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new n(this.options,this.attrs,ye(G({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new n(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}},w9=class n{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new n(J8e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Ui),o=(r.override||t.languageDataAt("autocomplete",hg(t)).map(z8e)).map(l=>(this.active.find(u=>u.source==l)||new eu(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,c)=>l==this.active[c])&&(o=this.active);let s=this.open,a=e.effects.some(l=>l.is(y9));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!X8e(o,this.active)||a?s=v9.build(o,t,this.id,s,r,a):s&&s.disabled&&!o.some(l=>l.isPending)&&(s=null),!s&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new eu(l.source,0):l));for(let l of e.effects)l.is(qoe)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new n(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Z8e:Q8e}};function X8e(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}var Z8e={"aria-autocomplete":"list"},Q8e={};function Voe(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}var J8e=[];function zoe(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation($oe);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}var eu=class n{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=zoe(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new n(i.source,0)),r&4&&i.state==0&&(i=new n(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(wT))i=new n(i.source,1,o.value);else if(o.is(Yy))i=new n(i.source,0);else if(o.is(y9))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(hg(e.state))}},_T=class n extends eu{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=hg(e.state);if(a>s||!i||t&2&&(hg(e.startState)==this.from||a<this.limit))return new eu(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return eFe(i.validFor,e.state,o,s)?new n(this.source,this.explicit,l,i,o,s):i.update&&(i=i.update(i,o,s,new mT(e.state,a,!1)))?new n(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:hg(e.state)):new eu(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new n(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new eu(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function eFe(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):Uoe(n,!0).test(i)}var y9=Dr.define({map(n,e){return n.map(t=>t.map(e))}}),qoe=Dr.define(),ms=kl.define({create(){return w9.start()},update(n,e){return n.update(e)},provide:n=>[RD.from(n,e=>e.tooltip),wn.contentAttributes.from(n,e=>e.attrs)]});function k9(n,e){let t=e.completion.apply||e.completion.label,r=n.state.field(ms).active.find(i=>i.source==e.source);return r instanceof _T?(typeof t=="string"?n.dispatch(ye(G({},$8e(n.state,t,r.from,r.to)),{annotations:$oe.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}var tFe=G8e(ms,k9);function gT(n,e="option"){return t=>{let r=t.state.field(ms,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Ui).interactionDelay)return!1;let i=1,o;e=="page"&&(o=PD(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),t.dispatch({effects:qoe.of(a)}),!0}}var nFe=n=>{let e=n.state.field(ms,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Ui).interactionDelay?!1:k9(n,e.open.options[e.open.selected])},h9=n=>n.state.field(ms,!1)?(n.dispatch({effects:wT.of(!0)}),!0):!1,rFe=n=>{let e=n.state.field(ms,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Yy.of(null)}),!0)},_9=class{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}},iFe=50,oFe=1e3,sFe=Qg.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(ms).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(ms),t=n.state.facet(Ui);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ms)==e)return;let r=n.transactions.some(o=>{let s=zoe(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>iFe&&Date.now()-s.time>oFe){for(let a of s.context.abortListeners)try{a()}catch(l){iv(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(wT)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(ms);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ui).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=hg(e),r=new mT(e,t,n.explicit,this.view),i=new _9(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Yy.of(null)}),iv(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ui).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ui),r=this.view.state.field(ms);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=hg(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(a,o.done.from+(o.active.explicit?0:1)),c=new _T(o.active.source,o.active.explicit,l,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:a);for(let u of o.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new eu(o.active.source,0);for(let l of o.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:y9.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(ms,!1);if(e&&e.tooltip&&this.view.state.facet(Ui).closeOnBlur){let t=e.open&&PD(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Yy.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:wT.of(!1)}),20),this.composing=0}}}),aFe=typeof navigator=="object"&&/Win/.test(navigator.platform),lFe=nv.highest(wn.domEventHandlers({keydown(n,e){let t=e.state.field(ms,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(aFe&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&k9(e,r),!1}})),cFe=wn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var Xy={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ug=Dr.define({map(n,e){let t=e.mapPos(n,-1,gU.TrackAfter);return t??void 0}}),b9=new class extends wU{};b9.startSide=1;b9.endSide=-1;var Woe=kl.define({create(){return ID.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(ug)&&(n=n.update({add:[b9.range(t.value,t.value+1)]}));return n}});function Goe(){return[uFe,Woe]}var p9="()[]{}<>\xAB\xBB\xBB\xAB\uFF3B\uFF3D\uFF5B\uFF5D";function Koe(n){for(let e=0;e<p9.length;e+=2)if(p9.charCodeAt(e)==n)return p9.charAt(e+1);return tv(n<128?n:n+1)}function Yoe(n,e){return n.languageDataAt("closeBrackets",e)[0]||Xy}var dFe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),uFe=wn.inputHandler.of((n,e,t,r)=>{if((dFe?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Da(is(r,0))==1||e!=i.from||t!=i.to)return!1;let o=pFe(n.state,r);return o?(n.dispatch(o),!0):!1}),hFe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Yoe(n,n.selection.main.head).brackets||Xy.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let a=fFe(n.doc,s.head);for(let l of r)if(l==a&&yT(n.doc,s.head)==Koe(is(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:lt.cursor(s.head-l.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Xoe=[{key:"Backspace",run:hFe}];function pFe(n,e){let t=Yoe(n,n.selection.main.head),r=t.brackets||Xy.brackets;for(let i of r){let o=Koe(is(i,0));if(e==i)return o==i?vFe(n,i,r.indexOf(i+i+i)>-1,t):gFe(n,i,o,t.before||Xy.before);if(e==o&&Zoe(n,n.selection.main.from))return mFe(n,i,o)}return null}function Zoe(n,e){let t=!1;return n.field(Woe).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function yT(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Da(is(t,0)))}function fFe(n,e){let t=n.sliceString(e-2,e);return Da(is(t,0))==t.length?t:t.slice(1)}function gFe(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:ug.of(s.to+e.length),range:lt.range(s.anchor+e.length,s.head+e.length)};let a=yT(n.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:ug.of(s.head+e.length),range:lt.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function mFe(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&yT(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:lt.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function vFe(n,e,t,r){let i=r.stringPrefixes||Xy.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:ug.of(a.to+e.length),range:lt.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=yT(n.doc,l),u;if(c==e){if(joe(n,l))return{changes:{insert:e+e,from:l},effects:ug.of(l+e.length),range:lt.cursor(l+e.length)};if(Zoe(n,l)){let g=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+g.length,insert:g},range:lt.cursor(l+g.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=Hoe(n,l-2*e.length,i))>-1&&joe(n,u))return{changes:{insert:e+e+e+e,from:l},effects:ug.of(l+e.length),range:lt.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Ti.Word&&Hoe(n,l,i)>-1&&!wFe(n,l,e,i))return{changes:{insert:e+e,from:l},effects:ug.of(l+e.length),range:lt.cursor(l+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function joe(n,e){let t=Iu(n).resolveInner(e+1);return t.parent&&t.from==e}function wFe(n,e,t,r){let i=Iu(n).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function Hoe(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Ti.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=Ti.Word)return o}return-1}function Qoe(n={}){return[lFe,ms,Ui.of(n),sFe,_Fe,cFe]}var x9=[{key:"Ctrl-Space",run:h9},{mac:"Alt-`",run:h9},{mac:"Alt-i",run:h9},{key:"Escape",run:rFe},{key:"ArrowDown",run:gT(!0)},{key:"ArrowUp",run:gT(!1)},{key:"PageDown",run:gT(!0,"page")},{key:"PageUp",run:gT(!1,"page")},{key:"Enter",run:nFe}],_Fe=nv.highest(Mp.computeN([Ui],n=>n.facet(Ui).defaultKeymap?[x9]:[]));var bT=class{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}},pg=class n{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(Zy).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((u,p)=>u.from-p.from||u.to-p.to),s=new Ub,a=[],l=0;for(let u=0;;){let p=u==o.length?null:o[u];if(!p&&!a.length)break;let g,v;for(a.length?(g=l,v=a.reduce((y,x)=>Math.min(y,x.to),p&&p.from>g?p.from:1e8)):(g=p.from,v=p.to,a.push(p),u++);u<o.length;){let y=o[u];if(y.from==g&&(y.to>y.from||y.to==g))a.push(y),u++,v=Math.min(y.to,v);else{v=Math.min(y.from,v);break}}let w=AFe(a);if(a.some(y=>y.from==y.to||y.from==y.to-1&&r.doc.lineAt(y.from).to==y.from))s.add(g,g,Rr.widget({widget:new C9(w),diagnostics:a.slice()}));else{let y=a.reduce((x,b)=>b.markClass?x+" "+b.markClass:x,"");s.add(g,v,Rr.mark({class:"cm-lintRange cm-lintRange-"+w+y,diagnostics:a.slice(),inclusiveEnd:a.some(x=>x.to>v)}))}l=v;for(let y=0;y<a.length;y++)a[y].to<=l&&a.splice(y--,1)}let c=s.finish();return new n(c,t,J1(c))}};function J1(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new bT(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new bT(r.from,o,r.diagnostic)}}),r}function yFe(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Zy).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(ese))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function kFe(n,e){return n.field(Us,!1)?e:e.concat(Dr.appendConfig.of(DFe))}var ese=Dr.define(),E9=Dr.define(),tse=Dr.define(),Us=kl.define({create(){return new pg(Rr.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=J1(t,n.selected.diagnostic,o)||J1(t,null,o)}!t.size&&i&&e.state.facet(Zy).autoPanel&&(i=null),n=new pg(t,i,r)}for(let t of e.effects)if(t.is(ese)){let r=e.state.facet(Zy).autoPanel?t.value.length?Qy.open:null:n.panel;n=pg.init(t.value,r,e.state)}else t.is(E9)?n=new pg(n.diagnostics,t.value?Qy.open:null,n.selected):t.is(tse)&&(n=new pg(n.diagnostics,n.panel,t.value));return n},provide:n=>[ov.from(n,e=>e.panel),wn.decorations.from(n,e=>e.diagnostics)]});var bFe=Rr.mark({class:"cm-lintRange cm-lintRange-active"});function xFe(n,e,t){let{diagnostics:r}=n.state.field(Us),i,o=-1,s=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return i=u.diagnostics,o=l,s=c,!1});let a=n.state.facet(Zy).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:CFe(n,i)}}}:null}function CFe(n,e){return Fn("ul",{class:"cm-tooltip-lint"},e.map(t=>ise(n,t,!1)))}var EFe=n=>{let e=n.state.field(Us,!1);(!e||!e.panel)&&n.dispatch({effects:kFe(n.state,[E9.of(!0)])});let t=Sp(n,Qy.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Joe=n=>{let e=n.state.field(Us,!1);return!e||!e.panel?!1:(n.dispatch({effects:E9.of(!1)}),!0)},MFe=n=>{let e=n.state.field(Us,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)};var nse=[{key:"Mod-Shift-m",run:EFe,preventDefault:!0},{key:"F8",run:MFe}];var Zy=yl.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Uc(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function rse(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function ise(n,e,t){var r;let i=t?rse(e.actions):[];return Fn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Fn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=g=>{if(g.preventDefault(),a)return;a=!0;let v=J1(n.state.field(Us).diagnostics,e);v&&o.apply(n,v.from,v.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,p=u<0?c:[c.slice(0,u),Fn("u",c.slice(u,u+1)),c.slice(u+1)];return Fn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},p)}),e.source&&Fn("div",{class:"cm-diagnosticSource"},e.source))}var C9=class extends TD{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}},xT=class{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=ise(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},Qy=class n{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)Joe(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=rse(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=J1(this.view.state.field(Us).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Fn("div",{class:"cm-panel-lint"},this.list,Fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Joe(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(Us).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Us),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(s.has(u))continue;s.add(u);let p=-1,g;for(let v=r;v<this.items.length;v++)if(this.items[v].diagnostic==u){p=v;break}p<0?(g=new xT(this.view,u),this.items.splice(r,0,g),i=!0):(g=this.items[p],p>r&&(this.items.splice(r,p-r),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),o=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new xT(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Us),r=J1(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:tse.of(r)})}static open(e){return new n(e)}};function SFe(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function kT(n){return SFe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var IFe=wn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:kT("#d11")},".cm-lintRange-warning":{backgroundImage:kT("orange")},".cm-lintRange-info":{backgroundImage:kT("#999")},".cm-lintRange-hint":{backgroundImage:kT("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function TFe(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function AFe(n){let e="hint",t=1;for(let r of n){let i=TFe(r.severity);i>t&&(t=i,e=r.severity)}return e}var DFe=[Us,wn.decorations.compute([Us],n=>{let{selected:e,panel:t}=n.field(Us);return!e||!t||e.from==e.to?Rr.none:Rr.set([bFe.range(e.from,e.to)])}),EU(xFe,{hideOn:yFe}),IFe];var ose=[MU(),SU(),DD(),Y7(),RU(),AD(),yU(),Ep.allowMultipleSelections.of(!0),AU(),lv(FD,{fallback:!0}),OU(),Goe(),Qoe(),xU(),CU(),kU(),Toe(),Mp.of([...Xoe,...Q7,...Ooe,...X7,...DU,...x9,...nse])],sse=[DD(),Y7(),AD(),lv(FD,{fallback:!0}),Mp.of([...Q7,...X7])];var RFe=Cp.define(),CT=(()=>{let e=class e{constructor(r){this._elementRef=r,this.autoFocus=!1,this.value="",this.disabled=!1,this.readonly=!1,this.theme="light",this.placeholder="",this.indentWithTab=!1,this.indentUnit="",this.lineWrapping=!1,this.highlightWhitespace=!1,this.languages=[],this.language="",this.setup="basic",this.extensions=[],this.change=new dt,this.focus=new dt,this.blur=new dt,this._onChange=()=>{},this._onTouched=()=>{},this._updateListener=wn.updateListener.of(i=>{if(i.docChanged&&!i.transactions.some(o=>o.annotation(RFe))){let o=i.state.doc.toString();this._onChange(o),this.change.emit(o)}}),this._editableConf=new bl,this._readonlyConf=new bl,this._themeConf=new bl,this._placeholderConf=new bl,this._indentWithTabConf=new bl,this._indentUnitConf=new bl,this._lineWrappingConf=new bl,this._highlightWhitespaceConf=new bl,this._languageConf=new bl}_getAllExtensions(){return[this._updateListener,this._editableConf.of([]),this._readonlyConf.of([]),this._themeConf.of([]),this._placeholderConf.of([]),this._indentWithTabConf.of([]),this._indentUnitConf.of([]),this._lineWrappingConf.of([]),this._highlightWhitespaceConf.of([]),this._languageConf.of([]),this.setup==="basic"?ose:this.setup==="minimal"?sse:[],...this.extensions]}ngOnChanges(r){r.value&&this.setValue(this.value),r.disabled&&this.setEditable(!this.disabled),r.readonly&&this.setReadonly(this.readonly),r.theme&&this.setTheme(this.theme),r.placeholder&&this.setPlaceholder(this.placeholder),r.indentWithTab&&this.setIndentWithTab(this.indentWithTab),r.indentUnit&&this.setIndentUnit(this.indentUnit),r.lineWrapping&&this.setLineWrapping(this.lineWrapping),r.highlightWhitespace&&this.setHighlightWhitespace(this.highlightWhitespace),r.language&&this.setLanguage(this.language),(r.setup||r.extensions)&&this.setExtensions(this._getAllExtensions())}ngOnInit(){this.view=new wn({root:this.root,parent:this._elementRef.nativeElement,state:Ep.create({doc:this.value,extensions:this._getAllExtensions()})}),this.autoFocus&&this.view?.focus(),this.view?.contentDOM.addEventListener("focus",()=>{this._onTouched(),this.focus.emit()}),this.view?.contentDOM.addEventListener("blur",()=>{this._onTouched(),this.blur.emit()}),this.setEditable(!this.disabled),this.setReadonly(this.readonly),this.setTheme(this.theme),this.setPlaceholder(this.placeholder),this.setIndentWithTab(this.indentWithTab),this.setIndentUnit(this.indentUnit),this.setLineWrapping(this.lineWrapping),this.setHighlightWhitespace(this.highlightWhitespace),this.setLanguage(this.language)}ngOnDestroy(){this.view?.destroy()}writeValue(r){this.view&&this.setValue(r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this.setEditable(!r)}setValue(r){this.view?.dispatch({changes:{from:0,to:this.view.state.doc.length,insert:r}})}_dispatchEffects(r){return this.view?.dispatch({effects:r})}setExtensions(r){this._dispatchEffects(Dr.reconfigure.of(r))}setEditable(r){this._dispatchEffects(this._editableConf.reconfigure(wn.editable.of(r)))}setReadonly(r){this._dispatchEffects(this._readonlyConf.reconfigure(Ep.readOnly.of(r)))}setTheme(r){this._dispatchEffects(this._themeConf.reconfigure(r==="light"?[]:r==="dark"?boe:r))}setPlaceholder(r){this._dispatchEffects(this._placeholderConf.reconfigure(r?bU(r):[]))}setIndentWithTab(r){this._dispatchEffects(this._indentWithTabConf.reconfigure(r?Mp.of([moe]):[]))}setIndentUnit(r){this._dispatchEffects(this._indentUnitConf.reconfigure(r?sv.of(r):[]))}setLineWrapping(r){this._dispatchEffects(this._lineWrappingConf.reconfigure(r?wn.lineWrapping:[]))}setHighlightWhitespace(r){this._dispatchEffects(this._highlightWhitespaceConf.reconfigure(r?IU():[]))}setLanguage(r){if(!r||r=="plaintext"){this._dispatchEffects(this._languageConf.reconfigure([]));return}if(this.languages.length===0){this.view&&console.error("No supported languages. Please set the `languages` prop at first.");return}this._findLanguage(r)?.load().then(o=>{this._dispatchEffects(this._languageConf.reconfigure([o]))})}_findLanguage(r){for(let i of this.languages)for(let o of[i.name,...i.alias])if(r.toLowerCase()===o.toLowerCase())return i;return console.error("Language not found:",r),console.info("Supported language names:",this.languages.map(i=>i.name).join(", ")),null}};e.\u0275fac=function(i){return new(i||e)(De(ft))},e.\u0275cmp=de({type:e,selectors:[["code-editor"]],hostAttrs:[1,"code-editor"],inputs:{root:"root",autoFocus:[2,"autoFocus","autoFocus",Je],value:"value",disabled:[2,"disabled","disabled",Je],readonly:[2,"readonly","readonly",Je],theme:"theme",placeholder:"placeholder",indentWithTab:[2,"indentWithTab","indentWithTab",Je],indentUnit:"indentUnit",lineWrapping:[2,"lineWrapping","lineWrapping",Je],highlightWhitespace:[2,"highlightWhitespace","highlightWhitespace",Je],languages:"languages",language:"language",setup:"setup",extensions:"extensions"},outputs:{change:"change",focus:"focus",blur:"blur"},features:[Le([{provide:gd,useExisting:Yn(()=>e),multi:!0}]),wi],decls:0,vars:0,template:function(i,o){},styles:[`.code-editor{display:block}.code-editor .cm-editor{height:100%}
`],encapsulation:2,changeDetection:0});let n=e;return n})();var ET=class n{isBrowser;constructor(e){this.isBrowser=mo(e)}setItem(e,t){this.isBrowser&&localStorage.setItem(e,t)}getItem(e){return this.isBrowser?localStorage.getItem(e):null}removeItem(e){this.isBrowser&&localStorage.removeItem(e)}clear(){this.isBrowser&&localStorage.clear()}static \u0275fac=function(t){return new(t||n)(Ae(hr))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var _c=class n{constructor(e,t){this.document=e;this.localStorageService=t}getCurrentMode(){return this.localStorageService.getItem("mode")=="dark"?"dark":this.localStorageService.getItem("mode")=="light"?"light":this.document.documentElement.classList.contains("dark")?"dark":"light"}setMode(){let e=this.document.documentElement;this.localStorageService.getItem("mode")=="dark"?e.classList.add("dark"):this.localStorageService.getItem("mode")=="light"?e.classList.remove("dark"):(e.classList.add("dark"),this.localStorageService.setItem("mode","dark"))}toggleMode(){let e=this.document.documentElement;this.localStorageService.getItem("mode")=="dark"?(e.classList.remove("dark"),this.localStorageService.setItem("mode","light")):this.localStorageService.getItem("mode")=="light"?(e.classList.add("dark"),this.localStorageService.setItem("mode","dark")):e.classList.contains("dark")?(e.classList.remove("dark"),this.localStorageService.setItem("mode","dark")):(e.classList.add("dark"),this.localStorageService.setItem("mode","light"))}static \u0275fac=function(t){return new(t||n)(Ae(_t),Ae(ET))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var lse=Zg(SS());function OFe(n){return new TU(NU.define(n))}var MT=[OD.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return import("./chunk-Z6IOV3SQ.js").then(n=>n.json())}}),OD.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return import("./chunk-JZ6R4ZGE.js").then(n=>OFe(n.stex))}})];function NFe(n,e){if(n&1&&oe(0,"pdf-viewer",15),n&2){let t=ae();fe("src",t.pdfSource)("render-text",!0)("original-size",!1)}}function LFe(n,e){if(n&1&&(D(0,"div",16)(1,"h3"),H(2," Click on Compile button to see your resume. "),A(),D(3,"p",17),H(4," The PDF will appear here after compilation "),A()()),n&2){let t=ae();N(),se(Dt("",t.h3Style," text-base sm:text-lg"))}}var ST=class n extends nr{apiService=M(ti);userCacheManager=M(Ph);resumeDataService=M(ic);userService=M(gr);preloaderService=M(rr);resumePDFService=M(F1);themeService=M(_c);hlmDialogService=M(fr);location=M(cs);ld=[MT[1]];username=this.userService.getCurrentUserObject().displayName;latex="";pdfSource="";theme=this.themeService.getCurrentMode()==="dark"?"vs-dark":"vs-light";isPDFSaved=!1;pdfContainsError=!1;texURL="";initialTex="";codeValue="";getLatex(){return E(this,null,function*(){this.preloaderService.show();try{let e=yield this.resumePDFService.getSaveTexContent();this.latex=e,this.isPDFSaved=!0,this.initialTex=this.latex}catch{hc("No saved Tex found",{description:"Please save your generated Tex, we were not able to locate any saved Tex"});try{let t=null;if(this.userCacheManager.getCache()?t=this.userCacheManager.getCache():t=yield this.resumeDataService.getResumeDataFirebase(),t===null){this.hlmDialogService.open(nn,{context:{error:"Can not get your profile Details",desc:"Make sure you go to analytics page to check if your profile data is valid and save!"}}).closed$.subscribe(()=>{this.location.back()});return}this.latex=(yield this.apiService.post(Vn.GETLATEXFROMUSERPROFILE,t,yield this.userService.getCurrentUserObject().getIdToken())).latex,this.initialTex=this.latex}catch(t){this.hlmDialogService.open(nn,{context:{error:"Error fetching your data",desc:`Internet issue, please try again, after verifying your internet 
 ${t}`}})}}this.codeValue=this.latex,yield this.getPDF(),this.preloaderService.hide()})}regeneratePDF(){return E(this,null,function*(){this.preloaderService.show();try{let e;this.userCacheManager.getCache()?e=this.userCacheManager.getCache():e=yield this.resumeDataService.getResumeDataFirebase(),this.latex=(yield this.apiService.post(Vn.GETLATEXFROMUSERPROFILE,e,yield this.userService.getCurrentUserObject().getIdToken())).latex,this.initialTex=this.latex,this.codeValue=this.latex,yield this.getPDF(),this.isPDFSaved=!1}catch(e){this.hlmDialogService.open(nn,{context:{error:"Error generating PDF",desc:`Incorrect syntax or internal issue, please try again, after verifying your latex code ${e}`}}),this.pdfContainsError=!0}finally{this.preloaderService.hide()}})}ngOnInit(){window.scrollTo(0,0),this.getLatex()}contentChange(e){this.latex=e,(0,lse.isEqual)(this.latex,this.initialTex)||(this.isPDFSaved=!1)}recompilePDF(){return E(this,null,function*(){this.latex&&(this.preloaderService.show(),yield this.getPDF(),this.preloaderService.hide())})}handleBack(){this.isPDFSaved?this.location.back():this.hlmDialogService.open(xh,{context:{title:"Your Resume is not saved!",desc:"Your resume pdf is not saved on cloud navigating back will cause in loss of data!, do you confirm to discard the data?"}}).closed$.subscribe(t=>{if(t==="yes")this.location.back();else return})}savePDF(){return E(this,null,function*(){this.preloaderService.show();try{this.texURL=yield this.resumePDFService.saveTex(this.latex),this.isPDFSaved=!0,this.initialTex=this.latex}catch(e){this.hlmDialogService.open(nn,{context:{error:"Error saving PDF",desc:`Error saving the PDF please check your internet or try again later ${e}`}})}finally{this.preloaderService.hide()}})}getPDF(){return E(this,null,function*(){if(this.latex)try{let e=yield this.resumePDFService.generatePDFFromLatex(this.latex);this.pdfSource=window.URL.createObjectURL(e)}catch(e){this.hlmDialogService.open(nn,{context:{error:"Error generating PDF",desc:`Incorrect syntax or internal issue, please try again, after verifying your latex code ${e}`}}),this.pdfContainsError=!0}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-resume-screen"]],features:[Le([un({lucideArrowLeft:dm})]),kt],decls:23,vars:10,consts:[[3,"duration","closeButton"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","w-full","p-3","sm:p-4","gap-3","sm:gap-4"],[1,"flex-shrink-0"],["hlmBtn","",1,"text-sm","sm:text-base",3,"click"],["size","20px",0,"sm","size","25px","name","lucideArrowLeft"],[1,"text-center","sm:text-left","text-lg","sm:text-xl","font-semibold","flex-1","px-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-2","w-full","sm:w-auto"],["hlmBtn","","variant","link",1,"w-full","sm:w-auto","text-sm"],["target","_blank","rel","noopener noreferrer",3,"href"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click"],["hlmBtn","",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],[1,"flex","flex-col","lg:flex-row","h-[calc(100vh-120px)]","sm:h-[calc(100vh-140px)]"],[1,"flex-1","min-h-[400px]","lg:min-h-0","order-2","lg:order-1"],["theme","dark","language","latex",1,"h-full",3,"change","languages","value","lineWrapping"],[1,"flex","flex-1","items-center","justify-center","text-center","border","border-l-0","lg:border-l","lg:border-t-0","order-1","lg:order-2","min-h-[300px]","lg:min-h-0"],[1,"w-full","h-full",3,"src","render-text","original-size"],[1,"p-6","text-center"],[1,"text-sm","text-muted-foreground","mt-2"]],template:function(t,r){t&1&&(oe(0,"hlm-toaster",0),D(1,"div",1)(2,"div",2)(3,"button",3),we("click",function(){return r.handleBack()}),oe(4,"ng-icon",4),A()(),D(5,"div",5),H(6),A(),D(7,"div",6)(8,"button",7)(9,"a",8),H(10,"Download PDF"),A()(),D(11,"button",9),we("click",function(){return r.regeneratePDF()}),H(12," Regenerate "),A(),D(13,"button",9),we("click",function(){return r.recompilePDF()}),H(14," Compile "),A(),D(15,"button",10),we("click",function(){return r.savePDF()}),H(16," Save "),A()()(),D(17,"div",11)(18,"div",12)(19,"code-editor",13),we("change",function(o){return r.contentChange(o)}),A()(),D(20,"div",14),te(21,NFe,1,3,"pdf-viewer",15),te(22,LFe,5,3,"div",16),A()()),t&2&&(fe("duration",5e3)("closeButton",!0),N(6),xt(" ",r.username,"'s Resume "),N(3),fe("href",r.pdfSource,_i),N(6),fe("disabled",r.isPDFSaved),N(4),fe("languages",r.ld)("value",r.codeValue)("lineWrapping",!0),N(2),ne(r.pdfSource?21:-1),N(),ne(r.pdfSource?-1:22))},dependencies:[CT,KI,GI,On,hn,zd],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh;overflow:hidden}ngs-code-editor[_ngcontent-%COMP%]{height:100%;display:block;border-radius:.5rem}@media (max-width: 1024px){ngs-code-editor[_ngcontent-%COMP%]{border-radius:0}}pdf-viewer[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.header-section[_ngcontent-%COMP%]{background:hsl(var(--background));border-bottom:1px solid hsl(var(--border));-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:sticky;top:0;z-index:10}.hlm-btn[_ngcontent-%COMP%]{transition:all .2s ease}.hlm-btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 12px -2px #00000026}.hlm-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 640px){.hlm-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;min-height:2.5rem}}@media (max-width: 640px){.action-buttons[_ngcontent-%COMP%]   .hlm-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 1024px){.main-content[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]   .code-editor-section[_ngcontent-%COMP%]{order:2;min-height:400px}.main-content[_ngcontent-%COMP%]   .pdf-viewer-section[_ngcontent-%COMP%]{order:1;min-height:300px;border-left:none;border-top:1px solid hsl(var(--border))}}@media (min-width: 1025px){.main-content[_ngcontent-%COMP%]{flex-direction:row}.main-content[_ngcontent-%COMP%]   .code-editor-section[_ngcontent-%COMP%]{order:1;border-right:1px solid hsl(var(--border))}.main-content[_ngcontent-%COMP%]   .pdf-viewer-section[_ngcontent-%COMP%]{order:2;border-left:1px solid hsl(var(--border))}}.pdf-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;color:hsl(var(--muted-foreground))}.pdf-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;color:hsl(var(--foreground))}.pdf-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5}@media (max-width: 640px){.mobile-p-3[_ngcontent-%COMP%]{padding:.75rem}.mobile-gap-3[_ngcontent-%COMP%]{gap:.75rem}}@media (min-width: 641px) and (max-width: 1024px){.tablet-p-4[_ngcontent-%COMP%]{padding:1rem}.tablet-gap-4[_ngcontent-%COMP%]{gap:1rem}}@media (min-width: 1025px){.desktop-p-6[_ngcontent-%COMP%]{padding:1.5rem}.desktop-gap-6[_ngcontent-%COMP%]{gap:1.5rem}}*[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible{outline:2px solid hsl(var(--primary));outline-offset:2px}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.error[_ngcontent-%COMP%]{border-color:hsl(var(--destructive));background-color:hsl(var(--destructive)/.1)}.success[_ngcontent-%COMP%]{border-color:hsl(var(--success));background-color:hsl(var(--success)/.1)}"]})};var FFe=["bentoGrid"],BFe=n=>({"mt-[80px]":n}),VFe=(n,e)=>[n,e],Jy=(n,e)=>e.heading+n,jFe=(n,e)=>e.label;function HFe(n,e){n&1&&oe(0,"app-static-top-bar")}function UFe(n,e){if(n&1&&(D(0,"div",6),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.icon)}}function $Fe(n,e){if(n&1&&(D(0,"span",15),H(1),A()),n&2){let t=e.$implicit;N(),Ke(t)}}function zFe(n,e){if(n&1&&(D(0,"div",8),Rn(1,$Fe,2,1,"span",15,ew),A()),n&2){let t=ae().$implicit;N(),Pn(t.tags)}}function qFe(n,e){if(n&1&&(D(0,"div",18)(1,"div",19),H(2),A(),D(3,"div",20),H(4),A()()),n&2){let t=e.$implicit;N(2),Ke(t.value),N(2),Ke(t.label)}}function WFe(n,e){if(n&1&&(D(0,"div",17),Rn(1,qFe,5,2,"div",18,jFe),A()),n&2){let t=ae(2).$implicit;N(),Pn(t.stats)}}function GFe(n,e){if(n&1&&(D(0,"div",9)(1,"p",16),H(2),A(),te(3,WFe,3,0,"div",17),A()),n&2){let t=ae().$implicit;N(2),Ke(t.content),N(),ne(t.stats!=null&&t.stats.length?3:-1)}}function KFe(n,e){if(n&1&&(D(0,"div",21),oe(1,"img",23),A()),n&2){let t=ae(2).$implicit;N(),fe("src",t.image,_i)("alt",t.heading)}}function YFe(n,e){if(n&1&&(D(0,"div",10),te(1,KFe,2,2,"div",21),D(2,"div",22)(3,"p",16),H(4),A()()()),n&2){let t=ae().$implicit;N(),ne(t.image?1:-1),N(3),Ke(t.content)}}function XFe(n,e){if(n&1&&(D(0,"p"),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.content)}}function ZFe(n,e){if(n&1&&(D(0,"span",29),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.badge)}}function QFe(n,e){if(n&1&&(D(0,"div",26),oe(1,"div",27),D(2,"div",28)(3,"h4"),H(4),A(),te(5,XFe,2,1,"p"),te(6,ZFe,2,1,"span",29),A()()),n&2){let t=e.$implicit,r=e.$index,i=e.$count;xr("last-item",r===i-1),N(4),Ke(t.heading),N(),ne(t.content?5:-1),N(),ne(t.badge?6:-1)}}function JFe(n,e){if(n&1&&(D(0,"p",16),H(1),A(),D(2,"div",24),Rn(3,QFe,7,5,"div",25,Jy),A()),n&2){let t=ae(2).$implicit;N(),Ke(t.content),N(2),Pn(t.innerBentos)}}function eBe(n,e){if(n&1&&(D(0,"span",29),H(1),A()),n&2){let t=ae(3).$implicit;N(),Ke(t.badge)}}function tBe(n,e){if(n&1&&(D(0,"div",24)(1,"div",30),oe(2,"div",27),D(3,"div",28)(4,"h4"),H(5),A(),D(6,"p"),H(7),A(),te(8,eBe,2,1,"span",29),A()()()),n&2){let t=ae(2).$implicit;N(5),Ke(t.heading),N(2),Ke(t.content),N(),ne(t.badge?8:-1)}}function nBe(n,e){if(n&1&&(D(0,"div",11),te(1,JFe,5,1)(2,tBe,9,3,"div",24),A()),n&2){let t=ae().$implicit;N(),ne(t.innerBentos!=null&&t.innerBentos.length?1:2)}}function rBe(n,e){if(n&1&&(D(0,"div",33),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.icon)}}function iBe(n,e){if(n&1&&(D(0,"div",32),te(1,rBe,2,1,"div",33),D(2,"h4"),H(3),A()()),n&2){let t=e.$implicit;N(),ne(t.icon?1:-1),N(2),Ke(t.heading)}}function oBe(n,e){if(n&1&&(D(0,"div",31),Rn(1,iBe,4,2,"div",32,Jy),A()),n&2){let t=ae(2).$implicit;N(),Pn(t.innerBentos)}}function sBe(n,e){if(n&1&&(D(0,"div",12)(1,"p",16),H(2),A(),te(3,oBe,3,0,"div",31),A()),n&2){let t=ae().$implicit;N(2),Ke(t.content),N(),ne(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function aBe(n,e){if(n&1&&(D(0,"span",36),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.icon)}}function lBe(n,e){if(n&1&&(D(0,"a",37),H(1),A()),n&2){let t=ae().$implicit;fe("href",t.link,_i),N(),Ke(t.heading)}}function cBe(n,e){if(n&1&&(D(0,"span"),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.heading)}}function dBe(n,e){if(n&1&&(D(0,"div",35),te(1,aBe,2,1,"span",36),te(2,lBe,2,2,"a",37)(3,cBe,2,1,"span"),A()),n&2){let t=e.$implicit;N(),ne(t.icon?1:-1),N(),ne(t.link?2:3)}}function uBe(n,e){if(n&1&&(D(0,"div",34),Rn(1,dBe,4,2,"div",35,Jy),A()),n&2){let t=ae(2).$implicit;N(),Pn(t.innerBentos)}}function hBe(n,e){if(n&1&&(D(0,"div",13)(1,"p",16),H(2),A(),te(3,uBe,3,0,"div",34),A()),n&2){let t=ae().$implicit;N(2),Ke(t.content),N(),ne(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function pBe(n,e){if(n&1&&(D(0,"span",40),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.icon)}}function fBe(n,e){if(n&1&&(D(0,"p"),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.content)}}function gBe(n,e){if(n&1&&(D(0,"span",41),H(1),A()),n&2){let t=ae().$implicit;N(),Ke(t.badge)}}function mBe(n,e){if(n&1&&(D(0,"div",39),te(1,pBe,2,1,"span",40),D(2,"h4"),H(3),A(),te(4,fBe,2,1,"p"),te(5,gBe,2,1,"span",41),A()),n&2){let t=e.$implicit;N(),ne(t.icon?1:-1),N(2),Ke(t.heading),N(),ne(t.content?4:-1),N(),ne(t.badge?5:-1)}}function vBe(n,e){if(n&1&&(D(0,"div",38),Rn(1,mBe,6,4,"div",39,Jy),A()),n&2){let t=ae(2).$implicit;N(),Pn(t.innerBentos)}}function wBe(n,e){if(n&1&&(D(0,"div",14)(1,"p",16),H(2),A(),te(3,vBe,3,0,"div",38),A()),n&2){let t=ae().$implicit;N(2),Ke(t.content),N(),ne(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function _Be(n,e){if(n&1&&(D(0,"div",4)(1,"div",5),te(2,UFe,2,1,"div",6),D(3,"h2",7),H(4),A(),te(5,zFe,3,0,"div",8),A(),te(6,GFe,4,2,"div",9)(7,YFe,5,2,"div",10)(8,nBe,3,1,"div",11)(9,sBe,4,2,"div",12)(10,hBe,4,2,"div",13)(11,wBe,4,2,"div",14),A()),n&2){let t,r=e.$implicit,i=e.$index;se(QR(22,VFe,r.layout||"default",r.size||"medium")),ra("--stagger-delay",i*.1+"s"),xr("hero",r.bigBento)("accent-primary",r.accent==="primary")("accent-secondary",r.accent==="secondary")("accent-success",r.accent==="success")("accent-warning",r.accent==="warning")("accent-info",r.accent==="info")("staggered",!0),N(2),ne(r.icon?2:-1),N(2),Ke(r.heading),N(),ne(r.tags!=null&&r.tags.length?5:-1),N(),ne((t=r.layout)==="stats"?6:t==="featured"?7:t==="timeline"?8:t==="gallery"?9:t==="contact"?10:11)}}function yBe(n,e){if(n&1&&(D(0,"div",1,0),Rn(2,_Be,12,25,"div",3,Jy),A()),n&2){let t=ae();N(2),Pn(t.website.elements)}}function kBe(n,e){if(n&1&&(oe(0,"app-only-back-nav-bar"),D(1,"div",42)(2,"h1"),H(3,"No bento found"),A()()),n&2){let t=ae();N(2),se(t.h1Style)}}function bBe(n,e){n&1&&oe(0,"app-promotion-footer",2)}var e2=class n extends nr{bentoGrid;route=M(us);email;preloaderService=M(rr);apiService=M(ti);hlmDialogService=M(fr);zone=M(Be);inViewMode=!1;website=null;resizeTimeout;ngOnInit(){this.route.paramMap.subscribe(e=>E(this,null,function*(){this.email=e.get("email"),yield this.loadBento()}))}ngAfterViewInit(){CSS.supports("grid-template-rows","masonry")||this.zone.onStable.subscribe(()=>{this.initMasonryFallback()})}ngOnDestroy(){this.resizeTimeout&&clearTimeout(this.resizeTimeout)}onResize(e){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{CSS.supports("grid-template-rows","masonry")||this.initMasonryFallback()},250)}initMasonryFallback(){if(this.bentoGrid){let e=this.bentoGrid.nativeElement,t=Array.from(e.children);t.forEach(s=>{s.style.position="static",s.style.top="auto",s.style.left="auto"});let r=this.getColumnCount(),i=new Array(r).fill(0),o=16;t.forEach(s=>{let a=i.indexOf(Math.min(...i)),l=s.offsetHeight;s.style.position="absolute",s.style.top=`${i[a]}px`,s.style.left=`${a*(100/r)}%`,s.style.width=`${100/r-1}%`,i[a]+=l+o}),e.style.height=`${Math.max(...i)}px`,e.style.position="relative"}}getColumnCount(){let e=window.innerWidth;return e>=1200?4:e>=900?3:e>=600?2:1}loadBento(){return E(this,null,function*(){if(this.email){this.inViewMode=!0;try{this.preloaderService.show(),this.website=yield this.apiService.get(Vn.GET_BENTO_FROM_EMAIL,{email:this.email},null)}catch(e){this.hlmDialogService.open(nn,{context:{error:"Unable to load website",desc:e}})}finally{this.preloaderService.hide()}}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-bento-viewer"]],viewQuery:function(t,r){if(t&1&&Ol(FFe,5),t&2){let i;Ua(i=$a())&&(r.bentoGrid=i.first)}},hostBindings:function(t,r){t&1&&we("resize",function(o){return r.onResize(o)},yR)},inputs:{website:"website"},features:[kt],decls:5,vars:8,consts:[["bentoGrid",""],[1,"bento-grid"],["title","Want to create your own bento portfolio page?"],[1,"bento","minimalist",3,"class","hero","accent-primary","accent-secondary","accent-success","accent-warning","accent-info","staggered","--stagger-delay"],[1,"bento","minimalist"],[1,"bento-header"],[1,"bento-icon"],[1,"bento-title"],[1,"bento-tags"],[1,"stats-layout"],[1,"featured-layout"],[1,"timeline-layout"],[1,"gallery-layout"],[1,"contact-layout"],[1,"default-layout"],[1,"tag"],[1,"bento-content"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"featured-image"],[1,"featured-content"],[3,"src","alt"],[1,"timeline-items"],[1,"timeline-item",3,"last-item"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[1,"timeline-badge"],[1,"timeline-item","last-item"],[1,"gallery-grid"],[1,"gallery-item"],[1,"gallery-icon"],[1,"contact-items"],[1,"contact-item"],[1,"contact-icon"],["target","_blank",3,"href"],[1,"bento-inner-grid"],[1,"inner-bento"],[1,"inner-icon"],[1,"inner-badge"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"]],template:function(t,r){t&1&&(te(0,HFe,1,0,"app-static-top-bar"),D(1,"div"),te(2,yBe,4,0,"div",1),te(3,kBe,4,2),A(),te(4,bBe,1,0,"app-promotion-footer",2)),t&2&&(ne(r.inViewMode?0:-1),N(),se(ld(6,BFe,r.inViewMode)),N(),ne(r.website?2:-1),N(),ne(r.website?-1:3),N(),ne(r.inViewMode?4:-1))},dependencies:[oc,O1,N1],styles:['.bento-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));grid-template-rows:masonry;gap:16px;padding:16px;max-width:1400px;margin:0 auto;min-height:100vh;align-content:start}@supports not (grid-template-rows: masonry){.bento-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start}.bento[_ngcontent-%COMP%]{flex:1 1 280px;max-width:calc(50% - 8px);margin-bottom:16px}.bento.hero[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.bento.large[_ngcontent-%COMP%]{flex:1 1 calc(50% - 8px);max-width:calc(50% - 8px)}.bento.xl[_ngcontent-%COMP%]{flex:1 1 calc(66.666% - 8px);max-width:calc(66.666% - 8px)}}.bento[_ngcontent-%COMP%]{border-radius:16px;padding:24px;transition:all .35s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;height:fit-content}.bento.small[_ngcontent-%COMP%]{min-height:200px}.bento.medium[_ngcontent-%COMP%]{min-height:250px}.bento.large[_ngcontent-%COMP%]{min-height:300px}.bento.xl[_ngcontent-%COMP%]{min-height:350px}.bento.hero[_ngcontent-%COMP%]{min-height:400px}.bento-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap;min-height:2rem}.bento-icon[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.8;flex-shrink:0;line-height:1;display:flex;align-items:center}.bento-title[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:600;flex:1;line-height:1.2;display:flex;align-items:center;word-wrap:break-word;overflow-wrap:break-word}.bento-tags[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.tag[_ngcontent-%COMP%]{background:var(--accent);color:var(--accent-foreground);padding:2px 8px;border-radius:12px;font-size:.75rem;font-weight:500}.bento-content[_ngcontent-%COMP%]{line-height:1.6;margin-bottom:16px;color:var(--muted-foreground);flex-grow:1;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.stats-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:16px;margin-top:auto}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--primary);line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--muted-foreground);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.featured-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.featured-image[_ngcontent-%COMP%]{width:100%;height:120px;border-radius:8px;overflow:hidden;margin-bottom:12px}.featured-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.timeline-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.timeline-items[_ngcontent-%COMP%]{flex-grow:1;position:relative;padding-left:4px}.timeline-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:20px;position:relative;transition:all .2s ease}.timeline-item[_ngcontent-%COMP%]:hover{transform:translate(2px)}.timeline-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:var(--primary);margin-top:6px;margin-right:16px;flex-shrink:0;border:2px solid var(--background);box-shadow:0 0 0 2px var(--primary);position:relative;z-index:1}.timeline-item[_ngcontent-%COMP%]:not(.last-item)   .timeline-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;top:10px;left:4px;width:2px;height:calc(100% + 10px);background:linear-gradient(to bottom,var(--primary),var(--border));z-index:0}.timeline-content[_ngcontent-%COMP%]{flex:1;min-width:0;padding:4px 0}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;font-size:.95rem;font-weight:600;line-height:1.3;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;color:var(--foreground)}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:var(--muted-foreground);line-height:1.4;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.timeline-badge[_ngcontent-%COMP%]{display:inline-block;background:var(--accent);color:var(--accent-foreground);padding:3px 8px;border-radius:12px;font-size:.75rem;font-weight:500;margin-top:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;border:1px solid var(--border)}.timeline-item.last-item[_ngcontent-%COMP%]{margin-bottom:0}.timeline-item.last-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]:after{display:none}.gallery-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:12px;flex-grow:1}.gallery-item[_ngcontent-%COMP%]{text-align:center;padding:8px;border:1px solid var(--border);border-radius:8px;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60px;overflow:hidden}.gallery-item[_ngcontent-%COMP%]:hover{border-color:var(--ring);transform:translateY(-2px)}.gallery-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:4px;flex-shrink:0;line-height:1}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:500;line-height:1.2;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.contact-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.contact-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;flex-grow:1}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:8px;transition:all .2s ease;min-height:44px;overflow:hidden}.contact-item[_ngcontent-%COMP%]:hover{border-color:var(--ring);background:var(--muted)}.contact-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.8;flex-shrink:0;line-height:1}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--card-foreground);text-decoration:none;font-weight:500;word-wrap:break-word;overflow-wrap:break-word;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1}.bento-inner-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:auto}.inner-bento[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--border);border-radius:8px;text-align:center;transition:all .2s ease;display:flex;flex-direction:column;min-height:0;overflow:hidden}.inner-bento[_ngcontent-%COMP%]:hover{border-color:var(--ring);transform:translateY(-1px)}.inner-icon[_ngcontent-%COMP%]{display:block;font-size:1.2rem;margin-bottom:4px;opacity:.8;flex-shrink:0;line-height:1}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.85rem;font-weight:600;line-height:1.2;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;flex-shrink:0}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.75rem;color:var(--muted-foreground);line-height:1.3;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;flex-grow:1;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical}.inner-badge[_ngcontent-%COMP%]{display:inline-block;background:var(--primary);color:var(--primary-foreground);padding:1px 4px;border-radius:3px;font-size:.6rem;margin-top:4px;flex-shrink:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bento.accent-primary[_ngcontent-%COMP%]{border-left:4px solid var(--primary)}.bento.accent-secondary[_ngcontent-%COMP%]{border-left:4px solid var(--secondary)}.bento.accent-success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.bento.accent-warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.bento.accent-info[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}@media (min-width: 1200px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 900px) and (max-width: 1199px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 600px) and (max-width: 899px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 599px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@supports not (grid-template-rows: masonry){@media (min-width: 1200px){.bento[_ngcontent-%COMP%]{max-width:calc(25% - 12px)}.bento.large[_ngcontent-%COMP%]{max-width:calc(50% - 8px)}.bento.xl[_ngcontent-%COMP%]{max-width:calc(75% - 4px)}}@media (min-width: 900px) and (max-width: 1199px){.bento[_ngcontent-%COMP%]{max-width:calc(33.333% - 11px)}.bento.large[_ngcontent-%COMP%]{max-width:calc(66.666% - 8px)}.bento.xl[_ngcontent-%COMP%]{max-width:calc(100% + -0px)}}@media (min-width: 600px) and (max-width: 899px){.bento[_ngcontent-%COMP%]{max-width:calc(50% - 8px)}.bento.large[_ngcontent-%COMP%], .bento.xl[_ngcontent-%COMP%]{max-width:calc(100% + -0px)}}}.bento.staggered[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards;animation-delay:var(--stagger-delay, 0s);opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.bento[_ngcontent-%COMP%]:nth-child(odd){transform:translateY(0)}.bento[_ngcontent-%COMP%]:nth-child(2n){transform:translateY(5px)}.bento[_ngcontent-%COMP%]:nth-child(3n){transform:translateY(-3px)}.bento[_ngcontent-%COMP%]:nth-child(4n){transform:translateY(8px)}.bento.staggered[_ngcontent-%COMP%]:nth-child(odd), .bento.staggered[_ngcontent-%COMP%]:nth-child(2n), .bento.staggered[_ngcontent-%COMP%]:nth-child(3n), .bento.staggered[_ngcontent-%COMP%]:nth-child(4n){transform:translateY(20px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}@media (max-width: 768px){.bento-grid[_ngcontent-%COMP%]{gap:12px;padding:12px;grid-template-columns:1fr}.bento[_ngcontent-%COMP%]{transform:none!important}.bento-title[_ngcontent-%COMP%]{font-size:1.1rem}.bento-content[_ngcontent-%COMP%]{font-size:.9rem}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;-webkit-line-clamp:2;line-clamp:2}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.85rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@supports not (grid-template-rows: masonry){@media (max-width: 599px){.bento[_ngcontent-%COMP%]{max-width:100%;flex:1 1 100%}}}@media (max-width: 480px){.bento[_ngcontent-%COMP%]{padding:16px}.bento-title[_ngcontent-%COMP%]{font-size:1rem}.bento-content[_ngcontent-%COMP%]{font-size:.85rem}.inner-bento[_ngcontent-%COMP%]{padding:8px}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.65rem;-webkit-line-clamp:1;line-clamp:1}.gallery-item[_ngcontent-%COMP%]{padding:6px;min-height:50px}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.7rem}.contact-item[_ngcontent-%COMP%]{padding:6px 8px;min-height:40px}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);color:var(--card-foreground);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:var(--card-foreground)}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:var(--muted-foreground)}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:var(--muted-foreground);margin-bottom:8px}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000014;border-color:var(--ring)}html.dark[_ngcontent-%COMP%]   .bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000004d}@media only screen and (max-width: 900px){.bento[_ngcontent-%COMP%]{min-width:270px}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]{align-items:center}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]   .bento[_ngcontent-%COMP%]{width:80%;min-width:unset;max-width:unset;max-height:unset;height:unset;min-height:50px}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]   .bento[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:12px}}']})};var Qle=Zg(uj()),Jle=Zg(Zle());var ece=Zg(SS());function hUe(n,e){if(n&1){let t=dn();D(0,"button",13),we("click",function(){We(t);let i=ae();return Ge(i.buildIt())}),H(1," Generate "),A()}}function pUe(n,e){if(n&1&&oe(0,"app-bento-viewer",11),n&2){let t=ae();fe("website",t.website)}}function fUe(n,e){if(n&1&&(D(0,"div",12)(1,"h1"),H(2,"No bento found"),A()()),n&2){let t=ae();N(),se(t.h1Style)}}var hA=class n extends nr{colorArray=[];website=null;apiService=M(ti);userService=M(gr);initialValue=null;hlmDialogService=M(fr);preloaderService=M(rr);router=M(Or);location=M(cs);themeService=M(_c);isBentoSaved=!1;isWebsiteGenerated=!1;language="json";codeValue="";minimalColor=["#007BFF","#FF6B6B","#4CAF50","#FFC107","#00BCD4","#6C757D","#9C27B0"];retroColors=["#FF6B6B","#FFC107","#9C27B0","#FF5722","#795548"];modernColors=["#007BFF","#00BCD4","#4CAF50","#03A9F4","#E91E63"];professionalColors=["#007BFF","#6C757D","#4CAF50","#343A40","#212529"];ld=[MT[0]];username=this.userService.getCurrentUserObject().displayName;theme=this.themeService.getCurrentMode()==="dark"?"vs-dark":"vs-light";ngOnInit(){return E(this,null,function*(){yield this.loadSavedBento()})}bentoSchema={title:"Website",type:"object",properties:{elements:{type:"array",items:{$ref:"#/definitions/Bento"}}},required:["elements"],definitions:{InnerBento:{type:"object",properties:{heading:{type:"string"},content:{type:["string","null"]},icon:{type:["string","null"]},badge:{type:["string","null"]},link:{type:["string","null"],format:"uri"}},required:["heading"]},Bento:{type:"object",properties:{heading:{type:"string"},content:{type:"string"},innerBentos:{type:["array","null"],items:{$ref:"#/definitions/InnerBento"}},bigBento:{type:["boolean","null"]},layout:{type:["string","null"],enum:["default","featured","stats","timeline","gallery","contact",null]},size:{type:["string","null"],enum:["small","medium","large","xl",null]},accent:{type:["string","null"],enum:["primary","secondary","success","warning","info",null]},icon:{type:["string","null"]},image:{type:["string","null"],format:"uri"},tags:{type:["array","null"],items:{type:"string"}},stats:{type:["array","null"],items:{type:"object",properties:{label:{type:"string"},value:{type:"string"}},required:["label","value"]}},badge:{type:["string","null"]}},required:["heading","content"]}}};contentChange(e){try{this.website=JSON.parse(e);let t=new Qle.default;(0,Jle.default)(t);let r=t.compile(this.bentoSchema);if(!r(this.website)&&r.errors){let o=`JSON Schema Error: ${r.errors[0].message}`;hc.error(o);return}(0,ece.isEqual)(this.website,this.initialValue)?this.isBentoSaved=!0:this.isBentoSaved=!1}catch(t){hc.error(`${t}`)}}handleBack(){this.isBentoSaved?this.location.back():this.hlmDialogService.open(xh,{context:{title:"Your Bento is not saved!",desc:"Your Bento pdf is not saved on cloud navigating back will cause in loss of data!, do you confirm to discard the data?"}}).closed$.subscribe(t=>{if(t==="yes")this.location.back();else return})}buildIt(){return E(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Vn.GET_BENTO_FROM_PORTFOLIO_DATA,null,yield this.userService.getCurrentUserObject().getIdToken()),this.codeValue=JSON.stringify(this.website,null,2),localStorage.setItem("website",JSON.stringify(this.website)),this.isWebsiteGenerated=!0,this.isBentoSaved=!1}catch(e){this.hlmDialogService.open(nn,{context:{error:"Unable to generate the website",desc:"Please make sure we have your data in analytics page, if not drop your pdf to extract data!"}}),hc.error(`${e}`),this.router.navigate(["/home"])}finally{this.preloaderService.hide()}})}regenerateBento(){return E(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Vn.GET_BENTO_FROM_PORTFOLIO_DATA,null,yield this.userService.getCurrentUserObject().getIdToken()),this.codeValue=JSON.stringify(this.website,null,2),this.isWebsiteGenerated=!0,this.isBentoSaved=!1}catch(e){this.hlmDialogService.open(nn,{context:{error:"Unable to regenerate the website",desc:"Please make sure we have your data in analytics page, if not drop your pdf to extract data!"}}),hc.error(`${e}`)}finally{this.preloaderService.hide()}})}saveBento(){return E(this,null,function*(){if(!this.website){this.hlmDialogService.open(nn,{context:{error:"No website to save",desc:"Please generate a website first"}});return}try{this.preloaderService.show(),yield this.apiService.post(Vn.SAVE_BENTO,this.website,yield this.userService.getCurrentUserObject().getIdToken()),this.isBentoSaved=!0}catch(e){this.hlmDialogService.open(nn,{context:{error:"Unable to save the website",desc:e}})}finally{this.preloaderService.hide()}})}loadSavedBento(){return E(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Vn.GET_BENTO_FROM_EMAIL,{email:this.userService.getCurrentUserObject().email},null),this.codeValue=JSON.stringify(this.website,null,2),this.isWebsiteGenerated=!0,this.isBentoSaved=!0,this.initialValue=this.website}catch{this.hlmDialogService.open(nn,{context:{error:"Unable to load bento",desc:"Generate your bento if not yet generated or try again later"}})}finally{this.preloaderService.hide()}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=zn(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-bento-screen"]],features:[Le([un({lucideArrowLeft:dm,lucideChevronDown:um})]),kt],decls:16,vars:12,consts:[[3,"duration","closeButton"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","w-full","p-3","sm:p-4","gap-3","sm:gap-4"],[1,"flex-shrink-0"],["hlmBtn","",1,"text-sm","sm:text-base",3,"click"],["size","20px",0,"sm","size","25px","name","lucideArrowLeft"],[1,"text-center","sm:text-left","text-lg","sm:text-xl","font-semibold","flex-1","px-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-2","w-full","sm:w-auto"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],["hlmBtn","",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],["language","json","theme","dark",1,"h-[400px]","mb-4",3,"change","languages","lineWrapping","value"],[3,"website"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click"]],template:function(t,r){t&1&&(oe(0,"hlm-toaster",0),D(1,"div",1)(2,"div",2)(3,"button",3),we("click",function(){return r.handleBack()}),oe(4,"ng-icon",4),A()(),D(5,"div",5),H(6),A(),D(7,"div",6),te(8,hUe,2,0,"button",7),D(9,"button",8),we("click",function(){return r.regenerateBento()}),H(10," Regenerate "),A(),D(11,"button",9),we("click",function(){return r.saveBento()}),H(12),A()()(),D(13,"code-editor",10),we("change",function(o){return r.contentChange(o)}),A(),te(14,pUe,1,1,"app-bento-viewer",11),te(15,fUe,3,2,"div",12)),t&2&&(fe("duration",5e3)("closeButton",!0),N(6),xt(" ",r.username,"'s Bento "),N(2),ne(r.website?-1:8),N(),fe("disabled",!r.isWebsiteGenerated),N(2),fe("disabled",r.isBentoSaved),N(),xt(" ",r.isBentoSaved?"Saved":"Save"," "),N(),fe("languages",r.ld)("lineWrapping",!0)("value",r.codeValue),N(),ne(r.website?14:-1),N(),ne(r.website?-1:15))},dependencies:[On,yO,$l,hn,e2,CT,zd],encapsulation:2})};var tce=[{path:"register",component:oM,canActivate:[j8]},{path:"login",component:sM,canActivate:[j8]},{path:"home",component:lM,canActivate:[Kf]},{path:"social-links",component:dS,canActivate:[Kf]},{path:"analytics",component:TS,canActivate:[Kf]},{path:"analytics-viewer",component:AS,canActivate:[Kf]},{path:"resume-viewer/:email",component:YI},{path:"resume",component:ST,canActivate:[Kf]},{path:"bento",component:hA,canActivate:[Kf]},{path:"bento-viewer/:email",component:e2},{path:"social-links/:email",component:MS},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}];var nce={providers:[IP(),d5(),iP({eventCoalescing:!0}),JP(tce),SZ(()=>IZ(kh.firebase)),NQ(()=>FQ()),bte(()=>Ete()),Fte(()=>Bte())]};var pA=class n{constructor(e){this.themeService=e}toggleIcon="lucideSun";updateToggleIcon(){this.themeService.getCurrentMode()=="dark"?this.toggleIcon="lucideSun":this.toggleIcon="lucideMoon"}ngOnInit(){this.updateToggleIcon()}toggleTheme(){this.themeService.toggleMode(),this.updateToggleIcon()}static \u0275fac=function(t){return new(t||n)(De(_c))};static \u0275cmp=de({type:n,selectors:[["app-theme-toggle"]],features:[Le([un({lucideSun:tX,lucideMoon:XY})])],decls:2,vars:1,consts:[["id","themeToggleBtn","hlmBtn","",1,"px-2",3,"click"],["hlm","",3,"name"]],template:function(t,r){t&1&&(D(0,"button",0),we("click",function(){return r.toggleTheme()}),oe(1,"ng-icon",1),A()),t&2&&(N(),fe("name",r.toggleIcon))},dependencies:[On,tr,hn],encapsulation:2})};var gUe=["*"],Ek=class n{userClass=W("size-8",{alias:"class"});_computedClass=ee(()=>Me("inline-block [&>svg]:text-foreground/30 [&>svg]:fill-accent",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-spinner"]],hostAttrs:["role","status"],hostVars:2,hostBindings:function(t,r){t&2&&se(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:gUe,decls:5,vars:0,consts:[["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"motion-safe:animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"]],template:function(t,r){t&1&&(tn(),na(),pr(0,"svg",0),jo(1,"path",1)(2,"path",2),kr(),Kx(),pr(3,"span",3),rt(4),kr())},encapsulation:2,changeDetection:0})};function mUe(n,e){n&1&&(D(0,"div",0),oe(1,"hlm-spinner",1),A())}var fA=class n{preloaderService=M(rr);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-preloader"]],decls:2,vars:3,consts:[[1,"preloader-frosty-bg"],[1,"size-15"]],template:function(t,r){t&1&&(te(0,mUe,2,0,"div",0),As(1,"async")),t&2&&ne(ia(1,1,r.preloaderService.loading$)?0:-1)},dependencies:[ds,Ek,fP],styles:[".preloader-frosty-bg[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background:#181a2059;backdrop-filter:blur(4px) saturate(1.5);-webkit-backdrop-filter:blur(4px) saturate(1.5)}"]})};var gA=class n{constructor(e){this.themeService=e}ngOnInit(){this.themeService.setMode()}title="Socially";static \u0275fac=function(t){return new(t||n)(De(_c))};static \u0275cmp=de({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"theme-toggle-container"]],template:function(t,r){t&1&&(D(0,"router-outlet"),oe(1,"app-preloader"),D(2,"div",0),oe(3,"app-theme-toggle"),A()())},dependencies:[Pw,pA,fA],encapsulation:2})};EP(gA,nce).catch(n=>console.error(n));
