var Qre=Object.create;var G_=Object.defineProperty,Jre=Object.defineProperties,eie=Object.getOwnPropertyDescriptor,tie=Object.getOwnPropertyDescriptors,nie=Object.getOwnPropertyNames,W_=Object.getOwnPropertySymbols,wF=Object.getPrototypeOf,kS=Object.prototype.hasOwnProperty,_F=Object.prototype.propertyIsEnumerable,rie=Reflect.get;var _S=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),yF=n=>{throw TypeError(n)};var yS=(n,e,t)=>e in n?G_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,X=(n,e)=>{for(var t in e||={})kS.call(e,t)&&yS(n,t,e[t]);if(W_)for(var t of W_(e))_F.call(e,t)&&yS(n,t,e[t]);return n},Se=(n,e)=>Jre(n,tie(e));var kF=n=>typeof n=="symbol"?n:n+"",Xu=(n,e)=>{var t={};for(var r in n)kS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&W_)for(var r of W_(n))e.indexOf(r)<0&&_F.call(n,r)&&(t[r]=n[r]);return t};var En=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),bF=(n,e)=>{for(var t in e)G_(n,t,{get:e[t],enumerable:!0})},iie=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of nie(e))!kS.call(n,i)&&i!==t&&G_(n,i,{get:()=>e[i],enumerable:!(r=eie(e,i))||r.enumerable});return n};var q_=(n,e,t)=>(t=n!=null?Qre(wF(n)):{},iie(e||!n||!n.__esModule?G_(t,"default",{value:n,enumerable:!0}):t,n));var xF=(n,e,t)=>yS(n,typeof e!="symbol"?e+"":e,t),bS=(n,e,t)=>e.has(n)||yF("Cannot "+t);var ki=(n,e,t)=>(bS(n,e,"read from private field"),t?t.call(n):e.get(n)),ud=(n,e,t)=>e.has(n)?yF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Wm=(n,e,t,r)=>(bS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),K_=(n,e,t)=>(bS(n,e,"access private method"),t);var CF=(n,e,t,r)=>({set _(i){Wm(n,e,i,t)},get _(){return ki(n,e,r)}}),Mo=(n,e,t)=>rie(wF(n),t,e);var x=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(d){i(d)}},s=l=>{try{a(t.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())}),Y_=function(n,e){this[0]=n,this[1]=e},xS=(n,e,t)=>{var r=(s,a,l,d)=>{try{var h=t[s](a),f=(a=h.value)instanceof Y_,m=h.done;Promise.resolve(f?a[0]:a).then(v=>f?r(s==="return"?s:"next",a[1]?{done:v.done,value:v.value}:v,l,d):l({value:v,done:m})).catch(v=>r("throw",v,l,d))}catch(v){d(v)}},i=s=>o[s]=a=>new Promise((l,d)=>r(s,a,l,d)),o={};return t=t.apply(n,e),o[_S("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};var EF=(n,e,t)=>(e=n[_S("asyncIterator")])?e.call(n):(n=n[_S("iterator")](),e={},t=(r,i)=>(i=n[r])&&(e[r]=o=>new Promise((s,a,l)=>(o=i.call(n,o),l=o.done,Promise.resolve(o.value).then(d=>s({value:d,done:l}),a)))),t("next"),t("return"),e);var aY=En((elt,sY)=>{"use strict";sY.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var pu=En(mp=>{"use strict";var R6,ube=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];mp.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};mp.getSymbolTotalCodewords=function(e){return ube[e]};mp.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};mp.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');R6=e};mp.isKanjiModeEnabled=function(){return typeof R6<"u"};mp.toSJIS=function(e){return R6(e)}});var w4=En(As=>{"use strict";As.L={bit:1};As.M={bit:0};As.Q={bit:3};As.H={bit:2};function hbe(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return As.L;case"m":case"medium":return As.M;case"q":case"quartile":return As.Q;case"h":case"high":return As.H;default:throw new Error("Unknown EC Level: "+n)}}As.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};As.from=function(e,t){if(As.isValid(e))return e;try{return hbe(e)}catch{return t}}});var dY=En((rlt,cY)=>{"use strict";function lY(){this.buffer=[],this.length=0}lY.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};cY.exports=lY});var hY=En((ilt,uY)=>{"use strict";function zv(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}zv.prototype.set=function(n,e,t,r){let i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};zv.prototype.get=function(n,e){return this.data[n*this.size+e]};zv.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};zv.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};uY.exports=zv});var pY=En(_4=>{"use strict";var pbe=pu().getSymbolSize;_4.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,r=pbe(e),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};_4.getPositions=function(e){let t=[],r=_4.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||t.push([r[o],r[s]]);return t}});var mY=En(gY=>{"use strict";var fbe=pu().getSymbolSize,fY=7;gY.getPositions=function(e){let t=fbe(e);return[[0,0],[t-fY,0],[0,t-fY]]}});var vY=En(zn=>{"use strict";zn.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var vp={N1:3,N2:3,N3:40,N4:10};zn.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};zn.from=function(e){return zn.isValid(e)?parseInt(e,10):void 0};zn.getPenaltyN1=function(e){let t=e.size,r=0,i=0,o=0,s=null,a=null;for(let l=0;l<t;l++){i=o=0,s=a=null;for(let d=0;d<t;d++){let h=e.get(l,d);h===s?i++:(i>=5&&(r+=vp.N1+(i-5)),s=h,i=1),h=e.get(d,l),h===a?o++:(o>=5&&(r+=vp.N1+(o-5)),a=h,o=1)}i>=5&&(r+=vp.N1+(i-5)),o>=5&&(r+=vp.N1+(o-5))}return r};zn.getPenaltyN2=function(e){let t=e.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*vp.N2};zn.getPenaltyN3=function(e){let t=e.size,r=0,i=0,o=0;for(let s=0;s<t;s++){i=o=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&r++}return r*vp.N3};zn.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*vp.N4};function gbe(n,e,t){switch(n){case zn.Patterns.PATTERN000:return(e+t)%2===0;case zn.Patterns.PATTERN001:return e%2===0;case zn.Patterns.PATTERN010:return t%3===0;case zn.Patterns.PATTERN011:return(e+t)%3===0;case zn.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case zn.Patterns.PATTERN101:return e*t%2+e*t%3===0;case zn.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case zn.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}zn.applyMask=function(e,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,gbe(e,o,i))};zn.getBestMask=function(e,t){let r=Object.keys(zn.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){t(s),zn.applyMask(s,e);let a=zn.getPenaltyN1(e)+zn.getPenaltyN2(e)+zn.getPenaltyN3(e)+zn.getPenaltyN4(e);zn.applyMask(s,e),a<o&&(o=a,i=s)}return i}});var O6=En(P6=>{"use strict";var fu=w4(),y4=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],k4=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];P6.getBlocksCount=function(e,t){switch(t){case fu.L:return y4[(e-1)*4+0];case fu.M:return y4[(e-1)*4+1];case fu.Q:return y4[(e-1)*4+2];case fu.H:return y4[(e-1)*4+3];default:return}};P6.getTotalCodewordsCount=function(e,t){switch(t){case fu.L:return k4[(e-1)*4+0];case fu.M:return k4[(e-1)*4+1];case fu.Q:return k4[(e-1)*4+2];case fu.H:return k4[(e-1)*4+3];default:return}}});var wY=En(x4=>{"use strict";var $v=new Uint8Array(512),b4=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)$v[t]=e,b4[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)$v[t]=$v[t-255]})();x4.log=function(e){if(e<1)throw new Error("log("+e+")");return b4[e]};x4.exp=function(e){return $v[e]};x4.mul=function(e,t){return e===0||t===0?0:$v[b4[e]+b4[t]]}});var _Y=En(Wv=>{"use strict";var N6=wY();Wv.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=N6.mul(e[i],t[o]);return r};Wv.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let i=r[0];for(let s=0;s<t.length;s++)r[s]^=N6.mul(t[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};Wv.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=Wv.mul(t,new Uint8Array([1,N6.exp(r)]));return t}});var bY=En((ult,kY)=>{"use strict";var yY=_Y();function L6(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}L6.prototype.initialize=function(e){this.degree=e,this.genPoly=yY.generateECPolynomial(this.degree)};L6.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=yY.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};kY.exports=L6});var F6=En(xY=>{"use strict";xY.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var B6=En(Oc=>{"use strict";var CY="[0-9]+",mbe="[A-Z $%*+\\-./:]+",Gv="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gv=Gv.replace(/u/g,"\\u");var vbe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gv+`)(?:.|[\r
]))+`;Oc.KANJI=new RegExp(Gv,"g");Oc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Oc.BYTE=new RegExp(vbe,"g");Oc.NUMERIC=new RegExp(CY,"g");Oc.ALPHANUMERIC=new RegExp(mbe,"g");var wbe=new RegExp("^"+Gv+"$"),_be=new RegExp("^"+CY+"$"),ybe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Oc.testKanji=function(e){return wbe.test(e)};Oc.testNumeric=function(e){return _be.test(e)};Oc.testAlphanumeric=function(e){return ybe.test(e)}});var gu=En(Hr=>{"use strict";var kbe=F6(),V6=B6();Hr.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Hr.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Hr.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Hr.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Hr.MIXED={bit:-1};Hr.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!kbe.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Hr.getBestModeForData=function(e){return V6.testNumeric(e)?Hr.NUMERIC:V6.testAlphanumeric(e)?Hr.ALPHANUMERIC:V6.testKanji(e)?Hr.KANJI:Hr.BYTE};Hr.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Hr.isValid=function(e){return e&&e.bit&&e.ccBits};function bbe(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return Hr.NUMERIC;case"alphanumeric":return Hr.ALPHANUMERIC;case"kanji":return Hr.KANJI;case"byte":return Hr.BYTE;default:throw new Error("Unknown mode: "+n)}}Hr.from=function(e,t){if(Hr.isValid(e))return e;try{return bbe(e)}catch{return t}}});var AY=En(wp=>{"use strict";var C4=pu(),xbe=O6(),EY=w4(),mu=gu(),j6=F6(),SY=7973,MY=C4.getBCHDigit(SY);function Cbe(n,e,t){for(let r=1;r<=40;r++)if(e<=wp.getCapacity(r,t,n))return r}function IY(n,e){return mu.getCharCountIndicator(n,e)+4}function Ebe(n,e){let t=0;return n.forEach(function(r){let i=IY(r.mode,e);t+=i+r.getBitsLength()}),t}function Mbe(n,e){for(let t=1;t<=40;t++)if(Ebe(n,t)<=wp.getCapacity(t,e,mu.MIXED))return t}wp.from=function(e,t){return j6.isValid(e)?parseInt(e,10):t};wp.getCapacity=function(e,t,r){if(!j6.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=mu.BYTE);let i=C4.getSymbolTotalCodewords(e),o=xbe.getTotalCodewordsCount(e,t),s=(i-o)*8;if(r===mu.MIXED)return s;let a=s-IY(r,e);switch(r){case mu.NUMERIC:return Math.floor(a/10*3);case mu.ALPHANUMERIC:return Math.floor(a/11*2);case mu.KANJI:return Math.floor(a/13);case mu.BYTE:default:return Math.floor(a/8)}};wp.getBestVersionForData=function(e,t){let r,i=EY.from(t,EY.M);if(Array.isArray(e)){if(e.length>1)return Mbe(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return Cbe(r.mode,r.getLength(),i)};wp.getEncodedBits=function(e){if(!j6.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;C4.getBCHDigit(t)-MY>=0;)t^=SY<<C4.getBCHDigit(t)-MY;return e<<12|t}});var PY=En(RY=>{"use strict";var H6=pu(),DY=1335,Sbe=21522,TY=H6.getBCHDigit(DY);RY.getEncodedBits=function(e,t){let r=e.bit<<3|t,i=r<<10;for(;H6.getBCHDigit(i)-TY>=0;)i^=DY<<H6.getBCHDigit(i)-TY;return(r<<10|i)^Sbe}});var NY=En((vlt,OY)=>{"use strict";var Ibe=gu();function L0(n){this.mode=Ibe.NUMERIC,this.data=n.toString()}L0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};L0.prototype.getLength=function(){return this.data.length};L0.prototype.getBitsLength=function(){return L0.getBitsLength(this.data.length)};L0.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};OY.exports=L0});var FY=En((wlt,LY)=>{"use strict";var Abe=gu(),U6=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function F0(n){this.mode=Abe.ALPHANUMERIC,this.data=n}F0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};F0.prototype.getLength=function(){return this.data.length};F0.prototype.getBitsLength=function(){return F0.getBitsLength(this.data.length)};F0.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=U6.indexOf(this.data[t])*45;r+=U6.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(U6.indexOf(this.data[t]),6)};LY.exports=F0});var VY=En((_lt,BY)=>{"use strict";var Tbe=gu();function B0(n){this.mode=Tbe.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}B0.getBitsLength=function(e){return e*8};B0.prototype.getLength=function(){return this.data.length};B0.prototype.getBitsLength=function(){return B0.getBitsLength(this.data.length)};B0.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};BY.exports=B0});var HY=En((ylt,jY)=>{"use strict";var Dbe=gu(),Rbe=pu();function V0(n){this.mode=Dbe.KANJI,this.data=n}V0.getBitsLength=function(e){return e*13};V0.prototype.getLength=function(){return this.data.length};V0.prototype.getBitsLength=function(){return V0.getBitsLength(this.data.length)};V0.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=Rbe.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};jY.exports=V0});var UY=En((klt,z6)=>{"use strict";var qv={single_source_shortest_paths:function(n,e,t){var r={},i={};i[e]=0;var o=qv.PriorityQueue.make();o.push(e,0);for(var s,a,l,d,h,f,m,v,_;!o.empty();){s=o.pop(),a=s.value,d=s.cost,h=n[a]||{};for(l in h)h.hasOwnProperty(l)&&(f=h[l],m=d+f,v=i[l],_=typeof i[l]>"u",(_||v>m)&&(i[l]=m,o.push(l,m),r[l]=a))}if(typeof t<"u"&&typeof i[t]>"u"){var b=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(b)}return r},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],r=e,i;r;)t.push(r),i=n[r],r=n[r];return t.reverse(),t},find_path:function(n,e,t){var r=qv.single_source_shortest_paths(n,e,t);return qv.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(n){var e=qv.PriorityQueue,t={},r;n=n||{};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof z6<"u"&&(z6.exports=qv)});var XY=En(j0=>{"use strict";var xn=gu(),WY=NY(),GY=FY(),qY=VY(),KY=HY(),Kv=B6(),E4=pu(),Pbe=UY();function zY(n){return unescape(encodeURIComponent(n)).length}function Yv(n,e,t){let r=[],i;for(;(i=n.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function YY(n){let e=Yv(Kv.NUMERIC,xn.NUMERIC,n),t=Yv(Kv.ALPHANUMERIC,xn.ALPHANUMERIC,n),r,i;return E4.isKanjiModeEnabled()?(r=Yv(Kv.BYTE,xn.BYTE,n),i=Yv(Kv.KANJI,xn.KANJI,n)):(r=Yv(Kv.BYTE_KANJI,xn.BYTE,n),i=[]),e.concat(t,r,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function $6(n,e){switch(e){case xn.NUMERIC:return WY.getBitsLength(n);case xn.ALPHANUMERIC:return GY.getBitsLength(n);case xn.KANJI:return KY.getBitsLength(n);case xn.BYTE:return qY.getBitsLength(n)}}function Obe(n){return n.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function Nbe(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];switch(r.mode){case xn.NUMERIC:e.push([r,{data:r.data,mode:xn.ALPHANUMERIC,length:r.length},{data:r.data,mode:xn.BYTE,length:r.length}]);break;case xn.ALPHANUMERIC:e.push([r,{data:r.data,mode:xn.BYTE,length:r.length}]);break;case xn.KANJI:e.push([r,{data:r.data,mode:xn.BYTE,length:zY(r.data)}]);break;case xn.BYTE:e.push([{data:r.data,mode:xn.BYTE,length:zY(r.data)}])}}return e}function Lbe(n,e){let t={},r={start:{}},i=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let d=s[l],h=""+o+l;a.push(h),t[h]={node:d,lastCount:0},r[h]={};for(let f=0;f<i.length;f++){let m=i[f];t[m]&&t[m].node.mode===d.mode?(r[m][h]=$6(t[m].lastCount+d.length,d.mode)-$6(t[m].lastCount,d.mode),t[m].lastCount+=d.length):(t[m]&&(t[m].lastCount=d.length),r[m][h]=$6(d.length,d.mode)+4+xn.getCharCountIndicator(d.mode,e))}}i=a}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function $Y(n,e){let t,r=xn.getBestModeForData(n);if(t=xn.from(e,r),t!==xn.BYTE&&t.bit<r.bit)throw new Error('"'+n+'" cannot be encoded with mode '+xn.toString(t)+`.
 Suggested mode is: `+xn.toString(r));switch(t===xn.KANJI&&!E4.isKanjiModeEnabled()&&(t=xn.BYTE),t){case xn.NUMERIC:return new WY(n);case xn.ALPHANUMERIC:return new GY(n);case xn.KANJI:return new KY(n);case xn.BYTE:return new qY(n)}}j0.fromArray=function(e){return e.reduce(function(t,r){return typeof r=="string"?t.push($Y(r,null)):r.data&&t.push($Y(r.data,r.mode)),t},[])};j0.fromString=function(e,t){let r=YY(e,E4.isKanjiModeEnabled()),i=Nbe(r),o=Lbe(i,t),s=Pbe.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return j0.fromArray(Obe(a))};j0.rawSplit=function(e){return j0.fromArray(YY(e,E4.isKanjiModeEnabled()))}});var QY=En(ZY=>{"use strict";var S4=pu(),W6=w4(),Fbe=dY(),Bbe=hY(),Vbe=pY(),jbe=mY(),K6=vY(),Y6=O6(),Hbe=bY(),M4=AY(),Ube=PY(),zbe=gu(),G6=XY();function $be(n,e){let t=n.size,r=jbe.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function Wbe(n){let e=n.size;for(let t=8;t<e-8;t++){let r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Gbe(n,e){let t=Vbe.getPositions(e);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(i+s,o+a,!0,!0):n.set(i+s,o+a,!1,!0)}}function qbe(n,e){let t=n.size,r=M4.getEncodedBits(e),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+t-8-3,s=(r>>a&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function q6(n,e,t){let r=n.size,i=Ube.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function Kbe(n,e){let t=n.size,r=-1,i=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let d=!1;s<e.length&&(d=(e[s]>>>o&1)===1),n.set(i,a-l,d),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Ybe(n,e,t){let r=new Fbe;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),zbe.getCharCountIndicator(l.mode,n)),l.write(r)});let i=S4.getSymbolTotalCodewords(n),o=Y6.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Xbe(r,n,e)}function Xbe(n,e,t){let r=S4.getSymbolTotalCodewords(e),i=Y6.getTotalCodewordsCount(e,t),o=r-i,s=Y6.getBlocksCount(e,t),a=r%s,l=s-a,d=Math.floor(r/s),h=Math.floor(o/s),f=h+1,m=d-h,v=new Hbe(m),_=0,b=new Array(s),T=new Array(s),M=0,B=new Uint8Array(n.buffer);for(let F=0;F<s;F++){let A=F<l?h:f;b[F]=B.slice(_,_+A),T[F]=v.encode(b[F]),_+=A,M=Math.max(M,A)}let j=new Uint8Array(r),H=0,q,Y;for(q=0;q<M;q++)for(Y=0;Y<s;Y++)q<b[Y].length&&(j[H++]=b[Y][q]);for(q=0;q<m;q++)for(Y=0;Y<s;Y++)j[H++]=T[Y][q];return j}function Zbe(n,e,t,r){let i;if(Array.isArray(n))i=G6.fromArray(n);else if(typeof n=="string"){let d=e;if(!d){let h=G6.rawSplit(n);d=M4.getBestVersionForData(h,t)}i=G6.fromString(n,d||40)}else throw new Error("Invalid data");let o=M4.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=Ybe(e,t,i),a=S4.getSymbolSize(e),l=new Bbe(a);return $be(l,e),Wbe(l),Gbe(l,e),q6(l,t,0),e>=7&&qbe(l,e),Kbe(l,s),isNaN(r)&&(r=K6.getBestMask(l,q6.bind(null,l,t))),K6.applyMask(r,l),q6(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}ZY.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=W6.M,i,o;return typeof t<"u"&&(r=W6.from(t.errorCorrectionLevel,W6.M),i=M4.from(t.version),o=K6.from(t.maskPattern),t.toSJISFunc&&S4.setToSJISFunction(t.toSJISFunc)),Zbe(e,i,r,o)}});var X6=En(_p=>{"use strict";function JY(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}_p.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:JY(e.color.dark||"#000000ff"),light:JY(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};_p.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};_p.getImageWidth=function(e,t){let r=_p.getScale(e,t);return Math.floor((e+t.margin*2)*r)};_p.qrToImageData=function(e,t,r){let i=t.modules.size,o=t.modules.data,s=_p.getScale(i,r),a=Math.floor((i+r.margin*2)*s),l=r.margin*s,d=[r.color.light,r.color.dark];for(let h=0;h<a;h++)for(let f=0;f<a;f++){let m=(h*a+f)*4,v=r.color.light;if(h>=l&&f>=l&&h<a-l&&f<a-l){let _=Math.floor((h-l)/s),b=Math.floor((f-l)/s);v=d[o[_*i+b]?1:0]}e[m++]=v.r,e[m++]=v.g,e[m++]=v.b,e[m]=v.a}}});var eX=En(I4=>{"use strict";var Z6=X6();function Qbe(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Jbe(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}I4.render=function(e,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=Jbe()),i=Z6.getOptions(i);let s=Z6.getImageWidth(e.modules.size,i),a=o.getContext("2d"),l=a.createImageData(s,s);return Z6.qrToImageData(l.data,e,i),Qbe(a,o,s),a.putImageData(l,0,0),o};I4.renderToDataURL=function(e,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=I4.render(e,t,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var rX=En(nX=>{"use strict";var exe=X6();function tX(n,e){let t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function Q6(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function txe(n,e,t){let r="",i=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%e),d=Math.floor(a/e);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(r+=o?Q6("M",l+t,.5+d+t):Q6("m",i,0),i=0,o=!1),l+1<e&&n[a+1]||(r+=Q6("h",s),s=0)):i++}return r}nX.render=function(e,t,r){let i=exe.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+tX(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",d="<path "+tX(i.color.dark,"stroke")+' d="'+txe(s,o,i.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof r=="function"&&r(null,m),m}});var oX=En(Xv=>{"use strict";var nxe=aY(),J6=QY(),iX=eX(),rxe=rX();function eO(n,e,t,r,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!nxe())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,d){try{let h=J6.create(t,r);l(n(h,e,r))}catch(h){d(h)}})}try{let l=J6.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}Xv.create=J6.create;Xv.toCanvas=eO.bind(null,iX.render);Xv.toDataURL=eO.bind(null,iX.renderToDataURL);Xv.toString=eO.bind(null,function(n,e,t){return rxe.render(n,t)})});var D4=En((W0,Zv)=>{"use strict";(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",d=1,h=2,f=4,m=1,v=2,_=1,b=2,T=4,M=8,B=16,j=32,H=64,q=128,Y=256,F=512,A=30,S="...",L=800,U=16,K=1,z=2,rt=3,ht=1/0,Mt=9007199254740991,De=17976931348623157e292,ye=NaN,Vn=4294967295,Qi=Vn-1,zr=Vn>>>1,an=[["ary",q],["bind",_],["bindKey",b],["curry",M],["curryRight",B],["flip",F],["partial",j],["partialRight",H],["rearg",Y]],ze="[object Arguments]",Pn="[object Array]",ai="[object AsyncFunction]",rr="[object Boolean]",Qe="[object Date]",Ni="[object DOMException]",Ji="[object Error]",Li="[object Function]",Rs="[object GeneratorFunction]",Dr="[object Map]",yl="[object Number]",sm="[object Null]",Vo="[object Object]",am="[object Promise]",Rw="[object Proxy]",xu="[object RegExp]",yo="[object Set]",$c="[object String]",Wc="[object Symbol]",Pw="[object Undefined]",Cu="[object WeakMap]",lm="[object WeakSet]",kl="[object ArrayBuffer]",ga="[object DataView]",Rr="[object Float32Array]",$r="[object Float64Array]",Gc="[object Int8Array]",Op="[object Int16Array]",Np="[object Int32Array]",cm="[object Uint8Array]",bl="[object Uint8ClampedArray]",Lp="[object Uint16Array]",Fp="[object Uint32Array]",dm=/\b__p \+= '';/g,cM=/\b(__p \+=) '' \+/g,dM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bp=/&(?:amp|lt|gt|quot|#39);/g,um=/[&<>"']/g,Ow=RegExp(Bp.source),Eu=RegExp(um.source),hm=/<%-([\s\S]+?)%>/g,pm=/<%([\s\S]+?)%>/g,ma=/<%=([\s\S]+?)%>/g,Nw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vp=/^\w*$/,Lw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xl=/[\\^$.*+?()[\]{}|]/g,Fw=RegExp(xl.source),Wr=/^\s+/,Bw=/\s/,Mu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Su=/\{\n\/\* \[wrapped with (.+)\] \*/,uM=/,? & /,hM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qc=/[()=,{}\[\]\/\s]/,pM=/\\(\\)?/g,fM=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Iu=/\w*$/,Vw=/^[-+]0x[0-9a-f]+$/i,fm=/^0b[01]+$/i,jp=/^\[object .+?Constructor\]$/,va=/^0o[0-7]+$/i,jw=/^(?:0|[1-9]\d*)$/,Hw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kc=/($^)/,gm=/['\n\r\u2028\u2029\\]/g,Au="\\ud800-\\udfff",Uw="\\u0300-\\u036f",gM="\\ufe20-\\ufe2f",Hp="\\u20d0-\\u20ff",mm=Uw+gM+Hp,Up="\\u2700-\\u27bf",Yc="a-z\\xdf-\\xf6\\xf8-\\xff",Cl="\\xac\\xb1\\xd7\\xf7",vm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mM="\\u2000-\\u206f",zw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wm="A-Z\\xc0-\\xd6\\xd8-\\xde",_m="\\ufe0e\\ufe0f",zp=Cl+vm+mM+zw,Tu="['\u2019]",$w="["+Au+"]",ym="["+zp+"]",$p="["+mm+"]",Ww="\\d+",Gw="["+Up+"]",km="["+Yc+"]",qw="[^"+Au+zp+Ww+Up+Yc+wm+"]",Ps="\\ud83c[\\udffb-\\udfff]",Os="(?:"+$p+"|"+Ps+")",Du="[^"+Au+"]",Xc="(?:\\ud83c[\\udde6-\\uddff]){2}",Wp="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+wm+"]",Ru="\\u200d",Zc="(?:"+km+"|"+qw+")",Pu="(?:"+dn+"|"+qw+")",Kw="(?:"+Tu+"(?:d|ll|m|re|s|t|ve))?",bm="(?:"+Tu+"(?:D|LL|M|RE|S|T|VE))?",Yw=Os+"?",Xw="["+_m+"]?",vM="(?:"+Ru+"(?:"+[Du,Xc,Wp].join("|")+")"+Xw+Yw+")*",wM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ou="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ns=Xw+Yw+vM,Zw="(?:"+[Gw,Xc,Wp].join("|")+")"+Ns,Qw="(?:"+[Du+$p+"?",$p,Xc,Wp,$w].join("|")+")",Jw=RegExp(Tu,"g"),Qc=RegExp($p,"g"),xm=RegExp(Ps+"(?="+Ps+")|"+Qw+Ns,"g"),_M=RegExp([dn+"?"+km+"+"+Kw+"(?="+[ym,dn,"$"].join("|")+")",Pu+"+"+bm+"(?="+[ym,dn+Zc,"$"].join("|")+")",dn+"?"+Zc+"+"+Kw,dn+"+"+bm,Ou,wM,Ww,Zw].join("|"),"g"),yM=RegExp("["+Ru+Au+mm+_m+"]"),wa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bM=-1,hn={};hn[Rr]=hn[$r]=hn[Gc]=hn[Op]=hn[Np]=hn[cm]=hn[bl]=hn[Lp]=hn[Fp]=!0,hn[ze]=hn[Pn]=hn[kl]=hn[rr]=hn[ga]=hn[Qe]=hn[Ji]=hn[Li]=hn[Dr]=hn[yl]=hn[Vo]=hn[xu]=hn[yo]=hn[$c]=hn[Cu]=!1;var pn={};pn[ze]=pn[Pn]=pn[kl]=pn[ga]=pn[rr]=pn[Qe]=pn[Rr]=pn[$r]=pn[Gc]=pn[Op]=pn[Np]=pn[Dr]=pn[yl]=pn[Vo]=pn[xu]=pn[yo]=pn[$c]=pn[Wc]=pn[cm]=pn[bl]=pn[Lp]=pn[Fp]=!0,pn[Ji]=pn[Li]=pn[Cu]=!1;var e_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Nu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},t_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cm=parseFloat,Yn=parseInt,n_=typeof global=="object"&&global&&global.Object===Object&&global,xM=typeof self=="object"&&self&&self.Object===Object&&self,wr=n_||xM||Function("return this")(),Gp=typeof W0=="object"&&W0&&!W0.nodeType&&W0,_a=Gp&&typeof Zv=="object"&&Zv&&!Zv.nodeType&&Zv,Fu=_a&&_a.exports===Gp,qp=Fu&&n_.process,hr=(function(){try{var Z=_a&&_a.require&&_a.require("util").types;return Z||qp&&qp.binding&&qp.binding("util")}catch{}})(),Em=hr&&hr.isArrayBuffer,r_=hr&&hr.isDate,Jc=hr&&hr.isMap,Mm=hr&&hr.isRegExp,Kp=hr&&hr.isSet,Bu=hr&&hr.isTypedArray;function Fi(Z,le,oe){switch(oe.length){case 0:return Z.call(le);case 1:return Z.call(le,oe[0]);case 2:return Z.call(le,oe[0],oe[1]);case 3:return Z.call(le,oe[0],oe[1],oe[2])}return Z.apply(le,oe)}function Yp(Z,le,oe,Oe){for(var bt=-1,fn=Z==null?0:Z.length;++bt<fn;){var Kr=Z[bt];le(Oe,Kr,oe(Kr),Z)}return Oe}function ko(Z,le){for(var oe=-1,Oe=Z==null?0:Z.length;++oe<Oe&&le(Z[oe],oe,Z)!==!1;);return Z}function i_(Z,le){for(var oe=Z==null?0:Z.length;oe--&&le(Z[oe],oe,Z)!==!1;);return Z}function ed(Z,le){for(var oe=-1,Oe=Z==null?0:Z.length;++oe<Oe;)if(!le(Z[oe],oe,Z))return!1;return!0}function Ls(Z,le){for(var oe=-1,Oe=Z==null?0:Z.length,bt=0,fn=[];++oe<Oe;){var Kr=Z[oe];le(Kr,oe,Z)&&(fn[bt++]=Kr)}return fn}function Vu(Z,le){var oe=Z==null?0:Z.length;return!!oe&&Bs(Z,le,0)>-1}function ju(Z,le,oe){for(var Oe=-1,bt=Z==null?0:Z.length;++Oe<bt;)if(oe(le,Z[Oe]))return!0;return!1}function An(Z,le){for(var oe=-1,Oe=Z==null?0:Z.length,bt=Array(Oe);++oe<Oe;)bt[oe]=le(Z[oe],oe,Z);return bt}function Fs(Z,le){for(var oe=-1,Oe=le.length,bt=Z.length;++oe<Oe;)Z[bt+oe]=le[oe];return Z}function td(Z,le,oe,Oe){var bt=-1,fn=Z==null?0:Z.length;for(Oe&&fn&&(oe=Z[++bt]);++bt<fn;)oe=le(oe,Z[bt],bt,Z);return oe}function o_(Z,le,oe,Oe){var bt=Z==null?0:Z.length;for(Oe&&bt&&(oe=Z[--bt]);bt--;)oe=le(oe,Z[bt],bt,Z);return oe}function Xp(Z,le){for(var oe=-1,Oe=Z==null?0:Z.length;++oe<Oe;)if(le(Z[oe],oe,Z))return!0;return!1}var El=ya("length");function s_(Z){return Z.split("")}function a_(Z){return Z.match(hM)||[]}function Sm(Z,le,oe){var Oe;return oe(Z,function(bt,fn,Kr){if(le(bt,fn,Kr))return Oe=fn,!1}),Oe}function Hu(Z,le,oe,Oe){for(var bt=Z.length,fn=oe+(Oe?1:-1);Oe?fn--:++fn<bt;)if(le(Z[fn],fn,Z))return fn;return-1}function Bs(Z,le,oe){return le===le?BZ(Z,le,oe):Hu(Z,Im,oe)}function eo(Z,le,oe,Oe){for(var bt=oe-1,fn=Z.length;++bt<fn;)if(Oe(Z[bt],le))return bt;return-1}function Im(Z){return Z!==Z}function Am(Z,le){var oe=Z==null?0:Z.length;return oe?O(Z,le)/oe:ye}function ya(Z){return function(le){return le==null?n:le[Z]}}function p(Z){return function(le){return Z==null?n:Z[le]}}function w(Z,le,oe,Oe,bt){return bt(Z,function(fn,Kr,On){oe=Oe?(Oe=!1,fn):le(oe,fn,Kr,On)}),oe}function k(Z,le){var oe=Z.length;for(Z.sort(le);oe--;)Z[oe]=Z[oe].value;return Z}function O(Z,le){for(var oe,Oe=-1,bt=Z.length;++Oe<bt;){var fn=le(Z[Oe]);fn!==n&&(oe=oe===n?fn:oe+fn)}return oe}function J(Z,le){for(var oe=-1,Oe=Array(Z);++oe<Z;)Oe[oe]=le(oe);return Oe}function ie(Z,le){return An(le,function(oe){return[oe,Z[oe]]})}function Ce(Z){return Z&&Z.slice(0,I8(Z)+1).replace(Wr,"")}function Ot(Z){return function(le){return Z(le)}}function _r(Z,le){return An(le,function(oe){return Z[oe]})}function $t(Z,le){return Z.has(le)}function Gr(Z,le){for(var oe=-1,Oe=Z.length;++oe<Oe&&Bs(le,Z[oe],0)>-1;);return oe}function qr(Z,le){for(var oe=Z.length;oe--&&Bs(le,Z[oe],0)>-1;);return oe}function nd(Z,le){for(var oe=Z.length,Oe=0;oe--;)Z[oe]===le&&++Oe;return Oe}var jo=p(e_),Zp=p(Nu);function Tm(Z){return"\\"+t_[Z]}function OZ(Z,le){return Z==null?n:Z[le]}function Qp(Z){return yM.test(Z)}function NZ(Z){return wa.test(Z)}function LZ(Z){for(var le,oe=[];!(le=Z.next()).done;)oe.push(le.value);return oe}function CM(Z){var le=-1,oe=Array(Z.size);return Z.forEach(function(Oe,bt){oe[++le]=[bt,Oe]}),oe}function S8(Z,le){return function(oe){return Z(le(oe))}}function rd(Z,le){for(var oe=-1,Oe=Z.length,bt=0,fn=[];++oe<Oe;){var Kr=Z[oe];(Kr===le||Kr===l)&&(Z[oe]=l,fn[bt++]=oe)}return fn}function l_(Z){var le=-1,oe=Array(Z.size);return Z.forEach(function(Oe){oe[++le]=Oe}),oe}function FZ(Z){var le=-1,oe=Array(Z.size);return Z.forEach(function(Oe){oe[++le]=[Oe,Oe]}),oe}function BZ(Z,le,oe){for(var Oe=oe-1,bt=Z.length;++Oe<bt;)if(Z[Oe]===le)return Oe;return-1}function VZ(Z,le,oe){for(var Oe=oe+1;Oe--;)if(Z[Oe]===le)return Oe;return Oe}function Jp(Z){return Qp(Z)?HZ(Z):El(Z)}function Vs(Z){return Qp(Z)?UZ(Z):s_(Z)}function I8(Z){for(var le=Z.length;le--&&Bw.test(Z.charAt(le)););return le}var jZ=p(Lu);function HZ(Z){for(var le=xm.lastIndex=0;xm.test(Z);)++le;return le}function UZ(Z){return Z.match(xm)||[]}function zZ(Z){return Z.match(_M)||[]}var $Z=function Z(le){le=le==null?wr:id.defaults(wr.Object(),le,id.pick(wr,kM));var oe=le.Array,Oe=le.Date,bt=le.Error,fn=le.Function,Kr=le.Math,On=le.Object,EM=le.RegExp,WZ=le.String,as=le.TypeError,c_=oe.prototype,GZ=fn.prototype,ef=On.prototype,d_=le["__core-js_shared__"],u_=GZ.toString,Cn=ef.hasOwnProperty,qZ=0,A8=(function(){var c=/[^.]+$/.exec(d_&&d_.keys&&d_.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""})(),h_=ef.toString,KZ=u_.call(On),YZ=wr._,XZ=EM("^"+u_.call(Cn).replace(xl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p_=Fu?le.Buffer:n,od=le.Symbol,f_=le.Uint8Array,T8=p_?p_.allocUnsafe:n,g_=S8(On.getPrototypeOf,On),D8=On.create,R8=ef.propertyIsEnumerable,m_=c_.splice,P8=od?od.isConcatSpreadable:n,Dm=od?od.iterator:n,Uu=od?od.toStringTag:n,v_=(function(){try{var c=qu(On,"defineProperty");return c({},"",{}),c}catch{}})(),ZZ=le.clearTimeout!==wr.clearTimeout&&le.clearTimeout,QZ=Oe&&Oe.now!==wr.Date.now&&Oe.now,JZ=le.setTimeout!==wr.setTimeout&&le.setTimeout,w_=Kr.ceil,__=Kr.floor,MM=On.getOwnPropertySymbols,eQ=p_?p_.isBuffer:n,O8=le.isFinite,tQ=c_.join,nQ=S8(On.keys,On),Yr=Kr.max,Bi=Kr.min,rQ=Oe.now,iQ=le.parseInt,N8=Kr.random,oQ=c_.reverse,SM=qu(le,"DataView"),Rm=qu(le,"Map"),IM=qu(le,"Promise"),tf=qu(le,"Set"),Pm=qu(le,"WeakMap"),Om=qu(On,"create"),y_=Pm&&new Pm,nf={},sQ=Ku(SM),aQ=Ku(Rm),lQ=Ku(IM),cQ=Ku(tf),dQ=Ku(Pm),k_=od?od.prototype:n,Nm=k_?k_.valueOf:n,L8=k_?k_.toString:n;function R(c){if(pr(c)&&!St(c)&&!(c instanceof Kt)){if(c instanceof ls)return c;if(Cn.call(c,"__wrapped__"))return FL(c)}return new ls(c)}var rf=(function(){function c(){}return function(u){if(!ir(u))return{};if(D8)return D8(u);c.prototype=u;var g=new c;return c.prototype=n,g}})();function b_(){}function ls(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}R.templateSettings={escape:hm,evaluate:pm,interpolate:ma,variable:"",imports:{_:R}},R.prototype=b_.prototype,R.prototype.constructor=R,ls.prototype=rf(b_.prototype),ls.prototype.constructor=ls;function Kt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vn,this.__views__=[]}function uQ(){var c=new Kt(this.__wrapped__);return c.__actions__=bo(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=bo(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=bo(this.__views__),c}function hQ(){if(this.__filtered__){var c=new Kt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function pQ(){var c=this.__wrapped__.value(),u=this.__dir__,g=St(c),y=u<0,E=g?c.length:0,N=EJ(0,E,this.__views__),$=N.start,G=N.end,Q=G-$,fe=y?G:$-1,me=this.__iteratees__,_e=me.length,Ae=0,$e=Bi(Q,this.__takeCount__);if(!g||!y&&E==Q&&$e==Q)return sL(c,this.__actions__);var ct=[];e:for(;Q--&&Ae<$e;){fe+=u;for(var Vt=-1,dt=c[fe];++Vt<_e;){var Gt=me[Vt],Zt=Gt.iteratee,zo=Gt.type,ro=Zt(dt);if(zo==z)dt=ro;else if(!ro){if(zo==K)continue e;break e}}ct[Ae++]=dt}return ct}Kt.prototype=rf(b_.prototype),Kt.prototype.constructor=Kt;function zu(c){var u=-1,g=c==null?0:c.length;for(this.clear();++u<g;){var y=c[u];this.set(y[0],y[1])}}function fQ(){this.__data__=Om?Om(null):{},this.size=0}function gQ(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u}function mQ(c){var u=this.__data__;if(Om){var g=u[c];return g===s?n:g}return Cn.call(u,c)?u[c]:n}function vQ(c){var u=this.__data__;return Om?u[c]!==n:Cn.call(u,c)}function wQ(c,u){var g=this.__data__;return this.size+=this.has(c)?0:1,g[c]=Om&&u===n?s:u,this}zu.prototype.clear=fQ,zu.prototype.delete=gQ,zu.prototype.get=mQ,zu.prototype.has=vQ,zu.prototype.set=wQ;function Ml(c){var u=-1,g=c==null?0:c.length;for(this.clear();++u<g;){var y=c[u];this.set(y[0],y[1])}}function _Q(){this.__data__=[],this.size=0}function yQ(c){var u=this.__data__,g=x_(u,c);if(g<0)return!1;var y=u.length-1;return g==y?u.pop():m_.call(u,g,1),--this.size,!0}function kQ(c){var u=this.__data__,g=x_(u,c);return g<0?n:u[g][1]}function bQ(c){return x_(this.__data__,c)>-1}function xQ(c,u){var g=this.__data__,y=x_(g,c);return y<0?(++this.size,g.push([c,u])):g[y][1]=u,this}Ml.prototype.clear=_Q,Ml.prototype.delete=yQ,Ml.prototype.get=kQ,Ml.prototype.has=bQ,Ml.prototype.set=xQ;function Sl(c){var u=-1,g=c==null?0:c.length;for(this.clear();++u<g;){var y=c[u];this.set(y[0],y[1])}}function CQ(){this.size=0,this.__data__={hash:new zu,map:new(Rm||Ml),string:new zu}}function EQ(c){var u=N_(this,c).delete(c);return this.size-=u?1:0,u}function MQ(c){return N_(this,c).get(c)}function SQ(c){return N_(this,c).has(c)}function IQ(c,u){var g=N_(this,c),y=g.size;return g.set(c,u),this.size+=g.size==y?0:1,this}Sl.prototype.clear=CQ,Sl.prototype.delete=EQ,Sl.prototype.get=MQ,Sl.prototype.has=SQ,Sl.prototype.set=IQ;function $u(c){var u=-1,g=c==null?0:c.length;for(this.__data__=new Sl;++u<g;)this.add(c[u])}function AQ(c){return this.__data__.set(c,s),this}function TQ(c){return this.__data__.has(c)}$u.prototype.add=$u.prototype.push=AQ,$u.prototype.has=TQ;function js(c){var u=this.__data__=new Ml(c);this.size=u.size}function DQ(){this.__data__=new Ml,this.size=0}function RQ(c){var u=this.__data__,g=u.delete(c);return this.size=u.size,g}function PQ(c){return this.__data__.get(c)}function OQ(c){return this.__data__.has(c)}function NQ(c,u){var g=this.__data__;if(g instanceof Ml){var y=g.__data__;if(!Rm||y.length<t-1)return y.push([c,u]),this.size=++g.size,this;g=this.__data__=new Sl(y)}return g.set(c,u),this.size=g.size,this}js.prototype.clear=DQ,js.prototype.delete=RQ,js.prototype.get=PQ,js.prototype.has=OQ,js.prototype.set=NQ;function F8(c,u){var g=St(c),y=!g&&Yu(c),E=!g&&!y&&dd(c),N=!g&&!y&&!E&&lf(c),$=g||y||E||N,G=$?J(c.length,WZ):[],Q=G.length;for(var fe in c)(u||Cn.call(c,fe))&&!($&&(fe=="length"||E&&(fe=="offset"||fe=="parent")||N&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||Dl(fe,Q)))&&G.push(fe);return G}function B8(c){var u=c.length;return u?c[VM(0,u-1)]:n}function LQ(c,u){return L_(bo(c),Wu(u,0,c.length))}function FQ(c){return L_(bo(c))}function AM(c,u,g){(g!==n&&!Hs(c[u],g)||g===n&&!(u in c))&&Il(c,u,g)}function Lm(c,u,g){var y=c[u];(!(Cn.call(c,u)&&Hs(y,g))||g===n&&!(u in c))&&Il(c,u,g)}function x_(c,u){for(var g=c.length;g--;)if(Hs(c[g][0],u))return g;return-1}function BQ(c,u,g,y){return sd(c,function(E,N,$){u(y,E,g(E),$)}),y}function V8(c,u){return c&&ba(u,li(u),c)}function VQ(c,u){return c&&ba(u,Co(u),c)}function Il(c,u,g){u=="__proto__"&&v_?v_(c,u,{configurable:!0,enumerable:!0,value:g,writable:!0}):c[u]=g}function TM(c,u){for(var g=-1,y=u.length,E=oe(y),N=c==null;++g<y;)E[g]=N?n:dS(c,u[g]);return E}function Wu(c,u,g){return c===c&&(g!==n&&(c=c<=g?c:g),u!==n&&(c=c>=u?c:u)),c}function cs(c,u,g,y,E,N){var $,G=u&d,Q=u&h,fe=u&f;if(g&&($=E?g(c,y,E,N):g(c)),$!==n)return $;if(!ir(c))return c;var me=St(c);if(me){if($=SJ(c),!G)return bo(c,$)}else{var _e=Vi(c),Ae=_e==Li||_e==Rs;if(dd(c))return cL(c,G);if(_e==Vo||_e==ze||Ae&&!E){if($=Q||Ae?{}:IL(c),!G)return Q?mJ(c,VQ($,c)):gJ(c,V8($,c))}else{if(!pn[_e])return E?c:{};$=IJ(c,_e,G)}}N||(N=new js);var $e=N.get(c);if($e)return $e;N.set(c,$),rF(c)?c.forEach(function(dt){$.add(cs(dt,u,g,dt,c,N))}):tF(c)&&c.forEach(function(dt,Gt){$.set(Gt,cs(dt,u,g,Gt,c,N))});var ct=fe?Q?XM:YM:Q?Co:li,Vt=me?n:ct(c);return ko(Vt||c,function(dt,Gt){Vt&&(Gt=dt,dt=c[Gt]),Lm($,Gt,cs(dt,u,g,Gt,c,N))}),$}function jQ(c){var u=li(c);return function(g){return j8(g,c,u)}}function j8(c,u,g){var y=g.length;if(c==null)return!y;for(c=On(c);y--;){var E=g[y],N=u[E],$=c[E];if($===n&&!(E in c)||!N($))return!1}return!0}function H8(c,u,g){if(typeof c!="function")throw new as(i);return zm(function(){c.apply(n,g)},u)}function Fm(c,u,g,y){var E=-1,N=Vu,$=!0,G=c.length,Q=[],fe=u.length;if(!G)return Q;g&&(u=An(u,Ot(g))),y?(N=ju,$=!1):u.length>=t&&(N=$t,$=!1,u=new $u(u));e:for(;++E<G;){var me=c[E],_e=g==null?me:g(me);if(me=y||me!==0?me:0,$&&_e===_e){for(var Ae=fe;Ae--;)if(u[Ae]===_e)continue e;Q.push(me)}else N(u,_e,y)||Q.push(me)}return Q}var sd=fL(ka),U8=fL(RM,!0);function HQ(c,u){var g=!0;return sd(c,function(y,E,N){return g=!!u(y,E,N),g}),g}function C_(c,u,g){for(var y=-1,E=c.length;++y<E;){var N=c[y],$=u(N);if($!=null&&(G===n?$===$&&!Uo($):g($,G)))var G=$,Q=N}return Q}function UQ(c,u,g,y){var E=c.length;for(g=Nt(g),g<0&&(g=-g>E?0:E+g),y=y===n||y>E?E:Nt(y),y<0&&(y+=E),y=g>y?0:oF(y);g<y;)c[g++]=u;return c}function z8(c,u){var g=[];return sd(c,function(y,E,N){u(y,E,N)&&g.push(y)}),g}function yi(c,u,g,y,E){var N=-1,$=c.length;for(g||(g=TJ),E||(E=[]);++N<$;){var G=c[N];u>0&&g(G)?u>1?yi(G,u-1,g,y,E):Fs(E,G):y||(E[E.length]=G)}return E}var DM=gL(),$8=gL(!0);function ka(c,u){return c&&DM(c,u,li)}function RM(c,u){return c&&$8(c,u,li)}function E_(c,u){return Ls(u,function(g){return Rl(c[g])})}function Gu(c,u){u=ld(u,c);for(var g=0,y=u.length;c!=null&&g<y;)c=c[xa(u[g++])];return g&&g==y?c:n}function W8(c,u,g){var y=u(c);return St(c)?y:Fs(y,g(c))}function to(c){return c==null?c===n?Pw:sm:Uu&&Uu in On(c)?CJ(c):FJ(c)}function PM(c,u){return c>u}function zQ(c,u){return c!=null&&Cn.call(c,u)}function $Q(c,u){return c!=null&&u in On(c)}function WQ(c,u,g){return c>=Bi(u,g)&&c<Yr(u,g)}function OM(c,u,g){for(var y=g?ju:Vu,E=c[0].length,N=c.length,$=N,G=oe(N),Q=1/0,fe=[];$--;){var me=c[$];$&&u&&(me=An(me,Ot(u))),Q=Bi(me.length,Q),G[$]=!g&&(u||E>=120&&me.length>=120)?new $u($&&me):n}me=c[0];var _e=-1,Ae=G[0];e:for(;++_e<E&&fe.length<Q;){var $e=me[_e],ct=u?u($e):$e;if($e=g||$e!==0?$e:0,!(Ae?$t(Ae,ct):y(fe,ct,g))){for($=N;--$;){var Vt=G[$];if(!(Vt?$t(Vt,ct):y(c[$],ct,g)))continue e}Ae&&Ae.push(ct),fe.push($e)}}return fe}function GQ(c,u,g,y){return ka(c,function(E,N,$){u(y,g(E),N,$)}),y}function Bm(c,u,g){u=ld(u,c),c=RL(c,u);var y=c==null?c:c[xa(us(u))];return y==null?n:Fi(y,c,g)}function G8(c){return pr(c)&&to(c)==ze}function qQ(c){return pr(c)&&to(c)==kl}function KQ(c){return pr(c)&&to(c)==Qe}function Vm(c,u,g,y,E){return c===u?!0:c==null||u==null||!pr(c)&&!pr(u)?c!==c&&u!==u:YQ(c,u,g,y,Vm,E)}function YQ(c,u,g,y,E,N){var $=St(c),G=St(u),Q=$?Pn:Vi(c),fe=G?Pn:Vi(u);Q=Q==ze?Vo:Q,fe=fe==ze?Vo:fe;var me=Q==Vo,_e=fe==Vo,Ae=Q==fe;if(Ae&&dd(c)){if(!dd(u))return!1;$=!0,me=!1}if(Ae&&!me)return N||(N=new js),$||lf(c)?EL(c,u,g,y,E,N):bJ(c,u,Q,g,y,E,N);if(!(g&m)){var $e=me&&Cn.call(c,"__wrapped__"),ct=_e&&Cn.call(u,"__wrapped__");if($e||ct){var Vt=$e?c.value():c,dt=ct?u.value():u;return N||(N=new js),E(Vt,dt,g,y,N)}}return Ae?(N||(N=new js),xJ(c,u,g,y,E,N)):!1}function XQ(c){return pr(c)&&Vi(c)==Dr}function NM(c,u,g,y){var E=g.length,N=E,$=!y;if(c==null)return!N;for(c=On(c);E--;){var G=g[E];if($&&G[2]?G[1]!==c[G[0]]:!(G[0]in c))return!1}for(;++E<N;){G=g[E];var Q=G[0],fe=c[Q],me=G[1];if($&&G[2]){if(fe===n&&!(Q in c))return!1}else{var _e=new js;if(y)var Ae=y(fe,me,Q,c,u,_e);if(!(Ae===n?Vm(me,fe,m|v,y,_e):Ae))return!1}}return!0}function q8(c){if(!ir(c)||RJ(c))return!1;var u=Rl(c)?XZ:jp;return u.test(Ku(c))}function ZQ(c){return pr(c)&&to(c)==xu}function QQ(c){return pr(c)&&Vi(c)==yo}function JQ(c){return pr(c)&&U_(c.length)&&!!hn[to(c)]}function K8(c){return typeof c=="function"?c:c==null?Eo:typeof c=="object"?St(c)?Z8(c[0],c[1]):X8(c):mF(c)}function LM(c){if(!Um(c))return nQ(c);var u=[];for(var g in On(c))Cn.call(c,g)&&g!="constructor"&&u.push(g);return u}function eJ(c){if(!ir(c))return LJ(c);var u=Um(c),g=[];for(var y in c)y=="constructor"&&(u||!Cn.call(c,y))||g.push(y);return g}function FM(c,u){return c<u}function Y8(c,u){var g=-1,y=xo(c)?oe(c.length):[];return sd(c,function(E,N,$){y[++g]=u(E,N,$)}),y}function X8(c){var u=QM(c);return u.length==1&&u[0][2]?TL(u[0][0],u[0][1]):function(g){return g===c||NM(g,c,u)}}function Z8(c,u){return eS(c)&&AL(u)?TL(xa(c),u):function(g){var y=dS(g,c);return y===n&&y===u?uS(g,c):Vm(u,y,m|v)}}function M_(c,u,g,y,E){c!==u&&DM(u,function(N,$){if(E||(E=new js),ir(N))tJ(c,u,$,g,M_,y,E);else{var G=y?y(nS(c,$),N,$+"",c,u,E):n;G===n&&(G=N),AM(c,$,G)}},Co)}function tJ(c,u,g,y,E,N,$){var G=nS(c,g),Q=nS(u,g),fe=$.get(Q);if(fe){AM(c,g,fe);return}var me=N?N(G,Q,g+"",c,u,$):n,_e=me===n;if(_e){var Ae=St(Q),$e=!Ae&&dd(Q),ct=!Ae&&!$e&&lf(Q);me=Q,Ae||$e||ct?St(G)?me=G:yr(G)?me=bo(G):$e?(_e=!1,me=cL(Q,!0)):ct?(_e=!1,me=dL(Q,!0)):me=[]:$m(Q)||Yu(Q)?(me=G,Yu(G)?me=sF(G):(!ir(G)||Rl(G))&&(me=IL(Q))):_e=!1}_e&&($.set(Q,me),E(me,Q,y,N,$),$.delete(Q)),AM(c,g,me)}function Q8(c,u){var g=c.length;if(g)return u+=u<0?g:0,Dl(u,g)?c[u]:n}function J8(c,u,g){u.length?u=An(u,function(N){return St(N)?function($){return Gu($,N.length===1?N[0]:N)}:N}):u=[Eo];var y=-1;u=An(u,Ot(ot()));var E=Y8(c,function(N,$,G){var Q=An(u,function(fe){return fe(N)});return{criteria:Q,index:++y,value:N}});return k(E,function(N,$){return fJ(N,$,g)})}function nJ(c,u){return eL(c,u,function(g,y){return uS(c,y)})}function eL(c,u,g){for(var y=-1,E=u.length,N={};++y<E;){var $=u[y],G=Gu(c,$);g(G,$)&&jm(N,ld($,c),G)}return N}function rJ(c){return function(u){return Gu(u,c)}}function BM(c,u,g,y){var E=y?eo:Bs,N=-1,$=u.length,G=c;for(c===u&&(u=bo(u)),g&&(G=An(c,Ot(g)));++N<$;)for(var Q=0,fe=u[N],me=g?g(fe):fe;(Q=E(G,me,Q,y))>-1;)G!==c&&m_.call(G,Q,1),m_.call(c,Q,1);return c}function tL(c,u){for(var g=c?u.length:0,y=g-1;g--;){var E=u[g];if(g==y||E!==N){var N=E;Dl(E)?m_.call(c,E,1):UM(c,E)}}return c}function VM(c,u){return c+__(N8()*(u-c+1))}function iJ(c,u,g,y){for(var E=-1,N=Yr(w_((u-c)/(g||1)),0),$=oe(N);N--;)$[y?N:++E]=c,c+=g;return $}function jM(c,u){var g="";if(!c||u<1||u>Mt)return g;do u%2&&(g+=c),u=__(u/2),u&&(c+=c);while(u);return g}function Ht(c,u){return rS(DL(c,u,Eo),c+"")}function oJ(c){return B8(cf(c))}function sJ(c,u){var g=cf(c);return L_(g,Wu(u,0,g.length))}function jm(c,u,g,y){if(!ir(c))return c;u=ld(u,c);for(var E=-1,N=u.length,$=N-1,G=c;G!=null&&++E<N;){var Q=xa(u[E]),fe=g;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return c;if(E!=$){var me=G[Q];fe=y?y(me,Q,G):n,fe===n&&(fe=ir(me)?me:Dl(u[E+1])?[]:{})}Lm(G,Q,fe),G=G[Q]}return c}var nL=y_?function(c,u){return y_.set(c,u),c}:Eo,aJ=v_?function(c,u){return v_(c,"toString",{configurable:!0,enumerable:!1,value:pS(u),writable:!0})}:Eo;function lJ(c){return L_(cf(c))}function ds(c,u,g){var y=-1,E=c.length;u<0&&(u=-u>E?0:E+u),g=g>E?E:g,g<0&&(g+=E),E=u>g?0:g-u>>>0,u>>>=0;for(var N=oe(E);++y<E;)N[y]=c[y+u];return N}function cJ(c,u){var g;return sd(c,function(y,E,N){return g=u(y,E,N),!g}),!!g}function S_(c,u,g){var y=0,E=c==null?y:c.length;if(typeof u=="number"&&u===u&&E<=zr){for(;y<E;){var N=y+E>>>1,$=c[N];$!==null&&!Uo($)&&(g?$<=u:$<u)?y=N+1:E=N}return E}return HM(c,u,Eo,g)}function HM(c,u,g,y){var E=0,N=c==null?0:c.length;if(N===0)return 0;u=g(u);for(var $=u!==u,G=u===null,Q=Uo(u),fe=u===n;E<N;){var me=__((E+N)/2),_e=g(c[me]),Ae=_e!==n,$e=_e===null,ct=_e===_e,Vt=Uo(_e);if($)var dt=y||ct;else fe?dt=ct&&(y||Ae):G?dt=ct&&Ae&&(y||!$e):Q?dt=ct&&Ae&&!$e&&(y||!Vt):$e||Vt?dt=!1:dt=y?_e<=u:_e<u;dt?E=me+1:N=me}return Bi(N,Qi)}function rL(c,u){for(var g=-1,y=c.length,E=0,N=[];++g<y;){var $=c[g],G=u?u($):$;if(!g||!Hs(G,Q)){var Q=G;N[E++]=$===0?0:$}}return N}function iL(c){return typeof c=="number"?c:Uo(c)?ye:+c}function Ho(c){if(typeof c=="string")return c;if(St(c))return An(c,Ho)+"";if(Uo(c))return L8?L8.call(c):"";var u=c+"";return u=="0"&&1/c==-ht?"-0":u}function ad(c,u,g){var y=-1,E=Vu,N=c.length,$=!0,G=[],Q=G;if(g)$=!1,E=ju;else if(N>=t){var fe=u?null:yJ(c);if(fe)return l_(fe);$=!1,E=$t,Q=new $u}else Q=u?[]:G;e:for(;++y<N;){var me=c[y],_e=u?u(me):me;if(me=g||me!==0?me:0,$&&_e===_e){for(var Ae=Q.length;Ae--;)if(Q[Ae]===_e)continue e;u&&Q.push(_e),G.push(me)}else E(Q,_e,g)||(Q!==G&&Q.push(_e),G.push(me))}return G}function UM(c,u){return u=ld(u,c),c=RL(c,u),c==null||delete c[xa(us(u))]}function oL(c,u,g,y){return jm(c,u,g(Gu(c,u)),y)}function I_(c,u,g,y){for(var E=c.length,N=y?E:-1;(y?N--:++N<E)&&u(c[N],N,c););return g?ds(c,y?0:N,y?N+1:E):ds(c,y?N+1:0,y?E:N)}function sL(c,u){var g=c;return g instanceof Kt&&(g=g.value()),td(u,function(y,E){return E.func.apply(E.thisArg,Fs([y],E.args))},g)}function zM(c,u,g){var y=c.length;if(y<2)return y?ad(c[0]):[];for(var E=-1,N=oe(y);++E<y;)for(var $=c[E],G=-1;++G<y;)G!=E&&(N[E]=Fm(N[E]||$,c[G],u,g));return ad(yi(N,1),u,g)}function aL(c,u,g){for(var y=-1,E=c.length,N=u.length,$={};++y<E;){var G=y<N?u[y]:n;g($,c[y],G)}return $}function $M(c){return yr(c)?c:[]}function WM(c){return typeof c=="function"?c:Eo}function ld(c,u){return St(c)?c:eS(c,u)?[c]:LL(vn(c))}var dJ=Ht;function cd(c,u,g){var y=c.length;return g=g===n?y:g,!u&&g>=y?c:ds(c,u,g)}var lL=ZZ||function(c){return wr.clearTimeout(c)};function cL(c,u){if(u)return c.slice();var g=c.length,y=T8?T8(g):new c.constructor(g);return c.copy(y),y}function GM(c){var u=new c.constructor(c.byteLength);return new f_(u).set(new f_(c)),u}function uJ(c,u){var g=u?GM(c.buffer):c.buffer;return new c.constructor(g,c.byteOffset,c.byteLength)}function hJ(c){var u=new c.constructor(c.source,Iu.exec(c));return u.lastIndex=c.lastIndex,u}function pJ(c){return Nm?On(Nm.call(c)):{}}function dL(c,u){var g=u?GM(c.buffer):c.buffer;return new c.constructor(g,c.byteOffset,c.length)}function uL(c,u){if(c!==u){var g=c!==n,y=c===null,E=c===c,N=Uo(c),$=u!==n,G=u===null,Q=u===u,fe=Uo(u);if(!G&&!fe&&!N&&c>u||N&&$&&Q&&!G&&!fe||y&&$&&Q||!g&&Q||!E)return 1;if(!y&&!N&&!fe&&c<u||fe&&g&&E&&!y&&!N||G&&g&&E||!$&&E||!Q)return-1}return 0}function fJ(c,u,g){for(var y=-1,E=c.criteria,N=u.criteria,$=E.length,G=g.length;++y<$;){var Q=uL(E[y],N[y]);if(Q){if(y>=G)return Q;var fe=g[y];return Q*(fe=="desc"?-1:1)}}return c.index-u.index}function hL(c,u,g,y){for(var E=-1,N=c.length,$=g.length,G=-1,Q=u.length,fe=Yr(N-$,0),me=oe(Q+fe),_e=!y;++G<Q;)me[G]=u[G];for(;++E<$;)(_e||E<N)&&(me[g[E]]=c[E]);for(;fe--;)me[G++]=c[E++];return me}function pL(c,u,g,y){for(var E=-1,N=c.length,$=-1,G=g.length,Q=-1,fe=u.length,me=Yr(N-G,0),_e=oe(me+fe),Ae=!y;++E<me;)_e[E]=c[E];for(var $e=E;++Q<fe;)_e[$e+Q]=u[Q];for(;++$<G;)(Ae||E<N)&&(_e[$e+g[$]]=c[E++]);return _e}function bo(c,u){var g=-1,y=c.length;for(u||(u=oe(y));++g<y;)u[g]=c[g];return u}function ba(c,u,g,y){var E=!g;g||(g={});for(var N=-1,$=u.length;++N<$;){var G=u[N],Q=y?y(g[G],c[G],G,g,c):n;Q===n&&(Q=c[G]),E?Il(g,G,Q):Lm(g,G,Q)}return g}function gJ(c,u){return ba(c,JM(c),u)}function mJ(c,u){return ba(c,ML(c),u)}function A_(c,u){return function(g,y){var E=St(g)?Yp:BQ,N=u?u():{};return E(g,c,ot(y,2),N)}}function of(c){return Ht(function(u,g){var y=-1,E=g.length,N=E>1?g[E-1]:n,$=E>2?g[2]:n;for(N=c.length>3&&typeof N=="function"?(E--,N):n,$&&no(g[0],g[1],$)&&(N=E<3?n:N,E=1),u=On(u);++y<E;){var G=g[y];G&&c(u,G,y,N)}return u})}function fL(c,u){return function(g,y){if(g==null)return g;if(!xo(g))return c(g,y);for(var E=g.length,N=u?E:-1,$=On(g);(u?N--:++N<E)&&y($[N],N,$)!==!1;);return g}}function gL(c){return function(u,g,y){for(var E=-1,N=On(u),$=y(u),G=$.length;G--;){var Q=$[c?G:++E];if(g(N[Q],Q,N)===!1)break}return u}}function vJ(c,u,g){var y=u&_,E=Hm(c);function N(){var $=this&&this!==wr&&this instanceof N?E:c;return $.apply(y?g:this,arguments)}return N}function mL(c){return function(u){u=vn(u);var g=Qp(u)?Vs(u):n,y=g?g[0]:u.charAt(0),E=g?cd(g,1).join(""):u.slice(1);return y[c]()+E}}function sf(c){return function(u){return td(fF(pF(u).replace(Jw,"")),c,"")}}function Hm(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var g=rf(c.prototype),y=c.apply(g,u);return ir(y)?y:g}}function wJ(c,u,g){var y=Hm(c);function E(){for(var N=arguments.length,$=oe(N),G=N,Q=af(E);G--;)$[G]=arguments[G];var fe=N<3&&$[0]!==Q&&$[N-1]!==Q?[]:rd($,Q);if(N-=fe.length,N<g)return kL(c,u,T_,E.placeholder,n,$,fe,n,n,g-N);var me=this&&this!==wr&&this instanceof E?y:c;return Fi(me,this,$)}return E}function vL(c){return function(u,g,y){var E=On(u);if(!xo(u)){var N=ot(g,3);u=li(u),g=function(G){return N(E[G],G,E)}}var $=c(u,g,y);return $>-1?E[N?u[$]:$]:n}}function wL(c){return Tl(function(u){var g=u.length,y=g,E=ls.prototype.thru;for(c&&u.reverse();y--;){var N=u[y];if(typeof N!="function")throw new as(i);if(E&&!$&&O_(N)=="wrapper")var $=new ls([],!0)}for(y=$?y:g;++y<g;){N=u[y];var G=O_(N),Q=G=="wrapper"?ZM(N):n;Q&&tS(Q[0])&&Q[1]==(q|M|j|Y)&&!Q[4].length&&Q[9]==1?$=$[O_(Q[0])].apply($,Q[3]):$=N.length==1&&tS(N)?$[G]():$.thru(N)}return function(){var fe=arguments,me=fe[0];if($&&fe.length==1&&St(me))return $.plant(me).value();for(var _e=0,Ae=g?u[_e].apply(this,fe):me;++_e<g;)Ae=u[_e].call(this,Ae);return Ae}})}function T_(c,u,g,y,E,N,$,G,Q,fe){var me=u&q,_e=u&_,Ae=u&b,$e=u&(M|B),ct=u&F,Vt=Ae?n:Hm(c);function dt(){for(var Gt=arguments.length,Zt=oe(Gt),zo=Gt;zo--;)Zt[zo]=arguments[zo];if($e)var ro=af(dt),$o=nd(Zt,ro);if(y&&(Zt=hL(Zt,y,E,$e)),N&&(Zt=pL(Zt,N,$,$e)),Gt-=$o,$e&&Gt<fe){var kr=rd(Zt,ro);return kL(c,u,T_,dt.placeholder,g,Zt,kr,G,Q,fe-Gt)}var Us=_e?g:this,Ol=Ae?Us[c]:c;return Gt=Zt.length,G?Zt=BJ(Zt,G):ct&&Gt>1&&Zt.reverse(),me&&Q<Gt&&(Zt.length=Q),this&&this!==wr&&this instanceof dt&&(Ol=Vt||Hm(Ol)),Ol.apply(Us,Zt)}return dt}function _L(c,u){return function(g,y){return GQ(g,c,u(y),{})}}function D_(c,u){return function(g,y){var E;if(g===n&&y===n)return u;if(g!==n&&(E=g),y!==n){if(E===n)return y;typeof g=="string"||typeof y=="string"?(g=Ho(g),y=Ho(y)):(g=iL(g),y=iL(y)),E=c(g,y)}return E}}function qM(c){return Tl(function(u){return u=An(u,Ot(ot())),Ht(function(g){var y=this;return c(u,function(E){return Fi(E,y,g)})})})}function R_(c,u){u=u===n?" ":Ho(u);var g=u.length;if(g<2)return g?jM(u,c):u;var y=jM(u,w_(c/Jp(u)));return Qp(u)?cd(Vs(y),0,c).join(""):y.slice(0,c)}function _J(c,u,g,y){var E=u&_,N=Hm(c);function $(){for(var G=-1,Q=arguments.length,fe=-1,me=y.length,_e=oe(me+Q),Ae=this&&this!==wr&&this instanceof $?N:c;++fe<me;)_e[fe]=y[fe];for(;Q--;)_e[fe++]=arguments[++G];return Fi(Ae,E?g:this,_e)}return $}function yL(c){return function(u,g,y){return y&&typeof y!="number"&&no(u,g,y)&&(g=y=n),u=Pl(u),g===n?(g=u,u=0):g=Pl(g),y=y===n?u<g?1:-1:Pl(y),iJ(u,g,y,c)}}function P_(c){return function(u,g){return typeof u=="string"&&typeof g=="string"||(u=hs(u),g=hs(g)),c(u,g)}}function kL(c,u,g,y,E,N,$,G,Q,fe){var me=u&M,_e=me?$:n,Ae=me?n:$,$e=me?N:n,ct=me?n:N;u|=me?j:H,u&=~(me?H:j),u&T||(u&=~(_|b));var Vt=[c,u,E,$e,_e,ct,Ae,G,Q,fe],dt=g.apply(n,Vt);return tS(c)&&PL(dt,Vt),dt.placeholder=y,OL(dt,c,u)}function KM(c){var u=Kr[c];return function(g,y){if(g=hs(g),y=y==null?0:Bi(Nt(y),292),y&&O8(g)){var E=(vn(g)+"e").split("e"),N=u(E[0]+"e"+(+E[1]+y));return E=(vn(N)+"e").split("e"),+(E[0]+"e"+(+E[1]-y))}return u(g)}}var yJ=tf&&1/l_(new tf([,-0]))[1]==ht?function(c){return new tf(c)}:mS;function bL(c){return function(u){var g=Vi(u);return g==Dr?CM(u):g==yo?FZ(u):ie(u,c(u))}}function Al(c,u,g,y,E,N,$,G){var Q=u&b;if(!Q&&typeof c!="function")throw new as(i);var fe=y?y.length:0;if(fe||(u&=~(j|H),y=E=n),$=$===n?$:Yr(Nt($),0),G=G===n?G:Nt(G),fe-=E?E.length:0,u&H){var me=y,_e=E;y=E=n}var Ae=Q?n:ZM(c),$e=[c,u,g,y,E,me,_e,N,$,G];if(Ae&&NJ($e,Ae),c=$e[0],u=$e[1],g=$e[2],y=$e[3],E=$e[4],G=$e[9]=$e[9]===n?Q?0:c.length:Yr($e[9]-fe,0),!G&&u&(M|B)&&(u&=~(M|B)),!u||u==_)var ct=vJ(c,u,g);else u==M||u==B?ct=wJ(c,u,G):(u==j||u==(_|j))&&!E.length?ct=_J(c,u,g,y):ct=T_.apply(n,$e);var Vt=Ae?nL:PL;return OL(Vt(ct,$e),c,u)}function xL(c,u,g,y){return c===n||Hs(c,ef[g])&&!Cn.call(y,g)?u:c}function CL(c,u,g,y,E,N){return ir(c)&&ir(u)&&(N.set(u,c),M_(c,u,n,CL,N),N.delete(u)),c}function kJ(c){return $m(c)?n:c}function EL(c,u,g,y,E,N){var $=g&m,G=c.length,Q=u.length;if(G!=Q&&!($&&Q>G))return!1;var fe=N.get(c),me=N.get(u);if(fe&&me)return fe==u&&me==c;var _e=-1,Ae=!0,$e=g&v?new $u:n;for(N.set(c,u),N.set(u,c);++_e<G;){var ct=c[_e],Vt=u[_e];if(y)var dt=$?y(Vt,ct,_e,u,c,N):y(ct,Vt,_e,c,u,N);if(dt!==n){if(dt)continue;Ae=!1;break}if($e){if(!Xp(u,function(Gt,Zt){if(!$t($e,Zt)&&(ct===Gt||E(ct,Gt,g,y,N)))return $e.push(Zt)})){Ae=!1;break}}else if(!(ct===Vt||E(ct,Vt,g,y,N))){Ae=!1;break}}return N.delete(c),N.delete(u),Ae}function bJ(c,u,g,y,E,N,$){switch(g){case ga:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case kl:return!(c.byteLength!=u.byteLength||!N(new f_(c),new f_(u)));case rr:case Qe:case yl:return Hs(+c,+u);case Ji:return c.name==u.name&&c.message==u.message;case xu:case $c:return c==u+"";case Dr:var G=CM;case yo:var Q=y&m;if(G||(G=l_),c.size!=u.size&&!Q)return!1;var fe=$.get(c);if(fe)return fe==u;y|=v,$.set(c,u);var me=EL(G(c),G(u),y,E,N,$);return $.delete(c),me;case Wc:if(Nm)return Nm.call(c)==Nm.call(u)}return!1}function xJ(c,u,g,y,E,N){var $=g&m,G=YM(c),Q=G.length,fe=YM(u),me=fe.length;if(Q!=me&&!$)return!1;for(var _e=Q;_e--;){var Ae=G[_e];if(!($?Ae in u:Cn.call(u,Ae)))return!1}var $e=N.get(c),ct=N.get(u);if($e&&ct)return $e==u&&ct==c;var Vt=!0;N.set(c,u),N.set(u,c);for(var dt=$;++_e<Q;){Ae=G[_e];var Gt=c[Ae],Zt=u[Ae];if(y)var zo=$?y(Zt,Gt,Ae,u,c,N):y(Gt,Zt,Ae,c,u,N);if(!(zo===n?Gt===Zt||E(Gt,Zt,g,y,N):zo)){Vt=!1;break}dt||(dt=Ae=="constructor")}if(Vt&&!dt){var ro=c.constructor,$o=u.constructor;ro!=$o&&"constructor"in c&&"constructor"in u&&!(typeof ro=="function"&&ro instanceof ro&&typeof $o=="function"&&$o instanceof $o)&&(Vt=!1)}return N.delete(c),N.delete(u),Vt}function Tl(c){return rS(DL(c,n,jL),c+"")}function YM(c){return W8(c,li,JM)}function XM(c){return W8(c,Co,ML)}var ZM=y_?function(c){return y_.get(c)}:mS;function O_(c){for(var u=c.name+"",g=nf[u],y=Cn.call(nf,u)?g.length:0;y--;){var E=g[y],N=E.func;if(N==null||N==c)return E.name}return u}function af(c){var u=Cn.call(R,"placeholder")?R:c;return u.placeholder}function ot(){var c=R.iteratee||fS;return c=c===fS?K8:c,arguments.length?c(arguments[0],arguments[1]):c}function N_(c,u){var g=c.__data__;return DJ(u)?g[typeof u=="string"?"string":"hash"]:g.map}function QM(c){for(var u=li(c),g=u.length;g--;){var y=u[g],E=c[y];u[g]=[y,E,AL(E)]}return u}function qu(c,u){var g=OZ(c,u);return q8(g)?g:n}function CJ(c){var u=Cn.call(c,Uu),g=c[Uu];try{c[Uu]=n;var y=!0}catch{}var E=h_.call(c);return y&&(u?c[Uu]=g:delete c[Uu]),E}var JM=MM?function(c){return c==null?[]:(c=On(c),Ls(MM(c),function(u){return R8.call(c,u)}))}:vS,ML=MM?function(c){for(var u=[];c;)Fs(u,JM(c)),c=g_(c);return u}:vS,Vi=to;(SM&&Vi(new SM(new ArrayBuffer(1)))!=ga||Rm&&Vi(new Rm)!=Dr||IM&&Vi(IM.resolve())!=am||tf&&Vi(new tf)!=yo||Pm&&Vi(new Pm)!=Cu)&&(Vi=function(c){var u=to(c),g=u==Vo?c.constructor:n,y=g?Ku(g):"";if(y)switch(y){case sQ:return ga;case aQ:return Dr;case lQ:return am;case cQ:return yo;case dQ:return Cu}return u});function EJ(c,u,g){for(var y=-1,E=g.length;++y<E;){var N=g[y],$=N.size;switch(N.type){case"drop":c+=$;break;case"dropRight":u-=$;break;case"take":u=Bi(u,c+$);break;case"takeRight":c=Yr(c,u-$);break}}return{start:c,end:u}}function MJ(c){var u=c.match(Su);return u?u[1].split(uM):[]}function SL(c,u,g){u=ld(u,c);for(var y=-1,E=u.length,N=!1;++y<E;){var $=xa(u[y]);if(!(N=c!=null&&g(c,$)))break;c=c[$]}return N||++y!=E?N:(E=c==null?0:c.length,!!E&&U_(E)&&Dl($,E)&&(St(c)||Yu(c)))}function SJ(c){var u=c.length,g=new c.constructor(u);return u&&typeof c[0]=="string"&&Cn.call(c,"index")&&(g.index=c.index,g.input=c.input),g}function IL(c){return typeof c.constructor=="function"&&!Um(c)?rf(g_(c)):{}}function IJ(c,u,g){var y=c.constructor;switch(u){case kl:return GM(c);case rr:case Qe:return new y(+c);case ga:return uJ(c,g);case Rr:case $r:case Gc:case Op:case Np:case cm:case bl:case Lp:case Fp:return dL(c,g);case Dr:return new y;case yl:case $c:return new y(c);case xu:return hJ(c);case yo:return new y;case Wc:return pJ(c)}}function AJ(c,u){var g=u.length;if(!g)return c;var y=g-1;return u[y]=(g>1?"& ":"")+u[y],u=u.join(g>2?", ":" "),c.replace(Mu,`{
/* [wrapped with `+u+`] */
`)}function TJ(c){return St(c)||Yu(c)||!!(P8&&c&&c[P8])}function Dl(c,u){var g=typeof c;return u=u??Mt,!!u&&(g=="number"||g!="symbol"&&jw.test(c))&&c>-1&&c%1==0&&c<u}function no(c,u,g){if(!ir(g))return!1;var y=typeof u;return(y=="number"?xo(g)&&Dl(u,g.length):y=="string"&&u in g)?Hs(g[u],c):!1}function eS(c,u){if(St(c))return!1;var g=typeof c;return g=="number"||g=="symbol"||g=="boolean"||c==null||Uo(c)?!0:Vp.test(c)||!Nw.test(c)||u!=null&&c in On(u)}function DJ(c){var u=typeof c;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?c!=="__proto__":c===null}function tS(c){var u=O_(c),g=R[u];if(typeof g!="function"||!(u in Kt.prototype))return!1;if(c===g)return!0;var y=ZM(g);return!!y&&c===y[0]}function RJ(c){return!!A8&&A8 in c}var PJ=d_?Rl:wS;function Um(c){var u=c&&c.constructor,g=typeof u=="function"&&u.prototype||ef;return c===g}function AL(c){return c===c&&!ir(c)}function TL(c,u){return function(g){return g==null?!1:g[c]===u&&(u!==n||c in On(g))}}function OJ(c){var u=j_(c,function(y){return g.size===a&&g.clear(),y}),g=u.cache;return u}function NJ(c,u){var g=c[1],y=u[1],E=g|y,N=E<(_|b|q),$=y==q&&g==M||y==q&&g==Y&&c[7].length<=u[8]||y==(q|Y)&&u[7].length<=u[8]&&g==M;if(!(N||$))return c;y&_&&(c[2]=u[2],E|=g&_?0:T);var G=u[3];if(G){var Q=c[3];c[3]=Q?hL(Q,G,u[4]):G,c[4]=Q?rd(c[3],l):u[4]}return G=u[5],G&&(Q=c[5],c[5]=Q?pL(Q,G,u[6]):G,c[6]=Q?rd(c[5],l):u[6]),G=u[7],G&&(c[7]=G),y&q&&(c[8]=c[8]==null?u[8]:Bi(c[8],u[8])),c[9]==null&&(c[9]=u[9]),c[0]=u[0],c[1]=E,c}function LJ(c){var u=[];if(c!=null)for(var g in On(c))u.push(g);return u}function FJ(c){return h_.call(c)}function DL(c,u,g){return u=Yr(u===n?c.length-1:u,0),function(){for(var y=arguments,E=-1,N=Yr(y.length-u,0),$=oe(N);++E<N;)$[E]=y[u+E];E=-1;for(var G=oe(u+1);++E<u;)G[E]=y[E];return G[u]=g($),Fi(c,this,G)}}function RL(c,u){return u.length<2?c:Gu(c,ds(u,0,-1))}function BJ(c,u){for(var g=c.length,y=Bi(u.length,g),E=bo(c);y--;){var N=u[y];c[y]=Dl(N,g)?E[N]:n}return c}function nS(c,u){if(!(u==="constructor"&&typeof c[u]=="function")&&u!="__proto__")return c[u]}var PL=NL(nL),zm=JZ||function(c,u){return wr.setTimeout(c,u)},rS=NL(aJ);function OL(c,u,g){var y=u+"";return rS(c,AJ(y,VJ(MJ(y),g)))}function NL(c){var u=0,g=0;return function(){var y=rQ(),E=U-(y-g);if(g=y,E>0){if(++u>=L)return arguments[0]}else u=0;return c.apply(n,arguments)}}function L_(c,u){var g=-1,y=c.length,E=y-1;for(u=u===n?y:u;++g<u;){var N=VM(g,E),$=c[N];c[N]=c[g],c[g]=$}return c.length=u,c}var LL=OJ(function(c){var u=[];return c.charCodeAt(0)===46&&u.push(""),c.replace(Lw,function(g,y,E,N){u.push(E?N.replace(pM,"$1"):y||g)}),u});function xa(c){if(typeof c=="string"||Uo(c))return c;var u=c+"";return u=="0"&&1/c==-ht?"-0":u}function Ku(c){if(c!=null){try{return u_.call(c)}catch{}try{return c+""}catch{}}return""}function VJ(c,u){return ko(an,function(g){var y="_."+g[0];u&g[1]&&!Vu(c,y)&&c.push(y)}),c.sort()}function FL(c){if(c instanceof Kt)return c.clone();var u=new ls(c.__wrapped__,c.__chain__);return u.__actions__=bo(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}function jJ(c,u,g){(g?no(c,u,g):u===n)?u=1:u=Yr(Nt(u),0);var y=c==null?0:c.length;if(!y||u<1)return[];for(var E=0,N=0,$=oe(w_(y/u));E<y;)$[N++]=ds(c,E,E+=u);return $}function HJ(c){for(var u=-1,g=c==null?0:c.length,y=0,E=[];++u<g;){var N=c[u];N&&(E[y++]=N)}return E}function UJ(){var c=arguments.length;if(!c)return[];for(var u=oe(c-1),g=arguments[0],y=c;y--;)u[y-1]=arguments[y];return Fs(St(g)?bo(g):[g],yi(u,1))}var zJ=Ht(function(c,u){return yr(c)?Fm(c,yi(u,1,yr,!0)):[]}),$J=Ht(function(c,u){var g=us(u);return yr(g)&&(g=n),yr(c)?Fm(c,yi(u,1,yr,!0),ot(g,2)):[]}),WJ=Ht(function(c,u){var g=us(u);return yr(g)&&(g=n),yr(c)?Fm(c,yi(u,1,yr,!0),n,g):[]});function GJ(c,u,g){var y=c==null?0:c.length;return y?(u=g||u===n?1:Nt(u),ds(c,u<0?0:u,y)):[]}function qJ(c,u,g){var y=c==null?0:c.length;return y?(u=g||u===n?1:Nt(u),u=y-u,ds(c,0,u<0?0:u)):[]}function KJ(c,u){return c&&c.length?I_(c,ot(u,3),!0,!0):[]}function YJ(c,u){return c&&c.length?I_(c,ot(u,3),!0):[]}function XJ(c,u,g,y){var E=c==null?0:c.length;return E?(g&&typeof g!="number"&&no(c,u,g)&&(g=0,y=E),UQ(c,u,g,y)):[]}function BL(c,u,g){var y=c==null?0:c.length;if(!y)return-1;var E=g==null?0:Nt(g);return E<0&&(E=Yr(y+E,0)),Hu(c,ot(u,3),E)}function VL(c,u,g){var y=c==null?0:c.length;if(!y)return-1;var E=y-1;return g!==n&&(E=Nt(g),E=g<0?Yr(y+E,0):Bi(E,y-1)),Hu(c,ot(u,3),E,!0)}function jL(c){var u=c==null?0:c.length;return u?yi(c,1):[]}function ZJ(c){var u=c==null?0:c.length;return u?yi(c,ht):[]}function QJ(c,u){var g=c==null?0:c.length;return g?(u=u===n?1:Nt(u),yi(c,u)):[]}function JJ(c){for(var u=-1,g=c==null?0:c.length,y={};++u<g;){var E=c[u];y[E[0]]=E[1]}return y}function HL(c){return c&&c.length?c[0]:n}function eee(c,u,g){var y=c==null?0:c.length;if(!y)return-1;var E=g==null?0:Nt(g);return E<0&&(E=Yr(y+E,0)),Bs(c,u,E)}function tee(c){var u=c==null?0:c.length;return u?ds(c,0,-1):[]}var nee=Ht(function(c){var u=An(c,$M);return u.length&&u[0]===c[0]?OM(u):[]}),ree=Ht(function(c){var u=us(c),g=An(c,$M);return u===us(g)?u=n:g.pop(),g.length&&g[0]===c[0]?OM(g,ot(u,2)):[]}),iee=Ht(function(c){var u=us(c),g=An(c,$M);return u=typeof u=="function"?u:n,u&&g.pop(),g.length&&g[0]===c[0]?OM(g,n,u):[]});function oee(c,u){return c==null?"":tQ.call(c,u)}function us(c){var u=c==null?0:c.length;return u?c[u-1]:n}function see(c,u,g){var y=c==null?0:c.length;if(!y)return-1;var E=y;return g!==n&&(E=Nt(g),E=E<0?Yr(y+E,0):Bi(E,y-1)),u===u?VZ(c,u,E):Hu(c,Im,E,!0)}function aee(c,u){return c&&c.length?Q8(c,Nt(u)):n}var lee=Ht(UL);function UL(c,u){return c&&c.length&&u&&u.length?BM(c,u):c}function cee(c,u,g){return c&&c.length&&u&&u.length?BM(c,u,ot(g,2)):c}function dee(c,u,g){return c&&c.length&&u&&u.length?BM(c,u,n,g):c}var uee=Tl(function(c,u){var g=c==null?0:c.length,y=TM(c,u);return tL(c,An(u,function(E){return Dl(E,g)?+E:E}).sort(uL)),y});function hee(c,u){var g=[];if(!(c&&c.length))return g;var y=-1,E=[],N=c.length;for(u=ot(u,3);++y<N;){var $=c[y];u($,y,c)&&(g.push($),E.push(y))}return tL(c,E),g}function iS(c){return c==null?c:oQ.call(c)}function pee(c,u,g){var y=c==null?0:c.length;return y?(g&&typeof g!="number"&&no(c,u,g)?(u=0,g=y):(u=u==null?0:Nt(u),g=g===n?y:Nt(g)),ds(c,u,g)):[]}function fee(c,u){return S_(c,u)}function gee(c,u,g){return HM(c,u,ot(g,2))}function mee(c,u){var g=c==null?0:c.length;if(g){var y=S_(c,u);if(y<g&&Hs(c[y],u))return y}return-1}function vee(c,u){return S_(c,u,!0)}function wee(c,u,g){return HM(c,u,ot(g,2),!0)}function _ee(c,u){var g=c==null?0:c.length;if(g){var y=S_(c,u,!0)-1;if(Hs(c[y],u))return y}return-1}function yee(c){return c&&c.length?rL(c):[]}function kee(c,u){return c&&c.length?rL(c,ot(u,2)):[]}function bee(c){var u=c==null?0:c.length;return u?ds(c,1,u):[]}function xee(c,u,g){return c&&c.length?(u=g||u===n?1:Nt(u),ds(c,0,u<0?0:u)):[]}function Cee(c,u,g){var y=c==null?0:c.length;return y?(u=g||u===n?1:Nt(u),u=y-u,ds(c,u<0?0:u,y)):[]}function Eee(c,u){return c&&c.length?I_(c,ot(u,3),!1,!0):[]}function Mee(c,u){return c&&c.length?I_(c,ot(u,3)):[]}var See=Ht(function(c){return ad(yi(c,1,yr,!0))}),Iee=Ht(function(c){var u=us(c);return yr(u)&&(u=n),ad(yi(c,1,yr,!0),ot(u,2))}),Aee=Ht(function(c){var u=us(c);return u=typeof u=="function"?u:n,ad(yi(c,1,yr,!0),n,u)});function Tee(c){return c&&c.length?ad(c):[]}function Dee(c,u){return c&&c.length?ad(c,ot(u,2)):[]}function Ree(c,u){return u=typeof u=="function"?u:n,c&&c.length?ad(c,n,u):[]}function oS(c){if(!(c&&c.length))return[];var u=0;return c=Ls(c,function(g){if(yr(g))return u=Yr(g.length,u),!0}),J(u,function(g){return An(c,ya(g))})}function zL(c,u){if(!(c&&c.length))return[];var g=oS(c);return u==null?g:An(g,function(y){return Fi(u,n,y)})}var Pee=Ht(function(c,u){return yr(c)?Fm(c,u):[]}),Oee=Ht(function(c){return zM(Ls(c,yr))}),Nee=Ht(function(c){var u=us(c);return yr(u)&&(u=n),zM(Ls(c,yr),ot(u,2))}),Lee=Ht(function(c){var u=us(c);return u=typeof u=="function"?u:n,zM(Ls(c,yr),n,u)}),Fee=Ht(oS);function Bee(c,u){return aL(c||[],u||[],Lm)}function Vee(c,u){return aL(c||[],u||[],jm)}var jee=Ht(function(c){var u=c.length,g=u>1?c[u-1]:n;return g=typeof g=="function"?(c.pop(),g):n,zL(c,g)});function $L(c){var u=R(c);return u.__chain__=!0,u}function Hee(c,u){return u(c),c}function F_(c,u){return u(c)}var Uee=Tl(function(c){var u=c.length,g=u?c[0]:0,y=this.__wrapped__,E=function(N){return TM(N,c)};return u>1||this.__actions__.length||!(y instanceof Kt)||!Dl(g)?this.thru(E):(y=y.slice(g,+g+(u?1:0)),y.__actions__.push({func:F_,args:[E],thisArg:n}),new ls(y,this.__chain__).thru(function(N){return u&&!N.length&&N.push(n),N}))});function zee(){return $L(this)}function $ee(){return new ls(this.value(),this.__chain__)}function Wee(){this.__values__===n&&(this.__values__=iF(this.value()));var c=this.__index__>=this.__values__.length,u=c?n:this.__values__[this.__index__++];return{done:c,value:u}}function Gee(){return this}function qee(c){for(var u,g=this;g instanceof b_;){var y=FL(g);y.__index__=0,y.__values__=n,u?E.__wrapped__=y:u=y;var E=y;g=g.__wrapped__}return E.__wrapped__=c,u}function Kee(){var c=this.__wrapped__;if(c instanceof Kt){var u=c;return this.__actions__.length&&(u=new Kt(this)),u=u.reverse(),u.__actions__.push({func:F_,args:[iS],thisArg:n}),new ls(u,this.__chain__)}return this.thru(iS)}function Yee(){return sL(this.__wrapped__,this.__actions__)}var Xee=A_(function(c,u,g){Cn.call(c,g)?++c[g]:Il(c,g,1)});function Zee(c,u,g){var y=St(c)?ed:HQ;return g&&no(c,u,g)&&(u=n),y(c,ot(u,3))}function Qee(c,u){var g=St(c)?Ls:z8;return g(c,ot(u,3))}var Jee=vL(BL),ete=vL(VL);function tte(c,u){return yi(B_(c,u),1)}function nte(c,u){return yi(B_(c,u),ht)}function rte(c,u,g){return g=g===n?1:Nt(g),yi(B_(c,u),g)}function WL(c,u){var g=St(c)?ko:sd;return g(c,ot(u,3))}function GL(c,u){var g=St(c)?i_:U8;return g(c,ot(u,3))}var ite=A_(function(c,u,g){Cn.call(c,g)?c[g].push(u):Il(c,g,[u])});function ote(c,u,g,y){c=xo(c)?c:cf(c),g=g&&!y?Nt(g):0;var E=c.length;return g<0&&(g=Yr(E+g,0)),z_(c)?g<=E&&c.indexOf(u,g)>-1:!!E&&Bs(c,u,g)>-1}var ste=Ht(function(c,u,g){var y=-1,E=typeof u=="function",N=xo(c)?oe(c.length):[];return sd(c,function($){N[++y]=E?Fi(u,$,g):Bm($,u,g)}),N}),ate=A_(function(c,u,g){Il(c,g,u)});function B_(c,u){var g=St(c)?An:Y8;return g(c,ot(u,3))}function lte(c,u,g,y){return c==null?[]:(St(u)||(u=u==null?[]:[u]),g=y?n:g,St(g)||(g=g==null?[]:[g]),J8(c,u,g))}var cte=A_(function(c,u,g){c[g?0:1].push(u)},function(){return[[],[]]});function dte(c,u,g){var y=St(c)?td:w,E=arguments.length<3;return y(c,ot(u,4),g,E,sd)}function ute(c,u,g){var y=St(c)?o_:w,E=arguments.length<3;return y(c,ot(u,4),g,E,U8)}function hte(c,u){var g=St(c)?Ls:z8;return g(c,H_(ot(u,3)))}function pte(c){var u=St(c)?B8:oJ;return u(c)}function fte(c,u,g){(g?no(c,u,g):u===n)?u=1:u=Nt(u);var y=St(c)?LQ:sJ;return y(c,u)}function gte(c){var u=St(c)?FQ:lJ;return u(c)}function mte(c){if(c==null)return 0;if(xo(c))return z_(c)?Jp(c):c.length;var u=Vi(c);return u==Dr||u==yo?c.size:LM(c).length}function vte(c,u,g){var y=St(c)?Xp:cJ;return g&&no(c,u,g)&&(u=n),y(c,ot(u,3))}var wte=Ht(function(c,u){if(c==null)return[];var g=u.length;return g>1&&no(c,u[0],u[1])?u=[]:g>2&&no(u[0],u[1],u[2])&&(u=[u[0]]),J8(c,yi(u,1),[])}),V_=QZ||function(){return wr.Date.now()};function _te(c,u){if(typeof u!="function")throw new as(i);return c=Nt(c),function(){if(--c<1)return u.apply(this,arguments)}}function qL(c,u,g){return u=g?n:u,u=c&&u==null?c.length:u,Al(c,q,n,n,n,n,u)}function KL(c,u){var g;if(typeof u!="function")throw new as(i);return c=Nt(c),function(){return--c>0&&(g=u.apply(this,arguments)),c<=1&&(u=n),g}}var sS=Ht(function(c,u,g){var y=_;if(g.length){var E=rd(g,af(sS));y|=j}return Al(c,y,u,g,E)}),YL=Ht(function(c,u,g){var y=_|b;if(g.length){var E=rd(g,af(YL));y|=j}return Al(u,y,c,g,E)});function XL(c,u,g){u=g?n:u;var y=Al(c,M,n,n,n,n,n,u);return y.placeholder=XL.placeholder,y}function ZL(c,u,g){u=g?n:u;var y=Al(c,B,n,n,n,n,n,u);return y.placeholder=ZL.placeholder,y}function QL(c,u,g){var y,E,N,$,G,Q,fe=0,me=!1,_e=!1,Ae=!0;if(typeof c!="function")throw new as(i);u=hs(u)||0,ir(g)&&(me=!!g.leading,_e="maxWait"in g,N=_e?Yr(hs(g.maxWait)||0,u):N,Ae="trailing"in g?!!g.trailing:Ae);function $e(kr){var Us=y,Ol=E;return y=E=n,fe=kr,$=c.apply(Ol,Us),$}function ct(kr){return fe=kr,G=zm(Gt,u),me?$e(kr):$}function Vt(kr){var Us=kr-Q,Ol=kr-fe,vF=u-Us;return _e?Bi(vF,N-Ol):vF}function dt(kr){var Us=kr-Q,Ol=kr-fe;return Q===n||Us>=u||Us<0||_e&&Ol>=N}function Gt(){var kr=V_();if(dt(kr))return Zt(kr);G=zm(Gt,Vt(kr))}function Zt(kr){return G=n,Ae&&y?$e(kr):(y=E=n,$)}function zo(){G!==n&&lL(G),fe=0,y=Q=E=G=n}function ro(){return G===n?$:Zt(V_())}function $o(){var kr=V_(),Us=dt(kr);if(y=arguments,E=this,Q=kr,Us){if(G===n)return ct(Q);if(_e)return lL(G),G=zm(Gt,u),$e(Q)}return G===n&&(G=zm(Gt,u)),$}return $o.cancel=zo,$o.flush=ro,$o}var yte=Ht(function(c,u){return H8(c,1,u)}),kte=Ht(function(c,u,g){return H8(c,hs(u)||0,g)});function bte(c){return Al(c,F)}function j_(c,u){if(typeof c!="function"||u!=null&&typeof u!="function")throw new as(i);var g=function(){var y=arguments,E=u?u.apply(this,y):y[0],N=g.cache;if(N.has(E))return N.get(E);var $=c.apply(this,y);return g.cache=N.set(E,$)||N,$};return g.cache=new(j_.Cache||Sl),g}j_.Cache=Sl;function H_(c){if(typeof c!="function")throw new as(i);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}function xte(c){return KL(2,c)}var Cte=dJ(function(c,u){u=u.length==1&&St(u[0])?An(u[0],Ot(ot())):An(yi(u,1),Ot(ot()));var g=u.length;return Ht(function(y){for(var E=-1,N=Bi(y.length,g);++E<N;)y[E]=u[E].call(this,y[E]);return Fi(c,this,y)})}),aS=Ht(function(c,u){var g=rd(u,af(aS));return Al(c,j,n,u,g)}),JL=Ht(function(c,u){var g=rd(u,af(JL));return Al(c,H,n,u,g)}),Ete=Tl(function(c,u){return Al(c,Y,n,n,n,u)});function Mte(c,u){if(typeof c!="function")throw new as(i);return u=u===n?u:Nt(u),Ht(c,u)}function Ste(c,u){if(typeof c!="function")throw new as(i);return u=u==null?0:Yr(Nt(u),0),Ht(function(g){var y=g[u],E=cd(g,0,u);return y&&Fs(E,y),Fi(c,this,E)})}function Ite(c,u,g){var y=!0,E=!0;if(typeof c!="function")throw new as(i);return ir(g)&&(y="leading"in g?!!g.leading:y,E="trailing"in g?!!g.trailing:E),QL(c,u,{leading:y,maxWait:u,trailing:E})}function Ate(c){return qL(c,1)}function Tte(c,u){return aS(WM(u),c)}function Dte(){if(!arguments.length)return[];var c=arguments[0];return St(c)?c:[c]}function Rte(c){return cs(c,f)}function Pte(c,u){return u=typeof u=="function"?u:n,cs(c,f,u)}function Ote(c){return cs(c,d|f)}function Nte(c,u){return u=typeof u=="function"?u:n,cs(c,d|f,u)}function Lte(c,u){return u==null||j8(c,u,li(u))}function Hs(c,u){return c===u||c!==c&&u!==u}var Fte=P_(PM),Bte=P_(function(c,u){return c>=u}),Yu=G8((function(){return arguments})())?G8:function(c){return pr(c)&&Cn.call(c,"callee")&&!R8.call(c,"callee")},St=oe.isArray,Vte=Em?Ot(Em):qQ;function xo(c){return c!=null&&U_(c.length)&&!Rl(c)}function yr(c){return pr(c)&&xo(c)}function jte(c){return c===!0||c===!1||pr(c)&&to(c)==rr}var dd=eQ||wS,Hte=r_?Ot(r_):KQ;function Ute(c){return pr(c)&&c.nodeType===1&&!$m(c)}function zte(c){if(c==null)return!0;if(xo(c)&&(St(c)||typeof c=="string"||typeof c.splice=="function"||dd(c)||lf(c)||Yu(c)))return!c.length;var u=Vi(c);if(u==Dr||u==yo)return!c.size;if(Um(c))return!LM(c).length;for(var g in c)if(Cn.call(c,g))return!1;return!0}function $te(c,u){return Vm(c,u)}function Wte(c,u,g){g=typeof g=="function"?g:n;var y=g?g(c,u):n;return y===n?Vm(c,u,n,g):!!y}function lS(c){if(!pr(c))return!1;var u=to(c);return u==Ji||u==Ni||typeof c.message=="string"&&typeof c.name=="string"&&!$m(c)}function Gte(c){return typeof c=="number"&&O8(c)}function Rl(c){if(!ir(c))return!1;var u=to(c);return u==Li||u==Rs||u==ai||u==Rw}function eF(c){return typeof c=="number"&&c==Nt(c)}function U_(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Mt}function ir(c){var u=typeof c;return c!=null&&(u=="object"||u=="function")}function pr(c){return c!=null&&typeof c=="object"}var tF=Jc?Ot(Jc):XQ;function qte(c,u){return c===u||NM(c,u,QM(u))}function Kte(c,u,g){return g=typeof g=="function"?g:n,NM(c,u,QM(u),g)}function Yte(c){return nF(c)&&c!=+c}function Xte(c){if(PJ(c))throw new bt(r);return q8(c)}function Zte(c){return c===null}function Qte(c){return c==null}function nF(c){return typeof c=="number"||pr(c)&&to(c)==yl}function $m(c){if(!pr(c)||to(c)!=Vo)return!1;var u=g_(c);if(u===null)return!0;var g=Cn.call(u,"constructor")&&u.constructor;return typeof g=="function"&&g instanceof g&&u_.call(g)==KZ}var cS=Mm?Ot(Mm):ZQ;function Jte(c){return eF(c)&&c>=-Mt&&c<=Mt}var rF=Kp?Ot(Kp):QQ;function z_(c){return typeof c=="string"||!St(c)&&pr(c)&&to(c)==$c}function Uo(c){return typeof c=="symbol"||pr(c)&&to(c)==Wc}var lf=Bu?Ot(Bu):JQ;function ene(c){return c===n}function tne(c){return pr(c)&&Vi(c)==Cu}function nne(c){return pr(c)&&to(c)==lm}var rne=P_(FM),ine=P_(function(c,u){return c<=u});function iF(c){if(!c)return[];if(xo(c))return z_(c)?Vs(c):bo(c);if(Dm&&c[Dm])return LZ(c[Dm]());var u=Vi(c),g=u==Dr?CM:u==yo?l_:cf;return g(c)}function Pl(c){if(!c)return c===0?c:0;if(c=hs(c),c===ht||c===-ht){var u=c<0?-1:1;return u*De}return c===c?c:0}function Nt(c){var u=Pl(c),g=u%1;return u===u?g?u-g:u:0}function oF(c){return c?Wu(Nt(c),0,Vn):0}function hs(c){if(typeof c=="number")return c;if(Uo(c))return ye;if(ir(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=ir(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=Ce(c);var g=fm.test(c);return g||va.test(c)?Yn(c.slice(2),g?2:8):Vw.test(c)?ye:+c}function sF(c){return ba(c,Co(c))}function one(c){return c?Wu(Nt(c),-Mt,Mt):c===0?c:0}function vn(c){return c==null?"":Ho(c)}var sne=of(function(c,u){if(Um(u)||xo(u)){ba(u,li(u),c);return}for(var g in u)Cn.call(u,g)&&Lm(c,g,u[g])}),aF=of(function(c,u){ba(u,Co(u),c)}),$_=of(function(c,u,g,y){ba(u,Co(u),c,y)}),ane=of(function(c,u,g,y){ba(u,li(u),c,y)}),lne=Tl(TM);function cne(c,u){var g=rf(c);return u==null?g:V8(g,u)}var dne=Ht(function(c,u){c=On(c);var g=-1,y=u.length,E=y>2?u[2]:n;for(E&&no(u[0],u[1],E)&&(y=1);++g<y;)for(var N=u[g],$=Co(N),G=-1,Q=$.length;++G<Q;){var fe=$[G],me=c[fe];(me===n||Hs(me,ef[fe])&&!Cn.call(c,fe))&&(c[fe]=N[fe])}return c}),une=Ht(function(c){return c.push(n,CL),Fi(lF,n,c)});function hne(c,u){return Sm(c,ot(u,3),ka)}function pne(c,u){return Sm(c,ot(u,3),RM)}function fne(c,u){return c==null?c:DM(c,ot(u,3),Co)}function gne(c,u){return c==null?c:$8(c,ot(u,3),Co)}function mne(c,u){return c&&ka(c,ot(u,3))}function vne(c,u){return c&&RM(c,ot(u,3))}function wne(c){return c==null?[]:E_(c,li(c))}function _ne(c){return c==null?[]:E_(c,Co(c))}function dS(c,u,g){var y=c==null?n:Gu(c,u);return y===n?g:y}function yne(c,u){return c!=null&&SL(c,u,zQ)}function uS(c,u){return c!=null&&SL(c,u,$Q)}var kne=_L(function(c,u,g){u!=null&&typeof u.toString!="function"&&(u=h_.call(u)),c[u]=g},pS(Eo)),bne=_L(function(c,u,g){u!=null&&typeof u.toString!="function"&&(u=h_.call(u)),Cn.call(c,u)?c[u].push(g):c[u]=[g]},ot),xne=Ht(Bm);function li(c){return xo(c)?F8(c):LM(c)}function Co(c){return xo(c)?F8(c,!0):eJ(c)}function Cne(c,u){var g={};return u=ot(u,3),ka(c,function(y,E,N){Il(g,u(y,E,N),y)}),g}function Ene(c,u){var g={};return u=ot(u,3),ka(c,function(y,E,N){Il(g,E,u(y,E,N))}),g}var Mne=of(function(c,u,g){M_(c,u,g)}),lF=of(function(c,u,g,y){M_(c,u,g,y)}),Sne=Tl(function(c,u){var g={};if(c==null)return g;var y=!1;u=An(u,function(N){return N=ld(N,c),y||(y=N.length>1),N}),ba(c,XM(c),g),y&&(g=cs(g,d|h|f,kJ));for(var E=u.length;E--;)UM(g,u[E]);return g});function Ine(c,u){return cF(c,H_(ot(u)))}var Ane=Tl(function(c,u){return c==null?{}:nJ(c,u)});function cF(c,u){if(c==null)return{};var g=An(XM(c),function(y){return[y]});return u=ot(u),eL(c,g,function(y,E){return u(y,E[0])})}function Tne(c,u,g){u=ld(u,c);var y=-1,E=u.length;for(E||(E=1,c=n);++y<E;){var N=c==null?n:c[xa(u[y])];N===n&&(y=E,N=g),c=Rl(N)?N.call(c):N}return c}function Dne(c,u,g){return c==null?c:jm(c,u,g)}function Rne(c,u,g,y){return y=typeof y=="function"?y:n,c==null?c:jm(c,u,g,y)}var dF=bL(li),uF=bL(Co);function Pne(c,u,g){var y=St(c),E=y||dd(c)||lf(c);if(u=ot(u,4),g==null){var N=c&&c.constructor;E?g=y?new N:[]:ir(c)?g=Rl(N)?rf(g_(c)):{}:g={}}return(E?ko:ka)(c,function($,G,Q){return u(g,$,G,Q)}),g}function One(c,u){return c==null?!0:UM(c,u)}function Nne(c,u,g){return c==null?c:oL(c,u,WM(g))}function Lne(c,u,g,y){return y=typeof y=="function"?y:n,c==null?c:oL(c,u,WM(g),y)}function cf(c){return c==null?[]:_r(c,li(c))}function Fne(c){return c==null?[]:_r(c,Co(c))}function Bne(c,u,g){return g===n&&(g=u,u=n),g!==n&&(g=hs(g),g=g===g?g:0),u!==n&&(u=hs(u),u=u===u?u:0),Wu(hs(c),u,g)}function Vne(c,u,g){return u=Pl(u),g===n?(g=u,u=0):g=Pl(g),c=hs(c),WQ(c,u,g)}function jne(c,u,g){if(g&&typeof g!="boolean"&&no(c,u,g)&&(u=g=n),g===n&&(typeof u=="boolean"?(g=u,u=n):typeof c=="boolean"&&(g=c,c=n)),c===n&&u===n?(c=0,u=1):(c=Pl(c),u===n?(u=c,c=0):u=Pl(u)),c>u){var y=c;c=u,u=y}if(g||c%1||u%1){var E=N8();return Bi(c+E*(u-c+Cm("1e-"+((E+"").length-1))),u)}return VM(c,u)}var Hne=sf(function(c,u,g){return u=u.toLowerCase(),c+(g?hF(u):u)});function hF(c){return hS(vn(c).toLowerCase())}function pF(c){return c=vn(c),c&&c.replace(Hw,jo).replace(Qc,"")}function Une(c,u,g){c=vn(c),u=Ho(u);var y=c.length;g=g===n?y:Wu(Nt(g),0,y);var E=g;return g-=u.length,g>=0&&c.slice(g,E)==u}function zne(c){return c=vn(c),c&&Eu.test(c)?c.replace(um,Zp):c}function $ne(c){return c=vn(c),c&&Fw.test(c)?c.replace(xl,"\\$&"):c}var Wne=sf(function(c,u,g){return c+(g?"-":"")+u.toLowerCase()}),Gne=sf(function(c,u,g){return c+(g?" ":"")+u.toLowerCase()}),qne=mL("toLowerCase");function Kne(c,u,g){c=vn(c),u=Nt(u);var y=u?Jp(c):0;if(!u||y>=u)return c;var E=(u-y)/2;return R_(__(E),g)+c+R_(w_(E),g)}function Yne(c,u,g){c=vn(c),u=Nt(u);var y=u?Jp(c):0;return u&&y<u?c+R_(u-y,g):c}function Xne(c,u,g){c=vn(c),u=Nt(u);var y=u?Jp(c):0;return u&&y<u?R_(u-y,g)+c:c}function Zne(c,u,g){return g||u==null?u=0:u&&(u=+u),iQ(vn(c).replace(Wr,""),u||0)}function Qne(c,u,g){return(g?no(c,u,g):u===n)?u=1:u=Nt(u),jM(vn(c),u)}function Jne(){var c=arguments,u=vn(c[0]);return c.length<3?u:u.replace(c[1],c[2])}var ere=sf(function(c,u,g){return c+(g?"_":"")+u.toLowerCase()});function tre(c,u,g){return g&&typeof g!="number"&&no(c,u,g)&&(u=g=n),g=g===n?Vn:g>>>0,g?(c=vn(c),c&&(typeof u=="string"||u!=null&&!cS(u))&&(u=Ho(u),!u&&Qp(c))?cd(Vs(c),0,g):c.split(u,g)):[]}var nre=sf(function(c,u,g){return c+(g?" ":"")+hS(u)});function rre(c,u,g){return c=vn(c),g=g==null?0:Wu(Nt(g),0,c.length),u=Ho(u),c.slice(g,g+u.length)==u}function ire(c,u,g){var y=R.templateSettings;g&&no(c,u,g)&&(u=n),c=vn(c),u=$_({},u,y,xL);var E=$_({},u.imports,y.imports,xL),N=li(E),$=_r(E,N),G,Q,fe=0,me=u.interpolate||Kc,_e="__p += '",Ae=EM((u.escape||Kc).source+"|"+me.source+"|"+(me===ma?fM:Kc).source+"|"+(u.evaluate||Kc).source+"|$","g"),$e="//# sourceURL="+(Cn.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bM+"]")+`
`;c.replace(Ae,function(dt,Gt,Zt,zo,ro,$o){return Zt||(Zt=zo),_e+=c.slice(fe,$o).replace(gm,Tm),Gt&&(G=!0,_e+=`' +
__e(`+Gt+`) +
'`),ro&&(Q=!0,_e+=`';
`+ro+`;
__p += '`),Zt&&(_e+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),fe=$o+dt.length,dt}),_e+=`';
`;var ct=Cn.call(u,"variable")&&u.variable;if(!ct)_e=`with (obj) {
`+_e+`
}
`;else if(qc.test(ct))throw new bt(o);_e=(Q?_e.replace(dm,""):_e).replace(cM,"$1").replace(dM,"$1;"),_e="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var Vt=gF(function(){return fn(N,$e+"return "+_e).apply(n,$)});if(Vt.source=_e,lS(Vt))throw Vt;return Vt}function ore(c){return vn(c).toLowerCase()}function sre(c){return vn(c).toUpperCase()}function are(c,u,g){if(c=vn(c),c&&(g||u===n))return Ce(c);if(!c||!(u=Ho(u)))return c;var y=Vs(c),E=Vs(u),N=Gr(y,E),$=qr(y,E)+1;return cd(y,N,$).join("")}function lre(c,u,g){if(c=vn(c),c&&(g||u===n))return c.slice(0,I8(c)+1);if(!c||!(u=Ho(u)))return c;var y=Vs(c),E=qr(y,Vs(u))+1;return cd(y,0,E).join("")}function cre(c,u,g){if(c=vn(c),c&&(g||u===n))return c.replace(Wr,"");if(!c||!(u=Ho(u)))return c;var y=Vs(c),E=Gr(y,Vs(u));return cd(y,E).join("")}function dre(c,u){var g=A,y=S;if(ir(u)){var E="separator"in u?u.separator:E;g="length"in u?Nt(u.length):g,y="omission"in u?Ho(u.omission):y}c=vn(c);var N=c.length;if(Qp(c)){var $=Vs(c);N=$.length}if(g>=N)return c;var G=g-Jp(y);if(G<1)return y;var Q=$?cd($,0,G).join(""):c.slice(0,G);if(E===n)return Q+y;if($&&(G+=Q.length-G),cS(E)){if(c.slice(G).search(E)){var fe,me=Q;for(E.global||(E=EM(E.source,vn(Iu.exec(E))+"g")),E.lastIndex=0;fe=E.exec(me);)var _e=fe.index;Q=Q.slice(0,_e===n?G:_e)}}else if(c.indexOf(Ho(E),G)!=G){var Ae=Q.lastIndexOf(E);Ae>-1&&(Q=Q.slice(0,Ae))}return Q+y}function ure(c){return c=vn(c),c&&Ow.test(c)?c.replace(Bp,jZ):c}var hre=sf(function(c,u,g){return c+(g?" ":"")+u.toUpperCase()}),hS=mL("toUpperCase");function fF(c,u,g){return c=vn(c),u=g?n:u,u===n?NZ(c)?zZ(c):a_(c):c.match(u)||[]}var gF=Ht(function(c,u){try{return Fi(c,n,u)}catch(g){return lS(g)?g:new bt(g)}}),pre=Tl(function(c,u){return ko(u,function(g){g=xa(g),Il(c,g,sS(c[g],c))}),c});function fre(c){var u=c==null?0:c.length,g=ot();return c=u?An(c,function(y){if(typeof y[1]!="function")throw new as(i);return[g(y[0]),y[1]]}):[],Ht(function(y){for(var E=-1;++E<u;){var N=c[E];if(Fi(N[0],this,y))return Fi(N[1],this,y)}})}function gre(c){return jQ(cs(c,d))}function pS(c){return function(){return c}}function mre(c,u){return c==null||c!==c?u:c}var vre=wL(),wre=wL(!0);function Eo(c){return c}function fS(c){return K8(typeof c=="function"?c:cs(c,d))}function _re(c){return X8(cs(c,d))}function yre(c,u){return Z8(c,cs(u,d))}var kre=Ht(function(c,u){return function(g){return Bm(g,c,u)}}),bre=Ht(function(c,u){return function(g){return Bm(c,g,u)}});function gS(c,u,g){var y=li(u),E=E_(u,y);g==null&&!(ir(u)&&(E.length||!y.length))&&(g=u,u=c,c=this,E=E_(u,li(u)));var N=!(ir(g)&&"chain"in g)||!!g.chain,$=Rl(c);return ko(E,function(G){var Q=u[G];c[G]=Q,$&&(c.prototype[G]=function(){var fe=this.__chain__;if(N||fe){var me=c(this.__wrapped__),_e=me.__actions__=bo(this.__actions__);return _e.push({func:Q,args:arguments,thisArg:c}),me.__chain__=fe,me}return Q.apply(c,Fs([this.value()],arguments))})}),c}function xre(){return wr._===this&&(wr._=YZ),this}function mS(){}function Cre(c){return c=Nt(c),Ht(function(u){return Q8(u,c)})}var Ere=qM(An),Mre=qM(ed),Sre=qM(Xp);function mF(c){return eS(c)?ya(xa(c)):rJ(c)}function Ire(c){return function(u){return c==null?n:Gu(c,u)}}var Are=yL(),Tre=yL(!0);function vS(){return[]}function wS(){return!1}function Dre(){return{}}function Rre(){return""}function Pre(){return!0}function Ore(c,u){if(c=Nt(c),c<1||c>Mt)return[];var g=Vn,y=Bi(c,Vn);u=ot(u),c-=Vn;for(var E=J(y,u);++g<c;)u(g);return E}function Nre(c){return St(c)?An(c,xa):Uo(c)?[c]:bo(LL(vn(c)))}function Lre(c){var u=++qZ;return vn(c)+u}var Fre=D_(function(c,u){return c+u},0),Bre=KM("ceil"),Vre=D_(function(c,u){return c/u},1),jre=KM("floor");function Hre(c){return c&&c.length?C_(c,Eo,PM):n}function Ure(c,u){return c&&c.length?C_(c,ot(u,2),PM):n}function zre(c){return Am(c,Eo)}function $re(c,u){return Am(c,ot(u,2))}function Wre(c){return c&&c.length?C_(c,Eo,FM):n}function Gre(c,u){return c&&c.length?C_(c,ot(u,2),FM):n}var qre=D_(function(c,u){return c*u},1),Kre=KM("round"),Yre=D_(function(c,u){return c-u},0);function Xre(c){return c&&c.length?O(c,Eo):0}function Zre(c,u){return c&&c.length?O(c,ot(u,2)):0}return R.after=_te,R.ary=qL,R.assign=sne,R.assignIn=aF,R.assignInWith=$_,R.assignWith=ane,R.at=lne,R.before=KL,R.bind=sS,R.bindAll=pre,R.bindKey=YL,R.castArray=Dte,R.chain=$L,R.chunk=jJ,R.compact=HJ,R.concat=UJ,R.cond=fre,R.conforms=gre,R.constant=pS,R.countBy=Xee,R.create=cne,R.curry=XL,R.curryRight=ZL,R.debounce=QL,R.defaults=dne,R.defaultsDeep=une,R.defer=yte,R.delay=kte,R.difference=zJ,R.differenceBy=$J,R.differenceWith=WJ,R.drop=GJ,R.dropRight=qJ,R.dropRightWhile=KJ,R.dropWhile=YJ,R.fill=XJ,R.filter=Qee,R.flatMap=tte,R.flatMapDeep=nte,R.flatMapDepth=rte,R.flatten=jL,R.flattenDeep=ZJ,R.flattenDepth=QJ,R.flip=bte,R.flow=vre,R.flowRight=wre,R.fromPairs=JJ,R.functions=wne,R.functionsIn=_ne,R.groupBy=ite,R.initial=tee,R.intersection=nee,R.intersectionBy=ree,R.intersectionWith=iee,R.invert=kne,R.invertBy=bne,R.invokeMap=ste,R.iteratee=fS,R.keyBy=ate,R.keys=li,R.keysIn=Co,R.map=B_,R.mapKeys=Cne,R.mapValues=Ene,R.matches=_re,R.matchesProperty=yre,R.memoize=j_,R.merge=Mne,R.mergeWith=lF,R.method=kre,R.methodOf=bre,R.mixin=gS,R.negate=H_,R.nthArg=Cre,R.omit=Sne,R.omitBy=Ine,R.once=xte,R.orderBy=lte,R.over=Ere,R.overArgs=Cte,R.overEvery=Mre,R.overSome=Sre,R.partial=aS,R.partialRight=JL,R.partition=cte,R.pick=Ane,R.pickBy=cF,R.property=mF,R.propertyOf=Ire,R.pull=lee,R.pullAll=UL,R.pullAllBy=cee,R.pullAllWith=dee,R.pullAt=uee,R.range=Are,R.rangeRight=Tre,R.rearg=Ete,R.reject=hte,R.remove=hee,R.rest=Mte,R.reverse=iS,R.sampleSize=fte,R.set=Dne,R.setWith=Rne,R.shuffle=gte,R.slice=pee,R.sortBy=wte,R.sortedUniq=yee,R.sortedUniqBy=kee,R.split=tre,R.spread=Ste,R.tail=bee,R.take=xee,R.takeRight=Cee,R.takeRightWhile=Eee,R.takeWhile=Mee,R.tap=Hee,R.throttle=Ite,R.thru=F_,R.toArray=iF,R.toPairs=dF,R.toPairsIn=uF,R.toPath=Nre,R.toPlainObject=sF,R.transform=Pne,R.unary=Ate,R.union=See,R.unionBy=Iee,R.unionWith=Aee,R.uniq=Tee,R.uniqBy=Dee,R.uniqWith=Ree,R.unset=One,R.unzip=oS,R.unzipWith=zL,R.update=Nne,R.updateWith=Lne,R.values=cf,R.valuesIn=Fne,R.without=Pee,R.words=fF,R.wrap=Tte,R.xor=Oee,R.xorBy=Nee,R.xorWith=Lee,R.zip=Fee,R.zipObject=Bee,R.zipObjectDeep=Vee,R.zipWith=jee,R.entries=dF,R.entriesIn=uF,R.extend=aF,R.extendWith=$_,gS(R,R),R.add=Fre,R.attempt=gF,R.camelCase=Hne,R.capitalize=hF,R.ceil=Bre,R.clamp=Bne,R.clone=Rte,R.cloneDeep=Ote,R.cloneDeepWith=Nte,R.cloneWith=Pte,R.conformsTo=Lte,R.deburr=pF,R.defaultTo=mre,R.divide=Vre,R.endsWith=Une,R.eq=Hs,R.escape=zne,R.escapeRegExp=$ne,R.every=Zee,R.find=Jee,R.findIndex=BL,R.findKey=hne,R.findLast=ete,R.findLastIndex=VL,R.findLastKey=pne,R.floor=jre,R.forEach=WL,R.forEachRight=GL,R.forIn=fne,R.forInRight=gne,R.forOwn=mne,R.forOwnRight=vne,R.get=dS,R.gt=Fte,R.gte=Bte,R.has=yne,R.hasIn=uS,R.head=HL,R.identity=Eo,R.includes=ote,R.indexOf=eee,R.inRange=Vne,R.invoke=xne,R.isArguments=Yu,R.isArray=St,R.isArrayBuffer=Vte,R.isArrayLike=xo,R.isArrayLikeObject=yr,R.isBoolean=jte,R.isBuffer=dd,R.isDate=Hte,R.isElement=Ute,R.isEmpty=zte,R.isEqual=$te,R.isEqualWith=Wte,R.isError=lS,R.isFinite=Gte,R.isFunction=Rl,R.isInteger=eF,R.isLength=U_,R.isMap=tF,R.isMatch=qte,R.isMatchWith=Kte,R.isNaN=Yte,R.isNative=Xte,R.isNil=Qte,R.isNull=Zte,R.isNumber=nF,R.isObject=ir,R.isObjectLike=pr,R.isPlainObject=$m,R.isRegExp=cS,R.isSafeInteger=Jte,R.isSet=rF,R.isString=z_,R.isSymbol=Uo,R.isTypedArray=lf,R.isUndefined=ene,R.isWeakMap=tne,R.isWeakSet=nne,R.join=oee,R.kebabCase=Wne,R.last=us,R.lastIndexOf=see,R.lowerCase=Gne,R.lowerFirst=qne,R.lt=rne,R.lte=ine,R.max=Hre,R.maxBy=Ure,R.mean=zre,R.meanBy=$re,R.min=Wre,R.minBy=Gre,R.stubArray=vS,R.stubFalse=wS,R.stubObject=Dre,R.stubString=Rre,R.stubTrue=Pre,R.multiply=qre,R.nth=aee,R.noConflict=xre,R.noop=mS,R.now=V_,R.pad=Kne,R.padEnd=Yne,R.padStart=Xne,R.parseInt=Zne,R.random=jne,R.reduce=dte,R.reduceRight=ute,R.repeat=Qne,R.replace=Jne,R.result=Tne,R.round=Kre,R.runInContext=Z,R.sample=pte,R.size=mte,R.snakeCase=ere,R.some=vte,R.sortedIndex=fee,R.sortedIndexBy=gee,R.sortedIndexOf=mee,R.sortedLastIndex=vee,R.sortedLastIndexBy=wee,R.sortedLastIndexOf=_ee,R.startCase=nre,R.startsWith=rre,R.subtract=Yre,R.sum=Xre,R.sumBy=Zre,R.template=ire,R.times=Ore,R.toFinite=Pl,R.toInteger=Nt,R.toLength=oF,R.toLower=ore,R.toNumber=hs,R.toSafeInteger=one,R.toString=vn,R.toUpper=sre,R.trim=are,R.trimEnd=lre,R.trimStart=cre,R.truncate=dre,R.unescape=ure,R.uniqueId=Lre,R.upperCase=hre,R.upperFirst=hS,R.each=WL,R.eachRight=GL,R.first=HL,gS(R,(function(){var c={};return ka(R,function(u,g){Cn.call(R.prototype,g)||(c[g]=u)}),c})(),{chain:!1}),R.VERSION=e,ko(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){R[c].placeholder=R}),ko(["drop","take"],function(c,u){Kt.prototype[c]=function(g){g=g===n?1:Yr(Nt(g),0);var y=this.__filtered__&&!u?new Kt(this):this.clone();return y.__filtered__?y.__takeCount__=Bi(g,y.__takeCount__):y.__views__.push({size:Bi(g,Vn),type:c+(y.__dir__<0?"Right":"")}),y},Kt.prototype[c+"Right"]=function(g){return this.reverse()[c](g).reverse()}}),ko(["filter","map","takeWhile"],function(c,u){var g=u+1,y=g==K||g==rt;Kt.prototype[c]=function(E){var N=this.clone();return N.__iteratees__.push({iteratee:ot(E,3),type:g}),N.__filtered__=N.__filtered__||y,N}}),ko(["head","last"],function(c,u){var g="take"+(u?"Right":"");Kt.prototype[c]=function(){return this[g](1).value()[0]}}),ko(["initial","tail"],function(c,u){var g="drop"+(u?"":"Right");Kt.prototype[c]=function(){return this.__filtered__?new Kt(this):this[g](1)}}),Kt.prototype.compact=function(){return this.filter(Eo)},Kt.prototype.find=function(c){return this.filter(c).head()},Kt.prototype.findLast=function(c){return this.reverse().find(c)},Kt.prototype.invokeMap=Ht(function(c,u){return typeof c=="function"?new Kt(this):this.map(function(g){return Bm(g,c,u)})}),Kt.prototype.reject=function(c){return this.filter(H_(ot(c)))},Kt.prototype.slice=function(c,u){c=Nt(c);var g=this;return g.__filtered__&&(c>0||u<0)?new Kt(g):(c<0?g=g.takeRight(-c):c&&(g=g.drop(c)),u!==n&&(u=Nt(u),g=u<0?g.dropRight(-u):g.take(u-c)),g)},Kt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Kt.prototype.toArray=function(){return this.take(Vn)},ka(Kt.prototype,function(c,u){var g=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),E=R[y?"take"+(u=="last"?"Right":""):u],N=y||/^find/.test(u);E&&(R.prototype[u]=function(){var $=this.__wrapped__,G=y?[1]:arguments,Q=$ instanceof Kt,fe=G[0],me=Q||St($),_e=function(Gt){var Zt=E.apply(R,Fs([Gt],G));return y&&Ae?Zt[0]:Zt};me&&g&&typeof fe=="function"&&fe.length!=1&&(Q=me=!1);var Ae=this.__chain__,$e=!!this.__actions__.length,ct=N&&!Ae,Vt=Q&&!$e;if(!N&&me){$=Vt?$:new Kt(this);var dt=c.apply($,G);return dt.__actions__.push({func:F_,args:[_e],thisArg:n}),new ls(dt,Ae)}return ct&&Vt?c.apply(this,G):(dt=this.thru(_e),ct?y?dt.value()[0]:dt.value():dt)})}),ko(["pop","push","shift","sort","splice","unshift"],function(c){var u=c_[c],g=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",y=/^(?:pop|shift)$/.test(c);R.prototype[c]=function(){var E=arguments;if(y&&!this.__chain__){var N=this.value();return u.apply(St(N)?N:[],E)}return this[g](function($){return u.apply(St($)?$:[],E)})}}),ka(Kt.prototype,function(c,u){var g=R[u];if(g){var y=g.name+"";Cn.call(nf,y)||(nf[y]=[]),nf[y].push({name:u,func:g})}}),nf[T_(n,b).name]=[{name:"wrapper",func:n}],Kt.prototype.clone=uQ,Kt.prototype.reverse=hQ,Kt.prototype.value=pQ,R.prototype.at=Uee,R.prototype.chain=zee,R.prototype.commit=$ee,R.prototype.next=Wee,R.prototype.plant=qee,R.prototype.reverse=Kee,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=Yee,R.prototype.first=R.prototype.head,Dm&&(R.prototype[Dm]=Gee),R},id=$Z();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(wr._=id,define(function(){return id})):_a?((_a.exports=id)._=id,Gp._=id):wr._=id}).call(W0)});var CS;function X_(){return CS}function Ca(n){let e=CS;return CS=n,e}var MF=Symbol("NotFound");function df(n){return n===MF||n?.name==="\u0275NotFound"}function Gm(n,e){return Object.is(n,e)}var ji=null,Z_=!1,ES=1,oie=null,fr=Symbol("SIGNAL");function pt(n){let e=ji;return ji=n,e}function Q_(){return ji}var pd={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ll(n){if(Z_)throw new Error("");if(ji===null)return;ji.consumerOnSignalRead(n);let e=ji.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ji.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ji.producers,t!==void 0&&t.producer===n)){ji.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ji&&(!r||aie(i,ji)))return;let o=hf(ji),s={producer:n,consumer:ji,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ji.producersTail=s,e!==void 0?e.nextProducer=s:ji.producers=s,o&&IF(n,s)}function SF(){ES++}function Qu(n){if(!(hf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ES)){if(!n.producerMustRecompute(n)&&!Ju(n)){uf(n);return}n.producerRecomputeValue(n),uf(n)}}function MS(n){if(n.consumers===void 0)return;let e=Z_;Z_=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||sie(r)}}finally{Z_=e}}function SS(){return ji?.consumerAllowSignalWrites!==!1}function sie(n){n.dirty=!0,MS(n),n.consumerMarkedDirty?.(n)}function uf(n){n.dirty=!1,n.lastCleanEpoch=ES}function Fl(n){return n&&(n.producersTail=void 0,n.recomputing=!0),pt(n)}function fd(n,e){if(pt(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(hf(n))do r=IS(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Ju(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Qu(t),r!==t.version))return!0}return!1}function gd(n){if(hf(n)){let e=n.producers;for(;e!==void 0;)e=IS(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function IF(n,e){let t=n.consumersTail,r=hf(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)IF(i.producer,i)}function IS(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!hf(e)){let o=e.producers;for(;o!==void 0;)o=IS(o)}return t}function hf(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function qm(n){oie?.(n)}function aie(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Km(n,e){let t=Object.create(lie);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Qu(t),Ll(t),t.value===Nl)throw t.error;return t.value};return r[fr]=t,qm(t),r}var hd=Symbol("UNSET"),Zu=Symbol("COMPUTING"),Nl=Symbol("ERRORED"),lie=Se(X({},pd),{value:hd,dirty:!0,error:null,equal:Gm,kind:"computed",producerMustRecompute(n){return n.value===hd||n.value===Zu},producerRecomputeValue(n){if(n.value===Zu)throw new Error("");let e=n.value;n.value=Zu;let t=Fl(n),r,i=!1;try{r=n.computation(),pt(null),i=e!==hd&&e!==Nl&&r!==Nl&&n.equal(e,r)}catch(o){r=Nl,n.error=o}finally{fd(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function cie(){throw new Error}var AF=cie;function TF(n){AF(n)}function AS(n){AF=n}var die=null;function TS(n,e){let t=Object.create(Ym);t.value=n,e!==void 0&&(t.equal=e);let r=()=>DF(t);return r[fr]=t,qm(t),[r,s=>md(t,s),s=>J_(t,s)]}function DF(n){return Ll(n),n.value}function md(n,e){SS()||TF(n),n.equal(n.value,e)||(n.value=e,uie(n))}function J_(n,e){SS()||TF(n),md(n,e(n.value))}var Ym=Se(X({},pd),{equal:Gm,value:void 0,kind:"signal"});function uie(n){n.version++,SF(),MS(n),die?.(n)}function st(n){return typeof n=="function"}function pf(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ey=pf(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function eh(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var un=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(st(r))try{r()}catch(o){e=o instanceof ey?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RF(o)}catch(s){e=e??[],s instanceof ey?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ey(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RF(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&eh(t,e)}remove(e){let{_finalizers:t}=this;t&&eh(t,e),e instanceof n&&e._removeParent(this)}};un.EMPTY=(()=>{let n=new un;return n.closed=!0,n})();var DS=un.EMPTY;function ty(n){return n instanceof un||n&&"closed"in n&&st(n.remove)&&st(n.add)&&st(n.unsubscribe)}function RF(n){st(n)?n():n.unsubscribe()}var zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ff={setTimeout(n,e,...t){let{delegate:r}=ff;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ff;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ny(n){ff.setTimeout(()=>{let{onUnhandledError:e}=zs;if(e)e(n);else throw n})}function th(){}var PF=RS("C",void 0,void 0);function OF(n){return RS("E",void 0,n)}function NF(n){return RS("N",n,void 0)}function RS(n,e,t){return{kind:n,value:e,error:t}}var nh=null;function gf(n){if(zs.useDeprecatedSynchronousErrorHandling){let e=!nh;if(e&&(nh={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=nh;if(nh=null,t)throw r}}else n()}function LF(n){zs.useDeprecatedSynchronousErrorHandling&&nh&&(nh.errorThrown=!0,nh.error=n)}var rh=class extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ty(e)&&e.add(this)):this.destination=fie}static create(e,t,r){return new $s(e,t,r)}next(e){this.isStopped?OS(NF(e),this):this._next(e)}error(e){this.isStopped?OS(OF(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?OS(PF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hie=Function.prototype.bind;function PS(n,e){return hie.call(n,e)}var NS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ry(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ry(r)}else ry(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ry(t)}}},$s=class extends rh{constructor(e,t,r){super();let i;if(st(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&zs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&PS(e.next,o),error:e.error&&PS(e.error,o),complete:e.complete&&PS(e.complete,o)}):i=e}this.destination=new NS(i)}};function ry(n){zs.useDeprecatedSynchronousErrorHandling?LF(n):ny(n)}function pie(n){throw n}function OS(n,e){let{onStoppedNotification:t}=zs;t&&ff.setTimeout(()=>t(n,e))}var fie={closed:!0,next:th,error:pie,complete:th};var mf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function io(n){return n}function LS(...n){return FS(n)}function FS(n){return n.length===0?io:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=mie(t)?t:new $s(t,r,i);return gf(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=FF(r),new r((i,o)=>{let s=new $s({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[mf](){return this}pipe(...t){return FS(t)(this)}toPromise(t){return t=FF(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function FF(n){var e;return(e=n??zs.Promise)!==null&&e!==void 0?e:Promise}function gie(n){return n&&st(n.next)&&st(n.error)&&st(n.complete)}function mie(n){return n&&n instanceof rh||gie(n)&&ty(n)}function BS(n){return st(n?.lift)}function _t(n){return e=>{if(BS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(n,e,t,r,i){return new VS(n,e,t,r,i)}var VS=class extends rh{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vf(){return _t((n,e)=>{let t=null;n._refCount++;let r=wt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var wf=class extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,BS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new un;let t=this.getSubject();e.add(this.source.subscribe(wt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=un.EMPTY)}return e}refCount(){return vf()(this)}};var BF=pf(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new iy(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new BF}next(t){gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?DS:(this.currentObservers=null,o.push(t),new un(()=>{this.currentObservers=null,eh(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new iy(e,t),n})(),iy=class extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:DS}};var Xn=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xm={now(){return(Xm.delegate||Date).now()},delegate:void 0};var ih=class extends Te{constructor(e=1/0,t=1/0,r=Xm){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var oy=class extends un{constructor(e,t){super()}schedule(e,t=0){return this}};var Zm={setInterval(n,e,...t){let{delegate:r}=Zm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _f=class extends oy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Zm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,eh(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var yf=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};yf.now=Xm.now;var kf=class extends yf{constructor(e,t=yf.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ps=new kf(_f),jS=ps;var sy=class extends _f{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ay=class extends kf{};var HS=new ay(sy);var ci=new Ze(n=>n.complete());function ly(n){return n&&st(n.schedule)}function US(n){return n[n.length-1]}function cy(n){return st(US(n))?n.pop():void 0}function Ea(n){return ly(US(n))?n.pop():void 0}function VF(n,e){return typeof US(n)=="number"?n.pop():e}function dy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function HF(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(f){s(f)}}function l(h){try{d(r.throw(h))}catch(f){s(f)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(n,e||[])).next())})}function jF(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oh(n){return this instanceof oh?(this.v=n,this):new oh(n)}function UF(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(_){return Promise.resolve(_).then(v,f)}}function a(v,_){r[v]&&(i[v]=function(b){return new Promise(function(T,M){o.push([v,b,T,M])>1||l(v,b)})},_&&(i[v]=_(i[v])))}function l(v,_){try{d(r[v](_))}catch(b){m(o[0][3],b)}}function d(v){v.value instanceof oh?Promise.resolve(v.value.v).then(h,f):m(o[0][2],v)}function h(v){l("next",v)}function f(v){l("throw",v)}function m(v,_){v(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jF=="function"?jF(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var bf=n=>n&&typeof n.length=="number"&&typeof n!="function";function uy(n){return st(n?.then)}function hy(n){return st(n[mf])}function py(n){return Symbol.asyncIterator&&st(n?.[Symbol.asyncIterator])}function fy(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vie(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gy=vie();function my(n){return st(n?.[gy])}function vy(n){return UF(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield oh(t.read());if(i)return yield oh(void 0);yield yield oh(r)}}finally{t.releaseLock()}})}function wy(n){return st(n?.getReader)}function gn(n){if(n instanceof Ze)return n;if(n!=null){if(hy(n))return wie(n);if(bf(n))return _ie(n);if(uy(n))return yie(n);if(py(n))return $F(n);if(my(n))return kie(n);if(wy(n))return bie(n)}throw fy(n)}function wie(n){return new Ze(e=>{let t=n[mf]();if(st(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _ie(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function yie(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ny)})}function kie(n){return new Ze(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function $F(n){return new Ze(e=>{xie(n,e).catch(t=>e.error(t))})}function bie(n){return $F(vy(n))}function xie(n,e){var t,r,i,o;return HF(this,void 0,void 0,function*(){try{for(t=zF(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function So(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vd(n,e=0){return _t((t,r)=>{t.subscribe(wt(r,i=>So(r,n,()=>r.next(i),e),()=>So(r,n,()=>r.complete(),e),i=>So(r,n,()=>r.error(i),e)))})}function wd(n,e=0){return _t((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function WF(n,e){return gn(n).pipe(wd(e),vd(e))}function GF(n,e){return gn(n).pipe(wd(e),vd(e))}function qF(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function KF(n,e){return new Ze(t=>{let r;return So(t,e,()=>{r=n[gy](),So(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>st(r?.return)&&r.return()})}function _y(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{So(t,e,()=>{let r=n[Symbol.asyncIterator]();So(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function YF(n,e){return _y(vy(n),e)}function XF(n,e){if(n!=null){if(hy(n))return WF(n,e);if(bf(n))return qF(n,e);if(uy(n))return GF(n,e);if(py(n))return _y(n,e);if(my(n))return KF(n,e);if(wy(n))return YF(n,e)}throw fy(n)}function Tn(n,e){return e?XF(n,e):gn(n)}function Ye(...n){let e=Ea(n);return Tn(n,e)}function xf(n,e){let t=st(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}function Cf(n){return!!n&&(n instanceof Ze||st(n.lift)&&st(n.subscribe))}var Ws=pf(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sh(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new $s({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Ws)}});n.subscribe(o)})}function ZF(n){return n instanceof Date&&!isNaN(n)}function Je(n,e){return _t((t,r)=>{let i=0;t.subscribe(wt(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Cie}=Array;function Eie(n,e){return Cie(e)?n(...e):n(e)}function Ef(n){return Je(e=>Eie(n,e))}var{isArray:Mie}=Array,{getPrototypeOf:Sie,prototype:Iie,keys:Aie}=Object;function yy(n){if(n.length===1){let e=n[0];if(Mie(e))return{args:e,keys:null};if(Tie(e)){let t=Aie(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Tie(n){return n&&typeof n=="object"&&Sie(n)===Iie}function ky(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function by(...n){let e=Ea(n),t=cy(n),{args:r,keys:i}=yy(n);if(r.length===0)return Tn([],e);let o=new Ze(Die(r,e,i?s=>ky(i,s):io));return t?o.pipe(Ef(t)):o}function Die(n,e,t=io){return r=>{QF(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)QF(e,()=>{let d=Tn(n[l],e),h=!1;d.subscribe(wt(r,f=>{o[l]=f,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QF(n,e,t){n?So(t,n,e):e()}function JF(n,e,t,r,i,o,s,a){let l=[],d=0,h=0,f=!1,m=()=>{f&&!l.length&&!d&&e.complete()},v=b=>d<r?_(b):l.push(b),_=b=>{o&&e.next(b),d++;let T=!1;gn(t(b,h++)).subscribe(wt(e,M=>{i?.(M),o?v(M):e.next(M)},()=>{T=!0},void 0,()=>{if(T)try{for(d--;l.length&&d<r;){let M=l.shift();s?So(e,s,()=>_(M)):_(M)}m()}catch(M){e.error(M)}}))};return n.subscribe(wt(e,v,()=>{f=!0,m()})),()=>{a?.()}}function or(n,e,t=1/0){return st(e)?or((r,i)=>Je((o,s)=>e(r,o,i,s))(gn(n(r,i))),t):(typeof e=="number"&&(t=e),_t((r,i)=>JF(r,i,n,t)))}function xy(n=1/0){return or(io,n)}function e7(){return xy(1)}function _d(...n){return e7()(Tn(n,Ea(n)))}function ah(n){return new Ze(e=>{gn(n()).subscribe(e)})}function zS(...n){let e=cy(n),{args:t,keys:r}=yy(n),i=new Ze(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let f=!1;gn(t[h]).subscribe(wt(o,m=>{f||(f=!0,d--),a[h]=m},()=>l--,void 0,()=>{(!l||!f)&&(d||o.next(r?ky(r,a):a),o.complete())}))}});return e?i.pipe(Ef(e)):i}var Rie=["addListener","removeListener"],Pie=["addEventListener","removeEventListener"],Oie=["on","off"];function en(n,e,t,r){if(st(t)&&(r=t,t=void 0),r)return en(n,e,t).pipe(Ef(r));let[i,o]=Fie(n)?Pie.map(s=>a=>n[s](e,a,t)):Nie(n)?Rie.map(t7(n,e)):Lie(n)?Oie.map(t7(n,e)):[];if(!i&&bf(n))return or(s=>en(s,e,t))(gn(n));if(!i)throw new TypeError("Invalid event target");return new Ze(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function t7(n,e){return t=>r=>n[t](e,r)}function Nie(n){return st(n.addListener)&&st(n.removeListener)}function Lie(n){return st(n.on)&&st(n.off)}function Fie(n){return st(n.addEventListener)&&st(n.removeEventListener)}function Bl(n=0,e,t=jS){let r=-1;return e!=null&&(ly(e)?t=e:r=e),new Ze(i=>{let o=ZF(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Cy(n=0,e=ps){return n<0&&(n=0),Bl(n,n,e)}function Ey(...n){let e=Ea(n),t=VF(n,1/0),r=n;return r.length?r.length===1?gn(r[0]):xy(t)(Tn(r,e)):ci}function Qt(n,e){return _t((t,r)=>{let i=0;t.subscribe(wt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function n7(n){return _t((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let d=i;i=null,t.next(d)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(wt(t,d=>{r=!0,i=d,o||gn(n(d)).subscribe(o=wt(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function My(n,e=ps){return n7(()=>Bl(n,e))}function oo(n){return _t((e,t)=>{let r=null,i=!1,o;r=e.subscribe(wt(t,void 0,void 0,s=>{o=gn(n(s,oo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function r7(n,e,t,r,i){return(o,s)=>{let a=t,l=e,d=0;o.subscribe(wt(s,h=>{let f=d++;l=a?n(l,h,f):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function yd(n,e){return st(e)?or(n,e,1):or(n,1)}function Vl(n,e=ps){return _t((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function l(){let d=s+n,h=e.now();if(h<d){i=this.schedule(void 0,d-h),r.add(i);return}a()}t.subscribe(wt(r,d=>{o=d,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function kd(n){return _t((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function br(n){return n<=0?()=>ci:_t((e,t)=>{let r=0;e.subscribe(wt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function i7(){return _t((n,e)=>{n.subscribe(wt(e,th))})}function o7(n){return Je(()=>n)}function $S(n,e){return e?t=>_d(e.pipe(br(1),i7()),t.pipe($S(n))):or((t,r)=>gn(n(t,r)).pipe(br(1),o7(t)))}function WS(n,e=ps){let t=Bl(n,e);return $S(()=>t)}function Sy(n,e=io){return n=n??Bie,_t((t,r)=>{let i,o=!0;t.subscribe(wt(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function Bie(n,e){return n===e}function Iy(n=Vie){return _t((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Vie(){return new Ws}function lh(n){return _t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function jl(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):io,br(1),t?kd(e):Iy(()=>new Ws))}function Mf(n){return n<=0?()=>ci:_t((e,t)=>{let r=[];e.subscribe(wt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function GS(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):io,Mf(1),t?kd(e):Iy(()=>new Ws))}function qS(n,e){return _t(r7(n,e,arguments.length>=2,!0))}function s7(n={}){let{connector:e=()=>new Te,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,d=0,h=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,h=f=!1},_=()=>{let b=s;v(),b?.unsubscribe()};return _t((b,T)=>{d++,!f&&!h&&m();let M=l=l??e();T.add(()=>{d--,d===0&&!f&&!h&&(a=KS(_,i))}),M.subscribe(T),!s&&d>0&&(s=new $s({next:B=>M.next(B),error:B=>{f=!0,m(),a=KS(v,t,B),M.error(B)},complete:()=>{h=!0,m(),a=KS(v,r),M.complete()}}),gn(b).subscribe(s))})(o)}}function KS(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new $s({next:()=>{r.unsubscribe(),n()}});return gn(e(...t)).subscribe(r)}function Ay(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,s7({connector:()=>new ih(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Qm(n){return Qt((e,t)=>n<=t)}function bd(...n){let e=Ea(n);return _t((t,r)=>{(e?_d(n,t,e):_d(n,t)).subscribe(r)})}function xr(n,e){return _t((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(wt(r,l=>{i?.unsubscribe();let d=0,h=o++;gn(n(l,h)).subscribe(i=wt(r,f=>r.next(e?e(l,f,h,d++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ue(n){return _t((e,t)=>{gn(n).subscribe(wt(t,()=>t.complete(),th)),!t.closed&&e.subscribe(t)})}function YS(n,e=!1){return _t((t,r)=>{let i=0;t.subscribe(wt(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function Pr(n,e,t){let r=st(n)||e||t?{next:n,error:e,complete:t}:n;return r?_t((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(wt(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):io}function XS(n,e,t){let r=Object.create(jie);r.source=n,r.computation=e,t!=null&&(r.equal=t);let o=()=>{if(Qu(r),Ll(r),r.value===Nl)throw r.error;return r.value};return o[fr]=r,qm(r),o}function a7(n,e){Qu(n),md(n,e),uf(n)}function l7(n,e){Qu(n),J_(n,e),uf(n)}var jie=Se(X({},pd),{value:hd,dirty:!0,error:null,equal:Gm,kind:"linkedSignal",producerMustRecompute(n){return n.value===hd||n.value===Zu},producerRecomputeValue(n){if(n.value===Zu)throw new Error("");let e=n.value;n.value=Zu;let t=Fl(n),r;try{let i=n.source(),o=e===hd||e===Nl?void 0:{source:n.sourceValue,value:e};r=n.computation(i,o),n.sourceValue=i}catch(i){r=Nl,n.error=i}finally{fd(n,t)}if(e!==hd&&r!==Nl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function c7(n){let e=pt(null);try{return n()}finally{pt(e)}}var d7=Se(X({},pd),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function u7(n){if(n.dirty=!1,n.hasRun&&!Ju(n))return;n.hasRun=!0;let e=Fl(n);try{n.cleanup(),n.fn()}finally{fd(n,e)}}var Oy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ee=class extends Error{code;constructor(e,t){super(zl(e,t)),this.code=e}};function Hie(n){return`NG0${Math.abs(n)}`}function zl(n,e){return`${Hie(n)}${e?": "+e:""}`}var If=globalThis;function wn(n){for(let e in n)if(n[e]===wn)return e;throw Error("")}function f7(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ul(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ul).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ny(n,e){return n?e?`${n} ${e}`:n:e||""}var Uie=wn({__forward_ref__:wn});function $n(n){return n.__forward_ref__=$n,n.toString=function(){return Ul(this())},n}function Xr(n){return lI(n)?n():n}function lI(n){return typeof n=="function"&&n.hasOwnProperty(Uie)&&n.__forward_ref__===$n}function g7(n,e){n==null&&cI(e,n,null,"!=")}function cI(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function i1(n){return zie(n,Ly)}function dI(n){return i1(n)!==null}function zie(n,e){return n.hasOwnProperty(e)&&n[e]||null}function $ie(n){let e=n?.[Ly]??null;return e||null}function QS(n){return n&&n.hasOwnProperty(Dy)?n[Dy]:null}var Ly=wn({\u0275prov:wn}),Dy=wn({\u0275inj:wn}),pe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uI(n){return n&&!!n.\u0275providers}var hI=wn({\u0275cmp:wn}),pI=wn({\u0275dir:wn}),fI=wn({\u0275pipe:wn}),gI=wn({\u0275mod:wn}),t1=wn({\u0275fac:wn}),ph=wn({__NG_ELEMENT_ID__:wn}),h7=wn({__NG_ENV_ID__:wn});function fh(n){return typeof n=="string"?n:n==null?"":String(n)}function Ry(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():fh(n)}var mI=wn({ngErrorCode:wn}),m7=wn({ngErrorMessage:wn}),e1=wn({ngTokenPath:wn});function vI(n,e){return v7("",-200,e)}function Fy(n,e){throw new Ee(-201,!1)}function Wie(n,e){n[e1]??=[];let t=n[e1],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(g7(e.provide,"Token with multi: true should have a provide property"),r=Ry(e.provide)):r=Ry(e),t[0]!==r&&n[e1].unshift(r)}function Gie(n,e){let t=n[e1],r=n[mI],i=n[m7]||n.message;return n.message=Kie(i,r,t,e),n}function v7(n,e,t){let r=new Ee(e,n);return r[mI]=e,r[m7]=n,t&&(r[e1]=t),r}function qie(n){return n[mI]}function Kie(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return zl(e,`${n}${o}${i}`)}var JS;function w7(){return JS}function so(n){let e=JS;return JS=n,e}function wI(n,e,t){let r=i1(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Fy(n,"Injector")}var Yie={},ch=Yie,eI="__NG_DI_FLAG__",tI=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=dh(t)||0;try{return this.injector.get(e,r&8?null:ch,r)}catch(i){if(df(i))return i;throw i}}};function Xie(n,e=0){let t=X_();if(t===void 0)throw new Ee(-203,!1);if(t===null)return wI(n,void 0,e);{let r=Zie(e),i=t.retrieve(n,r);if(df(i)){if(r.optional)return null;throw i}return i}}function Ie(n,e=0){return(w7()||Xie)(Xr(n),e)}function C(n,e){return Ie(n,dh(e))}function dh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zie(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function nI(n){let e=[];for(let t=0;t<n.length;t++){let r=Xr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ee(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=Qie(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ie(i,o))}else e.push(Ie(r))}return e}function _7(n,e){return n[eI]=e,n.prototype[eI]=e,n}function Qie(n){return n[eI]}function xd(n,e){let t=n.hasOwnProperty(t1);return t?n[t1]:null}function y7(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function k7(n){return n.flat(Number.POSITIVE_INFINITY)}function By(n,e){n.forEach(t=>Array.isArray(t)?By(t,e):e(t))}function _I(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function o1(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function b7(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function x7(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function s1(n,e,t){let r=Af(n,e);return r>=0?n[r|1]=t:(r=~r,x7(n,r,e,t)),r}function Vy(n,e){let t=Af(n,e);if(t>=0)return n[t|1]}function Af(n,e){return Jie(n,e,1)}function Jie(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Gs={},Hi=[],Ma=new pe(""),yI=new pe("",-1),kI=new pe(""),n1=class{get(e,t=ch){if(t===ch){let i=v7("",-201);throw i.name="\u0275NotFound",i}return t}};function bI(n){return n[gI]||null}function $l(n){return n[hI]||null}function jy(n){return n[pI]||null}function C7(n){return n[fI]||null}function di(n){return{\u0275providers:n}}function E7(n){return di([{provide:Ma,multi:!0,useValue:n}])}function M7(...n){return{\u0275providers:xI(!0,n),\u0275fromNgModule:!0}}function xI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return By(e,s=>{let a=s;Py(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&S7(i,o),t}function S7(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];CI(i,o=>{e(o,r)})}}function Py(n,e,t,r){if(n=Xr(n),!n)return!1;let i=null,o=QS(n),s=!o&&$l(n);if(!o&&!s){let l=n.ngModule;if(o=QS(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Py(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{By(o.imports,h=>{Py(h,e,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&S7(d,e)}if(!a){let d=xd(i)||(()=>new i);e({provide:i,useFactory:d,deps:Hi},i),e({provide:kI,useValue:i,multi:!0},i),e({provide:Ma,useValue:()=>Ie(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=n;CI(l,h=>{e(h,d)})}}else return!1;return i!==n&&n.providers!==void 0}function CI(n,e){for(let t of n)uI(t)&&(t=t.\u0275providers),Array.isArray(t)?CI(t,e):e(t)}var eoe=wn({provide:String,useValue:wn});function I7(n){return n!==null&&typeof n=="object"&&eoe in n}function toe(n){return!!(n&&n.useExisting)}function noe(n){return!!(n&&n.useFactory)}function uh(n){return typeof n=="function"}function A7(n){return!!n.useClass}var a1=new pe(""),Ty={},p7={},ZS;function Tf(){return ZS===void 0&&(ZS=new n1),ZS}var Nn=class{},hh=class extends Nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,iI(e,s=>this.processProvider(s)),this.records.set(yI,Sf(void 0,this)),i.has("environment")&&this.records.set(Nn,Sf(void 0,this));let o=this.records.get(a1);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kI,Hi,{self:!0}))}retrieve(e,t){let r=dh(t)||0;try{return this.get(e,ch,r)}catch(i){if(df(i))return i;throw i}}destroy(){Jm(this),this._destroyed=!0;let e=pt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pt(e)}}onDestroy(e){return Jm(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Jm(this);let t=Ca(this),r=so(void 0),i;try{return e()}finally{Ca(t),so(r)}}get(e,t=ch,r){if(Jm(this),e.hasOwnProperty(h7))return e[h7](this);let i=dh(r),o,s=Ca(this),a=so(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let h=aoe(e)&&i1(e);h&&this.injectableDefInScope(h)?d=Sf(rI(e),Ty):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let l=i&2?Tf():this.parent;return t=i&8&&t===ch?null:t,l.get(e,t)}catch(l){let d=qie(l);throw d===-200||d===-201?new Ee(d,null):l}finally{so(a),Ca(s)}}resolveInjectorInitializers(){let e=pt(null),t=Ca(this),r=so(void 0),i;try{let o=this.get(Ma,Hi,{self:!0});for(let s of o)s()}finally{Ca(t),so(r),pt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ul(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xr(e);let t=uh(e)?e:Xr(e&&e.provide),r=ioe(e);if(!uh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Sf(void 0,Ty,!0),i.factory=()=>nI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=pt(null);try{if(t.value===p7)throw vI(Ul(e));return t.value===Ty&&(t.value=p7,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&soe(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Xr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rI(n){let e=i1(n),t=e!==null?e.factory:xd(n);if(t!==null)return t;if(n instanceof pe)throw new Ee(204,!1);if(n instanceof Function)return roe(n);throw new Ee(204,!1)}function roe(n){if(n.length>0)throw new Ee(204,!1);let t=$ie(n);return t!==null?()=>t.factory(n):()=>new n}function ioe(n){if(I7(n))return Sf(void 0,n.useValue);{let e=EI(n);return Sf(e,Ty)}}function EI(n,e,t){let r;if(uh(n)){let i=Xr(n);return xd(i)||rI(i)}else if(I7(n))r=()=>Xr(n.useValue);else if(noe(n))r=()=>n.useFactory(...nI(n.deps||[]));else if(toe(n))r=(i,o)=>Ie(Xr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Xr(n&&(n.useClass||n.provide));if(ooe(n))r=()=>new i(...nI(n.deps));else return xd(i)||rI(i)}return r}function Jm(n){if(n.destroyed)throw new Ee(205,!1)}function Sf(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ooe(n){return!!n.deps}function soe(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function aoe(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function iI(n,e){for(let t of n)Array.isArray(t)?iI(t,e):t&&uI(t)?iI(t.\u0275providers,e):e(t)}function Dn(n,e){let t;n instanceof hh?(Jm(n),t=n):t=new tI(n);let r,i=Ca(t),o=so(void 0);try{return e()}finally{Ca(i),so(o)}}function T7(){return w7()!==void 0||X_()!=null}var qs=0,tt=1,mt=2,Zr=3,gs=4,ao=5,gh=6,Df=7,Cr=8,mh=9,Sa=10,Ln=11,Rf=12,MI=13,vh=14,lo=15,Ed=16,wh=17,Ia=18,l1=19,SI=20,Hl=21,Hy=22,Wl=23,Go=24,_h=25,Wn=26,D7=1,II=6,Md=7,c1=8,yh=9,ui=10;function Aa(n){return Array.isArray(n)&&typeof n[D7]=="object"}function Ks(n){return Array.isArray(n)&&n[D7]===!0}function AI(n){return(n.flags&4)!==0}function Gl(n){return n.componentOffset>-1}function Pf(n){return(n.flags&1)===1}function Ys(n){return!!n.template}function Of(n){return(n[mt]&512)!==0}function kh(n){return(n[mt]&256)===256}var TI="svg",R7="math";function ms(n){for(;Array.isArray(n);)n=n[qs];return n}function DI(n,e){return ms(e[n])}function vs(n,e){return ms(e[n.index])}function d1(n,e){return n.data[e]}function Uy(n,e){return n[e]}function RI(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ws(n,e){let t=e[n];return Aa(t)?t:t[qs]}function P7(n){return(n[mt]&4)===4}function zy(n){return(n[mt]&128)===128}function O7(n){return Ks(n[Zr])}function _s(n,e){return e==null?null:n[e]}function PI(n){n[wh]=0}function OI(n){n[mt]&1024||(n[mt]|=1024,zy(n)&&Sd(n))}function N7(n,e){for(;n>0;)e=e[vh],n--;return e}function u1(n){return!!(n[mt]&9216||n[Go]?.dirty)}function $y(n){n[Sa].changeDetectionScheduler?.notify(8),n[mt]&64&&(n[mt]|=1024),u1(n)&&Sd(n)}function Sd(n){n[Sa].changeDetectionScheduler?.notify(0);let e=Cd(n);for(;e!==null&&!(e[mt]&8192||(e[mt]|=8192,!zy(e)));)e=Cd(e)}function NI(n,e){if(kh(n))throw new Ee(911,!1);n[Hl]===null&&(n[Hl]=[]),n[Hl].push(e)}function L7(n,e){if(n[Hl]===null)return;let t=n[Hl].indexOf(e);t!==-1&&n[Hl].splice(t,1)}function Cd(n){let e=n[Zr];return Ks(e)?e[Zr]:e}function LI(n){return n[Df]??=[]}function FI(n){return n.cleanup??=[]}function F7(n,e,t,r){let i=LI(e);i.push(t),n.firstCreatePass&&FI(n).push(r,i.length-1)}var Tt={lFrame:Y7(null),bindingsEnabled:!0,skipHydrationRootTNode:null},h1=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(h1||{}),loe=0,oI=!1;function B7(){return Tt.lFrame.elementDepthCount}function V7(){Tt.lFrame.elementDepthCount++}function BI(){Tt.lFrame.elementDepthCount--}function Wy(){return Tt.bindingsEnabled}function VI(){return Tt.skipHydrationRootTNode!==null}function jI(n){return Tt.skipHydrationRootTNode===n}function HI(){Tt.skipHydrationRootTNode=null}function nt(){return Tt.lFrame.lView}function Zn(){return Tt.lFrame.tView}function We(n){return Tt.lFrame.contextLView=n,n[Cr]}function Ge(n){return Tt.lFrame.contextLView=null,n}function Qr(){let n=UI();for(;n!==null&&n.type===64;)n=n.parent;return n}function UI(){return Tt.lFrame.currentTNode}function j7(){let n=Tt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Nf(n,e){let t=Tt.lFrame;t.currentTNode=n,t.isParent=e}function zI(){return Tt.lFrame.isParent}function $I(){Tt.lFrame.isParent=!1}function H7(){return Tt.lFrame.contextLView}function WI(n){cI("Must never be called in production mode"),loe=n}function GI(){return oI}function Lf(n){let e=oI;return oI=n,e}function bh(){let n=Tt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function U7(){return Tt.lFrame.bindingIndex}function z7(n){return Tt.lFrame.bindingIndex=n}function Id(){return Tt.lFrame.bindingIndex++}function Gy(n){let e=Tt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $7(){return Tt.lFrame.inI18n}function W7(n,e){let t=Tt.lFrame;t.bindingIndex=t.bindingRootIndex=n,qy(e)}function G7(){return Tt.lFrame.currentDirectiveIndex}function qy(n){Tt.lFrame.currentDirectiveIndex=n}function q7(n){let e=Tt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ky(){return Tt.lFrame.currentQueryIndex}function p1(n){Tt.lFrame.currentQueryIndex=n}function coe(n){let e=n[tt];return e.type===2?e.declTNode:e.type===1?n[ao]:null}function qI(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=coe(o),i===null||(o=o[vh],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Tt.lFrame=K7();return r.currentTNode=e,r.lView=n,!0}function Yy(n){let e=K7(),t=n[tt];Tt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function K7(){let n=Tt.lFrame,e=n===null?null:n.child;return e===null?Y7(n):e}function Y7(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function X7(){let n=Tt.lFrame;return Tt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var KI=X7;function Xy(){let n=X7();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Z7(n){return(Tt.lFrame.contextLView=N7(n,Tt.lFrame.contextLView))[Cr]}function Ta(){return Tt.lFrame.selectedIndex}function Ad(n){Tt.lFrame.selectedIndex=n}function f1(){let n=Tt.lFrame;return d1(n.tView,n.selectedIndex)}function ys(){Tt.lFrame.currentNamespace=TI}function Zy(){doe()}function doe(){Tt.lFrame.currentNamespace=null}function Q7(){return Tt.lFrame.currentNamespace}var J7=!0;function Qy(){return J7}function g1(n){J7=n}var uoe={elements:void 0};function Jy(){return uoe}function sI(n,e=null,t=null,r){let i=YI(n,e,t,r);return i.resolveInjectorInitializers(),i}function YI(n,e=null,t=null,r,i=new Set){let o=[t||Hi,M7(n)];return r=r||(typeof n=="object"?void 0:Ul(n)),new hh(o,e||Tf(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=ch;static NULL=new n1;static create(e,t){if(Array.isArray(e))return sI({name:""},t,e,"");{let r=e.name??"";return sI({name:r},e.parent,e.providers,r)}}static \u0275prov=ce({token:n,providedIn:"any",factory:()=>Ie(yI)});static __NG_ELEMENT_ID__=-1},vt=new pe(""),Gn=(()=>{class n{static __NG_ELEMENT_ID__=hoe;static __NG_ENV_ID__=t=>t}return n})(),r1=class extends Gn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return kh(this._lView)}onDestroy(e){let t=this._lView;return NI(t,e),()=>L7(t,e)}};function hoe(){return new r1(nt())}var Wo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},co=new pe("",{providedIn:"root",factory:()=>{let n=C(Nn),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Wo),e.handleError(t))}}}),eB={provide:Ma,useValue:()=>void C(Wo),multi:!0},poe=new pe("",{providedIn:"root",factory:()=>{let n=C(vt).defaultView;if(!n)return;let e=C(co),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),C(Gn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function XI(){return di([E7(()=>void C(poe))])}function m1(n){return typeof n=="function"&&n[fr]!==void 0}function Me(n,e){let[t,r,i]=TS(n,e?.equal),o=t,s=o[fr];return o.set=r,o.update=i,o.asReadonly=v1.bind(o),o}function v1(){let n=this[fr];if(n.readonlyFn===void 0){let e=()=>this();e[fr]=n,n.readonlyFn=e}return n.readonlyFn}var fs=class{},Ff=new pe("",{providedIn:"root",factory:()=>!1});var ZI=new pe(""),QI=new pe("");var xh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=foe}return n})();function foe(){return new xh(nt(),Qr())}var Da=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Xn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ze(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),ql=(()=>{class n{internalPendingTasks=C(Da);scheduler=C(fs);errorHandler=C(co);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ch(...n){}var w1=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new aI})}return n})(),aI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Wf(n){return{toString:n}.toString()}var ek="__parameters__";function yoe(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function koe(n,e,t){return Wf(()=>{let r=yoe(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,h){let f=l.hasOwnProperty(ek)?l[ek]:Object.defineProperty(l,ek,{value:[]})[ek];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Or=_7(koe("Optional"),8);function boe(n){return typeof n=="function"}var ck=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function LB(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ei=(()=>{let n=()=>FB;return n.ngInherit=!0,n})();function FB(n){return n.type.prototype.ngOnChanges&&(n.setInput=Coe),xoe}function xoe(){let n=VB(this),e=n?.current;if(e){let t=n.previous;if(t===Gs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Coe(n,e,t,r,i){let o=this.declaredInputs[r],s=VB(n)||Eoe(n,{previous:Gs,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new ck(d&&d.currentValue,t,l===Gs),LB(n,e,i,t)}var BB="__ngSimpleChanges__";function VB(n){return n[BB]||null}function Eoe(n,e){return n[BB]=e}var tB=[];var Mn=function(n,e=null,t){for(let r=0;r<tB.length;r++){let i=tB[r];i(n,e,t)}};function Moe(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FB(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function jB(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ik(n,e,t){HB(n,e,3,t)}function ok(n,e,t,r){(n[mt]&3)===t&&HB(n,e,t,r)}function JI(n,e){let t=n[mt];(t&3)===e&&(t&=16383,t+=1,n[mt]=t)}function HB(n,e,t,r){let i=r!==void 0?n[wh]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[wh]+=65536),(a<o||o==-1)&&(Soe(n,t,e,l),n[wh]=(n[wh]&4294901760)+l+2),l++}function nB(n,e){Mn(4,n,e);let t=pt(null);try{e.call(n)}finally{pt(t),Mn(5,n,e)}}function Soe(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[mt]>>14<n[wh]>>16&&(n[mt]&3)===e&&(n[mt]+=16384,nB(a,o)):nB(a,o)}var Vf=-1,Mh=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Ioe(n){return(n.flags&8)!==0}function Aoe(n){return(n.flags&16)!==0}function Toe(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Doe(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function UB(n){return n===3||n===4||n===6}function Doe(n){return n.charCodeAt(0)===64}function jf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?rB(n,t,i,null,e[++r]):rB(n,t,i,null,null))}}return n}function rB(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function zB(n){return n!==Vf}function dk(n){return n&32767}function Roe(n){return n>>16}function uk(n,e){let t=Roe(n),r=e;for(;t>0;)r=r[vh],t--;return r}var dA=!0;function hk(n){let e=dA;return dA=n,e}var Poe=256,$B=Poe-1,WB=5,Ooe=0,Ra={};function Noe(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ph)&&(r=t[ph]),r==null&&(r=t[ph]=Ooe++);let i=r&$B,o=1<<i;e.data[n+(i>>WB)]|=o}function pk(n,e){let t=GB(n,e);if(t!==-1)return t;let r=e[tt];r.firstCreatePass&&(n.injectorIndex=e.length,eA(r.data,n),eA(e,null),eA(r.blueprint,null));let i=YA(n,e),o=n.injectorIndex;if(zB(i)){let s=dk(i),a=uk(i,e),l=a[tt].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function eA(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GB(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function YA(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ZB(i),r===null)return Vf;if(t++,i=i[vh],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Vf}function uA(n,e,t){Noe(n,e,t)}function Loe(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(UB(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function qB(n,e,t){if(t&8||n!==void 0)return n;Fy(e,"NodeInjector")}function KB(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[mh],o=so(void 0);try{return i?i.get(e,r,t&8):wI(e,r,t&8)}finally{so(o)}}return qB(r,e,t)}function YB(n,e,t,r=0,i){if(n!==null){if(e[mt]&2048&&!(r&2)){let s=joe(n,e,t,r,Ra);if(s!==Ra)return s}let o=XB(n,e,t,r,Ra);if(o!==Ra)return o}return KB(e,t,r,i)}function XB(n,e,t,r,i){let o=Boe(t);if(typeof o=="function"){if(!qI(e,n,r))return r&1?qB(i,t,r):KB(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Fy(t);else return s}finally{KI()}}else if(typeof o=="number"){let s=null,a=GB(n,e),l=Vf,d=r&1?e[lo][ao]:null;for((a===-1||r&4)&&(l=a===-1?YA(n,e):e[a+8],l===Vf||!oB(r,!1)?a=-1:(s=e[tt],a=dk(l),e=uk(l,e)));a!==-1;){let h=e[tt];if(iB(o,a,h.data)){let f=Foe(a,e,t,s,r,d);if(f!==Ra)return f}l=e[a+8],l!==Vf&&oB(r,e[tt].data[a+8]===d)&&iB(o,a,e)?(s=h,a=dk(l),e=uk(l,e)):a=-1}}return i}function Foe(n,e,t,r,i,o){let s=e[tt],a=s.data[n+8],l=r==null?Gl(a)&&dA:r!=s&&(a.type&3)!==0,d=i&1&&o===a,h=sk(a,s,t,l,d);return h!==null?k1(e,s,h,a,i):Ra}function sk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,d=n.directiveEnd,h=o>>20,f=r?a:a+h,m=i?a+h:d;for(let v=f;v<m;v++){let _=s[v];if(v<l&&t===_||v>=l&&_.type===t)return v}if(i){let v=s[l];if(v&&Ys(v)&&v.type===t)return l}return null}function k1(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Mh){let a=o;if(a.resolving){let v=Ry(s[t]);throw vI(v)}let l=hk(a.canSeeViewProviders);a.resolving=!0;let d=s[t].type||s[t],h,f=a.injectImpl?so(a.injectImpl):null,m=qI(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Moe(t,s[t],e)}finally{f!==null&&so(f),hk(l),a.resolving=!1,KI()}}return o}function Boe(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ph)?n[ph]:void 0;return typeof e=="number"?e>=0?e&$B:Voe:e}function iB(n,e,t){let r=1<<n;return!!(t[e+(n>>WB)]&r)}function oB(n,e){return!(n&2)&&!(n&1&&e)}var Eh=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return YB(this._tNode,this._lView,e,dh(r),t)}};function Voe(){return new Eh(Qr(),nt())}function _n(n){return Wf(()=>{let e=n.prototype.constructor,t=e[t1]||hA(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[t1]||hA(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hA(n){return lI(n)?()=>{let e=hA(Xr(n));return e&&e()}:xd(n)}function joe(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[mt]&2048&&!Of(s);){let a=XB(o,s,t,r|2,Ra);if(a!==Ra)return a;let l=o.parent;if(!l){let d=s[SI];if(d){let h=d.get(t,Ra,r);if(h!==Ra)return h}l=ZB(s),s=s[vh]}o=l}return i}function ZB(n){let e=n[tt],t=e.type;return t===2?e.declTNode:t===1?n[ao]:null}function XA(n){return Loe(Qr(),n)}function Hoe(){return Gf(Qr(),nt())}function Gf(n,e){return new at(vs(n,e))}var at=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Hoe}return n})();function QB(n){return n instanceof at?n.nativeElement:n}function Uoe(){return this._results[Symbol.iterator]()}var Sh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Te}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=k7(e);(this._changesDetected=!y7(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Uoe};function JB(n){return(n.flags&128)===128}var ZA=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ZA||{}),e9=new Map,zoe=0;function $oe(){return zoe++}function Woe(n){e9.set(n[l1],n)}function pA(n){e9.delete(n[l1])}var sB="__ngContext__";function Hf(n,e){Aa(e)?(n[sB]=e[l1],Woe(e)):n[sB]=e}function t9(n){return r9(n[Rf])}function n9(n){return r9(n[gs])}function r9(n){for(;n!==null&&!Ks(n);)n=n[gs];return n}var fA;function QA(n){fA=n}function i9(){if(fA!==void 0)return fA;if(typeof document<"u")return document;throw new Ee(210,!1)}var Dd=new pe("",{providedIn:"root",factory:()=>Goe}),Goe="ng",Sk=new pe(""),Qn=new pe("",{providedIn:"platform",factory:()=>"unknown"});var A1=new pe(""),Ik=new pe("",{providedIn:"root",factory:()=>i9().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qoe="h",Koe="b";var o9="r";var s9="di";var a9=!1,l9=new pe("",{providedIn:"root",factory:()=>a9});var Yoe=(n,e,t,r)=>{};function Xoe(n,e,t,r){Yoe(n,e,t,r)}function Ak(n){return(n.flags&32)===32}var Zoe=()=>null;function c9(n,e,t=!1){return Zoe(n,e,t)}function d9(n,e){let t=n.contentQueries;if(t!==null){let r=pt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];p1(o),a.contentQueries(2,e[s],s)}}}finally{pt(r)}}}function gA(n,e,t){p1(0);let r=pt(null);try{e(n,t)}finally{pt(r)}}function JA(n,e,t){if(AI(e)){let r=pt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{pt(r)}}}var Kl=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Kl||{}),tk;function Qoe(){if(tk===void 0&&(tk=null,If.trustedTypes))try{tk=If.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tk}function Tk(n){return Qoe()?.createHTML(n)||n}var Yl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oy})`}},mA=class extends Yl{getTypeName(){return"HTML"}},vA=class extends Yl{getTypeName(){return"Style"}},wA=class extends Yl{getTypeName(){return"Script"}},_A=class extends Yl{getTypeName(){return"URL"}},yA=class extends Yl{getTypeName(){return"ResourceURL"}};function Qs(n){return n instanceof Yl?n.changingThisBreaksApplicationSecurity:n}function Rd(n,e){let t=u9(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Oy})`)}return t===e}function u9(n){return n instanceof Yl&&n.getTypeName()||null}function eT(n){return new mA(n)}function tT(n){return new vA(n)}function nT(n){return new wA(n)}function rT(n){return new _A(n)}function iT(n){return new yA(n)}function Joe(n){let e=new bA(n);return ese()?new kA(e):e}var kA=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Tk(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},bA=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Tk(e),t}};function ese(){try{return!!new window.DOMParser().parseFromString(Tk(""),"text/html")}catch{return!1}}var tse=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function T1(n){return n=String(n),n.match(tse)?n:"unsafe:"+n}function Xl(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function D1(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var h9=Xl("area,br,col,hr,img,wbr"),p9=Xl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f9=Xl("rp,rt"),nse=D1(f9,p9),rse=D1(p9,Xl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ise=D1(f9,Xl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aB=D1(h9,rse,ise,nse),g9=Xl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ose=Xl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sse=Xl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ase=D1(g9,ose,sse),lse=Xl("script,style,template"),xA=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=use(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=dse(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=lB(e).toLowerCase();if(!aB.hasOwnProperty(t))return this.sanitizedSomething=!0,!lse.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!ase.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;g9[a]&&(l=T1(l)),this.buf.push(" ",s,'="',cB(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=lB(e).toLowerCase();aB.hasOwnProperty(t)&&!h9.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(cB(e))}};function cse(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function dse(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw m9(e);return e}function use(n){let e=n.firstChild;if(e&&cse(n,e))throw m9(e);return e}function lB(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function m9(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var hse=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pse=/([^\#-~ |!])/g;function cB(n){return n.replace(/&/g,"&amp;").replace(hse,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(pse,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nk;function oT(n,e){let t=null;try{nk=nk||Joe(n);let r=e?String(e):"";t=nk.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=nk.getInertBodyElement(r)}while(r!==o);let a=new xA().sanitizeChildren(dB(t)||t);return Tk(a)}finally{if(t){let r=dB(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function dB(n){return"content"in n&&fse(n)?n.content:null}function fse(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Oa=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Oa||{});function ti(n){let e=gse();return e?e.sanitize(Oa.URL,n)||"":Rd(n,"URL")?Qs(n):T1(fh(n))}function gse(){let n=nt();return n&&n[Sa].sanitizer}var mse=/^>|^->|<!--|-->|--!>|<!-$/g,vse=/(<|>)/g,wse="\u200B$1\u200B";function _se(n){return n.replace(mse,e=>e.replace(vse,wse))}function R1(n){return n.ownerDocument.defaultView}function v9(n){return n instanceof Function?n():n}function yse(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var w9="ng-template";function kse(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yse(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(sT(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function sT(n){return n.type===4&&n.value!==w9}function bse(n,e,t){let r=n.type===4&&!t?w9:n.value;return e===r}function xse(n,e,t){let r=4,i=n.attrs,o=i!==null?Mse(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Xs(r)&&!Xs(l))return!1;if(s&&Xs(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!bse(n,l,t)||l===""&&e.length===1){if(Xs(r))return!1;s=!0}}else if(r&8){if(i===null||!kse(n,i,l,t)){if(Xs(r))return!1;s=!0}}else{let d=e[++a],h=Cse(l,i,sT(n),t);if(h===-1){if(Xs(r))return!1;s=!0;continue}if(d!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&d!==f){if(Xs(r))return!1;s=!0}}}}return Xs(r)||s}function Xs(n){return(n&1)===0}function Cse(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Sse(e,n)}function _9(n,e,t=!1){for(let r=0;r<e.length;r++)if(xse(n,e[r],t))return!0;return!1}function Ese(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Mse(n){for(let e=0;e<n.length;e++){let t=n[e];if(UB(t))return e}return n.length}function Sse(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ise(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function uB(n,e){return n?":not("+e.trim()+")":e}function Ase(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xs(s)&&(e+=uB(o,i),i=""),r=s,o=o||!Xs(r);t++}return i!==""&&(e+=uB(o,i)),e}function Tse(n){return n.map(Ase).join(",")}function Dse(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Xs(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var uo={};function Rse(n,e){return n.createText(e)}function Pse(n,e,t){n.setValue(e,t)}function Ose(n,e){return n.createComment(_se(e))}function y9(n,e,t){return n.createElement(e,t)}function fk(n,e,t,r,i){n.insertBefore(e,t,r,i)}function k9(n,e,t){n.appendChild(e,t)}function hB(n,e,t,r,i){r!==null?fk(n,e,t,r,i):k9(n,e,t)}function b9(n,e,t){n.removeChild(null,e,t)}function Nse(n,e,t){n.setAttribute(e,"style",t)}function Lse(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function x9(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Toe(n,e,r),i!==null&&Lse(n,e,i),o!==null&&Nse(n,e,o)}function aT(n,e,t,r,i,o,s,a,l,d,h){let f=Wn+r,m=f+i,v=Fse(f,m),_=typeof d=="function"?d():d;return v[tt]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:h}}function Fse(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:uo);return t}function Bse(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=aT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function lT(n,e,t,r,i,o,s,a,l,d,h){let f=e.blueprint.slice();return f[qs]=i,f[mt]=r|4|128|8|64|1024,(d!==null||n&&n[mt]&2048)&&(f[mt]|=2048),PI(f),f[Zr]=f[vh]=n,f[Cr]=t,f[Sa]=s||n&&n[Sa],f[Ln]=a||n&&n[Ln],f[mh]=l||n&&n[mh]||null,f[ao]=o,f[l1]=$oe(),f[gh]=h,f[SI]=d,f[lo]=e.type==2?n[lo]:f,f}function Vse(n,e,t){let r=vs(e,n),i=Bse(t),o=n[Sa].rendererFactory,s=cT(n,lT(n,i,null,C9(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function C9(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function E9(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cT(n,e){return n[Rf]?n[MI][gs]=e:n[Rf]=e,n[MI]=e,e}function P(n=1){M9(Zn(),nt(),Ta()+n,!1)}function M9(n,e,t,r){if(!r)if((e[mt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ik(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ok(e,o,0,t)}Ad(t)}var Dk=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Dk||{});function CA(n,e,t,r){let i=pt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Dk.SignalBased)!==0&&(l=e[o][fr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):LB(e,l,o,r)}finally{pt(i)}}var Pa=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Pa||{}),jse;function dT(n,e){return jse(n,e)}function Bf(n,e,t,r,i){if(r!=null){let o,s=!1;Ks(r)?o=r:Aa(r)&&(s=!0,r=r[qs]);let a=ms(r);n===0&&t!==null?i==null?k9(e,t,a):fk(e,t,a,i||null,!0):n===1&&t!==null?fk(e,t,a,i||null,!0):n===2?b9(e,a,s):n===3&&e.destroyNode(a),o!=null&&Xse(e,n,o,t,i)}}function Hse(n,e){S9(n,e),e[qs]=null,e[ao]=null}function Use(n,e,t,r,i,o){r[qs]=i,r[ao]=e,Pk(n,r,t,1,i,o)}function S9(n,e){e[Sa].changeDetectionScheduler?.notify(9),Pk(n,e,e[Ln],2,null,null)}function zse(n){let e=n[Rf];if(!e)return tA(n[tt],n);for(;e;){let t=null;if(Aa(e))t=e[Rf];else{let r=e[ui];r&&(t=r)}if(!t){for(;e&&!e[gs]&&e!==n;)Aa(e)&&tA(e[tt],e),e=e[Zr];e===null&&(e=n),Aa(e)&&tA(e[tt],e),t=e&&e[gs]}e=t}}function uT(n,e){let t=n[yh],r=t.indexOf(e);t.splice(r,1)}function Rk(n,e){if(kh(e))return;let t=e[Ln];t.destroyNode&&Pk(n,e,t,3,null,null),zse(e)}function tA(n,e){if(kh(e))return;let t=pt(null);try{e[mt]&=-129,e[mt]|=256,e[Go]&&gd(e[Go]),Wse(n,e),$se(n,e),e[tt].type===1&&e[Ln].destroy();let r=e[Ed];if(r!==null&&Ks(e[Zr])){r!==e[Zr]&&uT(r,e);let i=e[Ia];i!==null&&i.detachView(n)}pA(e)}finally{pt(t)}}function $se(n,e){let t=n.cleanup,r=e[Df];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Df]=null);let i=e[Hl];if(i!==null){e[Hl]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Wl];if(o!==null){e[Wl]=null;for(let s of o)s.destroy()}}function Wse(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Mh)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Mn(4,a,l);try{l.call(a)}finally{Mn(5,a,l)}}else{Mn(4,i,o);try{o.call(i)}finally{Mn(5,i,o)}}}}}function I9(n,e,t){return Gse(n,e.parent,t)}function Gse(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[qs];if(Gl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Kl.None||i===Kl.Emulated)return null}return vs(r,t)}function A9(n,e,t){return Kse(n,e,t)}function qse(n,e,t){return n.type&40?vs(n,t):null}var Kse=qse,pB;function hT(n,e,t,r){let i=I9(n,r,e),o=e[Ln],s=r.parent||e[ao],a=A9(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)hB(o,i,t[l],a,!1);else hB(o,i,t,a,!1);pB!==void 0&&pB(o,r,e,t,i)}function _1(n,e){if(e!==null){let t=e.type;if(t&3)return vs(e,n);if(t&4)return EA(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return _1(n,r);{let i=n[e.index];return Ks(i)?EA(-1,i):ms(i)}}else{if(t&128)return _1(n,e.next);if(t&32)return dT(e,n)()||ms(n[e.index]);{let r=T9(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cd(n[lo]);return _1(i,r)}else return _1(n,e.next)}}}return null}function T9(n,e){if(e!==null){let r=n[lo][ao],i=e.projection;return r.projection[i]}return null}function EA(n,e){let t=ui+n+1;if(t<e.length){let r=e[t],i=r[tt].firstChild;if(i!==null)return _1(r,i)}return e[Md]}function pT(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Hf(ms(a),r),t.flags|=2),!Ak(t))if(l&8)pT(n,e,t.child,r,i,o,!1),Bf(e,n,i,a,o);else if(l&32){let d=dT(t,r),h;for(;h=d();)Bf(e,n,i,h,o);Bf(e,n,i,a,o)}else l&16?D9(n,e,r,t,i,o):Bf(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Pk(n,e,t,r,i,o){pT(t,r,n.firstChild,e,i,o,!1)}function Yse(n,e,t){let r=e[Ln],i=I9(n,t,e),o=t.parent||e[ao],s=A9(o,t,e);D9(r,0,e,t,i,s)}function D9(n,e,t,r,i,o){let s=t[lo],l=s[ao].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];Bf(e,n,i,h,o)}else{let d=l,h=s[Zr];JB(r)&&(d.flags|=128),pT(n,e,d,h,i,o,!0)}}function Xse(n,e,t,r,i){let o=t[Md],s=ms(t);o!==s&&Bf(e,n,r,o,i);for(let a=ui;a<t.length;a++){let l=t[a];Pk(l[tt],l,n,e,r,o)}}function Zse(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Pa.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pa.Important),n.setStyle(t,r,i,o))}}function R9(n,e,t,r,i){let o=Ta(),s=r&2;try{Ad(-1),s&&e.length>Wn&&M9(n,e,Wn,!1),Mn(s?2:0,i,t),t(r,i)}finally{Ad(o),Mn(s?3:1,i,t)}}function Ok(n,e,t){rae(n,e,t),(t.flags&64)===64&&iae(n,e,t)}function P1(n,e,t=vs){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Qse(n,e,t,r){let o=r.get(l9,a9)||t===Kl.ShadowDom,s=n.selectRootElement(e,o);return Jse(s),s}function Jse(n){eae(n)}var eae=()=>null;function tae(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nae(n,e,t,r,i,o){let s=e[tt];if(Nk(n,s,e,t,r)){Gl(n)&&O9(e,n.index);return}n.type&3&&(t=tae(t)),P9(n,e,t,r,i,o)}function P9(n,e,t,r,i,o){if(n.type&3){let s=vs(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function O9(n,e){let t=ws(e,n);t[mt]&16||(t[mt]|=64)}function rae(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Gl(t)&&Vse(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||pk(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=k1(e,n,s,t);if(Hf(l,e),o!==null&&aae(e,s-r,l,a,t,o),Ys(a)){let d=ws(t.index,e);d[Cr]=k1(e,n,s,t)}}}function iae(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=G7();try{Ad(o);for(let a=r;a<i;a++){let l=n.data[a],d=e[a];qy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oae(l,d)}}finally{Ad(-1),qy(s)}}function oae(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function fT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];_9(e,o.selectors,!1)&&(r??=[],Ys(o)?r.unshift(o):r.push(o))}return r}function sae(n,e,t,r,i,o){let s=vs(n,e);N9(e[Ln],s,o,n.value,t,r,i)}function N9(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?fh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function aae(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];CA(r,t,l,d)}}function gT(n,e,t,r,i){let o=Wn+t,s=e[tt],a=i(s,e,n,r,t);e[o]=a,Nf(n,!0);let l=n.type===2;return l?(x9(e[Ln],a,n),(B7()===0||Pf(n))&&Hf(a,e),V7()):Hf(a,e),Qy()&&(!l||!Ak(n))&&hT(s,e,a,n),n}function mT(n){let e=n;return zI()?$I():(e=e.parent,Nf(e,!1)),e}function lae(n,e){let t=n[mh];if(!t)return;let r;try{r=t.get(co,null)}catch{r=null}r?.(e)}function Nk(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],h=s[l+1],f=e.data[d];CA(f,t[d],h,i),a=!0}if(o)for(let l of o){let d=t[l],h=e.data[l];CA(h,d,r,i),a=!0}return a}function cae(n,e){let t=ws(e,n),r=t[tt];dae(r,t);let i=t[qs];i!==null&&t[gh]===null&&(t[gh]=c9(i,t[mh])),Mn(18),vT(r,t,t[Cr]),Mn(19,t[Cr])}function dae(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vT(n,e,t){Yy(e);try{let r=n.viewQuery;r!==null&&gA(1,r,t);let i=n.template;i!==null&&R9(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ia]?.finishViewCreation(n),n.staticContentQueries&&d9(n,e),n.staticViewQueries&&gA(2,n.viewQuery,t);let o=n.components;o!==null&&uae(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[mt]&=-5,Xy()}}function uae(n,e){for(let t=0;t<e.length;t++)cae(n,e[t])}function O1(n,e,t,r){let i=pt(null);try{let o=e.tView,a=n[mt]&4096?4096:16,l=lT(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];l[Ed]=d;let h=n[Ia];return h!==null&&(l[Ia]=h.createEmbeddedView(o)),vT(o,l,t),l}finally{pt(i)}}function Uf(n,e){return!e||e.firstChild===null||JB(n)}var fB=!1,hae=new pe("");function b1(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ms(o)),Ks(o)&&L9(o,r);let s=t.type;if(s&8)b1(n,e,t.child,r);else if(s&32){let a=dT(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=T9(e,t);if(Array.isArray(a))r.push(...a);else{let l=Cd(e[lo]);b1(l[tt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function L9(n,e){for(let t=ui;t<n.length;t++){let r=n[t],i=r[tt].firstChild;i!==null&&b1(r[tt],r,i,e)}n[Md]!==n[qs]&&e.push(n[Md])}function F9(n){if(n[_h]!==null){for(let e of n[_h])e.impl.addSequence(e);n[_h].length=0}}var B9=[];function pae(n){return n[Go]??fae(n)}function fae(n){let e=B9.pop()??Object.create(mae);return e.lView=n,e}function gae(n){n.lView[Go]!==n&&(n.lView=null,B9.push(n))}var mae=Se(X({},pd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Sd(n.lView)},consumerOnSignalRead(){this.lView[Go]=this}});function vae(n){let e=n[Go]??Object.create(wae);return e.lView=n,e}var wae=Se(X({},pd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Cd(n.lView);for(;e&&!V9(e[tt]);)e=Cd(e);e&&OI(e)},consumerOnSignalRead(){this.lView[Go]=this}});function V9(n){return n.type!==2}function j9(n){if(n[Wl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Wl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[mt]&8192)}}var _ae=100;function wT(n,e=0){let r=n[Sa].rendererFactory,i=!1;i||r.begin?.();try{yae(n,e)}finally{i||r.end?.()}}function yae(n,e){let t=GI();try{Lf(!0),MA(n,e);let r=0;for(;u1(n);){if(r===_ae)throw new Ee(103,!1);r++,MA(n,1)}}finally{Lf(t)}}function H9(n,e){WI(e?h1.Exhaustive:h1.OnlyDirtyViews);try{wT(n)}finally{WI(h1.Off)}}function kae(n,e,t,r){if(kh(e))return;let i=e[mt],o=!1,s=!1;Yy(e);let a=!0,l=null,d=null;o||(V9(n)?(d=pae(e),l=Fl(d)):Q_()===null?(a=!1,d=vae(e),l=Fl(d)):e[Go]&&(gd(e[Go]),e[Go]=null));try{PI(e),z7(n.bindingStartIndex),t!==null&&R9(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&ik(e,v,null)}else{let v=n.preOrderHooks;v!==null&&ok(e,v,0,null),JI(e,0)}if(s||bae(e),j9(e),U9(e,0),n.contentQueries!==null&&d9(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&ik(e,v)}else{let v=n.contentHooks;v!==null&&ok(e,v,1),JI(e,1)}Cae(n,e);let f=n.components;f!==null&&$9(e,f,0);let m=n.viewQuery;if(m!==null&&gA(2,m,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&ik(e,v)}else{let v=n.viewHooks;v!==null&&ok(e,v,2),JI(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hy]){for(let v of e[Hy])v();e[Hy]=null}o||(F9(e),e[mt]&=-73)}catch(h){throw o||Sd(e),h}finally{d!==null&&(fd(d,l),a&&gae(d)),Xy()}}function U9(n,e){for(let t=t9(n);t!==null;t=n9(t))for(let r=ui;r<t.length;r++){let i=t[r];z9(i,e)}}function bae(n){for(let e=t9(n);e!==null;e=n9(e)){if(!(e[mt]&2))continue;let t=e[yh];for(let r=0;r<t.length;r++){let i=t[r];OI(i)}}}function xae(n,e,t){Mn(18);let r=ws(e,n);z9(r,t),Mn(19,r[Cr])}function z9(n,e){zy(n)&&MA(n,e)}function MA(n,e){let r=n[tt],i=n[mt],o=n[Go],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ju(o)),s||=!1,o&&(o.dirty=!1),n[mt]&=-9217,s)kae(r,n,r.template,n[Cr]);else if(i&8192){let a=pt(null);try{j9(n),U9(n,1);let l=r.components;l!==null&&$9(n,l,1),F9(n)}finally{pt(a)}}}function $9(n,e,t){for(let r=0;r<e.length;r++)xae(n,e[r],t)}function Cae(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ad(~i);else{let o=i,s=t[++r],a=t[++r];W7(s,o);let l=e[o];Mn(24,l),a(2,l),Mn(25,l)}}}finally{Ad(-1)}}function _T(n,e){let t=GI()?64:1088;for(n[Sa].changeDetectionScheduler?.notify(e);n;){n[mt]|=t;let r=Cd(n);if(Of(n)&&!r)return n;n=r}return null}function W9(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function G9(n,e){let t=ui+e;if(t<n.length)return n[t]}function N1(n,e,t,r=!0){let i=e[tt];if(Eae(i,e,n,t),r){let s=EA(t,n),a=e[Ln],l=a.parentNode(n[Md]);l!==null&&Use(i,n[ao],a,e,l,s)}let o=e[gh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function q9(n,e){let t=x1(n,e);return t!==void 0&&Rk(t[tt],t),t}function x1(n,e){if(n.length<=ui)return;let t=ui+e,r=n[t];if(r){let i=r[Ed];i!==null&&i!==n&&uT(i,r),e>0&&(n[t-1][gs]=r[gs]);let o=o1(n,ui+e);Hse(r[tt],r);let s=o[Ia];s!==null&&s.detachView(o[tt]),r[Zr]=null,r[gs]=null,r[mt]&=-129}return r}function Eae(n,e,t,r){let i=ui+r,o=t.length;r>0&&(t[i-1][gs]=e),r<o-ui?(e[gs]=t[i],_I(t,ui+r,e)):(t.push(e),e[gs]=null),e[Zr]=t;let s=e[Ed];s!==null&&t!==s&&K9(s,e);let a=e[Ia];a!==null&&a.insertView(n),$y(e),e[mt]|=128}function K9(n,e){let t=n[yh],r=e[Zr];if(Aa(r))n[mt]|=2;else{let i=r[Zr][lo];e[lo]!==i&&(n[mt]|=2)}t===null?n[yh]=[e]:t.push(e)}var Td=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[tt];return b1(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Cr]}set context(e){this._lView[Cr]=e}get destroyed(){return kh(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Zr];if(Ks(e)){let t=e[c1],r=t?t.indexOf(this):-1;r>-1&&(x1(e,r),o1(t,r))}this._attachedToViewContainer=!1}Rk(this._lView[tt],this._lView)}onDestroy(e){NI(this._lView,e)}markForCheck(){_T(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[mt]&=-129}reattach(){$y(this._lView),this._lView[mt]|=128}detectChanges(){this._lView[mt]|=1024,wT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Of(this._lView),t=this._lView[Ed];t!==null&&!e&&uT(t,this._lView),S9(this._lView[tt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=e;let t=Of(this._lView),r=this._lView[Ed];r!==null&&!t&&K9(r,this._lView),$y(this._lView)}};var bi=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Mae;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=O1(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Td(o)}}return n})();function Mae(){return Lk(Qr(),nt())}function Lk(n,e){return n.type&4?new bi(e,n,Gf(n,e)):null}function qf(n,e,t,r,i){let o=n.data[e];if(o===null)o=Sae(n,e,t,r,i),$7()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=j7();o.injectorIndex=s===null?-1:s.injectorIndex}return Nf(o,!0),o}function Sae(n,e,t,r,i){let o=UI(),s=zI(),a=s?o:o&&o.parent,l=n.data[e]=Aae(n,a,t,e,r,i);return Iae(n,l,o,s),l}function Iae(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Aae(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return VI()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iNe=new RegExp(`^(\\d+)*(${Koe}|${qoe})*(.*)`);function Tae(n){let e=n[II]??[],r=n[Zr][Ln],i=[];for(let o of e)o.data[s9]!==void 0?i.push(o):Dae(o,r);n[II]=i}function Dae(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[o9];for(;t<i;){let o=r.nextSibling;b9(e,r,!1),r=o,t++}}}var Rae=()=>null,Pae=()=>null;function gk(n,e){return Rae(n,e)}function Y9(n,e,t){return Pae(n,e,t)}var X9=class{},Fk=class{},SA=class{resolveComponentFactory(e){throw new Ee(917,!1)}},L1=class{static NULL=new SA},hi=class{},pi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Oae()}return n})();function Oae(){let n=nt(),e=Qr(),t=ws(e.index,n);return(Aa(t)?t:n)[Ln]}var Z9=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();var ak={},IA=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,ak,r);return i!==ak||t===ak?i:this.parentInjector.get(e,t,r)}};function mk(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ny(i,a);else if(o==2){let l=a,d=e[++s];r=Ny(r,l+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Re(n,e=0){let t=nt();if(t===null)return Ie(n,e);let r=Qr();return YB(r,t,Xr(n),e)}function Q9(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,d=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,l,d]=h.resolveHostDirectives(s);break}Fae(n,e,t,a,o,l,d)}o!==null&&r!==null&&Nae(t,r,o)}function Nae(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Ee(-301,!1);r.push(e[i],o)}}function Lae(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Fae(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let v=r[m];!l&&Ys(v)&&(l=!0,Lae(n,t,m)),uA(pk(t,e),n,v.type)}zae(t,n.data.length,a);for(let m=0;m<a;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let d=!1,h=!1,f=E9(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let v=r[m];if(t.mergedAttrs=jf(t.mergedAttrs,v.hostAttrs),Vae(n,t,e,f,v),Uae(f,v,i),s!==null&&s.has(v)){let[b,T]=s.get(v);t.directiveToIndex.set(v.type,[f,b+t.directiveStart,T+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,f);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let _=v.type.prototype;!d&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),f++}Bae(n,t,o)}function Bae(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))gB(0,e,i,r),gB(1,e,i,r),vB(e,r,!1);else{let o=t.get(i);mB(0,e,o,r),mB(1,e,o,r),vB(e,r,!0)}}}function gB(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),J9(e,o)}}function mB(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),J9(e,s)}}function J9(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function vB(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||sT(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let d=i[l];for(let h of d)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let d=o[l];for(let h=0;h<d.length;h+=2)if(d[h]===e){s??=[],s.push(d[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Vae(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=xd(i.type,!0)),s=new Mh(o,Ys(i),Re,null);n.blueprint[r]=s,t[r]=s,jae(n,e,r,E9(n,t,i.hostVars,uo),i)}function jae(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Hae(s)!=a&&s.push(a),s.push(t,r,o)}}function Hae(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Uae(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ys(e)&&(t[""]=n)}}function zae(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yT(n,e,t,r,i,o,s,a){let l=e[tt],d=l.consts,h=_s(d,s),f=qf(l,n,t,r,h);return o&&Q9(l,e,f,_s(d,a),i),f.mergedAttrs=jf(f.mergedAttrs,f.attrs),f.attrs!==null&&mk(f,f.attrs,!1),f.mergedAttrs!==null&&mk(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function kT(n,e){jB(n,e),AI(e)&&n.queries.elementEnd(e)}function $ae(n,e,t,r,i,o){let s=e.consts,a=_s(s,i),l=qf(e,n,t,r,a);if(l.mergedAttrs=jf(l.mergedAttrs,l.attrs),o!=null){let d=_s(s,o);l.localNames=[];for(let h=0;h<d.length;h+=2)l.localNames.push(d[h],-1)}return l.attrs!==null&&mk(l,l.attrs,!1),l.mergedAttrs!==null&&mk(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Bk(n,e,t){return n[e]=t}function Wae(n,e){return n[e]}function qo(n,e,t){if(t===uo)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function bT(n,e,t,r){let i=qo(n,e,t);return qo(n,e+1,r)||i}function Gae(n,e,t,r,i){let o=bT(n,e,t,r);return qo(n,e+2,i)||o}function lk(n,e,t){return function r(i){let o=Gl(n)?ws(n.index,e):e;_T(o,5);let s=e[Cr],a=wB(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=wB(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function wB(n,e,t,r){let i=pt(null);try{return Mn(6,e,t),t(r)!==!1}catch(o){return lae(n,o),!1}finally{Mn(7,e,t),pt(i)}}function eV(n,e,t,r,i,o,s,a){let l=Pf(n),d=!1,h=null;if(!r&&l&&(h=qae(e,t,o,n.index)),h!==null){let f=h.__ngLastListenerFn__||h;f.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,d=!0}else{let f=vs(n,t),m=r?r(f):f;Xoe(t,m,o,a);let v=i.listen(m,o,a),_=r?b=>r(ms(b[n.index])):n.index;tV(_,e,t,o,a,v,!1)}return d}function qae(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Df],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function tV(n,e,t,r,i,o,s){let a=e.firstCreatePass?FI(e):null,l=LI(t),d=l.length;l.push(i,o),a&&a.push(r,n,d,(d+1)*(s?-1:1))}function _B(n,e,t,r,i,o){let s=e[t],a=e[tt],d=a.data[t].outputs[r],f=s[d].subscribe(o);tV(n.index,a,e,i,o,f,!0)}var AA=Symbol("BINDING");var vk=class extends L1{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=$l(e);return new Ih(t,this.ngModule)}};function Kae(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Dk.SignalBased)!==0};return i&&(o.transform=i),o})}function Yae(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Xae(n,e,t){let r=e instanceof Nn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new IA(t,r):t}function Zae(n){let e=n.get(hi,null);if(e===null)throw new Ee(407,!1);let t=n.get(Z9,null),r=n.get(fs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Qae(n,e){let t=nV(n);return y9(e,t,t==="svg"?TI:t==="math"?R7:null)}function nV(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ih=class extends Fk{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Kae(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Yae(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Tse(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Mn(22);let a=pt(null);try{let l=this.componentDef,d=Jae(r,l,s,o),h=Xae(l,i||this.ngModule,e),f=Zae(h),m=f.rendererFactory.createRenderer(null,l),v=r?Qse(m,r,l.encapsulation,h):Qae(l,m),_=s?.some(yB)||o?.some(M=>typeof M!="function"&&M.bindings.some(yB)),b=lT(null,d,null,512|C9(l),null,null,f,m,h,null,c9(v,h,!0));b[Wn]=v,Yy(b);let T=null;try{let M=yT(Wn,b,2,"#host",()=>d.directiveRegistry,!0,0);v&&(x9(m,v,M),Hf(v,b)),Ok(d,b,M),JA(d,M,b),kT(d,M),t!==void 0&&tle(M,this.ngContentSelectors,t),T=ws(M.index,b),b[Cr]=T[Cr],vT(d,b,null)}catch(M){throw T!==null&&pA(T),pA(b),M}finally{Mn(23),Xy()}return new wk(this.componentType,b,!!_)}finally{pt(a)}}};function Jae(n,e,t,r){let i=n?["ng-version","20.3.0"]:Dse(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[AA].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let f=r[h];if(typeof f!="function")for(let m of f.bindings){a+=m[AA].requiredVars;let v=h+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let l=[e];if(r)for(let h of r){let f=typeof h=="function"?h:h.type,m=jy(f);l.push(m)}return aT(0,null,ele(o,s),1,a,l,null,null,null,[i],null)}function ele(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function yB(n){let e=n[AA].kind;return e==="input"||e==="twoWay"}var wk=class extends X9{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=d1(t[tt],Wn),this.location=Gf(this._tNode,t),this.instance=ws(this._tNode.index,t)[Cr],this.hostView=this.changeDetectorRef=new Td(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Nk(r,i[tt],i,e,t);this.previousInputValues.set(e,t);let s=ws(r.index,i);_T(s,1)}get injector(){return new Eh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tle(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var fi=(()=>{class n{static __NG_ELEMENT_ID__=nle}return n})();function nle(){let n=Qr();return iV(n,nt())}var rle=fi,rV=class extends rle{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gf(this._hostTNode,this._hostLView)}get injector(){return new Eh(this._hostTNode,this._hostLView)}get parentInjector(){let e=YA(this._hostTNode,this._hostLView);if(zB(e)){let t=uk(e,this._hostLView),r=dk(e),i=t[tt].data[r+8];return new Eh(i,t)}else return new Eh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kB(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gk(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Uf(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!boe(e),d;if(l)d=t;else{let T=t||{};d=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef,s=T.directives,a=T.bindings}let h=l?e:new Ih($l(e)),f=r||this.parentInjector;if(!o&&h.ngModule==null){let M=(l?f:this.parentInjector).get(Nn,null);M&&(o=M)}let m=$l(h.componentType??{}),v=gk(this._lContainer,m?.id??null),_=v?.firstChild??null,b=h.create(f,i,_,o,s,a);return this.insertImpl(b.hostView,d,Uf(this._hostTNode,v)),b}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(O7(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Zr],d=new rV(l,l[ao],l[Zr]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return N1(s,i,o,r),e.attachToViewContainerRef(),_I(nA(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kB(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=x1(this._lContainer,t);r&&(o1(nA(this._lContainer),t),Rk(r[tt],r))}detach(e){let t=this._adjustIndex(e,-1),r=x1(this._lContainer,t);return r&&o1(nA(this._lContainer),t)!=null?new Td(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kB(n){return n[c1]}function nA(n){return n[c1]||(n[c1]=[])}function iV(n,e){let t,r=e[n.index];return Ks(r)?t=r:(t=W9(r,e,null,n),e[n.index]=t,cT(e,t)),ole(t,e,n,r),new rV(t,n,e)}function ile(n,e){let t=n[Ln],r=t.createComment(""),i=vs(e,n),o=t.parentNode(i);return fk(t,o,r,t.nextSibling(i),!1),r}var ole=lle,sle=()=>!1;function ale(n,e,t){return sle(n,e,t)}function lle(n,e,t,r){if(n[Md])return;let i;t.type&8?i=ms(r):i=ile(e,t),n[Md]=i}var TA=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},DA=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)CT(e,t).matches!==null&&this.queries[t].setDirty()}},_k=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=fle(e):this.predicate=e}},RA=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},PA=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,cle(t,o)),this.matchTNodeWithReadOption(e,t,sk(t,e,o,!1,!1))}else r===bi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sk(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===at||i===fi||i===bi&&t.type&4)this.addMatch(t.index,-2);else{let o=sk(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function cle(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function dle(n,e){return n.type&11?Gf(n,e):n.type&4?Lk(n,e):null}function ule(n,e,t,r){return t===-1?dle(e,n):t===-2?hle(n,e,r):k1(n,n[tt],t,e)}function hle(n,e,t){if(t===at)return Gf(e,n);if(t===bi)return Lk(e,n);if(t===fi)return iV(e,n)}function oV(n,e,t,r){let i=e[Ia].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(ule(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function OA(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=oV(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],h=e[-l];for(let f=ui;f<h.length;f++){let m=h[f];m[Ed]===m[Zr]&&OA(m[tt],m,d,r)}if(h[yh]!==null){let f=h[yh];for(let m=0;m<f.length;m++){let v=f[m];OA(v[tt],v,d,r)}}}}}return r}function xT(n,e){return n[Ia].queries[e].queryList}function sV(n,e,t){let r=new Sh((t&4)===4);return F7(n,e,r,r.destroy),(e[Ia]??=new DA).queries.push(new TA(r))-1}function aV(n,e,t){let r=Zn();return r.firstCreatePass&&(lV(r,new _k(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),sV(r,nt(),e)}function ple(n,e,t,r){let i=Zn();if(i.firstCreatePass){let o=Qr();lV(i,new _k(e,t,r),o.index),gle(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return sV(i,nt(),t)}function fle(n){return n.split(",").map(e=>e.trim())}function lV(n,e,t){n.queries===null&&(n.queries=new RA),n.queries.track(new PA(e,t))}function gle(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function CT(n,e){return n.queries.getByIndex(e)}function cV(n,e){let t=n[tt],r=CT(t,e);return r.crossesNgTemplate?OA(t,n,e,[]):oV(t,n,r,e)}function ET(n,e,t){let r,i=Km(()=>{r._dirtyCounter();let o=mle(r,n);if(e&&o===void 0)throw new Ee(-951,!1);return o});return r=i[fr],r._dirtyCounter=Me(0),r._flatValue=void 0,i}function MT(n){return ET(!0,!1,n)}function ST(n){return ET(!0,!0,n)}function dV(n){return ET(!1,!1,n)}function uV(n,e){let t=n[fr];t._lView=nt(),t._queryIndex=e,t._queryList=xT(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function mle(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[mt]&4)return e?void 0:Hi;let i=xT(t,r),o=cV(t,r);return i.reset(o,QB),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var bB=new Set;function Zl(n){bB.has(n)||(bB.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Zs=class{},Vk=class{};function IT(n,e){return new C1(n,e??null,[])}var C1=class extends Zs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vk(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=bI(e);this._bootstrapComponents=v9(o.bootstrap),this._r3Injector=YI(e,t,[{provide:Zs,useValue:this},{provide:L1,useValue:this.componentFactoryResolver},...r],Ul(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yk=class extends Vk{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new C1(this.moduleType,e,[])}};var E1=class extends Zs{injector;componentFactoryResolver=new vk(this);instance=null;constructor(e){super();let t=new hh([...e.providers,{provide:Zs,useValue:this},{provide:L1,useValue:this.componentFactoryResolver}],e.parent||Tf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function F1(n,e,t=null){return new E1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var vle=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=xI(!1,t.type),i=r.length>0?F1([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(Ie(Nn))})}return n})();function de(n){return Wf(()=>{let e=hV(n),t=Se(X({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ZA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(vle).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kl.Emulated,styles:n.styles||Hi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Zl("NgStandalone"),pV(t);let r=n.dependencies;return t.directiveDefs=xB(r,wle),t.pipeDefs=xB(r,C7),t.id=kle(t),t})}function wle(n){return $l(n)||jy(n)}function jt(n){return Wf(()=>({type:n.type,bootstrap:n.bootstrap||Hi,declarations:n.declarations||Hi,imports:n.imports||Hi,exports:n.exports||Hi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _le(n,e){if(n==null)return Gs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Dk.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function yle(n){if(n==null)return Gs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function he(n){return Wf(()=>{let e=hV(n);return pV(e),e})}function Pd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function hV(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Gs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Hi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:_le(n.inputs,e),outputs:yle(n.outputs),debugInfo:null}}function pV(n){n.features?.forEach(e=>e(n))}function xB(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function kle(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ble(n){return Object.getPrototypeOf(n.prototype).constructor}function ft(n){let e=ble(n.type),t=!0,r=[n];for(;e;){let i;if(Ys(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=rA(n.inputs),s.declaredInputs=rA(n.declaredInputs),s.outputs=rA(n.outputs);let a=i.hostBindings;a&&Sle(n,a);let l=i.viewQuery,d=i.contentQueries;if(l&&Ele(n,l),d&&Mle(n,d),xle(n,i),f7(n.outputs,i.outputs),Ys(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ft&&(t=!1)}}e=Object.getPrototypeOf(e)}Cle(r)}function xle(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Cle(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jf(i.hostAttrs,t=jf(t,i.hostAttrs))}}function rA(n){return n===Gs?{}:n===Hi?[]:n}function Ele(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Mle(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Sle(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ln(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=Ile,t.hostDirectives=r?n.map(NA):[n]):r?t.hostDirectives.unshift(...n.map(NA)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function Ile(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,fV(s,e,r),i.set(s,[a,e.length-1])}o===0&&Ys(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function fV(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)CB(NA(o),e,t)}else CB(r,e,t)}function CB(n,e,t){let r=jy(n.directive);Ale(r.declaredInputs,n.inputs),fV(r,e,t),t.set(r,n),e.push(r)}function NA(n){return typeof n=="function"?{directive:Xr(n),inputs:Gs,outputs:Gs}:{directive:Xr(n.directive),inputs:EB(n.inputs),outputs:EB(n.outputs)}}function EB(n){if(n===void 0||n.length===0)return Gs;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function Ale(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function gV(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=jf(n.mergedAttrs,n.attrs);let h=n.tView=aT(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Nf(n,!1);let l=Dle(t,e,n,r);Qy()&&hT(t,e,l,n),Hf(l,e);let d=W9(l,e,l,n);e[r+Wn]=d,cT(e,d),ale(d,n,e)}function Tle(n,e,t,r,i,o,s,a,l,d,h){let f=t+Wn,m;return e.firstCreatePass?(m=qf(e,f,4,s||null,a||null),Wy()&&Q9(e,n,m,_s(e.consts,d),fT),jB(e,m)):m=e.data[f],gV(m,n,e,t,r,i,o,l),Pf(m)&&Ok(e,n,m),d!=null&&P1(n,m,h),m}function M1(n,e,t,r,i,o,s,a,l,d,h){let f=t+Wn,m;if(e.firstCreatePass){if(m=qf(e,f,4,s||null,a||null),d!=null){let v=_s(e.consts,d);m.localNames=[];for(let _=0;_<v.length;_+=2)m.localNames.push(v[_],-1)}}else m=e.data[f];return gV(m,n,e,t,r,i,o,l),d!=null&&P1(n,m,h),m}function Io(n,e,t,r,i,o,s,a){let l=nt(),d=Zn(),h=_s(d.consts,o);return Tle(l,d,n,e,t,r,i,h,void 0,s,a),Io}var Dle=Rle;function Rle(n,e,t,r){return g1(!0),e[Ln].createComment("")}var jk=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(jk||{}),Od=new pe(""),mV=!1,LA=class extends Te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,T7()&&(this.destroyRef=C(Gn,{optional:!0})??void 0,this.pendingTasks=C(Da,{optional:!0})??void 0)}emit(e){let t=pt(null);try{super.next(e)}finally{pt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof un&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},it=LA;function vV(n){let e,t;function r(){n=Ch;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MB(n){return queueMicrotask(()=>n()),()=>{n=Ch}}var AT="isAngularZone",kk=AT+"_ID",Ple=0,Fe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new it(!1);onMicrotaskEmpty=new it(!1);onStable=new it(!1);onError=new it(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mV}=e;if(typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Lle(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(AT)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ole,Ch,Ch);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ole={};function TT(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Nle(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vV(()=>{n.callbackScheduled=!1,FA(n),n.isCheckStableRunning=!0,TT(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),FA(n)}function Lle(n){let e=()=>{Nle(n)},t=Ple++;n._inner=n._inner.fork({name:"angular",properties:{[AT]:!0,[kk]:t,[kk+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Fle(l))return r.invokeTask(o,s,a,l);try{return SB(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),IB(n)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return SB(n),r.invoke(o,s,a,l,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Ble(l)&&e(),IB(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,FA(n),TT(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function FA(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function SB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function IB(n){n._nesting--,TT(n)}var bk=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new it;onMicrotaskEmpty=new it;onStable=new it;onError=new it;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Fle(n){return wV(n,"__ignore_ng_zone__")}function Ble(n){return wV(n,"__scheduler_tick__")}function wV(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Hk=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),DT=[0,1,2,3],RT=(()=>{class n{ngZone=C(Fe);scheduler=C(fs);errorHandler=C(Wo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Od,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Mn(16),this.executing=!0;for(let r of DT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Mn(17)}register(t){let{view:r}=t;r!==void 0?((r[_h]??=[]).push(t),Sd(r),r[mt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(jk.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),S1=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_h];e&&(this.view[_h]=e.filter(t=>t!==this))}};function xi(n,e){let t=e?.injector??C(Le);return Zl("NgAfterNextRender"),jle(n,t,e,!0)}function Vle(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function jle(n,e,t,r){let i=e.get(Hk);i.impl??=e.get(RT);let o=e.get(Od,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Gn):null,a=e.get(xh,null,{optional:!0}),l=new S1(i.impl,Vle(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var Uk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var PT=new pe("");function Ql(n){return!!n&&typeof n.then=="function"}function zk(n){return!!n&&typeof n.subscribe=="function"}var $k=new pe("");var OT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C($k,{optional:!0})??[];injector=C(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Dn(this.injector,i);if(Ql(o))t.push(o);else if(zk(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wk=new pe("");function _V(){AS(()=>{let n="";throw new Ee(600,n)})}function yV(n){return n.isBoundToModule}var Hle=10;var Ao=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(co);afterRenderManager=C(Hk);zonelessEnabled=C(Ff);rootEffectScheduler=C(w1);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(Da);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Je(t=>!t))}constructor(){C(Od,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(Nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){return this._injector.get(Fe).run(()=>{Mn(10);let s=t instanceof Fk;if(!this._injector.get(OT).done){let _="";throw new Ee(405,_)}let l;s?l=t:l=this._injector.get(L1).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let d=yV(l)?void 0:this._injector.get(Zs),h=r||l.selector,f=l.create(i,[],h,d),m=f.location.nativeElement,v=f.injector.get(PT,null);return v?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),y1(this.components,f),v?.unregisterApplication(m)}),this._loadComponent(f),Mn(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Mn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jk.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ee(101,!1);let t=pt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pt(t),this.afterTick.next(),Mn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Hle;)Mn(14),this.synchronizeOnce(),Mn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!u1(i))continue;let o=r&&!this.zonelessEnabled?0:1;wT(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>u1(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;y1(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Wk,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>y1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var iA="aria";function Gk(n,e){let t=nt(),r=Id();if(qo(t,r,e)){let i=Zn(),o=f1();if(Nk(o,i,t,n,e))Gl(o)&&O9(t,o.index);else{let a=vs(o,t),l=Ule(n);N9(t[Ln],a,null,o.value,l,e,null)}}return Gk}function Ule(n){return n.charAt(iA.length)!=="-"?iA+"-"+n.slice(iA.length).toLowerCase():n}function ut(n,e,t,r){let i=nt(),o=Id();if(qo(i,o,e)){let s=Zn(),a=f1();sae(a,i,n,e,t,r)}return ut}var NT=new pe("",{providedIn:"root",factory:()=>!1}),LT=new pe("",{providedIn:"root",factory:()=>zle}),zle=4e3;var uNe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var BA=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function oA(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function $le(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let d=n.at(o),h=e[o],f=oA(o,d,o,h,t);if(f!==0){f<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),v=e[l],_=oA(s,m,l,v,t);if(_!==0){_<0&&n.updateValue(s,v),s--,l--;continue}let b=t(o,d),T=t(s,m),M=t(o,h);if(Object.is(M,T)){let B=t(l,v);Object.is(B,b)?(n.swap(o,s),n.updateValue(s,v),l--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new xk,i??=TB(n,o,s,t),VA(n,r,o,M))n.updateValue(o,h),o++,s++;else if(i.has(M))r.set(b,n.detach(o)),s--;else{let B=n.create(o,e[o]);n.attach(o,B),o++,s++}}for(;o<=l;)AB(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let h=n.at(o),f=d.value,m=oA(o,h,o,f,t);if(m!==0)m<0&&n.updateValue(o,f),o++,d=l.next();else{r??=new xk,i??=TB(n,o,s,t);let v=t(o,f);if(VA(n,r,o,v))n.updateValue(o,f),o++,s++,d=l.next();else if(!i.has(v))n.attach(o,n.create(o,f)),o++,s++,d=l.next();else{let _=t(o,h);r.set(_,n.detach(o)),s--}}}for(;!d.done;)AB(n,r,t,n.length,d.value),d=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function VA(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function AB(n,e,t,r,i){if(VA(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function TB(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var xk=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ne(n,e,t,r,i,o,s,a){Zl("NgControlFlow");let l=nt(),d=Zn(),h=_s(d.consts,o);return M1(l,d,n,e,t,r,i,h,256,s,a),Kf}function Kf(n,e,t,r,i,o,s,a){Zl("NgControlFlow");let l=nt(),d=Zn(),h=_s(d.consts,o);return M1(l,d,n,e,t,r,i,h,512,s,a),Kf}function re(n,e){Zl("NgControlFlow");let t=nt(),r=Id(),i=t[r]!==uo?t[r]:-1,o=i!==-1?Ck(t,Wn+i):void 0,s=0;if(qo(t,r,n)){let a=pt(null);try{if(o!==void 0&&q9(o,s),n!==-1){let l=Wn+n,d=Ck(t,l),h=zA(t[tt],l),f=Y9(d,h,t),m=O1(t,h,e,{dehydratedView:f});N1(d,m,s,Uf(h,f))}}finally{pt(a)}}else if(o!==void 0){let a=G9(o,s);a!==void 0&&(a[Cr]=e)}}var jA=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ui}};function ni(n){return n}function Js(n,e){return e}var HA=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function yn(n,e,t,r,i,o,s,a,l,d,h,f,m){Zl("NgControlFlow");let v=nt(),_=Zn(),b=l!==void 0,T=nt(),M=a?s.bind(T[lo][Cr]):s,B=new HA(b,M);T[Wn+n]=B,M1(v,_,n+1,e,t,r,i,_s(_.consts,o),256),b&&M1(v,_,n+2,l,d,h,f,_s(_.consts,m),512)}var UA=class extends BA{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ui}at(e){return this.getLView(e)[Cr].$implicit}attach(e,t){let r=t[gh];this.needsIndexUpdate||=e!==this.length,N1(this.lContainer,t,e,Uf(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Wle(this.lContainer,e)}create(e,t){let r=gk(this.lContainer,this.templateTNode.tView.ssrId),i=O1(this.hostLView,this.templateTNode,new jA(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Rk(e[tt],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Cr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Cr].$index=e}getLView(e){return Gle(this.lContainer,e)}};function kn(n){let e=pt(null),t=Ta();try{let r=nt(),i=r[tt],o=r[t],s=t+1,a=Ck(r,s);if(o.liveCollection===void 0){let d=zA(i,s);o.liveCollection=new UA(a,r,d)}else o.liveCollection.reset();let l=o.liveCollection;if($le(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=Id(),h=l.length===0;if(qo(r,d,h)){let f=t+2,m=Ck(r,f);if(h){let v=zA(i,f),_=Y9(m,v,r),b=O1(r,v,void 0,{dehydratedView:_});N1(m,b,0,Uf(v,_))}else i.firstUpdatePass&&Tae(m),q9(m,0)}}}finally{pt(e)}}function Ck(n,e){return n[e]}function Wle(n,e){return x1(n,e)}function Gle(n,e){return G9(n,e)}function zA(n,e){return d1(n,e)}function ve(n,e,t){let r=nt(),i=Id();if(qo(r,i,e)){let o=Zn(),s=f1();nae(s,r,n,e,r[Ln],t)}return ve}function $A(n,e,t,r,i){Nk(e,n,t,i?"class":"style",r)}function D(n,e,t,r){let i=nt(),o=i[tt],s=n+Wn,a=o.firstCreatePass?yT(s,i,2,e,fT,Wy(),t,r):o.data[s];if(gT(a,i,n,e,kV),Pf(a)){let l=i[tt];Ok(l,i,a),JA(l,a,i)}return r!=null&&P1(i,a),D}function I(){let n=Zn(),e=Qr(),t=mT(e);return n.firstCreatePass&&kT(n,t),jI(t)&&HI(),BI(),t.classesWithoutHost!=null&&Ioe(t)&&$A(n,t,nt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Aoe(t)&&$A(n,t,nt(),t.stylesWithoutHost,!1),I}function se(n,e,t,r){return D(n,e,t,r),I(),se}function Rn(n,e,t,r){let i=nt(),o=i[tt],s=n+Wn,a=o.firstCreatePass?$ae(s,o,2,e,t,r):o.data[s];return gT(a,i,n,e,kV),r!=null&&P1(i,a),Rn}function Fn(){let n=Qr(),e=mT(n);return jI(e)&&HI(),BI(),Fn}function Ci(n,e,t,r){return Rn(n,e,t,r),Fn(),Ci}var kV=(n,e,t,r,i)=>(g1(!0),y9(e[Ln],r,Q7()));function B1(n,e,t){let r=nt(),i=r[tt],o=n+Wn,s=i.firstCreatePass?yT(o,r,8,"ng-container",fT,Wy(),e,t):i.data[o];if(gT(s,r,n,"ng-container",qle),Pf(s)){let a=r[tt];Ok(a,r,s),JA(a,s,r)}return t!=null&&P1(r,s),B1}function V1(){let n=Zn(),e=Qr(),t=mT(e);return n.firstCreatePass&&kT(n,t),V1}function Ui(n,e,t){return B1(n,e,t),V1(),Ui}var qle=(n,e,t,r,i)=>(g1(!0),Ose(e[Ln],""));function tn(){return nt()}function gr(n,e,t){let r=nt(),i=Id();if(qo(r,i,e)){let o=Zn(),s=f1();P9(s,r,n,e,r[Ln],t)}return gr}var j1="en-US";var Kle=j1;function bV(n){typeof n=="string"&&(Kle=n.toLowerCase().replace(/_/g,"-"))}function we(n,e,t){let r=nt(),i=Zn(),o=Qr();return Yle(i,r,r[Ln],o,n,e,t),we}function qk(n,e,t){let r=nt(),i=Zn(),o=Qr();return(o.type&3||t)&&eV(o,i,r,t,r[Ln],n,e,lk(o,r,e)),qk}function Yle(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=lk(r,e,o),eV(r,n,e,s,t,i,o,l)&&(a=!1)),a){let d=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let f=0;f<h.length;f+=2){let m=h[f],v=h[f+1];l??=lk(r,e,o),_B(r,e,m,v,i,l)}if(d&&d.length)for(let f of d)l??=lk(r,e,o),_B(r,e,f,i,i,l)}}function ae(n=1){return Z7(n)}function Xle(n,e){let t=null,r=Ese(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?_9(n,o,!0):Ise(r,o))return i}return t}function Ft(n){let e=nt()[lo][ao];if(!e.projection){let t=n?n.length:1,r=e.projection=b7(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?Xle(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Xe(n,e=0,t,r,i,o){let s=nt(),a=Zn(),l=r?n+1:null;l!==null&&M1(s,a,l,r,i,o,null,t);let d=qf(a,Wn+n,16,null,t||null);d.projection===null&&(d.projection=e),$I();let f=!s[gh]||VI();s[lo][ao].projection[d.projection]===null&&l!==null?Zle(s,a,l):f&&!Ak(d)&&Yse(a,s,d)}function Zle(n,e,t){let r=Wn+t,i=e.data[r],o=n[r],s=gk(o,i.tView.ssrId),a=O1(n,i,void 0,{dehydratedView:s});N1(o,a,0,Uf(i,s))}function ks(n,e,t){aV(n,e,t)}function Ko(n){let e=nt(),t=Zn(),r=Ky();p1(r+1);let i=CT(t,r);if(n.dirty&&P7(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=cV(e,r);n.reset(o,QB),n.notifyOnChanges()}return!0}return!1}function Yo(){return xT(nt(),Ky())}function Er(n,e,t,r,i){uV(e,ple(n,t,r,i))}function Ei(n,e,t,r){uV(n,aV(e,t,r))}function qn(n=1){p1(Ky()+n)}function Jl(n){let e=H7();return Uy(e,Wn+n)}function rk(n,e){return n<<17|e<<2}function Ah(n){return n>>17&32767}function Qle(n){return(n&2)==2}function Jle(n,e){return n&131071|e<<17}function WA(n){return n|2}function zf(n){return(n&131068)>>2}function sA(n,e){return n&-131069|e<<2}function ece(n){return(n&1)===1}function GA(n){return n|1}function tce(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ah(s),l=zf(s);n[r]=t;let d=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||Af(f,h)>0)&&(d=!0)}else h=t;if(i)if(l!==0){let m=Ah(n[a+1]);n[r+1]=rk(m,a),m!==0&&(n[m+1]=sA(n[m+1],r)),n[a+1]=Jle(n[a+1],r)}else n[r+1]=rk(a,0),a!==0&&(n[a+1]=sA(n[a+1],r)),a=r;else n[r+1]=rk(l,0),a===0?a=r:n[l+1]=sA(n[l+1],r),l=r;d&&(n[r+1]=WA(n[r+1])),DB(n,h,r,!0),DB(n,h,r,!1),nce(e,h,n,r,o),s=rk(a,l),o?e.classBindings=s:e.styleBindings=s}function nce(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Af(o,e)>=0&&(t[r+1]=GA(t[r+1]))}function DB(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ah(i):zf(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],d=n[s+1];rce(l,e)&&(a=!0,n[s+1]=r?GA(d):WA(d)),s=r?Ah(d):zf(d)}a&&(n[t+1]=r?WA(i):GA(i))}function rce(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Af(n,e)>=0:!1}var Jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xV(n){return n.substring(Jr.key,Jr.keyEnd)}function ice(n){return n.substring(Jr.value,Jr.valueEnd)}function oce(n){return MV(n),CV(n,$f(n,0,Jr.textEnd))}function CV(n,e){let t=Jr.textEnd;return t===e?-1:(e=Jr.keyEnd=ace(n,Jr.key=e,t),$f(n,e,t))}function sce(n){return MV(n),EV(n,$f(n,0,Jr.textEnd))}function EV(n,e){let t=Jr.textEnd,r=Jr.key=$f(n,e,t);return t===r?-1:(r=Jr.keyEnd=lce(n,r,t),r=RB(n,r,t,58),r=Jr.value=$f(n,r,t),r=Jr.valueEnd=cce(n,r,t),RB(n,r,t,59))}function MV(n){Jr.key=0,Jr.keyEnd=0,Jr.value=0,Jr.valueEnd=0,Jr.textEnd=n.length}function $f(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ace(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function lce(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function RB(n,e,t,r){return e=$f(n,e,t),e<t&&e++,e}function cce(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=PB(n,l,s,t):e===s-4&&o===85&&i===82&&r===76&&l===40?a=s=PB(n,41,s,t):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function PB(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function To(n,e,t){return SV(n,e,t,!1),To}function sr(n,e){return SV(n,e,null,!0),sr}function Do(n){IV(DV,dce,n,!1)}function dce(n,e){for(let t=sce(e);t>=0;t=EV(e,t))DV(n,xV(e),ice(e))}function te(n){IV(vce,uce,n,!0)}function uce(n,e){for(let t=oce(e);t>=0;t=CV(e,t))s1(n,xV(e),!0)}function SV(n,e,t,r){let i=nt(),o=Zn(),s=Gy(2);if(o.firstUpdatePass&&TV(o,n,s,r),e!==uo&&qo(i,s,e)){let a=o.data[Ta()];RV(o,a,i,i[Ln],n,i[s+1]=_ce(e,t),r,s)}}function IV(n,e,t,r){let i=Zn(),o=Gy(2);i.firstUpdatePass&&TV(i,null,o,r);let s=nt();if(t!==uo&&qo(s,o,t)){let a=i.data[Ta()];if(PV(a,r)&&!AV(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ny(l,t||"")),$A(i,a,s,t,r)}else wce(i,a,s,s[Ln],s[o+1],s[o+1]=mce(n,e,t),r,o)}}function AV(n,e){return e>=n.expandoStartIndex}function TV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ta()],s=AV(n,t);PV(o,r)&&e===null&&!s&&(e=!1),e=hce(i,o,e,r),tce(i,o,e,t,s,r)}}function hce(n,e,t,r){let i=q7(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=aA(null,n,e,t,r),t=I1(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=aA(i,n,e,t,r),o===null){let l=pce(n,e,r);l!==void 0&&Array.isArray(l)&&(l=aA(null,n,e,l[1],r),l=I1(l,e.attrs,r),fce(n,e,r,l))}else o=gce(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pce(n,e,t){let r=t?e.classBindings:e.styleBindings;if(zf(r)!==0)return n[Ah(r)]}function fce(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ah(i)]=r}function gce(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=I1(r,s,t)}return I1(r,e.attrs,t)}function aA(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=I1(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function I1(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),s1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function mce(n,e,t){if(t==null||t==="")return Hi;let r=[],i=Qs(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function DV(n,e,t){s1(n,e,Qs(t))}function vce(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&s1(n,r,t)}function wce(n,e,t,r,i,o,s,a){i===uo&&(i=Hi);let l=0,d=0,h=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;h!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,v=d<o.length?o[d+1]:void 0,_=null,b;h===f?(l+=2,d+=2,m!==v&&(_=f,b=v)):f===null||h!==null&&h<f?(l+=2,_=h):(d+=2,_=f,b=v),_!==null&&RV(n,e,t,r,_,b,s,a),h=l<i.length?i[l]:null,f=d<o.length?o[d]:null}}function RV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,d=l[a+1],h=ece(d)?OB(l,e,t,i,zf(d),s):void 0;if(!Ek(h)){Ek(o)||Qle(d)&&(o=OB(l,null,t,i,a,s));let f=DI(Ta(),t);Zse(r,s,f,i,o)}}function OB(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],d=Array.isArray(l),h=d?l[1]:l,f=h===null,m=t[i+1];m===uo&&(m=f?Hi:void 0);let v=f?Vy(m,r):h===r?m:void 0;if(d&&!Ek(v)&&(v=Vy(l,r)),Ek(v)&&(a=v,s))return a;let _=n[i+1];i=s?Ah(_):zf(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Vy(l,r))}return a}function Ek(n){return n!==void 0}function _ce(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ul(Qs(n)))),n}function PV(n,e){return(n.flags&(e?8:16))!==0}function V(n,e=""){let t=nt(),r=Zn(),i=n+Wn,o=r.firstCreatePass?qf(r,i,1,e,null):r.data[i],s=yce(r,t,o,e,n);t[i]=s,Qy()&&hT(r,t,s,o),Nf(o,!1)}var yce=(n,e,t,r,i)=>(g1(!0),Rse(e[Ln],r));function OV(n,e,t,r=""){return qo(n,Id(),t)?e+fh(t)+r:uo}function kce(n,e,t,r,i,o=""){let s=U7(),a=bT(n,s,t,i);return Gy(2),a?e+fh(t)+r+fh(i)+o:uo}function qe(n){return yt("",n),qe}function yt(n,e,t){let r=nt(),i=OV(r,n,e,t);return i!==uo&&NV(r,Ta(),i),yt}function Yf(n,e,t,r,i){let o=nt(),s=kce(o,n,e,t,r,i);return s!==uo&&NV(o,Ta(),s),Yf}function NV(n,e,t){let r=DI(e,n);Pse(n[Ln],r,t)}function It(n,e,t=""){return OV(nt(),n,e,t)}function bce(n,e,t){let r=Zn();if(r.firstCreatePass){let i=Ys(n);qA(t,r.data,r.blueprint,i,!0),qA(e,r.data,r.blueprint,i,!1)}}function qA(n,e,t,r,i){if(n=Xr(n),Array.isArray(n))for(let o=0;o<n.length;o++)qA(n[o],e,t,r,i);else{let o=Zn(),s=nt(),a=Qr(),l=uh(n)?n:Xr(n.provide),d=EI(n),h=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(uh(n)||!n.multi){let v=new Mh(d,i,Re,null),_=cA(l,e,i?h:h+m,f);_===-1?(uA(pk(a,s),o,l),lA(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[_]=v,s[_]=v)}else{let v=cA(l,e,h+m,f),_=cA(l,e,h,h+m),b=v>=0&&t[v],T=_>=0&&t[_];if(i&&!T||!i&&!b){uA(pk(a,s),o,l);let M=Ece(i?Cce:xce,t.length,i,r,d,n);!i&&T&&(t[_].providerFactory=M),lA(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=LV(t[i?_:v],d,!i&&r);lA(o,n,v>-1?v:_,M)}!i&&r&&T&&t[_].componentProviders++}}}function lA(n,e,t,r){let i=uh(e),o=A7(e);if(i||o){let l=(o?Xr(e.useClass):e).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,l]):d[h+1].push(r,l)}else d.push(t,l)}}}function LV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xce(n,e,t,r,i){return KA(this.multi,[])}function Cce(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=k1(r,r[tt],this.providerFactory.index,i);s=l.slice(0,a),KA(o,s);for(let d=a;d<l.length;d++)s.push(l[d])}else s=[],KA(o,s);return s}function KA(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Ece(n,e,t,r,i,o){let s=new Mh(n,t,Re,null);return s.multi=[],s.index=e,s.componentProviders=0,LV(s,i,r&&!t),s}function Ne(n,e=[]){return t=>{t.providersResolver=(r,i)=>bce(r,i?i(n):n,e)}}function Th(n,e,t){let r=bh()+n,i=nt();return i[r]===uo?Bk(i,r,t?e.call(t):e()):Wae(i,r)}function ec(n,e,t,r){return FV(nt(),bh(),n,e,t,r)}function FT(n,e,t,r,i){return Mce(nt(),bh(),n,e,t,r,i)}function BT(n,e,t,r,i,o){return BV(nt(),bh(),n,e,t,r,i,o)}function VT(n,e){let t=n[e];return t===uo?void 0:t}function FV(n,e,t,r,i,o){let s=e+t;return qo(n,s,i)?Bk(n,s+1,o?r.call(o,i):r(i)):VT(n,s+1)}function Mce(n,e,t,r,i,o,s){let a=e+t;return bT(n,a,i,o)?Bk(n,a+2,s?r.call(s,i,o):r(i,o)):VT(n,a+2)}function BV(n,e,t,r,i,o,s,a){let l=e+t;return Gae(n,l,i,o,s)?Bk(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):VT(n,l+3)}function Xo(n,e){let t=Zn(),r,i=n+Wn;t.firstCreatePass?(r=Sce(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=xd(r.type,!0)),s,a=so(Re);try{let l=hk(!1),d=o();return hk(l),RI(t,nt(),i,d),d}finally{so(a)}}function Sce(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function bs(n,e,t){let r=n+Wn,i=nt(),o=Uy(i,r);return VV(i,r)?FV(i,bh(),e,o.transform,t,o):o.transform(t)}function jT(n,e,t,r,i){let o=n+Wn,s=nt(),a=Uy(s,o);return VV(s,o)?BV(s,bh(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function VV(n,e){return n[tt].data[e].pure}function Xf(n,e){return Lk(n,e)}var Mk=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},HT=(()=>{class n{compileModuleSync(t){return new yk(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=bI(t),o=v9(i.declarations).reduce((s,a)=>{let l=$l(a);return l&&s.push(new Ih(l)),s},[]);return new Mk(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ice=(()=>{class n{zone=C(Fe);changeDetectionScheduler=C(fs);applicationRef=C(Ao);applicationErrorHandler=C(co);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jV=new pe("",{factory:()=>!1});function UT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Fe(Se(X({},$T()),{scheduleInRootZone:t})),[{provide:Fe,useFactory:n},{provide:Ma,multi:!0,useFactory:()=>{let r=C(Ice,{optional:!0});return()=>r.initialize()}},{provide:Ma,multi:!0,useFactory:()=>{let r=C(Ace);return()=>{r.initialize()}}},e===!0?{provide:ZI,useValue:!0}:[],{provide:QI,useValue:t??mV},{provide:co,useFactory:()=>{let r=C(Fe),i=C(Nn),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Wo),o.handleError(s))})}}}]}function zT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=UT({ngZoneFactory:()=>{let i=$T(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Zl("NgZone_CoalesceEvent"),new Fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return di([{provide:jV,useValue:!0},{provide:Ff,useValue:!1},r])}function $T(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Ace=(()=>{class n{subscription=new un;initialized=!1;zone=C(Fe);pendingTasks=C(Da);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HV=(()=>{class n{applicationErrorHandler=C(co);appRef=C(Ao);taskService=C(Da);ngZone=C(Fe);zonelessEnabled=C(Ff);tracing=C(Od,{optional:!0});disableScheduling=C(ZI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new un;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kk):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(QI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bk||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MB:vV;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kk+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MB(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tce(){return typeof $localize<"u"&&$localize.locale||j1}var Kk=new pe("",{providedIn:"root",factory:()=>C(Kk,{optional:!0,skipSelf:!0})||Tce()});var H1=class{destroyed=!1;listeners=null;errorHandler=C(Wo,{optional:!0});destroyRef=C(Gn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Ee(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(zl(953,!1));return}if(this.listeners===null)return;let t=pt(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{pt(t)}}};function Dt(n){return c7(n)}function ee(n,e){return Km(n,e?.equal)}var WT=class{[fr];constructor(e){this[fr]=e}destroy(){this[fr].destroy()}};function xt(n,e){let t=e?.injector??C(Le),r=e?.manualCleanup!==!0?t.get(Gn):null,i,o=t.get(xh,null,{optional:!0}),s=t.get(fs);return o!==null?(i=Pce(o.view,s,n),r instanceof r1&&r._lView===o.view&&(r=null)):i=Oce(n,t.get(w1),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new WT(i)}var zV=Se(X({},d7),{cleanupFns:void 0,zone:null,onDestroyFn:Ch,run(){let n=Lf(!1);try{u7(this)}finally{Lf(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=pt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],pt(n)}}}),Dce=Se(X({},zV),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){gd(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Rce=Se(X({},zV),{consumerMarkedDirty(){this.view[mt]|=8192,Sd(this.view),this.notifier.notify(13)},destroy(){gd(this),this.onDestroyFn(),this.cleanup(),this.view[Wl]?.delete(this)}});function Pce(n,e,t){let r=Object.create(Rce);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=$V(r,t),n[Wl]??=new Set,n[Wl].add(r),r.consumerMarkedDirty(r),r}function Oce(n,e,t){let r=Object.create(Dce);return r.fn=$V(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function $V(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var Nce=n=>n;function Nr(n,e){if(typeof n=="function"){let t=XS(n,Nce,e?.equal);return UV(t)}else{let t=XS(n.source,n.computation,n.equal);return UV(t)}}function UV(n){let e=n[fr],t=n;return t.set=r=>a7(e,r),t.update=r=>l7(e,r),t.asReadonly=v1.bind(n),t}var Xk=Symbol("InputSignalNode#UNSET"),ZV=Se(X({},Ym),{transformFn:void 0,applyValueToInputSignal(n,e){md(n,e)}});function QV(n,e){let t=Object.create(ZV);t.value=n,t.transformFn=e?.transform;function r(){if(Ll(t),t.value===Xk){let i=null;throw new Ee(-950,i)}return t.value}return r[fr]=t,r}var z1=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>XA(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Jce=new pe("");Jce.__NG_ELEMENT_ID__=n=>{let e=Qr();if(e===null)throw new Ee(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Ee(204,!1)};function xs(n){return new H1}function WV(n,e){return QV(n,e)}function ede(n){return QV(Xk,n)}var W=(WV.required=ede,WV);function GV(n,e){return MT(e)}function tde(n,e){return ST(e)}var zi=(GV.required=tde,GV);function qV(n,e){return MT(e)}function nde(n,e){return ST(e)}var ea=(qV.required=nde,qV);function ta(n,e){return dV(e)}function JV(n,e){let t=Object.create(ZV),r=new H1;t.value=n;function i(){return Ll(t),KV(t.value),t.value}return i[fr]=t,i.asReadonly=v1.bind(i),i.set=o=>{t.equal(t.value,o)||(md(t,o),r.emit(o))},i.update=o=>{KV(t.value),i.set(o(t.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function KV(n){if(n===Xk)throw new Ee(952,!1)}function YV(n,e){return JV(n,e)}function rde(n){return JV(Xk,n)}var tc=(YV.required=rde,YV);var Dh=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ej=new Dh("20.3.0");var qT=new pe(""),ide=new pe("");function U1(n){return!n.moduleRef}function ode(n){let e=U1(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Fe);return t.run(()=>{U1(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(co),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),U1(n)){let o=()=>e.destroy(),s=n.platformInjector.get(qT);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(qT);s.add(o),n.moduleRef.onDestroy(()=>{y1(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ade(r,t,()=>{let o=e.get(Da),s=o.add(),a=e.get(OT);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Kk,j1);if(bV(l||j1),!e.get(ide,!0))return U1(n)?e.get(Ao):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(U1(n)){let h=e.get(Ao);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return sde?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var sde;function ade(n,e,t){try{let r=t();return Ql(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Yk=null;function lde(n=[],e){return Le.create({name:e,providers:[{provide:a1,useValue:"platform"},{provide:qT,useValue:new Set([()=>Yk=null])},...n]})}function cde(n=[]){if(Yk)return Yk;let e=lde(n);return Yk=e,_V(),dde(e),e}function dde(n){let e=n.get(Sk,null);Dn(n,()=>{e?.forEach(t=>t())})}function Nd(){return!1}var $i=(()=>{class n{static __NG_ELEMENT_ID__=ude}return n})();function ude(n){return hde(Qr(),nt(),(n&16)===16)}function hde(n,e,t){if(Gl(n)&&!t){let r=ws(n.index,e);return new Td(r,r)}else if(n.type&175){let r=e[lo];return new Td(r,e)}return null}function tj(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Mn(8);try{let o=i?.injector??cde(r),s=[UT({}),{provide:fs,useExisting:HV},eB,...t||[]],a=new E1({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return ode({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Mn(9)}}function gt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ho(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var GT=Symbol("NOT_SET"),nj=new Set,pde=Se(X({},Ym),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:GT,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==GT&&!Ju(this))return this.signal;try{for(let i of this.cleanup??nj)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=Fl(this),r;try{r=this.userFn.apply(null,e)}finally{fd(this,t)}return(this.value===GT||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),KT=class extends S1{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(Gn),s),this.scheduler=i;for(let a of DT){let l=t[a];if(l===void 0)continue;let d=Object.create(pde);d.sequence=this,d.phase=a,d.userFn=l,d.dirty=!0,d.signal=()=>(Ll(d),d.value),d.signal[fr]=d,d.registerCleanupFn=h=>(d.cleanup??=new Set).add(h),this.nodes[a]=d,this.hooks[a]=h=>d.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??nj)t()}finally{gd(e)}}};function rj(n,e){let t=e?.injector??C(Le),r=t.get(fs),i=t.get(Hk),o=t.get(Od,null,{optional:!0});i.impl??=t.get(RT);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(xh,null,{optional:!0}),l=new KT(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t,o?.snapshot(null));return i.impl.register(l),l}function Zk(n,e){let t=$l(n),r=e.elementInjector||Tf();return new Ih(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var sj=null;function Cs(){return sj}function YT(n){sj??=n}var $1=class{},XT=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(aj),providedIn:"platform"})}return n})();var aj=(()=>{class n extends XT{_location;_history;_doc=C(vt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cs().getBaseHref(this._doc)}onPopState(t){let r=Cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function lj(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function ij(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ld(n){return n&&n[0]!=="?"?`?${n}`:n}var Qk=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(dj),providedIn:"root"})}return n})(),cj=new pe(""),dj=(()=>{class n extends Qk{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lj(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ld(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ld(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ld(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ie(XT),Ie(cj,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ro=(()=>{class n{_subject=new Te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mde(ij(oj(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ld(r))}normalize(t){return n.stripTrailingSlash(gde(this._basePath,oj(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ld(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ld(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ld;static joinWithSlash=lj;static stripTrailingSlash=ij;static \u0275fac=function(r){return new(r||n)(Ie(Qk))};static \u0275prov=ce({token:n,factory:()=>fde(),providedIn:"root"})}return n})();function fde(){return new Ro(Ie(Qk))}function gde(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function oj(n){return n.replace(/\/index.html$/,"")}function mde(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var W1=(()=>{class n{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(t){this._viewContainerRef=t}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||t.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=IT(this.ngComponentOutletNgModule,uj(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(uj(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[r,i]of this._inputsUsed)i?(t.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(t.setInput(r,void 0),this._inputsUsed.delete(r))}static \u0275fac=function(r){return new(r||n)(Re(fi))};static \u0275dir=he({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[ei]})}return n})();function uj(n){return n.get(Zs).injector}var Zf=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Re(fi))};static \u0275dir=he({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ei]})}return n})();function hj(n,e){return new Ee(2100,!1)}var ZT=class{createSubscription(e,t,r){return Dt(()=>e.subscribe({next:t,error:r}))}dispose(e){Dt(()=>e.unsubscribe())}},QT=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},wde=new QT,_de=new ZT,JT=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=C(co);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ql(t))return wde;if(zk(t))return _de;throw hj(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Re($i,16))};static \u0275pipe=Pd({name:"async",type:n,pure:!1})}return n})();var yde=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,eD=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw hj(n,t);return t.replace(yde,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Pd({name:"titlecase",type:n,pure:!0})}return n})();var Po=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})();function G1(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Rh=class{};var tD="browser",bde="server";function Wi(n){return n===tD}function pj(n){return n===bde}var eb=new pe(""),sD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ie(eb),Ie(Fe))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),q1=class{_doc;constructor(e){this._doc=e}manager},nD="ng-app-id";function gj(n){for(let e of n)e.remove()}function mj(n,e){let t=e.createElement("style");return t.textContent=n,t}function xde(n,e,t,r){let i=n.head?.querySelectorAll(`style[${nD}="${e}"],link[${nD}="${e}"]`);if(i)for(let o of i)o.removeAttribute(nD),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function iD(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var aD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,xde(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,mj);r?.forEach(i=>this.addUsage(i,this.external,iD))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(gj(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])gj(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,mj(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,iD(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ie(vt),Ie(Dd),Ie(Ik,8),Ie(Qn))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),rD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lD=/%COMP%/g;var wj="%COMP%",Cde=`_nghost-${wj}`,Ede=`_ngcontent-${wj}`,Mde=!0,Sde=new pe("",{providedIn:"root",factory:()=>Mde});function Ide(n){return Ede.replace(lD,n)}function Ade(n){return Cde.replace(lD,n)}function _j(n,e){return e.map(t=>t.replace(lD,n))}var cD=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,l,d=null,h,f,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.animationDisabled=h,this.maxAnimationTimeout=f,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new K1(t,s,l,this.platformIsServer,this.tracingService,this.registry=Jy(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Jk?i.applyToHost(t):i instanceof Y1&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Kl.Emulated:o=new Jk(l,d,r,this.appId,h,s,a,f,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Kl.ShadowDom:return new oD(l,d,t,r,s,a,this.nonce,f,m,this.registry,this.maxAnimationTimeout);default:o=new Y1(l,d,r,h,s,a,f,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ie(sD),Ie(aD),Ie(Dd),Ie(Sde),Ie(vt),Ie(Qn),Ie(Fe),Ie(Ik),Ie(NT),Ie(LT),Ie(Od,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),K1=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(rD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vj(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vj(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=rD[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=rD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pa.DashCase|Pa.Important)?e.style.setProperty(t,r,i&Pa.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Cs().getGlobalEventTarget(this.doc,e),!e))throw new Ee(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function vj(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var oD=class extends K1{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,d,h,f){super(e,o,s,l,d,h,f),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=_j(i.id,m);for(let _ of m){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=_,this.shadowRoot.appendChild(b)}let v=i.getExternalStyles?.();if(v)for(let _ of v){let b=iD(_,o);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Y1=class extends K1{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,l,d,h,f,m){super(e,o,s,a,l,d,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let v=r.styles;this.styles=m?_j(m,v):v,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Jk=class extends Y1{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,d,h,f,m){let v=i+"-"+r.id;super(e,t,r,o,s,a,l,d,h,f,m,v),this.contentAttr=Ide(v),this.hostAttr=Ade(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var tb=class n extends $1{supportsDOMEvents=!0;static makeCurrent(){YT(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Tde();return t==null?null:Dde(t)}resetBaseElement(){X1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return G1(document.cookie,e)}},X1=null;function Tde(){return X1=X1||document.head.querySelector("base"),X1?X1.getAttribute("href"):null}function Dde(n){return new URL(n,document.baseURI).pathname}var Rde=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),kj=(()=>{class n extends q1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Ie(vt))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),yj=["alt","control","meta","shift"],Pde={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ode={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bj=(()=>{class n extends q1{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cs().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yj.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Pde[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yj.forEach(s=>{if(s!==i){let a=Ode[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ie(vt))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function dD(n,e,t){let r=X({rootComponent:n,platformRef:t?.platformRef},Nde(e));return tj(r)}function Nde(n){return{appProviders:[...jde,...n?.providers??[]],platformProviders:Vde}}function Lde(){tb.makeCurrent()}function Fde(){return new Wo}function Bde(){return QA(document),document}var Vde=[{provide:Qn,useValue:tD},{provide:Sk,useValue:Lde,multi:!0},{provide:vt,useFactory:Bde}];var jde=[{provide:a1,useValue:"root"},{provide:Wo,useFactory:Fde},{provide:eb,useClass:kj,multi:!0,deps:[vt]},{provide:eb,useClass:bj,multi:!0,deps:[vt]},cD,aD,sD,{provide:hi,useExisting:cD},{provide:Rh,useClass:Rde},[]];var eg=class{},Z1=class{},Fd=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rb=class{encodeKey(e){return xj(e)}encodeValue(e){return xj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Hde(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Ude=/%(\d[a-f0-9])/gi,zde={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xj(n){return encodeURIComponent(n).replace(Ude,(e,t)=>zde[t]??e)}function nb(n){return`${n}`}var nc=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new rb,e.fromString){if(e.fromObject)throw new Ee(2805,!1);this.map=Hde(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(nb):[nb(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(nb(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(nb(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ib=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $de(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Cj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ej(n){return typeof Blob<"u"&&n instanceof Blob}function Mj(n){return typeof FormData<"u"&&n instanceof FormData}function Wde(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Sj="Content-Type",Ij="Accept",Aj="X-Request-URL",Tj="text/plain",Dj="application/json",Gde=`${Dj}, ${Tj}, */*`,Qf=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if($de(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Ee(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Fd,this.context??=new ib,!this.params)this.params=new nc,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Cj(this.body)||Ej(this.body)||Mj(this.body)||Wde(this.body)?this.body:this.body instanceof nc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mj(this.body)?null:Ej(this.body)?this.body.type||null:Cj(this.body)?null:typeof this.body=="string"?Tj:this.body instanceof nc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Dj:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,d=e.redirect||this.redirect,h=e.credentials||this.credentials,f=e.referrer||this.referrer,m=e.integrity||this.integrity,v=e.transferCache??this.transferCache,_=e.timeout??this.timeout,b=e.body!==void 0?e.body:this.body,T=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,B=e.headers||this.headers,j=e.params||this.params,H=e.context??this.context;return e.setHeaders!==void 0&&(B=Object.keys(e.setHeaders).reduce((q,Y)=>q.set(Y,e.setHeaders[Y]),B)),e.setParams&&(j=Object.keys(e.setParams).reduce((q,Y)=>q.set(Y,e.setParams[Y]),j)),new n(t,r,b,{params:j,headers:B,context:H,reportProgress:M,responseType:i,withCredentials:T,transferCache:v,keepalive:o,cache:a,priority:s,timeout:_,mode:l,redirect:d,credentials:h,referrer:f,integrity:m})}},Ph=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ph||{}),tg=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Fd,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},ob=class n extends tg{constructor(e={}){super(e)}type=Ph.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Q1=class n extends tg{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ph.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Jf=class extends tg{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qde=200,Kde=204;function uD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var ab=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Qf)o=t;else{let l;i.headers instanceof Fd?l=i.headers:l=new Fd(i.headers);let d;i.params&&(i.params instanceof nc?d=i.params:d=new nc({fromObject:i.params})),o=new Qf(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Ye(o).pipe(yd(l=>this.handler.handle(l)));if(t instanceof Qf||i.observe==="events")return s;let a=s.pipe(Qt(l=>l instanceof Q1));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Je(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ee(2806,!1);return l.body}));case"blob":return a.pipe(Je(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ee(2807,!1);return l.body}));case"text":return a.pipe(Je(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ee(2808,!1);return l.body}));case"json":default:return a.pipe(Je(l=>l.body))}case"response":return a;default:throw new Ee(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new nc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,uD(i,r))}post(t,r,i={}){return this.request("POST",t,uD(i,r))}put(t,r,i={}){return this.request("PUT",t,uD(i,r))}static \u0275fac=function(r){return new(r||n)(Ie(eg))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var Yde=new pe("");function Xde(n,e){return e(n)}function Zde(n,e,t){return(r,i)=>Dn(t,()=>e(r,o=>n(o,i)))}var Rj=new pe(""),Pj=new pe(""),Oj=new pe("",{providedIn:"root",factory:()=>!0});var sb=(()=>{class n extends eg{backend;injector;chain=null;pendingTasks=C(ql);contributeToStability=C(Oj);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Rj),...this.injector.get(Pj,[])]));this.chain=r.reduceRight((i,o)=>Zde(i,o,this.injector),Xde)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(lh(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Ie(Z1),Ie(Nn))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var Qde=/^\)\]\}',?\n/,Jde=RegExp(`^${Aj}:`,"m");function eue(n){return"responseURL"in n&&n.responseURL?n.responseURL:Jde.test(n.getAllResponseHeaders())?n.getResponseHeader(Aj):null}var hD=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ee(-2800,!1);let r=this.xhrFactory;return Ye(null).pipe(xr(()=>new Ze(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,M)=>s.setRequestHeader(T,M.join(","))),t.headers.has(Ij)||s.setRequestHeader(Ij,Gde),!t.headers.has(Sj)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(Sj,T)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let T=s.statusText||"OK",M=new Fd(s.getAllResponseHeaders()),B=eue(s)||t.url;return l=new ob({headers:M,status:s.status,statusText:T,url:B}),l},h=()=>{let{headers:T,status:M,statusText:B,url:j}=d(),H=null;M!==Kde&&(H=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=H?qde:0);let q=M>=200&&M<300;if(t.responseType==="json"&&typeof H=="string"){let Y=H;H=H.replace(Qde,"");try{H=H!==""?JSON.parse(H):null}catch(F){H=Y,q&&(q=!1,H={error:F,text:H})}}q?(o.next(new Q1({body:H,headers:T,status:M,statusText:B,url:j||void 0})),o.complete()):o.error(new Jf({error:H,headers:T,status:M,statusText:B,url:j||void 0}))},f=T=>{let{url:M}=d(),B=new Jf({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(B)},m=f;t.timeout&&(m=T=>{let{url:M}=d(),B=new Jf({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(B)});let v=!1,_=T=>{v||(o.next(d()),v=!0);let M={type:Ph.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},b=T=>{let M={type:Ph.UploadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",m),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Ph.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Ie(Rh))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Nj=new pe(""),tue="XSRF-TOKEN",nue=new pe("",{providedIn:"root",factory:()=>tue}),rue="X-XSRF-TOKEN",iue=new pe("",{providedIn:"root",factory:()=>rue}),J1=class{},oue=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=G1(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Ie(vt),Ie(nue))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function sue(n,e){let t=n.url.toLowerCase();if(!C(Nj)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=C(J1).getToken(),i=C(iue);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function pD(...n){let e=[ab,hD,sb,{provide:eg,useExisting:sb},{provide:Z1,useFactory:()=>C(Yde,{optional:!0})??C(hD)},{provide:Rj,useValue:sue,multi:!0},{provide:Nj,useValue:!0},{provide:J1,useClass:oue}];for(let t of n)e.push(...t.\u0275providers);return di(e)}var Lj=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ie(vt))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Ie(lue),i},providedIn:"root"})}return n})(),lue=(()=>{class n extends fD{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Oa.NONE:return r;case Oa.HTML:return Rd(r,"HTML")?Qs(r):oT(this._doc,String(r)).toString();case Oa.STYLE:return Rd(r,"Style")?Qs(r):r;case Oa.SCRIPT:if(Rd(r,"Script"))return Qs(r);throw new Ee(5200,!1);case Oa.URL:return Rd(r,"URL")?Qs(r):T1(String(r));case Oa.RESOURCE_URL:if(Rd(r,"ResourceURL"))return Qs(r);throw new Ee(5201,!1);default:throw new Ee(5202,!1)}}bypassSecurityTrustHtml(t){return eT(t)}bypassSecurityTrustStyle(t){return tT(t)}bypassSecurityTrustScript(t){return nT(t)}bypassSecurityTrustUrl(t){return rT(t)}bypassSecurityTrustResourceUrl(t){return iT(t)}static \u0275fac=function(r){return new(r||n)(Ie(vt))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rt="primary",f2=Symbol("RouteTitle"),_D=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Lh(n){return new _D(n)}function Wj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cue(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Na(n[t],e[t]))return!1;return!0}function Na(n,e){let t=n?yD(n):void 0,r=e?yD(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Gj(n[i],e[i]))return!1;return!0}function yD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qj(n){return n.length>0?n[n.length-1]:null}function ic(n){return Cf(n)?n:Ql(n)?Tn(Promise.resolve(n)):Ye(n)}var due={exact:Yj,subset:Xj},Kj={exact:uue,subset:hue,ignored:()=>!0};function Bj(n,e,t){return due[t.paths](n.root,e.root,t.matrixParams)&&Kj[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function uue(n,e){return Na(n,e)}function Yj(n,e,t){if(!Oh(n.segments,e.segments)||!db(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Yj(n.children[r],e.children[r],t))return!1;return!0}function hue(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gj(n[t],e[t]))}function Xj(n,e,t){return Zj(n,e,e.segments,t)}function Zj(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oh(i,t)||e.hasChildren()||!db(i,t,r))}else if(n.segments.length===t.length){if(!Oh(n.segments,t)||!db(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Xj(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oh(n.segments,i)||!db(n.segments,i,r)||!n.children[Rt]?!1:Zj(n.children[Rt],e,o,r)}}function db(n,e,t){return e.every((r,i)=>Kj[t](n[i].parameters,r.parameters))}var Fa=class{root;queryParams;fragment;_queryParamMap;constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Lh(this.queryParams),this._queryParamMap}toString(){return gue.serialize(this)}},mn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ub(this)}},Bd=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Lh(this.parameters),this._parameterMap}toString(){return Jj(this)}};function pue(n,e){return Oh(n,e)&&n.every((t,r)=>Na(t.parameters,e[r].parameters))}function Oh(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fue(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Rt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Rt&&(t=t.concat(e(i,r)))}),t}var g2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>new Fh,providedIn:"root"})}return n})(),Fh=class{parse(e){let t=new bD(e);return new Fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${e2(e.root,!0)}`,r=wue(e.queryParams),i=typeof e.fragment=="string"?`#${mue(e.fragment)}`:"";return`${t}${r}${i}`}},gue=new Fh;function ub(n){return n.segments.map(e=>Jj(e)).join("/")}function e2(n,e){if(!n.hasChildren())return ub(n);if(e){let t=n.children[Rt]?e2(n.children[Rt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Rt&&r.push(`${i}:${e2(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fue(n,(r,i)=>i===Rt?[e2(n.children[Rt],!1)]:[`${i}:${e2(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Rt]!=null?`${ub(n)}/${t[0]}`:`${ub(n)}/(${t.join("//")})`}}function Qj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lb(n){return Qj(n).replace(/%3B/gi,";")}function mue(n){return encodeURI(n)}function kD(n){return Qj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hb(n){return decodeURIComponent(n)}function Vj(n){return hb(n.replace(/\+/g,"%20"))}function Jj(n){return`${kD(n.path)}${vue(n.parameters)}`}function vue(n){return Object.entries(n).map(([e,t])=>`;${kD(e)}=${kD(t)}`).join("")}function wue(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${lb(t)}=${lb(i)}`).join("&"):`${lb(t)}=${lb(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _ue=/^[^\/()?;#]+/;function gD(n){let e=n.match(_ue);return e?e[0]:""}var yue=/^[^\/()?;=#]+/;function kue(n){let e=n.match(yue);return e?e[0]:""}var bue=/^[^=?&#]+/;function xue(n){let e=n.match(bue);return e?e[0]:""}var Cue=/^[^&#]+/;function Eue(n){let e=n.match(Cue);return e?e[0]:""}var bD=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rt]=new mn(e,t)),r}parseSegment(){let e=gD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(e),new Bd(hb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=kue(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=gD(this.remaining);i&&(r=i,this.capture(r))}e[hb(t)]=hb(r)}parseQueryParam(e){let t=xue(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Eue(this.remaining);s&&(r=s,this.capture(r))}let i=Vj(t),o=Vj(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gD(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ee(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Rt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Rt]:new mn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ee(4011,!1)}};function eH(n){return n.segments.length>0?new mn([],{[Rt]:n}):n}function tH(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=tH(i);if(r===Rt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new mn(n.segments,e);return Mue(t)}function Mue(n){if(n.numberOfChildren===1&&n.children[Rt]){let e=n.children[Rt];return new mn(n.segments.concat(e.segments),e.children)}return n}function sg(n){return n instanceof Fa}function nH(n,e,t=null,r=null){let i=rH(n);return iH(i,e,t,r)}function rH(n){let e;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new mn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=eH(r);return e??i}function iH(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return mD(i,i,i,t,r);let o=Sue(e);if(o.toRoot())return mD(i,i,new mn([],{}),t,r);let s=Iue(o,i,n),a=s.processChildren?n2(s.segmentGroup,s.index,o.commands):sH(s.segmentGroup,s.index,o.commands);return mD(i,s.segmentGroup,a,t,r)}function pb(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function o2(n){return typeof n=="object"&&n!=null&&n.outlets}function mD(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===e?s=t:s=oH(n,e,t);let a=eH(tH(s));return new Fa(a,o,i)}function oH(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=oH(o,e,t)}),new mn(n.segments,r)}var fb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&pb(r[0]))throw new Ee(4003,!1);let i=r.find(o2);if(i&&i!==qj(r))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Sue(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fb(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fb(t,e,r)}var ig=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Iue(n,e,t){if(n.isAbsolute)return new ig(e,!0,0);if(!t)return new ig(e,!1,NaN);if(t.parent===null)return new ig(t,!0,0);let r=pb(n.commands[0])?0:1,i=t.segments.length-1+r;return Aue(t,i,n.numberOfDoubleDots)}function Aue(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ee(4005,!1);i=r.segments.length}return new ig(r,!1,i-o)}function Tue(n){return o2(n[0])?n[0].outlets:{[Rt]:n}}function sH(n,e,t){if(n??=new mn([],{}),n.segments.length===0&&n.hasChildren())return n2(n,e,t);let r=Due(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new mn(n.segments.slice(0,r.pathIndex),{});return o.children[Rt]=new mn(n.segments.slice(r.pathIndex),n.children),n2(o,0,i)}else return r.match&&i.length===0?new mn(n.segments,{}):r.match&&!n.hasChildren()?xD(n,e,t):r.match?n2(n,0,i):xD(n,e,t)}function n2(n,e,t){if(t.length===0)return new mn(n.segments,{});{let r=Tue(t),i={};if(Object.keys(r).some(o=>o!==Rt)&&n.children[Rt]&&n.numberOfChildren===1&&n.children[Rt].segments.length===0){let o=n2(n.children[Rt],e,t);return new mn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sH(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new mn(n.segments,i)}}function Due(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(o2(a))break;let l=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Hj(l,d,s))return o;r+=2}else{if(!Hj(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xD(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(o2(o)){let l=Rue(o.outlets);return new mn(r,l)}if(i===0&&pb(t[0])){let l=n.segments[e];r.push(new Bd(l.path,jj(t[0]))),i++;continue}let s=o2(o)?o.outlets[Rt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&pb(a)?(r.push(new Bd(s,jj(a))),i+=2):(r.push(new Bd(s,{})),i++)}return new mn(r,{})}function Rue(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=xD(new mn([],{}),0,r))}),e}function jj(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Hj(n,e,t){return n==t.path&&Na(e,t.parameters)}var r2="imperative",gi=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(gi||{}),Qo=class{id;url;constructor(e,t){this.id=e,this.url=t}},Bh=class extends Qo{type=gi.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ra=class extends Qo{urlAfterRedirects;type=gi.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},po=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(po||{}),s2=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(s2||{}),La=class extends Qo{reason;code;type=gi.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rc=class extends Qo{reason;code;type=gi.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ag=class extends Qo{error;target;type=gi.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},a2=class extends Qo{urlAfterRedirects;state;type=gi.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gb=class extends Qo{urlAfterRedirects;state;type=gi.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mb=class extends Qo{urlAfterRedirects;state;shouldActivate;type=gi.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vb=class extends Qo{urlAfterRedirects;state;type=gi.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wb=class extends Qo{urlAfterRedirects;state;type=gi.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_b=class{route;type=gi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yb=class{route;type=gi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kb=class{snapshot;type=gi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bb=class{snapshot;type=gi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xb=class{snapshot;type=gi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cb=class{snapshot;type=gi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var l2=class{},lg=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Pue(n){return!(n instanceof l2)&&!(n instanceof lg)}function Oue(n,e){return n.providers&&!n._injector&&(n._injector=F1(n.providers,e,`Route: ${n.path}`)),n._injector??e}function na(n){return n.outlet||Rt}function Nue(n,e){let t=n.filter(r=>na(r)===e);return t.push(...n.filter(r=>na(r)!==e)),t}function ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Eb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ug(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new hg(this.rootInjector)}},hg=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Eb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ie(Nn))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mb=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=CD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=CD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ED(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ED(e,this._root).map(t=>t.value)}};function CD(n,e){if(n===e.value)return e;for(let t of e.children){let r=CD(n,t);if(r)return r}return null}function ED(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ED(n,t);if(r.length)return r.unshift(e),r}return[]}var Zo=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function rg(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var c2=class extends Mb{snapshot;constructor(e,t){super(e),this.snapshot=t,PD(this,e)}toString(){return this.snapshot.toString()}};function aH(n){let e=Lue(n),t=new Xn([new Bd("",{})]),r=new Xn({}),i=new Xn({}),o=new Xn({}),s=new Xn(""),a=new Oo(t,r,o,s,i,Rt,n,e.root);return a.snapshot=e.root,new c2(new Zo(a,[]),e)}function Lue(n){let e={},t={},r={},o=new Nh([],e,r,"",t,Rt,n,null,{});return new d2("",new Zo(o,[]))}var Oo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Je(d=>d[f2]))??Ye(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Je(e=>Lh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Je(e=>Lh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:X(X({},e.params),n.params),data:X(X({},e.data),n.data),resolve:X(X(X(X({},n.data),e.data),i?.data),n._resolvedData)}:r={params:X({},n.params),data:X({},n.data),resolve:X(X({},n.data),n._resolvedData??{})},i&&cH(i)&&(r.resolve[f2]=i.title),r}var Nh=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[f2]}constructor(e,t,r,i,o,s,a,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lh(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},d2=class extends Mb{url;constructor(e,t){super(t),this.url=e,PD(this,t)}toString(){return lH(this._root)}};function PD(n,e){e.value._routerState=n,e.children.forEach(t=>PD(n,t))}function lH(n){let e=n.children.length>0?` { ${n.children.map(lH).join(", ")} } `:"";return`${n.value}${e}`}function vD(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Na(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Na(e.params,t.params)||n.paramsSubject.next(t.params),cue(e.url,t.url)||n.urlSubject.next(t.url),Na(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function MD(n,e){let t=Na(n.params,e.params)&&pue(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||MD(n.parent,e.parent))}function cH(n){return typeof n.title=="string"||n.title===null}var dH=new pe(""),m2=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Rt;activateEvents=new it;deactivateEvents=new it;attachEvents=new it;detachEvents=new it;routerOutletData=W(void 0);parentContexts=C(hg);location=C(fi);changeDetector=C($i);inputBinder=C(Db,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ee(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new SD(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ei]})}return n})(),SD=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Oo?this.route:e===hg?this.childContexts:e===dH?this.outletData:this.parent.get(e,t)}},Db=new pe("");var OD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[m2],encapsulation:2})}return n})();function ND(n){let e=n.children&&n.children.map(ND),t=e?Se(X({},n),{children:e}):X({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=OD),t}function Fue(n,e,t){let r=u2(n,e._root,t?t._root:void 0);return new c2(r,e)}function u2(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Bue(n,e,t);return new Zo(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>u2(n,a)),s}}let r=Vue(e.value),i=e.children.map(o=>u2(n,o));return new Zo(r,i)}}function Bue(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return u2(n,r,i);return u2(n,r)})}function Vue(n){return new Oo(new Xn(n.url),new Xn(n.params),new Xn(n.queryParams),new Xn(n.fragment),new Xn(n.data),n.outlet,n.component,n)}var cg=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},uH="ngNavigationCancelingError";function Ib(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=sg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hH(!1,po.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hH(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[uH]=!0,t.cancellationCode=e,t}function jue(n){return pH(n)&&sg(n.url)}function pH(n){return!!n&&n[uH]}var Hue=(n,e,t,r)=>Je(i=>(new ID(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ID=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=rg(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rg(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rg(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=rg(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(vD(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vD(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ab=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},og=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Uue(n,e,t){let r=n._root,i=e?e._root:null;return t2(r,i,t,[r.value])}function zue(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function pg(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!dI(n)?n:e.get(n):r}function t2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=rg(e);return n.children.forEach(s=>{$ue(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>i2(a,t.getContext(s),i)),i}function $ue(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Wue(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ab(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?t2(n,e,a?a.children:null,r,i):t2(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new og(a.outlet.component,s))}else s&&i2(e,a,i),i.canActivateChecks.push(new Ab(r)),o.component?t2(n,null,a?a.children:null,r,i):t2(n,null,t,r,i);return i}function Wue(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oh(n.url,e.url)||!Na(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MD(n,e)||!Na(n.queryParams,e.queryParams);case"paramsChange":default:return!MD(n,e)}}function i2(n,e,t){let r=rg(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?i2(s,e.children.getContext(o),t):i2(s,null,t):i2(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new og(e.outlet.component,i)):t.canDeactivateChecks.push(new og(null,i)):t.canDeactivateChecks.push(new og(null,i))}function v2(n){return typeof n=="function"}function Gue(n){return typeof n=="boolean"}function que(n){return n&&v2(n.canLoad)}function Kue(n){return n&&v2(n.canActivate)}function Yue(n){return n&&v2(n.canActivateChild)}function Xue(n){return n&&v2(n.canDeactivate)}function Zue(n){return n&&v2(n.canMatch)}function fH(n){return n instanceof Ws||n?.name==="EmptyError"}var cb=Symbol("INITIAL_VALUE");function dg(){return xr(n=>by(n.map(e=>e.pipe(br(1),bd(cb)))).pipe(Je(e=>{for(let t of e)if(t!==!0){if(t===cb)return cb;if(t===!1||Que(t))return t}return!0}),Qt(e=>e!==cb),br(1)))}function Que(n){return sg(n)||n instanceof cg}function Jue(n,e){return or(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ye(Se(X({},t),{guardsResult:!0})):ehe(s,r,i,n).pipe(or(a=>a&&Gue(a)?the(r,o,n,e):Ye(a)),Je(a=>Se(X({},t),{guardsResult:a})))})}function ehe(n,e,t,r){return Tn(n).pipe(or(i=>she(i.component,i.route,t,e,r)),jl(i=>i!==!0,!0))}function the(n,e,t,r){return Tn(e).pipe(yd(i=>_d(rhe(i.route.parent,r),nhe(i.route,r),ohe(n,i.path,t),ihe(n,i.route,t))),jl(i=>i!==!0,!0))}function nhe(n,e){return n!==null&&e&&e(new xb(n)),Ye(!0)}function rhe(n,e){return n!==null&&e&&e(new kb(n)),Ye(!0)}function ihe(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ye(!0);let i=r.map(o=>ah(()=>{let s=ug(e)??t,a=pg(o,s),l=Kue(a)?a.canActivate(e,n):Dn(s,()=>a(e,n));return ic(l).pipe(jl())}));return Ye(i).pipe(dg())}function ohe(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zue(s)).filter(s=>s!==null).map(s=>ah(()=>{let a=s.guards.map(l=>{let d=ug(s.node)??t,h=pg(l,d),f=Yue(h)?h.canActivateChild(r,n):Dn(d,()=>h(r,n));return ic(f).pipe(jl())});return Ye(a).pipe(dg())}));return Ye(o).pipe(dg())}function she(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ye(!0);let s=o.map(a=>{let l=ug(e)??i,d=pg(a,l),h=Xue(d)?d.canDeactivate(n,e,t,r):Dn(l,()=>d(n,e,t,r));return ic(h).pipe(jl())});return Ye(s).pipe(dg())}function ahe(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Ye(!0);let o=i.map(s=>{let a=pg(s,n),l=que(a)?a.canLoad(e,t):Dn(n,()=>a(e,t));return ic(l)});return Ye(o).pipe(dg(),gH(r))}function gH(n){return LS(Pr(e=>{if(typeof e!="boolean")throw Ib(n,e)}),Je(e=>e===!0))}function lhe(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Ye(!0);let o=i.map(s=>{let a=pg(s,n),l=Zue(a)?a.canMatch(e,t):Dn(n,()=>a(e,t));return ic(l)});return Ye(o).pipe(dg(),gH(r))}var h2=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},p2=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ng(n){return xf(new h2(n))}function che(n){return xf(new Ee(4e3,!1))}function dhe(n){return xf(hH(!1,po.GuardRejected))}var AD=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ye(r);if(i.numberOfChildren>1||!i.children[Rt])return che(`${e.redirectTo}`);i=i.children[Rt]}}applyRedirectCommands(e,t,r,i,o){return uhe(t,i,o).pipe(Je(s=>{if(s instanceof Fa)throw new p2(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new p2(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new mn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function uhe(n,e,t){if(typeof n=="string")return Ye(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:d,data:h,title:f}=e;return ic(Dn(t,()=>r({params:d,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:f})))}var TD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hhe(n,e,t,r,i){let o=mH(n,e,t);return o.matched?(r=Oue(e,r),lhe(r,e,t,i).pipe(Je(s=>s===!0?o:X({},TD)))):Ye(o)}function mH(n,e,t){if(e.path==="**")return phe(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?X({},TD):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Wj)(t,n,e);if(!i)return X({},TD);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?X(X({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function phe(n){return{matched:!0,parameters:n.length>0?qj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Uj(n,e,t,r){return t.length>0&&mhe(n,t,r)?{segmentGroup:new mn(e,ghe(r,new mn(t,n.children))),slicedSegments:[]}:t.length===0&&vhe(n,t,r)?{segmentGroup:new mn(n.segments,fhe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new mn(n.segments,n.children),slicedSegments:t}}function fhe(n,e,t,r){let i={};for(let o of t)if(Rb(n,e,o)&&!r[na(o)]){let s=new mn([],{});i[na(o)]=s}return X(X({},r),i)}function ghe(n,e){let t={};t[Rt]=e;for(let r of n)if(r.path===""&&na(r)!==Rt){let i=new mn([],{});t[na(r)]=i}return t}function mhe(n,e,t){return t.some(r=>Rb(n,e,r)&&na(r)!==Rt)}function vhe(n,e,t){return t.some(r=>Rb(n,e,r))}function Rb(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function whe(n,e,t){return e.length===0&&!n.children[t]}var DD=class{};function _he(n,e,t,r,i,o,s="emptyOnly"){return new RD(n,e,t,r,i,s,o).recognize()}var yhe=31,RD=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new AD(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=Uj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Je(({children:t,rootSnapshot:r})=>{let i=new Zo(r,t),o=new d2("",i),s=nH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Nh([],Object.freeze({}),Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Rt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Rt,t).pipe(Je(r=>({children:r,rootSnapshot:t})),oo(r=>{if(r instanceof p2)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof h2?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Je(s=>s instanceof Zo?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Tn(o).pipe(yd(s=>{let a=r.children[s],l=Nue(t,s);return this.processSegmentGroup(e,l,a,s,i)}),qS((s,a)=>(s.push(...a),s)),kd(null),GS(),or(s=>{if(s===null)return ng(r);let a=vH(s);return khe(a),Ye(a)}))}processSegment(e,t,r,i,o,s,a){return Tn(t).pipe(yd(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(oo(d=>{if(d instanceof h2)return Ye(null);throw d}))),jl(l=>!!l),oo(l=>{if(fH(l))return whe(r,i,o)?Ye(new DD):ng(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return na(r)!==s&&(s===Rt||!Rb(i,o,r))?ng(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ng(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:f,remainingSegments:m}=mH(t,i,o);if(!l)return ng(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yhe&&(this.allowRedirects=!1));let v=new Nh(o,d,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,zj(i),na(i),i.component??i._loadedComponent??null,i,$j(i)),_=Sb(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(_.params),v.data=Object.freeze(_.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,f,v,e).pipe(xr(T=>this.applyRedirects.lineralizeSegments(i,T)),or(T=>this.processSegment(e,r,t,T.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=hhe(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xr(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xr(({routes:d})=>{let h=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:v}=l,_=new Nh(m,f,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,zj(r),na(r),r.component??r._loadedComponent??null,r,$j(r)),b=Sb(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);let{segmentGroup:T,slicedSegments:M}=Uj(t,m,v,d);if(M.length===0&&T.hasChildren())return this.processChildren(h,d,T,_).pipe(Je(j=>new Zo(_,j)));if(d.length===0&&M.length===0)return Ye(new Zo(_,[]));let B=na(r)===o;return this.processSegment(h,d,T,M,B?Rt:o,!0,_).pipe(Je(j=>new Zo(_,j instanceof Zo?[j]:[])))}))):ng(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):ahe(e,t,r,this.urlSerializer).pipe(or(i=>i?this.configLoader.loadChildren(e,t).pipe(Pr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):dhe(t))):Ye({routes:[],injector:e})}};function khe(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}function bhe(n){let e=n.value.routeConfig;return e&&e.path===""}function vH(n){let e=[],t=new Set;for(let r of n){if(!bhe(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vH(r.children);e.push(new Zo(r.value,i))}return e.filter(r=>!t.has(r))}function zj(n){return n.data||{}}function $j(n){return n.resolve||{}}function xhe(n,e,t,r,i,o){return or(s=>_he(n,e,t,r,s.extractedUrl,i,o).pipe(Je(({state:a,tree:l})=>Se(X({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Che(n,e){return or(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ye(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of wH(l))s.add(d);let a=0;return Tn(s).pipe(yd(l=>o.has(l)?Ehe(l,r,n,e):(l.data=Sb(l,l.parent,n).resolve,Ye(void 0))),Pr(()=>a++),Mf(1),or(l=>a===s.size?Ye(t):ci))})}function wH(n){let e=n.children.map(t=>wH(t)).flat();return[n,...e]}function Ehe(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!cH(i)&&(o[f2]=i.title),ah(()=>(n.data=Sb(n,n.parent,t).resolve,Mhe(o,n,e,r).pipe(Je(s=>(n._resolvedData=s,n.data=X(X({},n.data),s),null)))))}function Mhe(n,e,t,r){let i=yD(n);if(i.length===0)return Ye({});let o={};return Tn(i).pipe(or(s=>She(n[s],e,t,r).pipe(jl(),Pr(a=>{if(a instanceof cg)throw Ib(new Fh,a);o[s]=a}))),Mf(1),Je(()=>o),oo(s=>fH(s)?ci:xf(s)))}function She(n,e,t,r){let i=ug(e)??r,o=pg(n,i),s=o.resolve?o.resolve(e,t):Dn(i,()=>o(e,t));return ic(s)}function wD(n){return xr(e=>{let t=n(e);return t?Tn(t).pipe(Je(()=>e)):Ye(e)})}var LD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rt);return r}getResolvedTitleForRoute(t){return t.data[f2]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(_H),providedIn:"root"})}return n})(),_H=(()=>{class n extends LD{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ie(Lj))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w2=new pe("",{providedIn:"root",factory:()=>({})}),_2=new pe(""),yH=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(HT);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ye(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ic(Dn(t,()=>r.loadComponent())).pipe(Je(bH),xr(xH),Pr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),lh(()=>{this.componentLoaders.delete(r)})),o=new wf(i,()=>new Te).pipe(vf());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kH(r,this.compiler,t,this.onLoadEndListener).pipe(lh(()=>{this.childrenLoaders.delete(r)})),s=new wf(o,()=>new Te).pipe(vf());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kH(n,e,t,r){return ic(Dn(t,()=>n.loadChildren())).pipe(Je(bH),xr(xH),or(i=>i instanceof Vk||Array.isArray(i)?Ye(i):Tn(e.compileModuleAsync(i))),Je(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(_2,[],{optional:!0,self:!0}).flat()),{routes:s.map(ND),injector:o}}))}function Ihe(n){return n&&typeof n=="object"&&"default"in n}function bH(n){return Ihe(n)?n.default:n}function xH(n){return Ye(n)}var Pb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(Ahe),providedIn:"root"})}return n})(),Ahe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CH=new pe("");var EH=new pe(""),MH=(()=>{class n{currentNavigation=Me(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Te;transitionAbortWithErrorSubject=new Te;configLoader=C(yH);environmentInjector=C(Nn);destroyRef=C(Gn);urlSerializer=C(g2);rootContexts=C(hg);location=C(Ro);inputBindingEnabled=C(Db,{optional:!0})!==null;titleStrategy=C(LD);options=C(w2,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Pb);createViewTransition=C(CH,{optional:!0});navigationErrorHandler=C(EH,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ye(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new _b(i)),r=i=>this.events.next(new yb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Dt(()=>{this.transitions?.next(Se(X({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Xn(null),this.transitions.pipe(Qt(r=>r!==null),xr(r=>{let i=!1;return Ye(r).pipe(xr(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",po.SupersededByNewNavigation),ci;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Se(X({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new rc(o.id,this.urlSerializer.serialize(o.rawUrl),"",s2.IgnoredSameUrlNavigation)),o.resolve(!1),ci;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Ye(o).pipe(xr(l=>(this.events.next(new Bh(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ci:Promise.resolve(l))),xhe(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Pr(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let d=new a2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:d,source:h,restoredState:f,extras:m}=o,v=new Bh(l,this.urlSerializer.serialize(d),h,f);this.events.next(v);let _=aH(this.rootComponentType).snapshot;return this.currentTransition=r=Se(X({},o),{targetSnapshot:_,urlAfterRedirects:d,extras:Se(X({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(b=>(b.finalUrl=d,b)),Ye(r)}else return this.events.next(new rc(o.id,this.urlSerializer.serialize(o.extractedUrl),"",s2.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ci}),Pr(o=>{let s=new gb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Je(o=>(this.currentTransition=r=Se(X({},o),{guards:Uue(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Jue(this.environmentInjector,o=>this.events.next(o)),Pr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ib(this.urlSerializer,o.guardsResult);let s=new mb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Qt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",po.GuardRejected),!1)),wD(o=>{if(o.guards.canActivateChecks.length!==0)return Ye(o).pipe(Pr(s=>{let a=new vb(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xr(s=>{let a=!1;return Ye(s).pipe(Che(this.paramsInheritanceStrategy,this.environmentInjector),Pr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",po.NoDataFromResolver)}}))}),Pr(s=>{let a=new wb(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),wD(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let d=ug(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,a.routeConfig).pipe(Pr(h=>{a.component=h}),Je(()=>{})))}for(let d of a.children)l.push(...s(d));return l};return by(s(o.targetSnapshot.root)).pipe(kd(null),br(1))}),wD(()=>this.afterPreactivation()),xr(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Tn(a).pipe(Je(()=>r)):Ye(r)}),Je(o=>{let s=Fue(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Se(X({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Pr(()=>{this.events.next(new l2)}),Hue(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),br(1),Ue(new Ze(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Qt(()=>!i&&!r.targetRouterState),Pr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",po.Aborted)}))),Pr({next:o=>{i=!0,this.lastSuccessfulNavigation=Dt(this.currentNavigation),this.events.next(new ra(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ue(this.transitionAbortWithErrorSubject.pipe(Pr(o=>{throw o}))),lh(()=>{i||this.cancelNavigationTransition(r,"",po.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),oo(o=>{if(this.destroyed)return r.resolve(!1),ci;if(i=!0,pH(o))this.events.next(new La(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),jue(o)?this.events.next(new lg(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ag(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof cg){let{message:l,cancellationCode:d}=Ib(this.urlSerializer,a);this.events.next(new La(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new lg(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ci}))}))}cancelNavigationTransition(t,r,i){let o=new La(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Dt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function The(n){return n!==r2}var SH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(Dhe),providedIn:"root"})}return n})(),Tb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Dhe=(()=>{class n extends Tb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IH=(()=>{class n{urlSerializer=C(g2);options=C(w2,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Ro);urlHandlingStrategy=C(Pb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fa;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fa?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=aH(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:()=>C(Rhe),providedIn:"root"})}return n})(),Rhe=(()=>{class n extends IH{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Bh?this.updateStateMemento():t instanceof rc?this.commitTransition(r):t instanceof a2?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof l2?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof La&&t.code!==po.SupersededByNewNavigation&&t.code!==po.Redirect?this.restoreHistory(r):t instanceof ag?this.restoreHistory(r,!0):t instanceof ra&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=X(X({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=X(X({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FD(n,e){n.events.pipe(Qt(t=>t instanceof ra||t instanceof La||t instanceof ag||t instanceof rc),Je(t=>t instanceof ra||t instanceof rc?0:(t instanceof La?t.code===po.Redirect||t.code===po.SupersededByNewNavigation:!1)?2:1),Qt(t=>t!==2),br(1)).subscribe(()=>{e()})}var Phe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ohe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Uk);stateManager=C(IH);options=C(w2,{optional:!0})||{};pendingTasks=C(Da);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(MH);urlSerializer=C(g2);location=C(Ro);urlHandlingStrategy=C(Pb);injector=C(Nn);_events=new Te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(SH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(_2,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Db,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new un;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Dt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof La&&r.code!==po.Redirect&&r.code!==po.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ra)this.navigated=!0;else if(r instanceof lg){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=X({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||The(i.source)},s);this.scheduleNavigation(a,r2,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Pue(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),r2,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=X({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(co)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Dt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ND),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=X(X({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=rH(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return iH(f,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=sg(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,r2,null,r)}navigate(t,r={skipLocationChange:!1}){return Nhe(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=X({},Phe):r===!1?i=X({},Ohe):i=r,sg(t))return Bj(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Bj(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((f,m)=>{a=f,l=m});let h=this.pendingTasks.add();return FD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nhe(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ee(4008,!1)}var Fhe=new pe("");function BD(n,...e){return di([{provide:_2,multi:!0,useValue:n},[],{provide:Oo,useFactory:Bhe,deps:[Lr]},{provide:Wk,multi:!0,useFactory:Vhe},e.map(t=>t.\u0275providers)])}function Bhe(n){return n.routerState.root}function Vhe(){let n=C(Le);return e=>{let t=n.get(Ao);if(e!==t.components[0])return;let r=n.get(Lr),i=n.get(jhe);n.get(Hhe)===1&&r.initialNavigation(),n.get(Uhe,null,{optional:!0})?.setUpPreloading(),n.get(Fhe,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jhe=new pe("",{factory:()=>new Te}),Hhe=new pe("",{providedIn:"root",factory:()=>1});var Uhe=new pe("");function AH(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=AH(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ob(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=AH(n))&&(r&&(r+=" "),r+=e);return r}var $he=n=>{let e=Ghe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{let a=s.split("-");return a[0]===""&&a.length!==1&&a.shift(),OH(a,e)||Whe(s)},getConflictingClassGroupIds:(s,a)=>{let l=t[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},OH=(n,e)=>{if(n.length===0)return e.classGroupId;let t=n[0],r=e.nextPart.get(t),i=r?OH(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;let o=n.join("-");return e.validators.find(({validator:s})=>s(o))?.classGroupId},TH=/^\[(.+)\]$/,Whe=n=>{if(TH.test(n)){let e=TH.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Ghe=n=>{let{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(let i in t)HD(t[i],r,i,e);return r},HD=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){let o=i===""?e:DH(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(qhe(i)){HD(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,s])=>{HD(s,DH(e,o),t,r)})})},DH=(n,e)=>{let t=n;return e.split("-").forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},qhe=n=>n.isThemeGetter,Khe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map,i=(o,s)=>{t.set(o,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let s=t.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){t.has(o)?t.set(o,s):i(o,s)}}};var Yhe=n=>{let{prefix:e,experimentalParseClassName:t}=n,r=i=>{let o=[],s=0,a=0,l=0,d;for(let _=0;_<i.length;_++){let b=i[_];if(s===0&&a===0){if(b===":"){o.push(i.slice(l,_)),l=_+1;continue}if(b==="/"){d=_;continue}}b==="["?s++:b==="]"?s--:b==="("?a++:b===")"&&a--}let h=o.length===0?i:i.substring(l),f=Xhe(h),m=f!==h,v=d&&d>l?d-l:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:v}};if(e){let i=e+":",o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){let i=r;r=o=>t({className:o,parseClassName:i})}return r},Xhe=n=>n.endsWith("!")?n.substring(0,n.length-1):n.startsWith("!")?n.substring(1):n,Zhe=n=>{let e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;let i=[],o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},Qhe=n=>X({cache:Khe(n.cacheSize),parseClassName:Yhe(n),sortModifiers:Zhe(n)},$he(n)),Jhe=/\s+/,epe=(n,e)=>{let{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=n.trim().split(Jhe),l="";for(let d=a.length-1;d>=0;d-=1){let h=a[d],{isExternal:f,modifiers:m,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:b}=t(h);if(f){l=h+(l.length>0?" "+l:l);continue}let T=!!b,M=r(T?_.substring(0,b):_);if(!M){if(!T){l=h+(l.length>0?" "+l:l);continue}if(M=r(_),!M){l=h+(l.length>0?" "+l:l);continue}T=!1}let B=o(m).join(":"),j=v?B+"!":B,H=j+M;if(s.includes(H))continue;s.push(H);let q=i(M,T);for(let Y=0;Y<q.length;++Y){let F=q[Y];s.push(j+F)}l=h+(l.length>0?" "+l:l)}return l};function tpe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=NH(e))&&(r&&(r+=" "),r+=t);return r}var NH=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=NH(n[r]))&&(t&&(t+=" "),t+=e);return t};function npe(n,...e){let t,r,i,o=s;function s(l){let d=e.reduce((h,f)=>f(h),n());return t=Qhe(d),r=t.cache.get,i=t.cache.set,o=a,a(l)}function a(l){let d=r(l);if(d)return d;let h=epe(l,t);return i(l,h),h}return function(){return o(tpe.apply(null,arguments))}}var ri=n=>{let e=t=>t[n]||[];return e.isThemeGetter=!0,e},LH=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FH=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rpe=/^\d+\/\d+$/,ipe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ope=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,spe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ape=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fg=n=>rpe.test(n),Ut=n=>!!n&&!Number.isNaN(Number(n)),Vd=n=>!!n&&Number.isInteger(Number(n)),VD=n=>n.endsWith("%")&&Ut(n.slice(0,-1)),oc=n=>ipe.test(n),cpe=()=>!0,dpe=n=>ope.test(n)&&!spe.test(n),BH=()=>!1,upe=n=>ape.test(n),hpe=n=>lpe.test(n),ppe=n=>!Be(n)&&!Ve(n),fpe=n=>gg(n,HH,BH),Be=n=>LH.test(n),Vh=n=>gg(n,UH,dpe),jD=n=>gg(n,_pe,Ut),RH=n=>gg(n,VH,BH),gpe=n=>gg(n,jH,hpe),Nb=n=>gg(n,zH,upe),Ve=n=>FH.test(n),k2=n=>mg(n,UH),mpe=n=>mg(n,ype),PH=n=>mg(n,VH),vpe=n=>mg(n,HH),wpe=n=>mg(n,jH),Lb=n=>mg(n,zH,!0),gg=(n,e,t)=>{let r=LH.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},mg=(n,e,t=!1)=>{let r=FH.exec(n);return r?r[1]?e(r[1]):t:!1},VH=n=>n==="position"||n==="percentage",jH=n=>n==="image"||n==="url",HH=n=>n==="length"||n==="size"||n==="bg-size",UH=n=>n==="length",_pe=n=>n==="number",ype=n=>n==="family-name",zH=n=>n==="shadow";var kpe=()=>{let n=ri("color"),e=ri("font"),t=ri("text"),r=ri("font-weight"),i=ri("tracking"),o=ri("leading"),s=ri("breakpoint"),a=ri("container"),l=ri("spacing"),d=ri("radius"),h=ri("shadow"),f=ri("inset-shadow"),m=ri("text-shadow"),v=ri("drop-shadow"),_=ri("blur"),b=ri("perspective"),T=ri("aspect"),M=ri("ease"),B=ri("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...H(),Ve,Be],Y=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],A=()=>[Ve,Be,l],S=()=>[fg,"full","auto",...A()],L=()=>[Vd,"none","subgrid",Ve,Be],U=()=>["auto",{span:["full",Vd,Ve,Be]},Vd,Ve,Be],K=()=>[Vd,"auto",Ve,Be],z=()=>["auto","min","max","fr",Ve,Be],rt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ht=()=>["start","end","center","stretch","center-safe","end-safe"],Mt=()=>["auto",...A()],De=()=>[fg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ye=()=>[n,Ve,Be],Vn=()=>[...H(),PH,RH,{position:[Ve,Be]}],Qi=()=>["no-repeat",{repeat:["","x","y","space","round"]}],zr=()=>["auto","cover","contain",vpe,fpe,{size:[Ve,Be]}],an=()=>[VD,k2,Vh],ze=()=>["","none","full",d,Ve,Be],Pn=()=>["",Ut,k2,Vh],ai=()=>["solid","dashed","dotted","double"],rr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Qe=()=>[Ut,VD,PH,RH],Ni=()=>["","none",_,Ve,Be],Ji=()=>["none",Ut,Ve,Be],Li=()=>["none",Ut,Ve,Be],Rs=()=>[Ut,Ve,Be],Dr=()=>[fg,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oc],breakpoint:[oc],color:[cpe],container:[oc],"drop-shadow":[oc],ease:["in","out","in-out"],font:[ppe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oc],shadow:[oc],spacing:["px",Ut],text:[oc],"text-shadow":[oc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fg,Be,Ve,T]}],container:["container"],columns:[{columns:[Ut,Be,Ve,a]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[Vd,"auto",Ve,Be]}],basis:[{basis:[fg,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,fg,"auto","initial","none",Be]}],grow:[{grow:["",Ut,Ve,Be]}],shrink:[{shrink:["",Ut,Ve,Be]}],order:[{order:[Vd,"first","last","none",Ve,Be]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...rt(),"normal"]}],"justify-items":[{"justify-items":[...ht(),"normal"]}],"justify-self":[{"justify-self":["auto",...ht()]}],"align-content":[{content:["normal",...rt()]}],"align-items":[{items:[...ht(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ht(),{baseline:["","last"]}]}],"place-content":[{"place-content":rt()}],"place-items":[{"place-items":[...ht(),"baseline"]}],"place-self":[{"place-self":["auto",...ht()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Mt()}],mx:[{mx:Mt()}],my:[{my:Mt()}],ms:[{ms:Mt()}],me:[{me:Mt()}],mt:[{mt:Mt()}],mr:[{mr:Mt()}],mb:[{mb:Mt()}],ml:[{ml:Mt()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:De()}],w:[{w:[a,"screen",...De()]}],"min-w":[{"min-w":[a,"screen","none",...De()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...De()]}],h:[{h:["screen","lh",...De()]}],"min-h":[{"min-h":["screen","lh","none",...De()]}],"max-h":[{"max-h":["screen","lh",...De()]}],"font-size":[{text:["base",t,k2,Vh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ve,jD]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",VD,Be]}],"font-family":[{font:[mpe,Be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ve,Be]}],"line-clamp":[{"line-clamp":[Ut,"none",Ve,jD]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ve,Be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,Be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ye()}],"text-color":[{text:ye()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ai(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",Ve,Vh]}],"text-decoration-color":[{decoration:ye()}],"underline-offset":[{"underline-offset":[Ut,"auto",Ve,Be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Vn()}],"bg-repeat":[{bg:Qi()}],"bg-size":[{bg:zr()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vd,Ve,Be],radial:["",Ve,Be],conic:[Vd,Ve,Be]},wpe,gpe]}],"bg-color":[{bg:ye()}],"gradient-from-pos":[{from:an()}],"gradient-via-pos":[{via:an()}],"gradient-to-pos":[{to:an()}],"gradient-from":[{from:ye()}],"gradient-via":[{via:ye()}],"gradient-to":[{to:ye()}],rounded:[{rounded:ze()}],"rounded-s":[{"rounded-s":ze()}],"rounded-e":[{"rounded-e":ze()}],"rounded-t":[{"rounded-t":ze()}],"rounded-r":[{"rounded-r":ze()}],"rounded-b":[{"rounded-b":ze()}],"rounded-l":[{"rounded-l":ze()}],"rounded-ss":[{"rounded-ss":ze()}],"rounded-se":[{"rounded-se":ze()}],"rounded-ee":[{"rounded-ee":ze()}],"rounded-es":[{"rounded-es":ze()}],"rounded-tl":[{"rounded-tl":ze()}],"rounded-tr":[{"rounded-tr":ze()}],"rounded-br":[{"rounded-br":ze()}],"rounded-bl":[{"rounded-bl":ze()}],"border-w":[{border:Pn()}],"border-w-x":[{"border-x":Pn()}],"border-w-y":[{"border-y":Pn()}],"border-w-s":[{"border-s":Pn()}],"border-w-e":[{"border-e":Pn()}],"border-w-t":[{"border-t":Pn()}],"border-w-r":[{"border-r":Pn()}],"border-w-b":[{"border-b":Pn()}],"border-w-l":[{"border-l":Pn()}],"divide-x":[{"divide-x":Pn()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Pn()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ai(),"hidden","none"]}],"divide-style":[{divide:[...ai(),"hidden","none"]}],"border-color":[{border:ye()}],"border-color-x":[{"border-x":ye()}],"border-color-y":[{"border-y":ye()}],"border-color-s":[{"border-s":ye()}],"border-color-e":[{"border-e":ye()}],"border-color-t":[{"border-t":ye()}],"border-color-r":[{"border-r":ye()}],"border-color-b":[{"border-b":ye()}],"border-color-l":[{"border-l":ye()}],"divide-color":[{divide:ye()}],"outline-style":[{outline:[...ai(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,Ve,Be]}],"outline-w":[{outline:["",Ut,k2,Vh]}],"outline-color":[{outline:ye()}],shadow:[{shadow:["","none",h,Lb,Nb]}],"shadow-color":[{shadow:ye()}],"inset-shadow":[{"inset-shadow":["none",f,Lb,Nb]}],"inset-shadow-color":[{"inset-shadow":ye()}],"ring-w":[{ring:Pn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ye()}],"ring-offset-w":[{"ring-offset":[Ut,Vh]}],"ring-offset-color":[{"ring-offset":ye()}],"inset-ring-w":[{"inset-ring":Pn()}],"inset-ring-color":[{"inset-ring":ye()}],"text-shadow":[{"text-shadow":["none",m,Lb,Nb]}],"text-shadow-color":[{"text-shadow":ye()}],opacity:[{opacity:[Ut,Ve,Be]}],"mix-blend":[{"mix-blend":[...rr(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":rr()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":Qe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Qe()}],"mask-image-linear-from-color":[{"mask-linear-from":ye()}],"mask-image-linear-to-color":[{"mask-linear-to":ye()}],"mask-image-t-from-pos":[{"mask-t-from":Qe()}],"mask-image-t-to-pos":[{"mask-t-to":Qe()}],"mask-image-t-from-color":[{"mask-t-from":ye()}],"mask-image-t-to-color":[{"mask-t-to":ye()}],"mask-image-r-from-pos":[{"mask-r-from":Qe()}],"mask-image-r-to-pos":[{"mask-r-to":Qe()}],"mask-image-r-from-color":[{"mask-r-from":ye()}],"mask-image-r-to-color":[{"mask-r-to":ye()}],"mask-image-b-from-pos":[{"mask-b-from":Qe()}],"mask-image-b-to-pos":[{"mask-b-to":Qe()}],"mask-image-b-from-color":[{"mask-b-from":ye()}],"mask-image-b-to-color":[{"mask-b-to":ye()}],"mask-image-l-from-pos":[{"mask-l-from":Qe()}],"mask-image-l-to-pos":[{"mask-l-to":Qe()}],"mask-image-l-from-color":[{"mask-l-from":ye()}],"mask-image-l-to-color":[{"mask-l-to":ye()}],"mask-image-x-from-pos":[{"mask-x-from":Qe()}],"mask-image-x-to-pos":[{"mask-x-to":Qe()}],"mask-image-x-from-color":[{"mask-x-from":ye()}],"mask-image-x-to-color":[{"mask-x-to":ye()}],"mask-image-y-from-pos":[{"mask-y-from":Qe()}],"mask-image-y-to-pos":[{"mask-y-to":Qe()}],"mask-image-y-from-color":[{"mask-y-from":ye()}],"mask-image-y-to-color":[{"mask-y-to":ye()}],"mask-image-radial":[{"mask-radial":[Ve,Be]}],"mask-image-radial-from-pos":[{"mask-radial-from":Qe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Qe()}],"mask-image-radial-from-color":[{"mask-radial-from":ye()}],"mask-image-radial-to-color":[{"mask-radial-to":ye()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":Qe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Qe()}],"mask-image-conic-from-color":[{"mask-conic-from":ye()}],"mask-image-conic-to-color":[{"mask-conic-to":ye()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Vn()}],"mask-repeat":[{mask:Qi()}],"mask-size":[{mask:zr()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,Be]}],filter:[{filter:["","none",Ve,Be]}],blur:[{blur:Ni()}],brightness:[{brightness:[Ut,Ve,Be]}],contrast:[{contrast:[Ut,Ve,Be]}],"drop-shadow":[{"drop-shadow":["","none",v,Lb,Nb]}],"drop-shadow-color":[{"drop-shadow":ye()}],grayscale:[{grayscale:["",Ut,Ve,Be]}],"hue-rotate":[{"hue-rotate":[Ut,Ve,Be]}],invert:[{invert:["",Ut,Ve,Be]}],saturate:[{saturate:[Ut,Ve,Be]}],sepia:[{sepia:["",Ut,Ve,Be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,Be]}],"backdrop-blur":[{"backdrop-blur":Ni()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,Ve,Be]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,Ve,Be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,Ve,Be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,Ve,Be]}],"backdrop-invert":[{"backdrop-invert":["",Ut,Ve,Be]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,Ve,Be]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,Ve,Be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,Ve,Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,Be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",Ve,Be]}],ease:[{ease:["linear","initial",M,Ve,Be]}],delay:[{delay:[Ut,Ve,Be]}],animate:[{animate:["none",B,Ve,Be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ve,Be]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:Ji()}],"rotate-x":[{"rotate-x":Ji()}],"rotate-y":[{"rotate-y":Ji()}],"rotate-z":[{"rotate-z":Ji()}],scale:[{scale:Li()}],"scale-x":[{"scale-x":Li()}],"scale-y":[{"scale-y":Li()}],"scale-z":[{"scale-z":Li()}],"scale-3d":["scale-3d"],skew:[{skew:Rs()}],"skew-x":[{"skew-x":Rs()}],"skew-y":[{"skew-y":Rs()}],transform:[{transform:[Ve,Be,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dr()}],"translate-x":[{"translate-x":Dr()}],"translate-y":[{"translate-y":Dr()}],"translate-z":[{"translate-z":Dr()}],"translate-none":["translate-none"],accent:[{accent:ye()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ye()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,Be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,Be]}],fill:[{fill:["none",...ye()]}],"stroke-w":[{stroke:[Ut,k2,Vh,jD]}],stroke:[{stroke:["none",...ye()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var $H=npe(kpe);function Fb(n){let e=new pe(n);return[(o={})=>C(e,o),o=>({provide:e,useValue:o}),o=>({provide:e,useExisting:$n(o)}),e]}var[WH,GHe,GH,qHe]=Fb("@spartan-ng SET_CLASS_TO_CUSTOM_ELEMENT_TOKEN"),qH=!1,[KH,KHe,YH,YHe]=Fb("@spartan-ng EXPOSES_SIDE_TOKEN"),[XH,XHe,UD,ZHe]=Fb("@spartan-ng EXPOSES_STATE_TOKEN");function be(...n){return $H(Ob(n))}var[QHe,JHe,eUe,tUe]=Fb("@spartan-ng SET_TABLE_CLASSES_TOKEN");var ZH=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,QH=Ob,Ba=(n,e)=>t=>{var r;if(e?.variants==null)return QH(n,t?.class,t?.className);let{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(d=>{let h=t?.[d],f=o?.[d];if(h===null)return null;let m=ZH(h)||ZH(f);return i[d][m]}),a=t&&Object.entries(t).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let _=h,{class:f,className:m}=_,v=Xu(_,["class","className"]);return Object.entries(v).every(b=>{let[T,M]=b;return Array.isArray(M)?M.includes(X(X({},o),a)[T]):X(X({},o),a)[T]===M})?[...d,f,m]:d},[]);return QH(n,s,l,t?.class,t?.className)};var bpe={variant:"default",size:"default"},xpe=new pe("BrnButtonConfig");function JH(){return C(xpe,{optional:!0})??bpe}var zD=Ba("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_ng-icon]:pointer-events-none shrink-0 [&_ng-icon]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-default",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>ng-icon]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>ng-icon]:px-2.5",lg:"h-10 rounded-md px-6 has-[>ng-icon]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),bn=class n{_config=JH();_additionalClasses=Me("");userClass=W("",{alias:"class"});_computedClass=ee(()=>be(zD({variant:this.variant(),size:this.size()}),this.userClass(),this._additionalClasses()));variant=W(this._config.variant);size=W(this._config.size);setClass(e){this._additionalClasses.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmBtn",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"],variant:[1,"variant"],size:[1,"size"]},exportAs:["hlmBtn"]})};var Jo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("block text-destructive text-sm font-medium",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["hlm-error"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var jh=(()=>{class n{ngControl=null;errorState=Me(!1);static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n})}return n})();var Cpe=["*",[["hlm-error"]],[["hlm-hint"]]],Epe=["*","hlm-error","hlm-hint"];function Mpe(n,e){n&1&&Xe(0,1)}function Spe(n,e){n&1&&Xe(0,2)}var Va=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("space-y-2 block",this.userClass()));control=ea(jh);errorChildren=ta(Jo);_hasDisplayedMessage=ee(()=>this.errorChildren()&&this.errorChildren().length>0&&this.control()?.errorState()?"error":"hint");constructor(){xt(()=>{if(!this.control())throw new Error("hlm-form-field must contain a BrnFormFieldControl.")})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-form-field"]],contentQueries:function(t,r,i){t&1&&(Er(i,r.control,jh,5),Er(i,r.errorChildren,Jo,4)),t&2&&qn(2)},hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:Epe,decls:3,vars:1,template:function(t,r){if(t&1&&(Ft(Cpe),Xe(0),ne(1,Mpe,1,0)(2,Spe,1,0)),t&2){let i;P(),re((i=r._hasDisplayedMessage())==="error"?1:2)}},encapsulation:2,changeDetection:0})};var ja=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})};var aU=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Re(pi),Re(at))};static \u0275dir=he({type:n})}return n})(),lU=(()=>{class n extends aU{static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275dir=he({type:n,features:[ft]})}return n})(),Hh=new pe("");var Ipe={provide:Hh,useExisting:$n(()=>Ua),multi:!0};function Ape(){let n=Cs()?Cs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Tpe=new pe(""),Ua=(()=>{class n extends aU{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Ape())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Re(pi),Re(at),Re(Tpe,8))};static \u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ne([Ipe]),ft]})}return n})();function KD(n){return n==null||YD(n)===0}function YD(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var S2=new pe(""),I2=new pe(""),Dpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,je=class{static min(e){return Rpe(e)}static max(e){return Ppe(e)}static required(e){return Ope(e)}static requiredTrue(e){return Npe(e)}static email(e){return Lpe(e)}static minLength(e){return Fpe(e)}static maxLength(e){return Bpe(e)}static pattern(e){return Vpe(e)}static nullValidator(e){return cU()}static compose(e){return gU(e)}static composeAsync(e){return mU(e)}};function Rpe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Ppe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Ope(n){return KD(n.value)?{required:!0}:null}function Npe(n){return n.value===!0?null:{required:!0}}function Lpe(n){return KD(n.value)||Dpe.test(n.value)?null:{email:!0}}function Fpe(n){return e=>{let t=e.value?.length??YD(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Bpe(n){return e=>{let t=e.value?.length??YD(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Vpe(n){if(!n)return cU;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(KD(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function cU(n){return null}function dU(n){return n!=null}function uU(n){return Ql(n)?Tn(n):n}function hU(n){let e={};return n.forEach(t=>{e=t!=null?X(X({},e),t):e}),Object.keys(e).length===0?null:e}function pU(n,e){return e.map(t=>t(n))}function jpe(n){return!n.validate}function fU(n){return n.map(e=>jpe(e)?e:t=>e.validate(t))}function gU(n){if(!n)return null;let e=n.filter(dU);return e.length==0?null:function(t){return hU(pU(t,e))}}function XD(n){return n!=null?gU(fU(n)):null}function mU(n){if(!n)return null;let e=n.filter(dU);return e.length==0?null:function(t){let r=pU(t,e).map(uU);return zS(r).pipe(Je(hU))}}function ZD(n){return n!=null?mU(fU(n)):null}function eU(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vU(n){return n._rawValidators}function wU(n){return n._rawAsyncValidators}function $D(n){return n?Array.isArray(n)?n:[n]:[]}function Hb(n,e){return Array.isArray(n)?n.includes(e):n===e}function tU(n,e){let t=$D(e);return $D(n).forEach(i=>{Hb(t,i)||t.push(i)}),t}function nU(n,e){return $D(e).filter(t=>!Hb(n,t))}var Ub=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},No=class extends Ub{name;get formDirective(){return null}get path(){return null}},Es=class extends Ub{_parent=null;name=null;valueAccessor=null},zb=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Hpe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZUe=Se(X({},Hpe),{"[class.ng-submitted]":"isSubmitted"}),Hd=(()=>{class n extends zb{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Re(Es,2))};static \u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ft]})}return n})(),Ud=(()=>{class n extends zb{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Re(No,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&sr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ft]})}return n})();var b2="VALID",jb="INVALID",vg="PENDING",x2="DISABLED",jd=class{},$b=class extends jd{value;source;constructor(e,t){super(),this.value=e,this.source=t}},E2=class extends jd{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},M2=class extends jd{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},wg=class extends jd{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Wb=class extends jd{source;constructor(e){super(),this.source=e}},Gb=class extends jd{source;constructor(e){super(),this.source=e}};function QD(n){return(Yb(n)?n.validators:n)||null}function Upe(n){return Array.isArray(n)?XD(n):n||null}function JD(n,e){return(Yb(e)?e.asyncValidators:n)||null}function zpe(n){return Array.isArray(n)?ZD(n):n||null}function Yb(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _U(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ee(1e3,"");if(!r[t])throw new Ee(1001,"")}function yU(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ee(1002,"")})}var _g=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dt(this.statusReactive)}set status(e){Dt(()=>this.statusReactive.set(e))}_status=ee(()=>this.statusReactive());statusReactive=Me(void 0);get valid(){return this.status===b2}get invalid(){return this.status===jb}get pending(){return this.status==vg}get disabled(){return this.status===x2}get enabled(){return this.status!==x2}errors;get pristine(){return Dt(this.pristineReactive)}set pristine(e){Dt(()=>this.pristineReactive.set(e))}_pristine=ee(()=>this.pristineReactive());pristineReactive=Me(!0);get dirty(){return!this.pristine}get touched(){return Dt(this.touchedReactive)}set touched(e){Dt(()=>this.touchedReactive.set(e))}_touched=ee(()=>this.touchedReactive());touchedReactive=Me(!1);get untouched(){return!this.touched}_events=new Te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nU(e,this._rawAsyncValidators))}hasValidator(e){return Hb(this._rawValidators,e)}hasAsyncValidator(e){return Hb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Se(X({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new M2(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new M2(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Se(X({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new E2(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new E2(!0,r))}markAsPending(e={}){this.status=vg;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wg(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Se(X({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=x2,this.errors=null,this._forEachChild(i=>{i.disable(Se(X({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $b(this.value,r)),this._events.next(new wg(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(X({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=b2,this._forEachChild(r=>{r.enable(Se(X({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Se(X({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b2||this.status===vg)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $b(this.value,t)),this._events.next(new wg(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Se(X({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x2:b2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=vg,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=uU(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wg(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?x2:this.errors?jb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vg)?vg:this._anyControlsHaveStatus(jb)?jb:b2}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new E2(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new M2(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yb(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Upe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zpe(this._rawAsyncValidators)}},Ha=class extends _g{constructor(e,t,r){super(QD(t),JD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){yU(this,!0,e),Object.keys(e).forEach(r=>{_U(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var WD=class extends Ha{};var e3=new pe("",{providedIn:"root",factory:()=>t3}),t3="always";function n3(n,e){return[...e.path,n]}function GD(n,e,t=t3){r3(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Wpe(n,e),qpe(n,e),Gpe(n,e),$pe(n,e)}function rU(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $pe(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function r3(n,e){let t=vU(n);e.validator!==null?n.setValidators(eU(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wU(n);e.asyncValidator!==null?n.setAsyncValidators(eU(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();qb(e._rawValidators,i),qb(e._rawAsyncValidators,i)}function Kb(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=vU(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=wU(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return qb(e._rawValidators,r),qb(e._rawAsyncValidators,r),t}function Wpe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&kU(n,e)})}function Gpe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&kU(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function kU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qpe(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bU(n,e){n==null,r3(n,e)}function Kpe(n,e){return Kb(n,e)}function Ype(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Xpe(n){return Object.getPrototypeOf(n.constructor)===lU}function xU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Zpe(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ua?t=o:Xpe(o)?r=o:i=o}),i||r||t||null}function Qpe(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Jpe={provide:No,useExisting:$n(()=>Uh)},C2=Promise.resolve(),Uh=(()=>{class n extends No{callSetDisabledState;get submitted(){return Dt(this.submittedReactive)}_submitted=ee(()=>this.submittedReactive());submittedReactive=Me(!1);_directives=new Set;form;ngSubmit=new it;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ha({},XD(t),ZD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){C2.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),GD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){C2.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){C2.then(()=>{let r=this._findContainer(t.path),i=new Ha({});bU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){C2.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){C2.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),xU(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Wb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Gb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Re(S2,10),Re(I2,10),Re(e3,8))};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ne([Jpe]),ft]})}return n})();function iU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function oU(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ar=class extends _g{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(QD(t),JD(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(oU(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var efe=n=>n instanceof ar,tfe=(()=>{class n extends No{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return n3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275dir=he({type:n,standalone:!1,features:[ft]})}return n})();var zd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),nfe={provide:Hh,useExisting:$n(()=>i3),multi:!0},i3=(()=>{class n extends lU{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275dir=he({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ne([nfe]),ft]})}return n})();var CU=new pe("");var rfe={provide:No,useExisting:$n(()=>Lo)},Lo=(()=>{class n extends No{callSetDisabledState;get submitted(){return Dt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ee(()=>this._submittedReactive());_submittedReactive=Me(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new it;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return GD(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){rU(t.control||null,t,!1),Qpe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),xU(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Wb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Gb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(rU(r||null,t),efe(i)&&(GD(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);bU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Kpe(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){r3(this.form,this),this._oldForm&&Kb(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Re(S2,10),Re(I2,10),Re(e3,8))};static \u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ne([rfe]),ft,ei]})}return n})(),ife={provide:No,useExisting:$n(()=>Xb)},Xb=(()=>{class n extends tfe{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){EU(this._parent)}static \u0275fac=function(r){return new(r||n)(Re(No,13),Re(S2,10),Re(I2,10))};static \u0275dir=he({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ne([ife]),ft]})}return n})(),ofe={provide:No,useExisting:$n(()=>Zb)},Zb=(()=>{class n extends No{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){EU(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return n3(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(Re(No,13),Re(S2,10),Re(I2,10))};static \u0275dir=he({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ne([ofe]),ft]})}return n})();function EU(n){return!(n instanceof Xb)&&!(n instanceof Lo)&&!(n instanceof Zb)}var sfe={provide:Es,useExisting:$n(()=>sc)},sc=(()=>{class n extends Es{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new it;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Zpe(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Ype(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return n3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Re(No,13),Re(S2,10),Re(I2,10),Re(Hh,10),Re(CU,8))};static \u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ne([sfe]),ft,ei]})}return n})();var o3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})(),qD=class extends _g{constructor(e,t,r){super(QD(t),JD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){yU(this,!1,e),e.forEach((r,i)=>{_U(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function sU(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Qb=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return sU(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ha(i,o)}record(t,r=null){let i=this._reduceControls(t);return new WD(i,r)}control(t,r,i){let o={};return this.useNonNullable?(sU(r)?o=r:(o.validators=r,o.asyncValidators=i),new ar(t,Se(X({},o),{nonNullable:!0}))):new ar(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new qD(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof ar)return t;if(t instanceof _g)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var za=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CU,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:e3,useValue:t.callSetDisabledState??t3}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({imports:[o3]})}return n})();var ex=(()=>{class n{isInvalid(t,r){return!!(t&&t.invalid&&(t.touched||r instanceof Uh&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yg=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;errorState=Me(!1);matcher=null;constructor(e,t,r,i){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i}updateErrorState(){let e=this.errorState(),t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isInvalid(i,t)??!1;o!==e&&this.errorState.set(o)}};var afe=Ba("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:text-destructive/20 dark:[&.ng-invalid.ng-touched]:text-destructive/40 [&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:focus-visible:ring-destructive",true:"text-destructive/20 dark:text-destructive/40 border-destructive focus-visible:ring-destructive"}},defaultVariants:{error:"auto"}}),$a=class n{error=W("auto");_state=Nr(()=>({error:this.error()}));userClass=W("",{alias:"class"});_computedClass=ee(()=>be(afe({error:this._state().error}),this.userClass()));_injector=C(Le);ngControl=this._injector.get(Es,null);_errorStateTracker;_defaultErrorStateMatcher=C(ex);_parentForm=C(Uh,{optional:!0});_parentFormGroup=C(Lo,{optional:!0});errorState=ee(()=>this._errorStateTracker.errorState());constructor(){this._errorStateTracker=new yg(this._defaultErrorStateMatcher,this.ngControl,this._parentFormGroup,this._parentForm),xt(()=>{let e=this._errorStateTracker.errorState();Dt(()=>{if(this.ngControl){let t=e&&this.ngControl.invalid&&(this.ngControl.touched||this.ngControl.dirty);this._errorStateTracker.errorState.set(!!t),this.setError(t?!0:"auto")}})})}ngDoCheck(){this._errorStateTracker.updateErrorState()}setError(e){this._state.set({error:e})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmInput",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{error:[1,"error"],userClass:[1,"class","userClass"]},features:[Ne([{provide:jh,useExisting:$n(()=>n)}])]})};var bze=new pe("Ng Glyph Config");var xze=new pe("NgGlyphsToken");function lfe(n){return n==null?"":/^\d+$/.test(n)?`${n}px`:n}var cfe=new pe("Ng Icon Pre Processor"),dfe=new pe("Ng Icon Post Processor");function ufe(){return C(cfe,{optional:!0})??(n=>n)}function hfe(){return C(dfe,{optional:!0})??(()=>{})}var pfe=new pe("Ng Icon Logger"),s3=class{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}};function ffe(){return C(pfe,{optional:!0})??new s3}var gfe=new pe("Ng Icon Config");function mfe(){return C(gfe,{optional:!0})??{}}var vfe=new pe("Ng Icon Loader Token");var wfe=new pe("Ng Icon Cache Token");function _fe(){return C(vfe,{optional:!0})}function yfe(){return C(wfe,{optional:!0})}function Yt(n){return[{provide:a3,useFactory:(e=C(a3,{optional:!0,skipSelf:!0}))=>X(X({},e?.reduce((t,r)=>X(X({},t),r),{})),n),multi:!0}]}var a3=new pe("Icons Token");function kfe(){return C(a3,{optional:!0})??[]}function bfe(n){return typeof n=="string"?Promise.resolve(n):Cf(n)?n.toPromise():n}function xfe(n){return n.replace(/([^a-zA-Z0-9])+(.)?/g,(e,t,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}var Cfe=0,nn=(()=>{let e=class e{constructor(){this.config=mfe(),this.icons=kfe(),this.loader=_fe(),this.cache=yfe(),this.preProcessor=ufe(),this.postProcessor=hfe(),this.injector=C(Le),this.renderer=C(pi),this.platform=C(Qn),this.elementRef=C(at),this.uniqueId=Cfe++,this.logger=ffe(),this.name=W(),this.svg=W(),this.size=W(this.config.size,{transform:lfe}),this.strokeWidth=W(this.config.strokeWidth),this.color=W(this.config.color),xt(()=>this.updateIcon()),C(new z1("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return x(this,null,function*(){let r=this.name(),i=this.svg();if(i!==void 0){this.setSvg(i);return}if(r===void 0)return;let o=xfe(r);for(let s of[...this.icons].reverse())if(s[o]){this.setSvg(s[o]);return}if(this.loader){let s=yield this.requestIconFromLoader(r);if(s!==null){this.setSvg(s);return}}this.logger.warn(`No icon named ${r} was found. You may need to import it using the withIcons function.`)})}setSvg(r){if(pj(this.platform)){this.elementRef.nativeElement.innerHTML=r,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===r)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),r===""))return;let i=this.renderer.createElement("template");r=this.replaceIds(r),this.renderer.setProperty(i,"innerHTML",this.preProcessor(r)),this.svgElement=i.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(r){if(!r.includes("ID_PLACEHOLDER_"))return r;let i=/ID_PLACEHOLDER_(\d+)/g,o=new Map,s=new Set(r.match(i));if(s===null)return r;for(let a of s){let l=a.replace("ID_PLACEHOLDER_",""),d=`ng-icon-${this.uniqueId}-${o.size}`;o.set(l,d),r=r.replace(new RegExp(a,"g"),d)}return r}requestIconFromLoader(r){return new Promise(i=>{Dn(this.injector,()=>x(this,null,function*(){if(this.cache){let a=this.cache.get(r);if(typeof a=="string"){i(a);return}if(a instanceof Promise){let l=yield a;i(l);return}}let o=bfe(this.loader(r));this.cache?.set(r,o);let s=yield o;this.cache?.set(r,s),i(s)}))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(i,o){i&2&&To("--ng-icon__stroke-width",o.strokeWidth())("--ng-icon__size",o.size())("--ng-icon__color",o.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(i,o){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0});let n=e;return n})();var kg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>';var MU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg>';var SU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><path d="M7 16h8"></path><path d="M7 11h12"></path><path d="M7 6h3"></path></svg>';var tx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M20 6 9 17l-5-5"></path></svg>';var $d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m6 9 6 6 6-6"></path></svg>';var IU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m15 18-6-6 6-6"></path></svg>',AU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m9 18 6-6-6-6"></path></svg>',TU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m18 15-6-6-6 6"></path></svg>';var DU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M16 2v2"></path><path d="M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"></path><path d="M8 2v2"></path><circle cx="12" cy="11" r="3"></circle><rect x="3" y="4" width="18" height="18" rx="2"></rect></svg>';var nx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 15V3"></path><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><path d="m7 10 5 5 5-5"></path></svg>';var RU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg>';var bg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>';var PU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M3 15h6"></path><path d="M6 12v6"></path></svg>';var OU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>';var xg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>';var NU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M3 9h18"></path><path d="M3 15h18"></path><path d="M9 3v18"></path><path d="M15 3v18"></path></svg>';var LU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>';var Cg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg>';var rx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="7" height="7" x="3" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="14" rx="1"></rect><rect width="7" height="7" x="3" y="14" rx="1"></rect></svg>';var FU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',Eg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>';var BU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path><rect x="2" y="4" width="20" height="16" rx="2"></rect></svg>';var Mg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg>';var VU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>';var jU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path></svg>';var HU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path><path d="m15 5 4 4"></path></svg>';var UU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="5" height="5" x="3" y="3" rx="1"></rect><rect width="5" height="5" x="16" y="3" rx="1"></rect><rect width="5" height="5" x="3" y="16" rx="1"></rect><path d="M21 16h-3a2 2 0 0 0-2 2v3"></path><path d="M21 21v.01"></path><path d="M12 7v3a2 2 0 0 1-2 2H7"></path><path d="M3 12h.01"></path><path d="M12 3h.01"></path><path d="M12 16v.01"></path><path d="M16 12h1"></path><path d="M21 12v.01"></path><path d="M12 21v-1"></path></svg>';var zU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg>';var $U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>';var ix='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>';var Sg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>';var WU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"></path><rect x="2" y="6" width="14" height="12" rx="2"></rect></svg>';var GU='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',Ig='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></svg>';function qU(n){return n.buttons===0||n.detail===0}function KU(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var l3;function Efe(){if(l3==null){let n=typeof document<"u"?document.head:null;l3=!!(n&&(n.createShadowRoot||n.attachShadow))}return l3}function YU(n){if(Efe()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ox(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Wa(n){return n.composedPath?n.composedPath()[0]:n.target}var c3;try{c3=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c3=!1}var Mr=(()=>{class n{_platformId=C(Qn);isBrowser=this._platformId?Wi(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||c3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var A2;function XU(){if(A2==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A2=!0}))}finally{A2=A2||!1}return A2}function zh(n){return XU()?n:!!n.capture}function Ag(n,e=0){return ZU(n)?Number(n):arguments.length===2?e:0}function ZU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ac(n){return n instanceof at?n.nativeElement:n}var QU=new pe("cdk-input-modality-detector-options"),JU={ignoreKeys:[18,17,224,91,16]},ez=650,d3={passive:!0,capture:!0},tz=(()=>{class n{_platform=C(Mr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Xn(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wa(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<ez||(this._modality.next(qU(t)?"keyboard":"mouse"),this._mostRecentTarget=Wa(t))};_onTouchstart=t=>{if(KU(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wa(t)};constructor(){let t=C(Fe),r=C(vt),i=C(QU,{optional:!0});if(this._options=X(X({},JU),i),this.modalityDetected=this._modality.pipe(Qm(1)),this.modalityChanged=this.modalityDetected.pipe(Sy()),this._platform.isBrowser){let o=C(hi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,d3),o.listen(r,"mousedown",this._onMousedown,d3),o.listen(r,"touchstart",this._onTouchstart,d3)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T2=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(T2||{}),nz=new pe("cdk-focus-monitor-default-options"),sx=zh({passive:!0,capture:!0}),lc=(()=>{class n{_ngZone=C(Fe);_platform=C(Mr);_inputModalityDetector=C(tz);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=C(vt);_stopInputModalityDetector=new Te;constructor(){let t=C(nz,{optional:!0});this._detectionMode=t?.detectionMode||T2.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Wa(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=ac(t);if(!this._platform.isBrowser||i.nodeType!==1)return Ye();let o=YU(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new Te,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=ac(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=ac(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===T2.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===T2.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?ez:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Wa(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,sx),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,sx)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ue(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sx),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sx),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ax=new WeakMap,$h=(()=>{class n{_appRef;_injector=C(Le);_environmentInjector=C(Nn);load(t){let r=this._appRef=this._appRef||this._injector.get(Ao),i=ax.get(r);i||(i={loaders:new Set,refs:[]},ax.set(r,i),r.onDestroy(()=>{ax.get(r)?.refs.forEach(o=>o.destroy()),ax.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Zk(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function u3(n){return Array.isArray(n)?n:[n]}function Mfe(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let e=0;e<n.addedNodes.length;e++)if(!(n.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<n.removedNodes.length;e++)if(!(n.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var Sfe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ife=(()=>{class n{_mutationObserverFactory=C(Sfe);_observedElements=new Map;_ngZone=C(Fe);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){let r=ac(t);return new Ze(i=>{let s=this._observeElement(r).pipe(Je(a=>a.filter(l=>!Mfe(l))),Qt(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let r=new Te,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rz=(()=>{class n{_contentObserver=C(Ife);_elementRef=C(at);event=new it;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=Ag(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(Vl(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",gt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})();var p3=(()=>{class n{_platform=C(Mr);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Tfe(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=Afe(Bfe(t));if(r&&(iz(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=iz(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Lfe(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return Ffe(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Afe(n){try{return n.frameElement}catch{return null}}function Tfe(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function Dfe(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Rfe(n){return Ofe(n)&&n.type=="hidden"}function Pfe(n){return Nfe(n)&&n.hasAttribute("href")}function Ofe(n){return n.nodeName.toLowerCase()=="input"}function Nfe(n){return n.nodeName.toLowerCase()=="a"}function oz(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function iz(n){if(!oz(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Lfe(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function Ffe(n){return Rfe(n)?!1:Dfe(n)||Pfe(n)||n.hasAttribute("contenteditable")||oz(n)}function Bfe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var h3=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?xi(e,{injector:this._injector}):setTimeout(e)}},sz=(()=>{class n{_checker=C(p3);_ngZone=C(Fe);_document=C(vt);_injector=C(Le);constructor(){C($h).load(lx)}create(t,r=!1){return new h3(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f3={},cx=(()=>{class n{_appId=C(Dd);getId(t){return this._appId!=="ng"&&(t+=this._appId),f3.hasOwnProperty(t)||(f3[t]=0),`${t}${f3[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vfe=200,dx=class{_letterKeyStream=new Te;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Te;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:Vfe;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Pr(t=>this._pressedLetters.push(t)),Vl(e),Qt(()=>this._pressedLetters.length>0),Je(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Ga(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ux=class{_items;_activeItemIndex=Me(-1);_activeItem=Me(null);_wrap=!1;_typeaheadSubscription=un.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Sh?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):m1(e)&&(this._effectRef=xt(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Te;change=new Te;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new dx(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Ga(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return m1(this._items)?this._items():this._items instanceof Sh?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var qa=class extends ux{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var lz=" ";function jfe(n,e,t){let r=px(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(lz)))}function Hfe(n,e,t){let r=px(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(lz)):n.removeAttribute(e)}function px(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var cz="cdk-describedby-message",hx="cdk-describedby-host",m3=0,dz=(()=>{class n{_platform=C(Mr);_document=C(vt);_messageRegistry=new Map;_messagesContainer=null;_id=`${m3++}`;constructor(){C($h).load(lx),this._id=C(Dd)+"-"+m3++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let o=g3(r,i);typeof r!="string"?(az(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let o=g3(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof r=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${hx}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(hx);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");az(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(g3(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=px(t,"aria-describedby").filter(i=>i.indexOf(cz)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);jfe(t,"aria-describedby",i.messageElement.id),t.setAttribute(hx,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,Hfe(t,"aria-describedby",i.messageElement.id),t.removeAttribute(hx)}_isElementDescribedByMessage(t,r){let i=px(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g3(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function az(n,e){n.id||(n.id=`${cz}-${e}-${m3++}`)}function Wd(n){n||(n=C(Gn));let e=new Ze(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(Ue(e))}function fx(n,e){let t=e?.injector??C(Le),r=new ih(1),i=xt(()=>{let o;try{o=n()}catch(s){Dt(()=>r.error(s));return}Dt(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(Gn).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function v3(n,e){let r=!e?.manualCleanup?e?.injector?.get(Gn)??C(Gn):null,i=Ufe(e?.equal),o;e?.requireSync?o=Me({kind:0},{equal:i}):o=Me({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:l=>o.set({kind:1,value:l}),error:l=>{o.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new Ee(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),ee(()=>{let l=o();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Ee(601,!1)}},{equal:e?.equal})}function Ufe(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function uz(n){n===void 0&&(n=C(Le));let e=n.get(ql);return t=>new Ze(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var zfe=["checkBox"],$fe=()=>({display:"contents"}),Wfe=["*"],Gfe={provide:Hh,useExisting:$n(()=>_3),multi:!0},qfe=0,w3="-checkbox",_3=(()=>{class n{_destroyRef=C(Gn);_renderer=C(pi);_elementRef=C(at);_focusMonitor=C(lc);_cdr=C($i);_document=C(vt);_isBrowser=Wi(C(Qn));_focusVisible=Me(!1);_focused=Me(!1);checked=tc(!1);isChecked=this.checked.asReadonly();_dataState=ee(()=>{let t=this.checked();return t==="indeterminate"?"indeterminate":t?"checked":"unchecked"});_ariaChecked=ee(()=>{let t=this.checked();return t==="indeterminate"?"mixed":t?"true":"false"});id=W(++qfe+"");name=W(null);class=W(null);ariaLabel=W(null,{alias:"aria-label"});ariaLabelledby=W(null,{alias:"aria-labelledby"});mutableAriaLabelledby=Nr(()=>this.ariaLabelledby());ariaDescribedby=W(null,{alias:"aria-describedby"});required=W(!1,{transform:gt});disabled=W(!1,{transform:gt});_state=ee(()=>{let t=this.name(),r=this.id();return{disabled:Me(this.disabled()),name:t?t+w3:null,id:r?r+w3:null}});_onChange=()=>{};_onTouched=()=>{};checkbox=zi.required("checkBox");changed=xs();touched=xs();constructor(){xt(()=>{let t=this._state(),r=t.disabled();if(!this._elementRef.nativeElement||!this._isBrowser)return;let i=t.id+"-label",o=this.getCheckboxButtonId(t.id),s=this._elementRef.nativeElement.closest("label")??this._document.querySelector(`label[for="${o}"]`);if(!s)return;let a=s.id;this._renderer.setAttribute(s,"data-disabled",r?"true":"false"),this.mutableAriaLabelledby.set(a||i),(!a||a.length===0)&&this._renderer.setAttribute(s,"id",i)})}toggle(){if(this._state().disabled())return;this._onTouched(),this.touched.emit();let t=this.checked();this.checked.set(t==="indeterminate"?!0:!t),this._onChange(this.checked()),this.changed.emit(this.checked())}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).pipe(Wd(this._destroyRef)).subscribe(t=>{t&&this._focused.set(!0),(t==="keyboard"||t==="program")&&(this._focusVisible.set(!0),this._cdr.markForCheck()),t||Promise.resolve().then(()=>{this._focusVisible.set(!1),this._focused.set(!1),this._onTouched(),this.touched.emit(),this._cdr.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}getCheckboxButtonId(t){return t?t.replace(w3,""):null}writeValue(t){t==="indeterminate"?this.checked.set("indeterminate"):this.checked.set(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._state().disabled.set(t),this._cdr.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-checkbox"]],viewQuery:function(r,i){r&1&&Ei(i.checkbox,zfe,5),r&2&&qn()},hostVars:12,hostBindings:function(r,i){r&2&&(ut("id",i._state().id)("name",i._state().name)("aria-labelledby",null)("aria-label",null)("aria-describedby",null)("data-state",i._dataState())("data-focus-visible",i._focusVisible())("data-focus",i._focused())("data-disabled",i._state().disabled()),Do(Th(11,$fe)))},inputs:{checked:[1,"checked"],id:[1,"id"],name:[1,"name"],class:[1,"class"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],required:[1,"required"],disabled:[1,"disabled"]},outputs:{checked:"checkedChange",changed:"changed",touched:"touched"},features:[Ne([Gfe])],ngContentSelectors:Wfe,decls:3,vars:14,consts:[["checkBox",""],["role","checkbox","type","button",3,"click","id","name","disabled","tabIndex"]],template:function(r,i){if(r&1){let o=tn();Ft(),Rn(0,"button",1,0),qk("click",function(a){return We(o),a.preventDefault(),Ge(i.toggle())}),Xe(2),Fn()}r&2&&(te(i.class()),gr("id",i.getCheckboxButtonId(i._state().id)??"")("name",i.getCheckboxButtonId(i._state().name)??"")("disabled",i._state().disabled())("tabIndex",i._state().disabled()?-1:0),ut("aria-checked",i._ariaChecked())("aria-label",i.ariaLabel()||null)("aria-labelledby",i.mutableAriaLabelledby()||null)("aria-describedby",i.ariaDescribedby()||null)("data-state",i._dataState())("data-focus-visible",i._focusVisible())("data-focus",i._focused())("data-disabled",i._state().disabled()))},encapsulation:2,changeDetection:0})}return n})();var hz={size:"base"},pz=new pe("HlmIconConfig");function fz(n){return{provide:pz,useValue:X(X({},hz),n)}}function gz(){return C(pz,{optional:!0})??hz}var jn=class n{_config=gz();size=W(this._config.size);_computedSize=ee(()=>{let e=this.size();switch(e){case"xs":return"12px";case"sm":return"16px";case"base":return"24px";case"lg":return"32px";case"xl":return"48px";default:return e}});static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["ng-icon","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&To("--ng-icon__size",r._computedSize())},inputs:{size:[1,"size"]}})};function Kfe(n,e){n&1&&(D(0,"span",1),se(1,"ng-icon",2),I())}var Yfe={provide:Hh,useExisting:$n(()=>Gd),multi:!0},Gd=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-default",this.userClass(),this._state().disabled()?"cursor-not-allowed opacity-50":""));id=W(null);ariaLabel=W(null,{alias:"aria-label"});ariaLabelledby=W(null,{alias:"aria-labelledby"});ariaDescribedby=W(null,{alias:"aria-describedby"});checked=tc(!1);name=W(null);required=W(!1,{transform:gt});disabled=W(!1,{transform:gt});_state=ee(()=>({disabled:Me(this.disabled())}));changed=xs();_onChange;_onTouched;_handleChange(){if(this._state().disabled())return;let e=this.checked();this.checked.set(e==="indeterminate"?!0:!e),this._onChange?.(!e),this.changed.emit(!e)}writeValue(e){this.checked.set(!!e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._state().disabled.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-checkbox"]],hostAttrs:[1,"contents","peer"],hostVars:5,hostBindings:function(t,r){t&2&&ut("id",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null)("data-disabled",r._state().disabled()?"":null)},inputs:{userClass:[1,"class","userClass"],id:[1,"id"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],checked:[1,"checked"],name:[1,"name"],required:[1,"required"],disabled:[1,"disabled"]},outputs:{checked:"checkedChange",changed:"changed"},features:[Ne([Yfe],[Yt({lucideCheck:tx})])],decls:2,vars:11,consts:[[3,"changed","touched","id","name","checked","disabled","required","aria-label","aria-labelledby","aria-describedby"],[1,"flex","items-center","justify-center","text-current","transition-none"],["hlm","","size","14px","name","lucideCheck"]],template:function(t,r){t&1&&(D(0,"brn-checkbox",0),we("changed",function(){return r._handleChange()})("touched",function(){return r._onTouched==null?null:r._onTouched()}),ne(1,Kfe,2,0,"span",1),I()),t&2&&(te(r._computedClass()),ve("id",r.id())("name",r.name())("checked",r.checked())("disabled",r._state().disabled())("required",r.required()),Gk("aria-label",r.ariaLabel())("aria-labelledby",r.ariaLabelledby())("aria-describedby",r.ariaDescribedby()),P(),re(r.checked()?1:-1))},dependencies:[_3,nn,jn],encapsulation:2,changeDetection:0})};var Tg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-logo"]],decls:19,vars:0,consts:[["width","64","height","64","viewBox","0 0 64 64","xmlns","http://www.w3.org/2000/svg","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"logo-class"],["x1","32","y1","50","x2","32","y2","32"],["cx","32","cy","28","r","3"],["x1","32","y1","28","x2","32","y2","14"],["x1","32","y1","28","x2","44","y2","18"],["x1","32","y1","28","x2","48","y2","32"],["x1","32","y1","28","x2","44","y2","46"],["x1","32","y1","28","x2","32","y2","50"],["x1","32","y1","28","x2","20","y2","46"],["x1","32","y1","28","x2","16","y2","32"],["x1","32","y1","28","x2","20","y2","18"],["cx","32","cy","14","r","2"],["cx","44","cy","18","r","2"],["cx","48","cy","32","r","2"],["cx","44","cy","46","r","2"],["cx","32","cy","50","r","2"],["cx","20","cy","46","r","2"],["cx","16","cy","32","r","2"],["cx","20","cy","18","r","2"]],template:function(t,r){t&1&&(ys(),Rn(0,"svg",0),Ci(1,"line",1)(2,"circle",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6)(7,"line",7)(8,"line",8)(9,"line",9)(10,"line",10)(11,"circle",11)(12,"circle",12)(13,"circle",13)(14,"circle",14)(15,"circle",15)(16,"circle",16)(17,"circle",17)(18,"circle",18),Fn())},encapsulation:2})};var mz="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl";var vz="scroll-m-20 text-2xl font-semibold tracking-tight";var wz="text-sm text-muted-foreground";var Hn=class n{mutedStyle=wz;h3Style=vz;h1Style=mz;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-base-page-screen"]],decls:2,vars:0,template:function(t,r){t&1&&(Rn(0,"p"),V(1,"base-page-screen works!"),Fn())},encapsulation:2})};var Xfe=0,qd=(()=>{class n{_ngControl=C(Es,{optional:!0});id=W(`brn-label-${++Xfe}`);_isBrowser=Wi(C(Qn));_element=C(at).nativeElement;_changes;_dataDisabled=Me("auto");dataDisabled=this._dataDisabled.asReadonly();ngOnInit(){this._isBrowser&&(this._changes=new MutationObserver(t=>{t.forEach(r=>{if(r.attributeName!=="data-disabled")return;let i=r.target.attributes.getNamedItem(r.attributeName)?.value==="true";this._dataDisabled.set(i??"auto")})}),this._changes?.observe(this._element,{attributes:!0,childList:!0,characterData:!0}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnLabel",""]],hostVars:9,hostBindings:function(r,i){r&2&&(gr("id",i.id()),sr("ng-invalid",(i._ngControl==null?null:i._ngControl.invalid)||null)("ng-dirty",(i._ngControl==null?null:i._ngControl.dirty)||null)("ng-valid",(i._ngControl==null?null:i._ngControl.valid)||null)("ng-touched",(i._ngControl==null?null:i._ngControl.touched)||null))},inputs:{id:[1,"id"]}})}return n})();var Ka=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 peer-data-[disabled]:cursor-not-allowed peer-data-[disabled]:opacity-50 has-[[disabled]]:cursor-not-allowed has-[[disabled]]:opacity-50",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmLabel",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([{directive:qd,inputs:["id","id"]}])]})};function y3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Sr(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Zfe=new pe("cdk-dir-doc",{providedIn:"root",factory:Qfe});function Qfe(){return C(vt)}var Jfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function yz(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Jfe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ia=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Me("ltr");change=new it;constructor(){let t=C(Zfe,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(yz(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wh;function kz(){if(Wh==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Wh=!1,Wh;if("scrollBehavior"in document.documentElement.style)Wh=!0;else{let n=Element.prototype.scrollTo;n?Wh=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Wh=!1}}return Wh}var D2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})();var ege=20,Dg=(()=>{class n{_ngZone=C(Fe);_platform=C(Mr);_renderer=C(hi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Te;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=ege){return this._platform.isBrowser?new Ze(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(My(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ye()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Qt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=ac(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tge=20,Kd=(()=>{class n{_platform=C(Mr);_listeners;_viewportSize;_change=new Te;_document=C(vt);constructor(){let t=C(Fe),r=C(hi).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=tge){return t>0?this._change.pipe(My(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var k3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})(),b3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({imports:[D2,k3,D2,k3]})}return n})();var R2=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Yd=class extends R2{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Gh=class extends R2{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},x3=class extends R2{element;constructor(e){super(),this.element=e instanceof at?e.nativeElement:e}},Rg=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Yd)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Gh)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof x3)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},gx=class extends Rg{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Zs,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Le.NULL,o=i.get(Nn,r.injector);t=Zk(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var C3=(()=>{class n extends Rg{_moduleRef=C(Zs,{optional:!0});_document=C(vt);_viewContainerRef=C(fi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new it;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ft]})}return n})();var E3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})();var bz=kz();function bx(n){return new mx(n.get(Kd),n.get(vt))}var mx=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Sr(-this._previousScrollPosition.left),e.style.top=Sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bz&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bz&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function Az(n,e){return new vx(n.get(Dg),n.get(Fe),n.get(Kd),e)}var vx=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Qt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var P2=class{enable(){}disable(){}attach(){}};function M3(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function xz(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function xx(n,e){return new wx(n.get(Dg),n.get(Kd),n.get(Fe),e)}var wx=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();M3(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},N2=(()=>{class n{_injector=C(Le);constructor(){}noop=()=>new P2;close=t=>Az(this._injector,t);block=()=>bx(this._injector);reposition=t=>xx(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kh=class{positionStrategy;scrollStrategy=new P2;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var _x=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Tz=(()=>{class n{_attachedOverlays=[];_document=C(vt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dz=(()=>{class n extends Tz{_ngZone=C(Fe);_renderer=C(hi).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rz=(()=>{class n extends Tz{_platform=C(Mr);_ngZone=C(Fe);_renderer=C(hi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Wa(t)};_clickListener=t=>{let r=Wa(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Cz(a.overlayElement,r)||Cz(a.overlayElement,i))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=_n(n)))(i||n)}})();static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cz(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var Pz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Cx=(()=>{class n{_platform=C(Mr);_containerElement;_document=C(vt);_styleLoader=C($h);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||y3()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),y3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(Pz)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S3=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Pg=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Te;_attachments=new Te;_detachments=new Te;_positionStrategy;_scrollStrategy;_locationChanges=un.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Te;_outsidePointerEvents=new Te;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,l,d,h=!1,f,m){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=f,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=xi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=X(X({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Se(X({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Sr(this._config.width),e.height=Sr(this._config.height),e.minWidth=Sr(this._config.minWidth),e.minHeight=Sr(this._config.minHeight),e.maxWidth=Sr(this._config.maxWidth),e.maxHeight=Sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new S3(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=u3(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=xi(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Ez="cdk-overlay-connected-position-bounding-box",rge=/([A-Za-z%]+)$/;function I3(n,e){return new yx(e,n.get(Kd),n.get(vt),n.get(Mr),n.get(Cx))}var yx=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Te;_resizeSubscription=un.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Ez),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),d=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(d,t,r,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,d,r)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>l&&(l=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ez),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=Sz(t),{x:s,y:a}=e,l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(s+=l),d&&(a+=d);let h=0-s,f=s+o.width-r.width,m=0-a,v=a+o.height-r.height,_=this._subtractOverflows(o.width,h,f),b=this._subtractOverflows(o.height,m,v),T=_*b;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=Mz(this._overlayRef.getConfig().minHeight),a=Mz(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=i,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=Sz(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),d=Math.max(o.left-r.left-e.x,0),h=0,f=0;return i.width<=o.width?h=d||-s:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?f=l||-a:f=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:f},{x:e.x+h,y:e.y+f}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!ige(this._lastScrollVisibility,r)){let i=new _x(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let v=Math.min(r.bottom-e.y+r.top,e.y),_=this._lastBoundingBoxSize.height;o=v*2,s=e.y-v,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-_/2)}let l=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,d=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,h,f,m;if(d)m=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)f=e.x,h=r.right-e.x;else{let v=Math.min(r.right-e.x+r.left,e.x),_=this._lastBoundingBoxSize.width;h=v*2,f=e.x-v,h>_&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-_/2)}return{top:s,left:f,bottom:a,right:m,width:h,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Sr(r.height),i.top=Sr(r.top),i.bottom=Sr(r.bottom),i.width=Sr(r.width),i.left=Sr(r.left),i.right=Sr(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Sr(o)),s&&(i.maxWidth=Sr(s))}this._lastBoundingBoxSize=r,qh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){qh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();qh(r,this._getExactOverlayY(t,e,h)),qh(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Sr(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Sr(s.maxWidth):o&&(r.maxWidth="")),qh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Sr(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Sr(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xz(e,r),isOriginOutsideView:M3(e,r),isOverlayClipped:xz(t,r),isOverlayOutsideView:M3(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&u3(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof at)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function qh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Mz(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(rge);return!t||t==="px"?parseFloat(e):null}return n||null}function Sz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function ige(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Iz="cdk-global-overlay-wrapper";function Ex(n){return new kx}var kx=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Iz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",v="",_="",b="";l?b="flex-start":h==="center"?(b="center",m?_=f:v=f):m?h==="left"||h==="end"?(b="flex-end",v=f):(h==="right"||h==="start")&&(b="flex-start",_=f):h==="left"||h==="start"?(b="flex-start",v=f):(h==="right"||h==="end")&&(b="flex-end",_=f),e.position=this._cssPosition,e.marginLeft=l?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":_,t.justifyContent=b,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Iz),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},L2=(()=>{class n{_injector=C(Le);constructor(){}global(){return Ex()}flexibleConnectedTo(t){return I3(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F2(n,e){n.get($h).load(Pz);let t=n.get(Cx),r=n.get(vt),i=n.get(cx),o=n.get(Ao),s=n.get(ia),a=r.createElement("div"),l=r.createElement("div");l.id=i.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let d=new gx(l,o,n),h=new Kh(e),f=n.get(pi,null,{optional:!0})||n.get(hi).createRenderer(null,null);return h.direction=h.direction||s.value,new Pg(d,a,l,h,n.get(Fe),n.get(Dz),r,n.get(Ro),n.get(Rz),e?.disableAnimations??n.get(A1,null,{optional:!0})==="NoopAnimations",n.get(Nn),f)}var B2=(()=>{class n{scrollStrategies=C(N2);_positionBuilder=C(L2);_injector=C(Le);constructor(){}create(t){return F2(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oge=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Oz=new pe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Le);return()=>xx(n)}}),O2=(()=>{class n{elementRef=C(at);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),Og=(()=>{class n{_dir=C(ia,{optional:!0});_injector=C(Le);_overlayRef;_templatePortal;_backdropSubscription=un.EMPTY;_attachSubscription=un.EMPTY;_detachSubscription=un.EMPTY;_positionSubscription=un.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=C(Oz);_disposeOnNavigation=!1;_ngZone=C(Fe);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new it;positionChange=new it;attach=new it;detach=new it;overlayKeydown=new it;overlayOutsideClick=new it;constructor(){let t=C(bi),r=C(fi);this._templatePortal=new Gh(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=oge);let t=this._overlayRef=F2(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Ga(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=Wa(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Kh({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=I3(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof O2?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof O2?this.origin.elementRef.nativeElement:this.origin instanceof at?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(YS(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",gt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",gt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",gt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",gt],push:[2,"cdkConnectedOverlayPush","push",gt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",gt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ei]})}return n})();function sge(n){let e=C(Le);return()=>xx(e)}var age={provide:Oz,useFactory:sge},Mx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({providers:[B2,age],imports:[D2,E3,b3,b3]})}return n})();function cge(n,e){}var Ng=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var dge=(()=>{class n extends Rg{_elementRef=C(at);_focusTrapFactory=C(sz);_config;_interactivityChecker=C(p3);_ngZone=C(Fe);_focusMonitor=C(lc);_renderer=C(pi);_changeDetectorRef=C($i);_injector=C(Le);_platform=C(Mr);_document=C(vt);_portalOutlet;_focusTrapped=new Te;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=C(Ng,{optional:!0})||new Ng,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}attachDomPortal=t=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(t){this._isDestroyed||xi(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,r=null;if(typeof t=="string"?r=this._document.querySelector(t):typeof t=="boolean"?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=ox(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,r=ox();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ox()))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&ks(C3,7),r&2){let o;Ko(o=Yo())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&ut("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[ft],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&Io(0,cge,0,0,"ng-template",0)},dependencies:[C3],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),V2=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Te;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Ga(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this._canClose(e)){let r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(e,t,this.componentInstance))}},uge=new pe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=C(Le);return()=>bx(n)}}),T3=new pe("DialogData"),hge=new pe("DefaultDialogConfig");function pge(n){let e=Me(n),t=new it;return{valueSignal:e,get value(){return e()},change:t,ngOnDestroy(){t.complete()}}}var Nz=(()=>{class n{_injector=C(Le);_defaultOptions=C(hge,{optional:!0});_parentDialog=C(n,{optional:!0,skipSelf:!0});_overlayContainer=C(Cx);_idGenerator=C(cx);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Te;_afterOpenedAtThisLevel=new Te;_ariaHiddenElements=new Map;_scrollStrategy=C(uge);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ah(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(bd(void 0)));constructor(){}open(t,r){let i=this._defaultOptions||new Ng;r=X(X({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),s=F2(this._injector,o),a=new V2(s,r),l=this._attachContainer(s,a,r);if(a.containerInstance=l,!this.openDialogs.length){let d=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(br(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(d)}):this._hideNonDialogContentFromAssistiveTechnology(d)}return this._attachDialogContent(t,a,l,r),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){A3(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){A3(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),A3(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let r=new Kh({positionStrategy:t.positionStrategy||Ex().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Ng,useValue:i},{provide:V2,useValue:r},{provide:Pg,useValue:t}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=dge;let l=new Yd(a,i.viewContainerRef,Le.create({parent:o||this._injector,providers:s}));return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof bi){let s=this._createInjector(o,r,i,void 0),a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=X(X({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new Gh(t,null,a,s))}else{let s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new Yd(t,o.viewContainerRef,s));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:T3,useValue:t.data},{provide:V2,useValue:r}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(ia,null,{optional:!0}))&&a.push({provide:ia,useValue:pge(t.direction)}),Le.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){let r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A3(n,e){let t=n.length;for(;t--;)e(n[t])}function Lz(n){return n!=null&&`${n}`!="false"}var fge=["*"],D3={attachPositions:[],autoFocus:"first-tabbable",closeDelay:100,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,disableClose:!1,hasBackdrop:!0,positionStrategy:null,restoreFocus:!0,role:"dialog",scrollStrategy:null},Fz=new pe("brn-dialog-default-options",{providedIn:"root",factory:()=>D3});function Bz(n){return{provide:Fz,useValue:X(X({},D3),n)}}function gge(){return C(Fz,{optional:!0})??D3}var Lg=(n,e="")=>{if(typeof n=="string"){let t=n.trim().split(" ");return t.length===0?[e]:t}return n??[]},Mi=class{_cdkDialogRef;_open;state;dialogId;_options;_closing$=new Te;closing$=this._closing$.asObservable();closed$;_previousTimeout;get open(){return this.state()==="open"}constructor(e,t,r,i,o){this._cdkDialogRef=e,this._open=t,this.state=r,this.dialogId=i,this._options=o,this.closed$=this._cdkDialogRef.closed.pipe(br(1))}close(e,t=this._options?.closeDelay??0){!this.open||this._options?.disableClose||(this._closing$.next(),this._open.set(!1),this._previousTimeout&&clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._cdkDialogRef.close(e)},t))}setPanelClass(e){this._cdkDialogRef.config.panelClass=Lg(e)}setOverlayClass(e){this._cdkDialogRef.config.backdropClass=Lg(e)}setAriaDescribedBy(e){this._cdkDialogRef.config.ariaDescribedBy=e}setAriaLabelledBy(e){this._cdkDialogRef.config.ariaLabelledBy=e}setAriaLabel(e){this._cdkDialogRef.config.ariaLabel=e}},mge=0;var Ya=(n={})=>C(T3,n),R3=(()=>{class n{_cdkDialog=C(Nz);_rendererFactory=C(hi);_renderer=this._rendererFactory.createRenderer(null,null);_positionBuilder=C(L2);_sso=C(N2);_injector=C(Le);open(t,r,i,o){if(o?.id&&this._cdkDialog.getDialogById(o.id))throw new Error(`Dialog with ID: ${o.id} already exists`);let s=o?.positionStrategy??(o?.attachTo&&o?.attachPositions&&o?.attachPositions?.length>0?this._positionBuilder?.flexibleConnectedTo(o.attachTo).withPositions(o.attachPositions??[]):this._positionBuilder.global().centerHorizontally().centerVertically()),a,l,d=Se(X({},i),{close:(M=void 0)=>a.close(M,o?.closeDelay)}),h=new Te,f=Me(!0),m=ee(()=>f()?"open":"closed"),v=++mge,_=this._cdkDialog.open(t,{id:o?.id??`brn-dialog-${v}`,role:o?.role,viewContainerRef:r,templateContext:()=>({$implicit:d}),data:d,hasBackdrop:o?.hasBackdrop,panelClass:Lg(o?.panelClass),backdropClass:Lg(o?.backdropClass,"bg-transparent"),positionStrategy:s,scrollStrategy:o?.scrollStrategy??this._sso?.block(),restoreFocus:o?.restoreFocus,disableClose:!0,autoFocus:o?.autoFocus??"first-tabbable",ariaDescribedBy:o?.ariaDescribedBy??`brn-dialog-description-${v}`,ariaLabelledBy:o?.ariaLabelledBy??`brn-dialog-title-${v}`,ariaLabel:o?.ariaLabel,ariaModal:o?.ariaModal,providers:M=>{a=new Mi(M,f,m,v,o),Dn(this._injector,()=>{l=xt(()=>{b&&this._renderer.setAttribute(b,"data-state",m()),T&&this._renderer.setAttribute(T,"data-state",m())})});let B=[{provide:Mi,useValue:a}];return o?.providers&&(typeof o.providers=="function"&&B.push(...o.providers()),Array.isArray(o.providers)&&B.push(...o.providers)),B}}),b=_.overlayRef.overlayElement,T=_.overlayRef.backdropElement;return o?.closeOnOutsidePointerEvents&&_.outsidePointerEvents.pipe(Ue(h)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),o?.closeOnBackdropClick&&_.backdropClick.pipe(Ue(h)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),o?.disableClose||_.keydownEvents.pipe(Qt(M=>M.key==="Escape"),Ue(h)).subscribe(()=>{a.close(void 0,o?.closeDelay)}),_.closed.pipe(Ue(h)).subscribe(()=>{l?.destroy(),h.next()}),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sx=(()=>{class n{_dialogService=C(R3);_vcr=C(fi);positionBuilder=C(L2);ssos=C(N2);_injector=C(Le);_defaultOptions=gge();_context={};stateComputed=ee(()=>this._dialogRef()?.state()??"closed");_contentTemplate;_dialogRef=Me(void 0);_dialogStateEffectRef;_backdropClass=Me(null);_panelClass=Me(null);closed=xs();stateChanged=xs();state=W(null);role=W(this._defaultOptions.role);hasBackdrop=W(this._defaultOptions.hasBackdrop,{transform:gt});positionStrategy=W(this._defaultOptions.positionStrategy);mutablePositionStrategy=Nr(()=>this.positionStrategy());scrollStrategy=W(this._defaultOptions.scrollStrategy);_options=ee(()=>{let t=this.scrollStrategy(),r;return t==="close"?r=this.ssos.close():t==="reposition"?r=this.ssos.reposition():r=t,{role:this.role(),hasBackdrop:this.hasBackdrop(),positionStrategy:this.mutablePositionStrategy(),scrollStrategy:r,restoreFocus:this.restoreFocus(),closeOnOutsidePointerEvents:this.mutableCloseOnOutsidePointerEvents(),closeOnBackdropClick:this.closeOnBackdropClick(),attachTo:this.mutableAttachTo(),attachPositions:this.mutableAttachPositions(),autoFocus:this.autoFocus(),closeDelay:this.closeDelay(),disableClose:this.disableClose(),backdropClass:this._backdropClass()??"",panelClass:this._panelClass()??"",ariaDescribedBy:this._mutableAriaDescribedBy(),ariaLabelledBy:this._mutableAriaLabelledBy(),ariaLabel:this._mutableAriaLabel(),ariaModal:this._mutableAriaModal()}});constructor(){xt(()=>{let t=this.state();t==="open"&&Dt(()=>this.open()),t==="closed"&&Dt(()=>this.close())})}restoreFocus=W(this._defaultOptions.restoreFocus);closeOnOutsidePointerEvents=W(this._defaultOptions.closeOnOutsidePointerEvents,{transform:gt});mutableCloseOnOutsidePointerEvents=Nr(()=>this.closeOnOutsidePointerEvents());closeOnBackdropClick=W(this._defaultOptions.closeOnBackdropClick,{transform:gt});attachTo=W(null);mutableAttachTo=Nr(()=>this.attachTo());attachPositions=W(this._defaultOptions.attachPositions);mutableAttachPositions=Nr(()=>this.attachPositions());autoFocus=W(this._defaultOptions.autoFocus);closeDelay=W(this._defaultOptions.closeDelay,{transform:ho});disableClose=W(this._defaultOptions.disableClose,{transform:gt});ariaDescribedBy=W(null,{alias:"aria-describedby"});_mutableAriaDescribedBy=Nr(()=>this.ariaDescribedBy());ariaLabelledBy=W(null,{alias:"aria-labelledby"});_mutableAriaLabelledBy=Nr(()=>this.ariaLabelledBy());ariaLabel=W(null,{alias:"aria-label"});_mutableAriaLabel=Nr(()=>this.ariaLabel());ariaModal=W(!0,{alias:"aria-modal",transform:gt});_mutableAriaModal=Nr(()=>this.ariaModal());open(){if(!this._contentTemplate||this._dialogRef())return;this._dialogStateEffectRef?.destroy();let t=this._dialogService.open(this._contentTemplate,this._vcr,this._context,this._options());this._dialogRef.set(t),Dn(this._injector,()=>{this._dialogStateEffectRef=xt(()=>{let r=t.state();Dt(()=>this.stateChanged.emit(r))})}),t.closed$.pipe(br(1)).subscribe(r=>{this._dialogRef.set(void 0),this.closed.emit(r)})}close(t,r){this._dialogRef()?.close(t,r??this._options().closeDelay)}registerTemplate(t){this._contentTemplate=t}setOverlayClass(t){this._backdropClass.set(t),this._dialogRef()?.setOverlayClass(t)}setPanelClass(t){this._panelClass.set(t??""),this._dialogRef()?.setPanelClass(t)}setContext(t){this._context=X(X({},this._context),t)}setAriaDescribedBy(t){this._mutableAriaDescribedBy.set(t),this._dialogRef()?.setAriaDescribedBy(t)}setAriaLabelledBy(t){this._mutableAriaLabelledBy.set(t),this._dialogRef()?.setAriaLabelledBy(t)}setAriaLabel(t){this._mutableAriaLabel.set(t),this._dialogRef()?.setAriaLabel(t)}setAriaModal(t){this._mutableAriaModal.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-dialog"]],inputs:{state:[1,"state"],role:[1,"role"],hasBackdrop:[1,"hasBackdrop"],positionStrategy:[1,"positionStrategy"],scrollStrategy:[1,"scrollStrategy"],restoreFocus:[1,"restoreFocus"],closeOnOutsidePointerEvents:[1,"closeOnOutsidePointerEvents"],closeOnBackdropClick:[1,"closeOnBackdropClick"],attachTo:[1,"attachTo"],attachPositions:[1,"attachPositions"],autoFocus:[1,"autoFocus"],closeDelay:[1,"closeDelay"],disableClose:[1,"disableClose"],ariaDescribedBy:[1,"aria-describedby","ariaDescribedBy"],ariaLabelledBy:[1,"aria-labelledby","ariaLabelledBy"],ariaLabel:[1,"aria-label","ariaLabel"],ariaModal:[1,"aria-modal","ariaModal"]},outputs:{closed:"closed",stateChanged:"stateChanged"},exportAs:["brnDialog"],ngContentSelectors:fge,decls:1,vars:0,template:function(r,i){r&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})}return n})(),Vz=(()=>{class n{_brnDialogRef=C(Mi);delay=W(void 0,{transform:Ag});close(){this._brnDialogRef.close(void 0,this.delay())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["button","brnDialogClose",""]],hostBindings:function(r,i){r&1&&we("click",function(){return i.close()})},inputs:{delay:[1,"delay"]}})}return n})();var jz=(()=>{class n{_brnDialogRef=C(Mi);_id=Me(`brn-dialog-description-${this._brnDialogRef?.dialogId}`);constructor(){xt(()=>{this._brnDialogRef.setAriaDescribedBy(this._id())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnDialogDescription",""]],hostVars:1,hostBindings:function(r,i){r&2&&gr("id",i._id())}})}return n})(),Hz=(()=>{class n{_brnDialog=C(Sx);className=W(void 0,{alias:"class"});setClassToCustomElement(t){this._brnDialog.setOverlayClass(t)}constructor(){xt(()=>{if(!this._brnDialog)return;let t=this.className();Dt(()=>this._brnDialog.setOverlayClass(t))})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-dialog-overlay"]],inputs:{className:[1,"class","className"]},features:[Ne([GH(()=>n)])],decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0})}return n})(),Uz=(()=>{class n{_brnDialogRef=C(Mi);_id=Me(`brn-dialog-title-${this._brnDialogRef?.dialogId}`);constructor(){xt(()=>{this._brnDialogRef.setAriaLabelledBy(this._id())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnDialogTitle",""]],hostVars:1,hostBindings:function(r,i){r&2&&gr("id",i._id())}})}return n})();var zz={role:"dialog",attachPositions:[],attachTo:null,autoFocus:"first-tabbable",backdropClass:"",closeDelay:100,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,hasBackdrop:!0,panelClass:"",positionStrategy:null,restoreFocus:!0,scrollStrategy:null,disableClose:!1,ariaLabel:void 0,ariaModal:!0};var P3="bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",j2=class n{_classSettable=WH({optional:!0,host:!0});userClass=W("",{alias:"class"});_computedClass=ee(()=>be(P3,this.userClass()));constructor(){xt(()=>{let e=this._computedClass();Dt(()=>this._classSettable?.setClassToCustomElement(e))})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmDialogOverlay",""],["brn-dialog-overlay","hlm",""]],inputs:{userClass:[1,"class","userClass"]}})};var vge=["*"],O3=class n extends Sx{static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["hlm-dialog"]],exportAs:["hlmDialog"],features:[Ne([{provide:Sx,useExisting:$n(()=>n)},Bz({})]),ft],ngContentSelectors:vge,decls:2,vars:0,consts:[["hlm",""]],template:function(t,r){t&1&&(Ft(),se(0,"brn-dialog-overlay",0),Xe(1))},dependencies:[Hz,j2],encapsulation:2,changeDetection:0})};var H2=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmDialogClose",""],["","brnDialogClose","","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var wge=["*"];function _ge(n,e){if(n&1&&Ui(0,0),n&2){let t=ae();ve("ngComponentOutlet",t.component)}}function yge(n,e){n&1&&Xe(0)}var U2=class n{_dialogRef=C(Mi);_dialogContext=Ya({optional:!0});state=ee(()=>this._dialogRef?.state()??"closed");component=this._dialogContext?.$component;_dynamicComponentClass=this._dialogContext?.$dynamicComponentClass;userClass=W("",{alias:"class"});_computedClass=ee(()=>be("border-border grid w-full max-w-lg relative gap-4 border bg-background p-6 shadow-lg [animation-duration:200] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[2%]  data-[state=open]:slide-in-from-top-[2%] sm:rounded-lg md:w-full",this.userClass(),this._dynamicComponentClass));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-content"]],hostVars:3,hostBindings:function(t,r){t&2&&(ut("data-state",r.state()),te(r._computedClass()))},inputs:{userClass:[1,"class","userClass"]},features:[Ne([Yt({lucideX:GU})])],ngContentSelectors:wge,decls:6,vars:1,consts:[[3,"ngComponentOutlet"],["brnDialogClose","","hlm",""],[1,"sr-only"],["hlm","","size","sm","name","lucideX"]],template:function(t,r){t&1&&(Ft(),ne(0,_ge,1,1,"ng-container",0)(1,yge,1,0),D(2,"button",1)(3,"span",2),V(4,"Close"),I(),se(5,"ng-icon",3),I()),t&2&&re(r.component?0:1)},dependencies:[W1,Vz,H2,nn,jn],encapsulation:2,changeDetection:0})};var Yh=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("text-sm text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmDialogDescription",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([jz])]})};var kge=["*"],cc=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-footer"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:kge,decls:1,vars:0,template:function(t,r){t&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})};var bge=["*"],dc=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex flex-col space-y-1.5 text-center sm:text-left",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-dialog-header"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:bge,decls:1,vars:0,template:function(t,r){t&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})};var uc=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("text-lg font-semibold leading-none tracking-tight",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmDialogTitle",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([Uz])]})};var Jn=class n{_brnDialogService=C(R3);open(e,t){let r=Se(X(X({},zz),t??{}),{backdropClass:Lg(`${P3} ${t?.backdropClass??""}`),context:Se(X({},t?.context&&typeof t.context=="object"?t.context:{}),{$component:e,$dynamicComponentClass:t?.contentClass})});return this._brnDialogService.open(U2,void 0,r.context,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};function xge(n,e){if(n&1&&(D(0,"p",1),V(1),I()),n&2){let t=ae();P(),qe(t.desc)}}var Xt=class n{_dialogRef=C(Mi);_dialogContext=Ya();errorMessage=this._dialogContext.error;desc=this._dialogContext.desc;closeDialog(){this._dialogRef.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-error-dialog"]],decls:9,vars:2,consts:[["hlmDialogTitle",""],["hlmDialogDescription",""],[1,"mt-5"],["hlmBtn","",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"h3",0),V(2,"Error"),I(),ne(3,xge,2,1,"p",1),I(),D(4,"div",2),V(5),I(),D(6,"hlm-dialog-footer",2)(7,"button",3),we("click",function(){return r.closeDialog()}),V(8,"Ok"),I()()),t&2&&(P(3),re(r.desc?3:-1),P(2),yt(" ",r.errorMessage,`
`))},dependencies:[Yh,cc,dc,uc,bn],encapsulation:2})};function Cge(n,e){if(n&1&&(D(0,"p",1),V(1),I()),n&2){let t=ae();P(),qe(t.desc)}}var Ms=class n{_dialogRef=C(Mi);_dialogContext=Ya();infoMessage=this._dialogContext.info;desc=this._dialogContext.desc;closeDialog(){this._dialogRef.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-info-dialog"]],decls:9,vars:2,consts:[["hlmDialogTitle",""],["hlmDialogDescription",""],[1,"mt-5"],["hlmBtn","",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"h3",0),V(2,"Info"),I(),ne(3,Cge,2,1,"p",1),I(),D(4,"div",2),V(5),I(),D(6,"hlm-dialog-footer",2)(7,"button",3),we("click",function(){return r.closeDialog()}),V(8,"Ok"),I()()),t&2&&(P(3),re(r.desc?3:-1),P(2),yt(" ",r.infoMessage,`
`))},dependencies:[Yh,cc,dc,uc,bn],encapsulation:2})};var Un=class n{constructor(e){this.router=e;this.router.events.pipe(Qt(t=>t instanceof ra)).subscribe(()=>{this.hide()})}_loading=new Xn(!1);loading$=this._loading.asObservable();show(){this._loading.next(!0)}hide(){this._loading.next(!1)}static \u0275fac=function(t){return new(t||n)(Ie(Lr))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wz=()=>{};var Kz=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Ege=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,d=l?n[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4,m=(a&15)<<2|d>>6,v=d&63;l||(v=64,s||(m=64)),r.push(t[h],t[f],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ege(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||f==null)throw new F3;let m=o<<2|a>>4;if(r.push(m),d!==64){let v=a<<4&240|d>>2;if(r.push(v),f!==64){let _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},F3=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Mge=function(n){let e=Kz(n);return Ix.encodeByteArray(e,!0)},W2=function(n){return Mge(n).replace(/\./g,"")},Ax=function(n){try{return Ix.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Sge=()=>V3().__FIREBASE_DEFAULTS__,Ige=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Age=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ax(n[1]);return e&&JSON.parse(e)},Tx=()=>{try{return Wz()||Sge()||Ige()||Age()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j3=n=>{var e,t;return(t=(e=Tx())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dx=n=>{let e=j3(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H3=()=>{var n;return(n=Tx())===null||n===void 0?void 0:n.config},U3=n=>{var e;return(e=Tx())===null||e===void 0?void 0:e[`_${n}`]};var Xh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Xa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fg(n){return x(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Rx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[W2(JSON.stringify(t)),W2(JSON.stringify(s)),""].join(".")}var $2={};function Tge(){let n={prod:[],emulator:[]};for(let e of Object.keys($2))$2[e]?n.emulator.push(e):n.prod.push(e);return n}function Dge(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Gz=!1;function Bg(n,e){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||$2[n]===e||$2[n]||Gz)return;$2[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Tge().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Gz=!0,s()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){let m=Dge(r),v=t("text"),_=document.getElementById(v)||document.createElement("span"),b=t("learnmore"),T=document.getElementById(b)||document.createElement("a"),M=t("preprendIcon"),B=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let j=m.element;a(j),h(T,b);let H=d();l(B,M),j.append(B,_,T,H),document.body.appendChild(j)}o?(_.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function Rge(){var n;let e=(n=Tx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zz(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Qz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jz(){let n=mi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function e$(){return!Rge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function t$(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Pge="FirebaseError",fo=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Pge,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}},oa=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Oge(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fo(i,a,r)}};function Oge(n,e){return n.replace(Nge,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Nge=/\{\$([^}]+)}/g;function n$(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Za(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(qz(o)&&qz(s)){if(!Za(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function qz(n){return n!==null&&typeof n=="object"}function Vg(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jg(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hg(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function r$(n,e){let t=new B3(n,e);return t.subscribe.bind(t)}var B3=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Lge(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=L3),i.error===void 0&&(i.error=L3),i.complete===void 0&&(i.complete=L3);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Lge(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function L3(){}var pXe=14400*1e3;function Si(n){return n&&n._delegate?n._delegate:n}var Ii=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zh="[DEFAULT]";var z3=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Xh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bge(e))try{this.getOrInitializeService({instanceIdentifier:Zh})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zh){return this.instances.has(e)}getOptions(e=Zh){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fge(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zh){return this.component?this.component.multipleInstances?e:Zh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fge(n){return n===Zh?void 0:n}function Bge(n){return n.instantiationMode==="EAGER"}var Px=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new z3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Vge=[],qt=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(qt||{}),jge={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},Hge=qt.INFO,Uge={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},zge=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Uge[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qa=class{constructor(e){this.name=e,this._logLevel=Hge,this._logHandler=zge,this._userLogHandler=null,Vge.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jge[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}};var $ge=(n,e)=>e.some(t=>n instanceof t),i$,o$;function Wge(){return i$||(i$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gge(){return o$||(o$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var s$=new WeakMap,W3=new WeakMap,a$=new WeakMap,$3=new WeakMap,q3=new WeakMap;function qge(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ja(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&s$.set(t,n)}).catch(()=>{}),q3.set(e,n),e}function Kge(n){if(W3.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});W3.set(n,e)}var G3={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return W3.get(n);if(e==="objectStoreNames")return n.objectStoreNames||a$.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ja(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function l$(n){G3=n(G3)}function Yge(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ox(this),e,...t);return a$.set(r,e.sort?e.sort():[e]),Ja(r)}:Gge().includes(n)?function(...e){return n.apply(Ox(this),e),Ja(s$.get(this))}:function(...e){return Ja(n.apply(Ox(this),e))}}function Xge(n){return typeof n=="function"?Yge(n):(n instanceof IDBTransaction&&Kge(n),$ge(n,Wge())?new Proxy(n,G3):n)}function Ja(n){if(n instanceof IDBRequest)return qge(n);if($3.has(n))return $3.get(n);let e=Xge(n);return e!==n&&($3.set(n,e),q3.set(e,n)),e}var Ox=n=>q3.get(n);function d$(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ja(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ja(s.result),l.oldVersion,l.newVersion,Ja(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Zge=["get","getKey","getAll","getAllKeys","count"],Qge=["put","add","delete","clear"],K3=new Map;function c$(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(K3.get(e))return K3.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Qge.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zge.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&l.done]))[0]})};return K3.set(e,o),o}l$(n=>Se(X({},n),{get:(e,t,r)=>c$(e,t)||n.get(e,t,r),has:(e,t)=>!!c$(e,t)||n.has(e,t)}));var X3=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jge(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Jge(n){let e=n.getComponent();return e?.type==="VERSION"}var Z3="@firebase/app",u$="0.13.2";var hc=new Qa("@firebase/app"),e0e="@firebase/app-compat",t0e="@firebase/analytics-compat",n0e="@firebase/analytics",r0e="@firebase/app-check-compat",i0e="@firebase/app-check",o0e="@firebase/auth",s0e="@firebase/auth-compat",a0e="@firebase/database",l0e="@firebase/data-connect",c0e="@firebase/database-compat",d0e="@firebase/functions",u0e="@firebase/functions-compat",h0e="@firebase/installations",p0e="@firebase/installations-compat",f0e="@firebase/messaging",g0e="@firebase/messaging-compat",m0e="@firebase/performance",v0e="@firebase/performance-compat",w0e="@firebase/remote-config",_0e="@firebase/remote-config-compat",y0e="@firebase/storage",k0e="@firebase/storage-compat",b0e="@firebase/firestore",x0e="@firebase/ai",C0e="@firebase/firestore-compat",E0e="firebase",M0e="11.10.0";var Q3="[DEFAULT]",S0e={[Z3]:"fire-core",[e0e]:"fire-core-compat",[n0e]:"fire-analytics",[t0e]:"fire-analytics-compat",[i0e]:"fire-app-check",[r0e]:"fire-app-check-compat",[o0e]:"fire-auth",[s0e]:"fire-auth-compat",[a0e]:"fire-rtdb",[l0e]:"fire-data-connect",[c0e]:"fire-rtdb-compat",[d0e]:"fire-fn",[u0e]:"fire-fn-compat",[h0e]:"fire-iid",[p0e]:"fire-iid-compat",[f0e]:"fire-fcm",[g0e]:"fire-fcm-compat",[m0e]:"fire-perf",[v0e]:"fire-perf-compat",[w0e]:"fire-rc",[_0e]:"fire-rc-compat",[y0e]:"fire-gcs",[k0e]:"fire-gcs-compat",[b0e]:"fire-fst",[C0e]:"fire-fst-compat",[x0e]:"fire-vertex","fire-js":"fire-js",[E0e]:"fire-js-all"};var q2=new Map,I0e=new Map,J3=new Map;function h$(n,e){try{n.container.addComponent(e)}catch(t){hc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function es(n){let e=n.name;if(J3.has(e))return hc.debug(`There were multiple attempts to register component ${e}.`),!1;J3.set(e,n);for(let t of q2.values())h$(t,n);for(let t of I0e.values())h$(t,n);return!0}function Zd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ai(n){return n==null?!1:n.settings!==void 0}var A0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xd=new oa("app","Firebase",A0e);var e5=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xd.create("app-deleted",{appName:this._name})}};var el=M0e;function r5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Q3,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xd.create("bad-app-name",{appName:String(i)});if(t||(t=H3()),!t)throw Xd.create("no-options");let o=q2.get(i);if(o){if(Za(t,o.options)&&Za(r,o.config))return o;throw Xd.create("duplicate-app",{appName:i})}let s=new Px(i);for(let l of J3.values())s.addComponent(l);let a=new e5(t,r,s);return q2.set(i,a),a}function pc(n=Q3){let e=q2.get(n);if(!e&&n===Q3&&H3())return r5();if(!e)throw Xd.create("no-app",{appName:n});return e}function Nx(){return Array.from(q2.values())}function Bn(n,e,t){var r;let i=(r=S0e[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hc.warn(a.join(" "));return}es(new Ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var T0e="firebase-heartbeat-database",D0e=1,K2="firebase-heartbeat-store",Y3=null;function m$(){return Y3||(Y3=d$(T0e,D0e,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(K2)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xd.create("idb-open",{originalErrorMessage:n.message})})),Y3}function R0e(n){return x(this,null,function*(){try{let t=(yield m$()).transaction(K2),r=yield t.objectStore(K2).get(v$(n));return yield t.done,r}catch(e){if(e instanceof fo)hc.warn(e.message);else{let t=Xd.create("idb-get",{originalErrorMessage:e?.message});hc.warn(t.message)}}})}function p$(n,e){return x(this,null,function*(){try{let r=(yield m$()).transaction(K2,"readwrite");yield r.objectStore(K2).put(e,v$(n)),yield r.done}catch(t){if(t instanceof fo)hc.warn(t.message);else{let r=Xd.create("idb-set",{originalErrorMessage:t?.message});hc.warn(r.message)}}})}function v$(n){return`${n.name}!${n.options.appId}`}var P0e=1024,O0e=30,t5=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new n5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=f$();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>O0e){let s=L0e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hc.warn(r)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=f$(),{heartbeatsToSend:r,unsentEntries:i}=N0e(this._heartbeatsCache.heartbeats),o=W2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hc.warn(t),""}})}};function f$(){return new Date().toISOString().substring(0,10)}function N0e(n,e=P0e){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),g$(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),g$(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var n5=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return G2()?t$().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield R0e(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p$(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p$(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function g$(n){return W2(JSON.stringify({version:2,heartbeats:n})).length}function L0e(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function F0e(n){es(new Ii("platform-logger",e=>new X3(e),"PRIVATE")),es(new Ii("heartbeat",e=>new t5(e),"PRIVATE")),Bn(Z3,u$,n),Bn(Z3,u$,"esm2017"),Bn("fire-js","")}F0e("");var B0e="firebase",V0e="11.10.0";Bn(B0e,V0e,"app");var tl=new Dh("ANGULARFIRE2_VERSION");function Jh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qd=(n,e)=>{let t=e?[e]:Nx(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ug=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ug||{}),w$=Nd()&&typeof Zone<"u"?Ug.WARN:Ug.SILENT;var Lx=class{zone;delegate;constructor(e,t=HS){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},nl=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=C(Fe);this.outsideAngular=t.runOutsideAngular(()=>new Lx(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Lx(typeof Zone>"u"?void 0:Zone.current,ps))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_$=!1;function j0e(n,e){!_$&&(w$>Ug.SILENT||Nd())&&(_$=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),w$>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function H0e(n){let e=C(Fe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Qh(n){let e=C(Fe,{optional:!0});return e?e.run(()=>n()):n()}var U0e=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Dn(t,()=>Qh(()=>n.apply(void 0,r)))),Ir=(n,e,t)=>(t||=e?Ug.WARN:Ug.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=C(nl),s=C(ql),a=C(Nn)}catch{return j0e(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Qh(()=>s.add())),i[d]=U0e(i[d],r,a));let l=H0e(()=>n.apply(this,i));return e?l instanceof Ze?l.pipe(wd(o.outsideAngular),vd(o.insideAngular),uz(a)):l instanceof Promise?Qh(()=>{let d=s.add();return new Promise((h,f)=>{l.then(m=>Dn(a,()=>Qh(()=>h(m))),m=>Dn(a,()=>Qh(()=>f(m)))).finally(d)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Qh(()=>l):l instanceof Ze?l.pipe(wd(o.outsideAngular),vd(o.insideAngular)):Qh(()=>l)});var sa=class{constructor(e){return e}},fc=class{constructor(){return Nx()}};function z0e(n){return n&&n.length===1?n[0]:new sa(pc())}var i5=new pe("angularfire2._apps"),$0e={provide:sa,useFactory:z0e,deps:[[new Or,i5]]},W0e={provide:fc,deps:[[new Or,i5]]};function G0e(n){return(e,t)=>{let r=t.get(Qn);Bn("angularfire",tl.full,"core"),Bn("angularfire",tl.full,"app"),Bn("angular",ej.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new sa(i)}}function y$(n,...e){return di([$0e,W0e,{provide:i5,useFactory:G0e(n),multi:!0,deps:[Fe,Le,nl,...e]}])}var k$=Ir(r5,!0);var q0e=new Map,K0e={activated:!1,tokenObservers:[]},Y0e={initialized:!1,enabled:!1};function aa(n){return q0e.get(n)||Object.assign({},K0e)}function E$(){return Y0e}var X0e="https://content-firebaseappcheck.googleapis.com/v1";var Z0e="exchangeDebugToken",b$={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},cZe=1440*60*1e3;var a5=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return x(this,null,function*(){this.stop();try{this.pending=new Xh,this.pending.promise.catch(t=>{}),yield Q0e(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Xh,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Q0e(n){return new Promise(e=>{setTimeout(e,n)})}var J0e={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Jd=new oa("appCheck","AppCheck",J0e);function M$(n){if(!aa(n).activated)throw Jd.create("use-before-activation",{appName:n.name})}function S$(r,i){return x(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(v){throw Jd.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw Jd.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(v){throw Jd.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jd.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let f=Number(h[1])*1e3,m=Date.now();return{token:d.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function I$(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${X0e}/projects/${t}/apps/${r}:${Z0e}?key=${i}`,body:{debug_token:e}}}var eme="firebase-app-check-database",tme=1,l5="firebase-app-check-store";var Fx=null;function nme(){return Fx||(Fx=new Promise((n,e)=>{try{let t=indexedDB.open(eme,tme);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Jd.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(l5,{keyPath:"compositeKey"})}}}catch(t){e(Jd.create("storage-open",{originalErrorMessage:t?.message}))}}),Fx)}function rme(n,e){return ime(ome(n),e)}function ime(n,e){return x(this,null,function*(){let r=(yield nme()).transaction(l5,"readwrite"),o=r.objectStore(l5).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var d;a(Jd.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function ome(n){return`${n.options.appId}-${n.name}`}var Y2=new Qa("@firebase/app-check");function o5(n,e){return G2()?rme(n,e).catch(t=>{Y2.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function A$(){return E$().enabled}function T$(){return x(this,null,function*(){let n=E$();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var sme={error:"UNKNOWN_ERROR"};function ame(n){return Ix.encodeString(JSON.stringify(n),!1)}function c5(n,e=!1,t=!1){return x(this,null,function*(){let r=n.app;M$(r);let i=aa(r),o=i.token,s;if(o&&!X2(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(X2(d)?o=d:yield o5(r,void 0))}if(!e&&o&&X2(o))return{token:o.token};let a=!1;if(A$())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=S$(I$(r,yield T$()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=yield i.exchangeTokenPromise;return yield o5(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Y2.warn(d.message):t&&Y2.error(d),s5(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield aa(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Y2.warn(d.message):t&&Y2.error(d),s=d}let l;return o?s?X2(o)?l={token:o.token,internalError:s}:l=s5(s):(l={token:o.token},i.token=o,yield o5(r,o)):l=s5(s),a&&ume(r,l),l})}function lme(n){return x(this,null,function*(){let e=n.app;M$(e);let{provider:t}=aa(e);if(A$()){let r=yield T$(),{token:i}=yield S$(I$(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function cme(n,e,t,r){let{app:i}=n,o=aa(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&X2(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),x$(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>x$(n))}function D$(n,e){let t=aa(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function x$(n){let{app:e}=n,t=aa(e),r=t.tokenRefresher;r||(r=dme(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dme(n){let{app:e}=n;return new a5(()=>x(null,null,function*(){let t=aa(e),r;if(t.token?r=yield c5(n,!0):r=yield c5(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=aa(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},b$.RETRIAL_MIN_WAIT,b$.RETRIAL_MAX_WAIT)}function ume(n,e){let t=aa(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function X2(n){return n.expireTimeMillis-Date.now()>0}function s5(n){return{token:ame(sme),error:n}}var d5=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=aa(this.app);for(let t of e)D$(this.app,t.next);return Promise.resolve()}};function hme(n,e){return new d5(n,e)}function pme(n){return{getToken:e=>c5(n,e),getLimitedUseToken:()=>lme(n),addTokenListener:e=>cme(n,"INTERNAL",e),removeTokenListener:e=>D$(n.app,e)}}var fme="@firebase/app-check",gme="0.10.1";var mme="app-check",C$="app-check-internal";function vme(){es(new Ii(mme,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return hme(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(C$).initialize()})),es(new Ii(C$,n=>{let e=n.getProvider("app-check").getImmediate();return pme(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Bn(fme,gme)}vme();var wme="app-check";var eu=class{constructor(){return Qd(wme)}};var _me=["localhost","0.0.0.0","127.0.0.1"],bZe=typeof window<"u"&&_me.includes(window.location.hostname);function q$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var K$=q$,Y$=new oa("auth","Firebase",q$());var zx=new Qa("@firebase/auth");function yme(n,...e){zx.logLevel<=qt.WARN&&zx.warn(`Auth (${el}): ${n}`,...e)}function Vx(n,...e){zx.logLevel<=qt.ERROR&&zx.error(`Auth (${el}): ${n}`,...e)}function Ss(n,...e){throw F5(n,...e)}function la(n,...e){return F5(n,...e)}function L5(n,e,t){let r=Object.assign(Object.assign({},K$()),{[e]:t});return new oa("auth","Firebase",r).create(e,{appName:n.name})}function vc(n){return L5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kme(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ss(n,"argument-error"),L5(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F5(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Y$.create(n,...e)}function et(n,e,...t){if(!n)throw F5(e,...t)}function gc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vx(e),new Error(e)}function wc(n,e){n||gc(e)}function p5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bme(){return R$()==="http:"||R$()==="https:"}function R$(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function xme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bme()||Zz()||"connection"in navigator)?navigator.onLine:!0}function Cme(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ep=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wc(t>e,"Short delay should be less than long delay!"),this.isMobile=Yz()||Qz()}get(){return xme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function B5(n,e){wc(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $x=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Eme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Mme=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sme=new ep(3e4,6e4);function _c(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function il(o,s,a,l){return x(this,arguments,function*(n,e,t,r,i={}){return X$(n,i,()=>x(null,null,function*(){let d={},h={};r&&(e==="GET"?h=r:d={body:JSON.stringify(r)});let f=Vg(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:m},d);return Xz()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Xa(n.emulatorConfig.host)&&(v.credentials="include"),$x.fetch()(yield Z$(n,n.config.apiHost,t,f),v)}))})}function X$(n,e,t){return x(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Eme),e);try{let i=new f5(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Bx(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bx(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Bx(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Bx(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw L5(n,h,d);Ss(n,h)}}catch(i){if(i instanceof fo)throw i;Ss(n,"network-request-failed",{message:String(i)})}})}function iv(o,s,a,l){return x(this,arguments,function*(n,e,t,r,i={}){let d=yield il(n,e,t,r,i);return"mfaPendingCredential"in d&&Ss(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function Z$(n,e,t,r){return x(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?B5(n.config,i):`${n.config.apiScheme}://${i}`;return Mme.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Ime(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var f5=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),Sme.get())})}};function Bx(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=la(n,e,r);return i.customData._tokenResponse=t,i}function P$(n){return n!==void 0&&n.enterprise!==void 0}var g5=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ime(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Ame(n,e){return x(this,null,function*(){return il(n,"GET","/v2/recaptchaConfig",_c(n,e))})}function Tme(n,e){return x(this,null,function*(){return il(n,"POST","/v1/accounts:delete",e)})}function Wx(n,e){return x(this,null,function*(){return il(n,"POST","/v1/accounts:lookup",e)})}function Q2(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function V5(n,e=!1){return x(this,null,function*(){let t=Si(n),r=yield t.getIdToken(e),i=iC(r);et(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Q2(u5(i.auth_time)),issuedAtTime:Q2(u5(i.iat)),expirationTime:Q2(u5(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function u5(n){return Number(n)*1e3}function iC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vx("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ax(t);return i?JSON.parse(i):(Vx("Failed to decode base64 JWT payload"),null)}catch(i){return Vx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function O$(n){let e=iC(n);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $g(n,e,t=!1){return x(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof fo&&Dme(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Dme({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var m5=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),t)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ev=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q2(this.lastLoginAt),this.creationTime=Q2(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gx(n){return x(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield $g(n,Wx(t,{idToken:r}));et(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Q$(o.providerUserInfo):[],a=Rme(n.providerData,s),l=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,h=l?d:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ev(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,f)})}function j5(n){return x(this,null,function*(){let e=Si(n);yield Gx(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Rme(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q$(n){return n.map(e=>{var{providerId:t}=e,r=dy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Pme(n,e){return x(this,null,function*(){let t=yield X$(n,{},()=>x(null,null,function*(){let r=Vg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield Z$(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Xa(n.emulatorConfig.host)&&(l.credentials="include"),$x.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Ome(n,e){return x(this,null,function*(){return il(n,"POST","/v2/accounts:revokeToken",_c(n,e))})}var J2=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){et(e.length!==0,"internal-error");let t=O$(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return x(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return x(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Pme(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(et(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(et(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gc("not implemented")}};function tu(n,e){et(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var nu=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ev(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let t=yield $g(this,this.stsTokenManager.getToken(this.auth,e));return et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return V5(this,e)}reload(){return j5(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return x(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Gx(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(Ai(this.auth.app))return Promise.reject(vc(this.auth));let e=yield this.getIdToken();return yield $g(this,Tme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,d,h;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=t.photoURL)!==null&&s!==void 0?s:void 0,b=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,B=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:H,isAnonymous:q,providerData:Y,stsTokenManager:F}=t;et(j&&F,e,"internal-error");let A=J2.fromJSON(this.name,F);et(typeof j=="string",e,"internal-error"),tu(f,e.name),tu(m,e.name),et(typeof H=="boolean",e,"internal-error"),et(typeof q=="boolean",e,"internal-error"),tu(v,e.name),tu(_,e.name),tu(b,e.name),tu(T,e.name),tu(M,e.name),tu(B,e.name);let S=new n({uid:j,auth:e,email:m,emailVerified:H,displayName:f,isAnonymous:q,photoURL:_,phoneNumber:v,tenantId:b,stsTokenManager:A,createdAt:M,lastLoginAt:B});return Y&&Array.isArray(Y)&&(S.providerData=Y.map(L=>Object.assign({},L))),T&&(S._redirectEventId=T),S}static _fromIdTokenResponse(e,t,r=!1){return x(this,null,function*(){let i=new J2;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gx(o),o})}static _fromGetAccountInfoResponse(e,t,r){return x(this,null,function*(){let i=t.users[0];et(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Q$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new J2;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ev(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var N$=new Map;function mc(n){wc(n instanceof Function,"Expected a class definition");let e=N$.get(n);return e?(wc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N$.set(n,e),e)}var Nme=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(t,r){return x(this,null,function*(){this.storage[t]=r})}_get(t){return x(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return x(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),v5=Nme;function jx(n,e,t){return`firebase:${n}:${e}:${t}`}var qx=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jx(this.userKey,i.apiKey,o),this.fullPersistenceKey=jx("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Wx(this.auth,{idToken:e}).catch(()=>{});return t?nu._fromGetAccountInfoResponse(this.auth,t,e):null}return nu._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return x(this,null,function*(){if(!t.length)return new n(mc(v5),e,r);let i=(yield Promise.all(t.map(d=>x(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||mc(v5),s=jx(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=yield d._get(s);if(h){let f;if(typeof h=="string"){let m=yield Wx(e,{idToken:h}).catch(()=>{});if(!m)break;f=yield nu._fromGetAccountInfoResponse(e,m,h)}else f=nu._fromJSON(e,h);d!==o&&(a=f),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>x(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function L$(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iW(e))return"Blackberry";if(oW(e))return"Webos";if(eW(e))return"Safari";if((e.includes("chrome/")||tW(e))&&!e.includes("edge/"))return"Chrome";if(rW(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function J$(n=mi()){return/firefox\//i.test(n)}function eW(n=mi()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tW(n=mi()){return/crios\//i.test(n)}function nW(n=mi()){return/iemobile/i.test(n)}function rW(n=mi()){return/android/i.test(n)}function iW(n=mi()){return/blackberry/i.test(n)}function oW(n=mi()){return/webos/i.test(n)}function H5(n=mi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Lme(n=mi()){var e;return H5(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fme(){return Jz()&&document.documentMode===10}function sW(n=mi()){return H5(n)||rW(n)||oW(n)||iW(n)||/windows phone/i.test(n)||nW(n)}function aW(n,e=[]){let t;switch(n){case"Browser":t=L$(mi());break;case"Worker":t=`${L$(mi())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${r}`}var w5=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Bme(t){return x(this,arguments,function*(n,e={}){return il(n,"GET","/v2/passwordPolicy",_c(n,e))})}var Vme=6,_5=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Vme,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var y5=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new w5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mc(t)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield qx.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let t=yield Wx(this,{idToken:e}),r=yield nu._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var t;if(Ai(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return x(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield Gx(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Cme()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(Ai(this.app))return Promise.reject(vc(this));let t=e?Si(e):null;return t&&et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return x(this,null,function*(){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return Ai(this.app)?Promise.reject(vc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ai(this.app)?Promise.reject(vc(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(mc(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield Bme(this),t=new _5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ome(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return x(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mc(e)||this._popupRedirectResolver;et(t,this,"argument-error"),this.redirectPersistenceManager=yield qx.create(this,[mc(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return x(this,null,function*(){var e;if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&yme(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function iu(n){return Si(n)}var Kx=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=r$(t=>this.observer=t)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var oC={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jme(n){oC=n}function lW(n){return oC.loadJS(n)}function Hme(){return oC.recaptchaEnterpriseScript}function Ume(){return oC.gapiScript}function cW(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var k5=class{constructor(){this.enterprise=new b5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},b5=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var zme="recaptcha-enterprise",dW="NO_RECAPTCHA",x5=class{constructor(e){this.type=zme,this.auth=iu(e)}verify(e="verify",t=!1){return x(this,null,function*(){function r(o){return x(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>x(null,null,function*(){Ame(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new g5(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;P$(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(dW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k5().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&P$(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Hme();l.length!==0&&(l+=a),lW(l).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function Z2(n,e,t,r=!1,i=!1){return x(this,null,function*(){let o=new x5(n),s;if(i)s=dW;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function C5(n,e,t,r,i){return x(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Z2(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>x(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Z2(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Z2(n,e,t);return r(n,a).catch(l=>x(null,null,function*(){var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Z2(n,e,t,!1,!0);return r(n,h)}return Promise.reject(l)}))}else{let a=yield Z2(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function U5(n,e){let t=Zd(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Za(o,e??{}))return i;Ss(i,"already-initialized")}return t.initialize({options:e})}function $me(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function z5(n,e,t){let r=iu(n);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=uW(e),{host:s,port:a}=Wme(e),l=a===null?"":`:${a}`,d={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Za(d,r.config.emulator)&&Za(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xa(s)?(Fg(`${o}//${s}${l}`),Bg("Auth",!0)):i||Gme()}function uW(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Wme(n){let e=uW(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:F$(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:F$(s)}}}function F$(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Gme(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Wg=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gc("not implemented")}_getIdTokenResponse(e){return gc("not implemented")}_linkToIdToken(e,t){return gc("not implemented")}_getReauthenticationResolver(e){return gc("not implemented")}};function qme(n,e){return x(this,null,function*(){return il(n,"POST","/v1/accounts:signUp",e)})}function Kme(n,e){return x(this,null,function*(){return iv(n,"POST","/v1/accounts:signInWithPassword",_c(n,e))})}function Yme(n,e){return x(this,null,function*(){return il(n,"POST","/v1/accounts:sendOobCode",_c(n,e))})}function Xme(n,e){return x(this,null,function*(){return Yme(n,e)})}function Zme(n,e){return x(this,null,function*(){return iv(n,"POST","/v1/accounts:signInWithEmailLink",_c(n,e))})}function Qme(n,e){return x(this,null,function*(){return iv(n,"POST","/v1/accounts:signInWithEmailLink",_c(n,e))})}var tv=class n extends Wg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return x(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C5(e,t,"signInWithPassword",Kme,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zme(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}})}_linkToIdToken(e,t){return x(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C5(e,r,"signUpPassword",qme,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Qme(e,{idToken:t,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function zg(n,e){return x(this,null,function*(){return iv(n,"POST","/v1/accounts:signInWithIdp",_c(n,e))})}var Jme="http://localhost",Yx=class n extends Wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ss("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=dy(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return zg(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,zg(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,zg(e,t)}buildRequest(){let e={requestUri:Jme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vg(t)}return e}};function e1e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t1e(n){let e=jg(Hg(n)).link,t=e?jg(Hg(e)).deep_link_id:null,r=jg(Hg(n)).deep_link_id;return(r?jg(Hg(r)).link:null)||r||t||e||n}var Xx=class n{constructor(e){var t,r,i,o,s,a;let l=jg(Hg(e)),d=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=e1e((i=l.mode)!==null&&i!==void 0?i:null);et(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=t1e(e);try{return new n(t)}catch{return null}}};var hW=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return tv._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Xx.parseLink(r);return et(i,"argument-error"),tv._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),nv=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zx=class extends nv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var np=(()=>{class n extends Zx{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Yx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function n1e(n,e){return x(this,null,function*(){return iv(n,"POST","/v1/accounts:signUp",_c(n,e))})}var Gg=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return x(this,null,function*(){let o=yield nu._fromIdTokenResponse(e,r,i),s=B$(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return x(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=B$(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function B$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var E5=class n extends fo{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function pW(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?E5._fromErrorAndOperation(n,o,e,r):o})}function r1e(n,e,t=!1){return x(this,null,function*(){let r=yield $g(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Gg._forOperation(n,"link",r)})}function i1e(n,e,t=!1){return x(this,null,function*(){let{auth:r}=n;if(Ai(r.app))return Promise.reject(vc(r));let i="reauthenticate";try{let o=yield $g(n,pW(r,i,e,n),t);et(o.idToken,r,"internal-error");let s=iC(o.idToken);et(s,r,"internal-error");let{sub:a}=s;return et(n.uid===a,r,"user-mismatch"),Gg._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ss(r,"user-mismatch"),o}})}function fW(n,e,t=!1){return x(this,null,function*(){if(Ai(n.app))return Promise.reject(vc(n));let r="signIn",i=yield pW(n,r,e),o=yield Gg._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function $5(n,e){return x(this,null,function*(){return fW(iu(n),e)})}function o1e(n,e,t){var r;et(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),et(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),et(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(et(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(et(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function gW(n){return x(this,null,function*(){let e=iu(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function W5(n,e,t){return x(this,null,function*(){if(Ai(n.app))return Promise.reject(vc(n));let r=iu(n),s=yield C5(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n1e,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gW(n),l}),a=yield Gg._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function G5(n,e,t){return Ai(n.app)?Promise.reject(vc(n)):$5(Si(n),hW.credential(e,t)).catch(r=>x(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gW(n),r}))}function q5(n,e){return x(this,null,function*(){let t=Si(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&o1e(t.auth,i,e);let{email:o}=yield Xme(t.auth,i);o!==n.email&&(yield n.reload())})}function s1e(n,e){return x(this,null,function*(){return il(n,"POST","/v1/accounts:update",e)})}function K5(r,i){return x(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Si(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield $g(o,s1e(o.auth,a));o.displayName=l.displayName||null,o.photoURL=l.photoUrl||null;let d=o.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=o.displayName,d.photoURL=o.photoURL),yield o._updateTokensIfNecessary(l)})}function a1e(n){var e,t;if(!n)return null;let{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&n?.idToken){let s=(t=(e=iC(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(s){let a=s!=="anonymous"&&s!=="custom"?s:null;return new ru(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new M5(o,i);case"github.com":return new S5(o,i);case"google.com":return new I5(o,i);case"twitter.com":return new A5(o,i,n.screenName||null);case"custom":case"anonymous":return new ru(o,null);default:return new ru(o,r,i)}}var ru=class{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}},Qx=class extends ru{constructor(e,t,r,i){super(e,t,r),this.username=i}},M5=class extends ru{constructor(e,t){super(e,"facebook.com",t)}},S5=class extends Qx{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}},I5=class extends ru{constructor(e,t){super(e,"google.com",t)}},A5=class extends Qx{constructor(e,t,r){super(e,"twitter.com",t,r)}};function Y5(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:a1e(t)}function ov(n,e,t,r){return Si(n).onIdTokenChanged(e,t,r)}function X5(n,e,t){return Si(n).beforeAuthStateChanged(e,t)}function Z5(n){return Si(n).signOut()}var Jx="__sak";var eC=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jx,"1"),this.storage.removeItem(Jx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var l1e=1e3,c1e=10,d1e=(()=>{class n extends eC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Fme()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,c1e):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},l1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return x(this,null,function*(){yield Mo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return x(this,null,function*(){let r=yield Mo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return x(this,null,function*(){yield Mo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),mW=d1e;var u1e=(()=>{class n extends eC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Q5=u1e;function h1e(n){return Promise.all(n.map(e=>x(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var p1e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return x(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(h=>x(this,null,function*(){return h(r.origin,s)})),d=yield h1e(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function J5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var T5=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return x(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let d=J5("",20);i.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function rl(){return window}function f1e(n){rl().location.href=n}function vW(){return typeof rl().WorkerGlobalScope<"u"&&typeof rl().importScripts=="function"}function g1e(){return x(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function m1e(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function v1e(){return vW()?self:null}var wW="firebaseLocalStorageDb",w1e=1,tC="firebaseLocalStorage",_W="fbase_key",tp=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function sC(n,e){return n.transaction([tC],e?"readwrite":"readonly").objectStore(tC)}function _1e(){let n=indexedDB.deleteDatabase(wW);return new tp(n).toPromise()}function D5(){let n=indexedDB.open(wW,w1e);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(tC,{keyPath:_W})}catch(i){t(i)}}),n.addEventListener("success",()=>x(null,null,function*(){let r=n.result;r.objectStoreNames.contains(tC)?e(r):(r.close(),yield _1e(),e(yield D5()))}))})}function V$(n,e,t){return x(this,null,function*(){let r=sC(n,!0).put({[_W]:e,value:t});return new tp(r).toPromise()})}function y1e(n,e){return x(this,null,function*(){let t=sC(n,!1).get(e),r=yield new tp(t).toPromise();return r===void 0?null:r.value})}function j$(n,e){let t=sC(n,!0).delete(e);return new tp(t).toPromise()}var k1e=800,b1e=3,x1e=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return x(this,null,function*(){return this.db?this.db:(this.db=yield D5(),this.db)})}_withRetries(t){return x(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>b1e)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return x(this,null,function*(){return vW()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return x(this,null,function*(){this.receiver=p1e._getInstance(v1e()),this.receiver._subscribe("keyChanged",(t,r)=>x(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>x(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return x(this,null,function*(){var t,r;if(this.activeServiceWorker=yield g1e(),!this.activeServiceWorker)return;this.sender=new T5(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return x(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||m1e()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return x(this,null,function*(){try{if(!indexedDB)return!1;let t=yield D5();return yield V$(t,Jx,"1"),yield j$(t,Jx),!0}catch{}return!1})}_withPendingWrite(t){return x(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(i=>V$(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return x(this,null,function*(){let r=yield this._withRetries(i=>y1e(i,t));return this.localCache[t]=r,r})}_remove(t){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(r=>j$(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return x(this,null,function*(){let t=yield this._withRetries(o=>{let s=sC(o,!1).getAll();return new tp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>x(this,null,function*(){return this._poll()}),k1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),yW=x1e;var TZe=cW("rcb"),DZe=new ep(3e4,6e4);function kW(n,e){return e?mc(e):(et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rv=class extends Wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zg(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function C1e(n){return fW(n.auth,new rv(n),n.bypassAuthState)}function E1e(n){let{auth:e,user:t}=n;return et(t,e,"internal-error"),i1e(t,new rv(n),n.bypassAuthState)}function M1e(n){return x(this,null,function*(){let{auth:e,user:t}=n;return et(t,e,"internal-error"),r1e(t,new rv(n),n.bypassAuthState)})}var nC=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>x(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return x(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C1e;case"linkViaPopup":case"linkViaRedirect":return M1e;case"reauthViaPopup":case"reauthViaRedirect":return E1e;default:Ss(this.auth,"internal-error")}}resolve(e){wc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var S1e=new ep(2e3,1e4);function eR(n,e,t){return x(this,null,function*(){if(Ai(n.app))return Promise.reject(la(n,"operation-not-supported-in-this-environment"));let r=iu(n);kme(n,e,nv);let i=kW(r,t);return new I1e(r,"signInViaPopup",e,i).executeNotNull()})}var I1e=(()=>{class n extends nC{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return x(this,null,function*(){let t=yield this.execute();return et(t,this.auth,"internal-error"),t})}onExecution(){return x(this,null,function*(){wc(this.filter.length===1,"Popup operations only handle one event");let t=J5();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,S1e.get())};t()}}n.currentPopupAction=null;return n})(),A1e="pendingRedirect",Hx=new Map,R5=class n extends nC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return x(this,null,function*(){let e=Hx.get(this.auth._key());if(!e){try{let r=(yield T1e(this.resolver,this.auth))?yield Mo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hx.set(this.auth._key(),e)}return this.bypassAuthState||Hx.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return x(this,null,function*(){if(e.type==="signInViaRedirect")return Mo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return x(this,null,function*(){})}cleanUp(){}};function T1e(n,e){return x(this,null,function*(){let t=P1e(e),r=R1e(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function D1e(n,e){Hx.set(n._key(),e)}function R1e(n){return mc(n._redirectPersistence)}function P1e(n){return jx(A1e,n.config.apiKey,n.name)}function O1e(n,e,t=!1){return x(this,null,function*(){if(Ai(n.app))return Promise.reject(vc(n));let r=iu(n),i=kW(r,e),s=yield new R5(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var N1e=600*1e3,P5=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L1e(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bW(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(la(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N1e&&this.cachedEventUids.clear(),this.cachedEventUids.has(H$(e))}saveEventToCache(e){this.cachedEventUids.add(H$(e)),this.lastProcessedEventTime=Date.now()}};function H$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bW({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function L1e(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bW(n);default:return!1}}function F1e(t){return x(this,arguments,function*(n,e={}){return il(n,"GET","/v1/projects",e)})}var B1e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V1e=/^https?/;function j1e(n){return x(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield F1e(n);for(let t of e)try{if(H1e(t))return}catch{}Ss(n,"unauthorized-domain")})}function H1e(n){let e=p5(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!V1e.test(t))return!1;if(B1e.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var U1e=new ep(3e4,6e4);function U$(){let n=rl().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z1e(n){return new Promise((e,t)=>{var r,i,o;function s(){U$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U$(),t(la(n,"network-request-failed"))},timeout:U1e.get()})}if(!((i=(r=rl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rl().gapi)===null||o===void 0)&&o.load)s();else{let a=cW("iframefcb");return rl()[a]=()=>{gapi.load?s():t(la(n,"network-request-failed"))},lW(`${Ume()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ux=null,e})}var Ux=null;function $1e(n){return Ux=Ux||z1e(n),Ux}var W1e=new ep(5e3,15e3),G1e="__/auth/iframe",q1e="emulator/auth/iframe",K1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X1e(n){let e=n.config;et(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?B5(e,q1e):`https://${n.config.authDomain}/${G1e}`,r={apiKey:e.apiKey,appName:n.name,v:el},i=Y1e.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Vg(r).slice(1)}`}function Z1e(n){return x(this,null,function*(){let e=yield $1e(n),t=rl().gapi;return et(t,n,"internal-error"),e.open({where:document.body,url:X1e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K1e,dontclear:!0},r=>new Promise((i,o)=>x(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=la(n,"network-request-failed"),a=rl().setTimeout(()=>{o(s)},W1e.get());function l(){rl().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var Q1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J1e=500,e2e=600,t2e="_blank",n2e="http://localhost",rC=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function r2e(n,e,t,r=J1e,i=e2e){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},Q1e),{width:r.toString(),height:i.toString(),top:o,left:s}),d=mi().toLowerCase();t&&(a=tW(d)?t2e:t),J$(d)&&(e=e||n2e,l.scrollbars="yes");let h=Object.entries(l).reduce((m,[v,_])=>`${m}${v}=${_},`,"");if(Lme(d)&&a!=="_self")return i2e(e||"",a),new rC(null);let f=window.open(e||"",a,h);et(f,n,"popup-blocked");try{f.focus()}catch{}return new rC(f)}function i2e(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var o2e="__/auth/handler",s2e="emulator/auth/handler",a2e=encodeURIComponent("fac");function z$(n,e,t,r,i,o){return x(this,null,function*(){et(n.config.authDomain,n,"auth-domain-config-required"),et(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:el,eventId:i};if(e instanceof nv){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",n$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(o||{}))s[h]=f}if(e instanceof Zx){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),d=l?`#${a2e}=${encodeURIComponent(l)}`:"";return`${l2e(n)}?${Vg(a).slice(1)}${d}`})}function l2e({config:n}){return n.emulator?B5(n,s2e):`https://${n.authDomain}/${o2e}`}var h5="webStorageSupport",O5=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q5,this._completeRedirectFn=O1e,this._overrideRedirectResult=D1e}_openPopup(e,t,r,i){return x(this,null,function*(){var o;wc((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield z$(e,t,r,p5(),i);return r2e(e,s,J5())})}_openRedirect(e,t,r,i){return x(this,null,function*(){yield this._originValidation(e);let o=yield z$(e,t,r,p5(),i);return f1e(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(wc(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return x(this,null,function*(){let t=yield Z1e(e),r=new P5(e);return t.register("authEvent",i=>(et(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(h5,{type:h5},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[h5];s!==void 0&&t(!!s),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j1e(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sW()||eW()||H5()}},xW=O5;var $$="@firebase/auth",W$="1.10.8";var N5=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function c2e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2e(n){es(new Ii("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;et(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aW(n)},d=new y5(r,i,o,l);return $me(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),es(new Ii("auth-internal",e=>{let t=iu(e.getProvider("auth").getImmediate());return(r=>new N5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn($$,W$,c2e(n)),Bn($$,W$,"esm2017")}var u2e=300,h2e=U3("authIdTokenMaxAge")||u2e,G$=null,p2e=n=>e=>x(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>h2e)return;let i=t?.token;G$!==i&&(G$=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tR(n=pc()){let e=Zd(n,"auth");if(e.isInitialized())return e.getImmediate();let t=U5(n,{popupRedirectResolver:xW,persistence:[yW,mW,Q5]}),r=U3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=p2e(o.toString());X5(t,s,()=>s(t.currentUser)),ov(t,a=>s(a))}}let i=j3("auth");return i&&z5(t,`http://${i}`),t}function f2e(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jme({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=la("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",f2e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2e("Browser");function MW(n){return new Ze(function(e){var t=ov(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var SW="auth",Ti=class{constructor(e){return e}},rp=class{constructor(){return Qd(SW)}};var nR=new pe("angularfire2.auth-instances");function Z2e(n,e){let t=Jh(SW,n,e);return t&&new Ti(t)}function Q2e(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ti(r)}}var J2e={provide:rp,deps:[[new Or,nR]]},eve={provide:Ti,useFactory:Z2e,deps:[[new Or,nR],sa]};function IW(n,...e){return Bn("angularfire",tl.full,"auth"),di([eve,J2e,{provide:nR,useFactory:Q2e(n),multi:!0,deps:[Fe,Le,nl,fc,[new Or,eu],...e]}])}var qg=Ir(MW,!0);var AW=Ir(W5,!0,2);var aC=Ir(Y5,!0,2),TW=Ir(tR,!0);var DW=Ir(q5,!0,2);var RW=Ir(G5,!0,2);var lC=Ir(eR,!0,2);var PW=Ir(Z5,!0,2);var OW=Ir(K5,!0,2);var Sn={ADDSOCIALGREETING:"/addSocialGreeting",ADDSOCIALLINK:"/addSocialLink",UPLOADICON:"/uploadIconAndGetURL",SCANPDF:"/scanpdf",UPDATEUSERPROFILE:"/updateProfile",GETUSERPROFILE:"/userProfile",GETLATEXFROMUSERPROFILE:"/getTexFromProfile",GETPDFFROMLATEX:"/convert-tex",SAVETEX:"/saveResume",GETTEXCONTENT:"/getTexContent",MAP_ID_TO_EMAIL:"/mapEmailToId",GET_ID_FROM_EMAIL:"/getIdFromEmail",DELETE_SOCIAL_LINK:"/deleteSocialLink",GET_PDF_FROM_EMAIL:"/getPdfFromEmail",GET_BENTO_FROM_PORTFOLIO_DATA:"/bento",SAVE_BENTO:"/saveBento",GET_BENTO_WEBSITE:"/getSavedBento",GET_BENTO_FROM_EMAIL:"/getBentoFromEmail"};var ou={production:!0,firebase:{projectId:"socially-91ef8",appId:"1:102361257672:web:ed6e7fbf8a75c2db3277fd",storageBucket:"socially-91ef8.firebasestorage.app",apiKey:"AIzaSyBVz3JmNbZk--RcKVD4mCoa9-kg_QMfQYE",authDomain:"socially-91ef8.firebaseapp.com",messagingSenderId:"102361257672",measurementId:"G-BPWKSPYQRB"},backend:{baseURL:"https://socially-backend-keig.onrender.com"}};var Fr=class n{constructor(e){this.httpclient=e}get(e,t,r){let i=ou.backend.baseURL+e;return console.log(i),sh(this.httpclient.get(i,{headers:{Authorization:r||""},params:t}).pipe(oo(o=>{throw Error(o.message)})))}getBlob(e,t,r){let i=ou.backend.baseURL+e;return console.log(i),sh(this.httpclient.get(i,{headers:{Authorization:r||""},responseType:"blob",params:t}).pipe(oo(o=>{throw Error(o.message)})))}post(e,t,r){let i=ou.backend.baseURL+e;return console.log(i),sh(this.httpclient.post(i,t,{headers:{Authorization:r||""}}).pipe(oo(o=>{throw Error(`${o.message}`)})))}postBlob(e,t,r){let i=ou.backend.baseURL+e;return console.log(i),sh(this.httpclient.post(i,t,{headers:{Authorization:r||""},responseType:"blob"}).pipe(oo(o=>{throw console.error("API error",o),Error(`${o.message}`)})))}delete(e,t,r){let i=ou.backend.baseURL+e;return console.log(i),sh(this.httpclient.delete(i,{headers:{Authorization:r||""},params:t}).pipe(oo(o=>{throw console.error("API error",o),Error(`${o.message}`)})))}static \u0275fac=function(t){return new(t||n)(Ie(ab))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var er=class n{constructor(e,t){this.auth=e;this.apiService=t}getCurrentUser(){return qg(this.auth)}getCurrentUserObject(){return this.auth.currentUser}mapIDwithEmail(){return x(this,null,function*(){this.apiService.post(Sn.MAP_ID_TO_EMAIL,null,yield this.getCurrentUserObject().getIdToken())})}getUserIdFromEmail(e){return x(this,null,function*(){return(yield this.apiService.get(Sn.GET_ID_FROM_EMAIL,{email:e},null)).id})}static \u0275fac=function(t){return new(t||n)(Ie(Ti),Ie(Fr))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var nve=Ba("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",{variants:{},defaultVariants:{}}),Di=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be(nve(),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCard",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var go=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("px-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCardContent",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Ri=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("text-muted-foreground text-sm",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCardDescription",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var ts=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex items-center px-6 [.border-t]:pt-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCardFooter",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var mo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCardHeader",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var vo=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("leading-none font-semibold",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmCardTitle",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};function rve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Username is required."),I())}function ive(n,e){n&1&&(D(0,"hlm-error"),V(1,"Username is too short."),I())}function ove(n,e){n&1&&(D(0,"hlm-error"),V(1,"Username is too long."),I())}function sve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Email is required."),I())}function ave(n,e){n&1&&(D(0,"hlm-error"),V(1,"Invalid Email."),I())}function lve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Password is required."),I())}function cve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Password is too short."),I())}function dve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Password is too long."),I())}var cC=class n extends Hn{constructor(t){super();this.router=t}registerForm=null;auth=C(Ti);_hlmDialogService=C(Jn);userService=C(er);provider=new np;preloaderService=C(Un);ngOnInit(){this.registerForm=new Ha({username:new ar({value:null,disabled:!1},[je.required,je.minLength(3),je.maxLength(20)]),email:new ar({value:null,disabled:!1},[je.required,je.email]),password:new ar({value:null,disabled:!1},[je.required,je.minLength(6),je.maxLength(32)])})}hidden=!0;navigateToLoginScreen(){this.router.navigate(["/login"])}showPasswordToggle(t){this.hidden=!t}loginWithGoogle(){return x(this,null,function*(){try{lC(this.auth,this.provider).then(t=>x(this,null,function*(){let r=np.credentialFromResult(t);return aC(t)?.isNewUser&&(yield this.userService.mapIDwithEmail()),this.router.navigate(["/home"]),r}))}catch(t){this._hlmDialogService.open(Xt,{context:{error:"Unable to Sign you up",desc:`Error while authenticating with backend ${t}`}})}})}registerWithEmail(){return x(this,null,function*(){if(!this.registerForm?.valid){this.registerForm?.markAllAsTouched();return}let t=this.registerForm.get("username")?.value,r=this.registerForm.get("email")?.value,i=this.registerForm.get("password")?.value;this.preloaderService.show();try{let o=yield AW(this.auth,r,i);yield OW(o.user,{displayName:t}),yield DW(o.user),yield this.userService.mapIDwithEmail(),this.preloaderService.hide(),this._hlmDialogService.open(Ms,{context:{info:"A verification email has been sent to your email address. Please verify your email before logging in.",desc:"Verify your email"}})}catch(o){this.preloaderService.hide();let s=o;this._hlmDialogService.open(Xt,{context:{error:s.message,desc:"Problem while registering"}})}})}static \u0275fac=function(r){return new(r||n)(Re(Lr))};static \u0275cmp=de({type:n,selectors:[["app-register-screen"]],features:[ft],decls:48,vars:12,consts:[[1,"main"],[1,"mb-8"],["hlmCard","",1,"min-w-xs","md:min-w-md"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"space-y-4",3,"submit","formGroup"],["for","registerUsername","hlmLabel",""],[1,"text-xs"],["id","registerUsername","formControlName","username","hlmInput","","placeholder","Username",1,"w-full"],["for","registerEmail","hlmLabel",""],["id","registerEmail","formControlName","email","hlmInput","","placeholder","Email",1,"w-full"],["for","registerPassword","hlmLabel",""],["id","registerPassword","hlmInput","","placeholder","Password","formControlName","password",1,"w-full",3,"type"],[1,"flex","items-center","justify-end","mb-4"],["id","showPassword",1,"mr-2",3,"changed"],["for","showPassword","hlmLabel","",1,"flex","items-center"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",3,"click"],["hlmBtn","","variant","outline",1,"shrink-0",3,"click"],["src","google.png","alt","","srcset","",1,"w-[20px]","h-[20px]","shrink-0"],["hlmBtn","",1,"flex-1",3,"click"]],template:function(r,i){if(r&1&&(D(0,"div",0),se(1,"app-logo"),D(2,"h3"),V(3,"Socially"),I(),D(4,"h4",1),V(5,"Create your account"),I(),D(6,"div",2)(7,"div",3)(8,"div",4),V(9,"Welcome!"),I(),D(10,"div",5),V(11,"Register"),I()(),D(12,"div",6)(13,"form",7),we("submit",function(){return i.registerWithEmail()}),D(14,"hlm-form-field")(15,"label",8)(16,"div",9),V(17,"username"),I()(),se(18,"input",10),ne(19,rve,2,0,"hlm-error"),ne(20,ive,2,0,"hlm-error"),ne(21,ove,2,0,"hlm-error"),I(),D(22,"hlm-form-field")(23,"label",11)(24,"div",9),V(25,"Email"),I()(),se(26,"input",12),ne(27,sve,2,0,"hlm-error"),ne(28,ave,2,0,"hlm-error"),I(),D(29,"hlm-form-field")(30,"label",13)(31,"div",9),V(32,"Password"),I()(),se(33,"input",14),ne(34,lve,2,0,"hlm-error"),ne(35,cve,2,0,"hlm-error"),ne(36,dve,2,0,"hlm-error"),I(),D(37,"div",15)(38,"hlm-checkbox",16),we("changed",function(s){return i.showPasswordToggle(s)}),I(),D(39,"label",17),V(40," show password "),I()()()(),D(41,"div",18)(42,"button",19),we("click",function(){return i.navigateToLoginScreen()}),V(43," Log In "),I(),D(44,"button",20),we("click",function(){return i.loginWithGoogle()}),se(45,"img",21),I(),D(46,"button",22),we("click",function(){return i.registerWithEmail()}),V(47," Register "),I()()()()),r&2){let o,s,a,l,d,h,f,m;P(2),te(i.h3Style),P(11),ve("formGroup",i.registerForm),P(6),re(!(i.registerForm==null||(o=i.registerForm.get("username"))==null||o.errors==null)&&o.errors.required&&(!(i.registerForm==null||(o=i.registerForm.get("username"))==null)&&o.dirty||!(i.registerForm==null||(o=i.registerForm.get("username"))==null)&&o.touched)?19:-1),P(),re(!(i.registerForm==null||(s=i.registerForm.get("username"))==null||s.errors==null)&&s.errors.minlength&&(!(i.registerForm==null||(s=i.registerForm.get("username"))==null)&&s.dirty||!(i.registerForm==null||(s=i.registerForm.get("username"))==null)&&s.touched)?20:-1),P(),re(!(i.registerForm==null||(a=i.registerForm.get("username"))==null||a.errors==null)&&a.errors.maxlength&&(!(i.registerForm==null||(a=i.registerForm.get("username"))==null)&&a.dirty||!(i.registerForm==null||(a=i.registerForm.get("username"))==null)&&a.touched)?21:-1),P(6),re(!(i.registerForm==null||(l=i.registerForm.get("email"))==null||l.errors==null)&&l.errors.required&&(!(i.registerForm==null||(l=i.registerForm.get("email"))==null)&&l.dirty||!(i.registerForm==null||(l=i.registerForm.get("email"))==null)&&l.touched)?27:-1),P(),re(!(i.registerForm==null||(d=i.registerForm.get("email"))==null||d.errors==null)&&d.errors.email&&(!(i.registerForm==null||(d=i.registerForm.get("email"))==null)&&d.dirty||!(i.registerForm==null||(d=i.registerForm.get("email"))==null)&&d.touched)?28:-1),P(5),ve("type",i.hidden?"password":"text"),P(),re(!(i.registerForm==null||(h=i.registerForm.get("password"))==null||h.errors==null)&&h.errors.required&&(!(i.registerForm==null||(h=i.registerForm.get("password"))==null)&&h.dirty||!(i.registerForm==null||(h=i.registerForm.get("password"))==null)&&h.touched)?34:-1),P(),re(!(i.registerForm==null||(f=i.registerForm.get("password"))==null||f.errors==null)&&f.errors.minlength&&(!(i.registerForm==null||(f=i.registerForm.get("password"))==null)&&f.dirty||!(i.registerForm==null||(f=i.registerForm.get("password"))==null)&&f.touched)?35:-1),P(),re(!(i.registerForm==null||(m=i.registerForm.get("password"))==null||m.errors==null)&&m.errors.maxlength&&(!(i.registerForm==null||(m=i.registerForm.get("password"))==null)&&m.dirty||!(i.registerForm==null||(m=i.registerForm.get("password"))==null)&&m.touched)?36:-1)}},dependencies:[za,zd,Ua,Hd,Ud,Lo,sc,bn,ja,Va,Jo,$a,Gd,Di,mo,ts,vo,Ri,go,Ka,Tg],encapsulation:2})};function uve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Email is required."),I())}function hve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Invalid Email."),I())}function pve(n,e){n&1&&(D(0,"hlm-error"),V(1,"Password is required."),I())}var dC=class n extends Hn{constructor(t){super();this.router=t}auth=C(Ti);provider=new np;_hlmDialogService=C(Jn);preloaderService=C(Un);userService=C(er);loginForm=null;ngOnInit(){this.loginForm=new Ha({email:new ar({value:null,disabled:!1},[je.required,je.email]),password:new ar({value:null,disabled:!1},[je.required])})}get email(){return this.loginForm?.get("email")}get password(){return this.loginForm?.get("password")}hidden=!0;navigateToRegisterScreen(){this.router.navigate(["/register"])}showPasswordToggle(t){this.hidden=!t}navigateToHomeScreen(){this.router.navigate(["/home"])}loginWithGoogle(){try{lC(this.auth,this.provider).then(t=>x(this,null,function*(){let r=np.credentialFromResult(t);return aC(t)?.isNewUser&&this.userService.mapIDwithEmail(),this.router.navigate(["/home"]),r}))}catch(t){this._hlmDialogService.open(Xt,{context:{error:"Unable to Log you in",desc:`Error while authenticating with backend ${t}`}})}}loginWithEmail(){return x(this,null,function*(){if(!this.loginForm?.valid){this.loginForm?.markAllAsTouched();return}let t=this.email?.value,r=this.password?.value;this.preloaderService.show();try{if(!(yield RW(this.auth,t,r)).user.emailVerified){this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:"Please verify your email before logging in.",desc:"Email not verified"}});return}this.preloaderService.hide(),this.router.navigate(["/home"])}catch(i){let o=i;this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:o.message,desc:"Problem while login"}})}})}static \u0275fac=function(r){return new(r||n)(Re(Lr))};static \u0275cmp=de({type:n,selectors:[["app-login-screen"]],features:[ft],decls:38,vars:7,consts:[[1,"main"],[1,"mb-8"],["hlmCard","",1,"min-w-xs","md:min-w-md"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"space-y-4",3,"submit","formGroup"],["for","loginEmail","hlmLabel",""],[1,"text-xs"],["id","loginEmail","hlmInput","","placeholder","Email","formControlName","email",1,"w-full"],["for","loginPassword","hlmLabel",""],["id","loginPassword","hlmInput","","placeholder","Password","formControlName","password",1,"w-full",3,"type"],[1,"flex","items-center","justify-end","mb-4"],["id","loginShowPassword",1,"mr-2",3,"changed"],["for","loginShowPassword","hlmLabel","",1,"flex","items-center"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",3,"click"],["hlmBtn","","variant","outline",1,"shrink-0",3,"click"],["src","google.png","alt","","srcset","",1,"w-[20px]","h-[20px]","shrink-0"],["hlmBtn","",1,"flex-1",3,"click"]],template:function(r,i){r&1&&(D(0,"div",0),se(1,"app-logo"),D(2,"h3"),V(3,"Socially"),I(),D(4,"h4",1),V(5,"Your personal social Butler"),I(),D(6,"div",2)(7,"div",3)(8,"div",4),V(9,"Welcome Back!"),I(),D(10,"div",5),V(11,"Log In"),I()(),D(12,"div",6)(13,"form",7),we("submit",function(){return i.loginWithEmail()}),D(14,"hlm-form-field")(15,"label",8)(16,"div",9),V(17,"Email"),I()(),se(18,"input",10),ne(19,uve,2,0,"hlm-error"),ne(20,hve,2,0,"hlm-error"),I(),D(21,"hlm-form-field")(22,"label",11)(23,"div",9),V(24,"Password"),I()(),se(25,"input",12),ne(26,pve,2,0,"hlm-error"),I(),D(27,"div",13)(28,"hlm-checkbox",14),we("changed",function(s){return i.showPasswordToggle(s)}),I(),D(29,"label",15),V(30," show password "),I()()()(),D(31,"div",16)(32,"button",17),we("click",function(){return i.navigateToRegisterScreen()}),V(33," Register "),I(),D(34,"button",18),we("click",function(){return i.loginWithGoogle()}),se(35,"img",19),I(),D(36,"button",20),we("click",function(){return i.loginWithEmail()}),V(37,"Log In"),I()()()()),r&2&&(P(2),te(i.h3Style),P(11),ve("formGroup",i.loginForm),P(6),re(!(i.email==null||i.email.errors==null)&&i.email.errors.required&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?19:-1),P(),re(!(i.email==null||i.email.errors==null)&&i.email.errors.email&&(i.email!=null&&i.email.dirty||i.email!=null&&i.email.touched)?20:-1),P(5),ve("type",i.hidden?"password":"text"),P(),re(!(i.password==null||i.password.errors==null)&&i.password.errors.required&&(i.password!=null&&i.password.dirty||i.password!=null&&i.password.touched)?26:-1))},dependencies:[za,zd,Ua,Hd,Ud,Lo,sc,bn,ja,Va,Jo,$a,Di,mo,ts,vo,Ri,go,Gd,Ka,Tg],encapsulation:2})};var uC=class n{auth=C(Ti);router=C(Lr);logout(){PW(this.auth).then(()=>{this.router.navigate(["/login"])}).catch(e=>{console.log("sign out error: "+e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-top-nav-bar"]],decls:7,vars:0,consts:[[1,"h-[50px]","backdrop-blur-md"],[1,"flex","h-full","p-2","items-center","justify-between"],[1,"flex","gap-4"],["hlmBtn","","variant","outline",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div"),V(3,"Socially"),I(),D(4,"div",2)(5,"button",3),we("click",function(){return r.logout()}),V(6,"SignOut"),I()()()())},dependencies:[bn],styles:["[_nghost-%COMP%]{position:fixed;top:0;width:100%}"]})};var ol=class n{apiService=C(Fr);userService=C(er);resumeDataDTO=null;setResumeDataDTO(e){this.resumeDataDTO=e}clearResumeDataDTO(){this.resumeDataDTO=null}getResumeDataFirebase(){return x(this,null,function*(){let e=yield this.apiService.get(Sn.GETUSERPROFILE,null,yield this.userService.getCurrentUserObject().getIdToken());return e||null})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};function gve(n,e){if(n&1){let t=tn();D(0,"div",7)(1,"div",8)(2,"div",9),V(3),Xo(4,"titlecase"),I(),D(5,"div",10),V(6),I()(),D(7,"div",11),se(8,"ng-icon",12),I(),D(9,"div",13)(10,"button",14),we("click",function(){let i=We(t).$implicit,o=ae();return Ge(o.navigateToScreen(i.route))}),V(11,"Edit"),I(),D(12,"button",15),we("click",function(){let i=We(t).$implicit,o=ae();return Ge(o.navigateToViewer(i.type))}),V(13," View "),I()()()}if(n&2){let t=e.$implicit;P(3),qe(bs(4,3,t.type)),P(3),qe(t.desc),P(2),ve("name",t.icon)}}var hC=class n extends Hn{constructor(t,r,i,o,s){super();this.router=t;this.userService=r;this.apiService=i;this.preloaderService=o;this.resumeDataService=s}gUser=null;ngOnInit(){this.gUser=this.userService.getCurrentUserObject()}socials=[{type:"social-links",icon:"lucideLink",desc:"Organize all your social media profiles in one place",route:"social-links"},{type:"resume",icon:"lucideFileText",desc:"Showcase your professional CV or resume",route:"resume"},{type:"bento",icon:"lucideLayoutGrid",desc:"A portfolio built using modular bento cards to showcase your projects, skills, and achievements",route:"bento"},{type:"analytics",icon:"lucideChartBar",desc:"Manage your data",route:"analytics"}];navigateToScreen(t){this.router.navigate([t])}pdfSelection(t){return x(this,null,function*(){this.preloaderService.show();let r=t.target;if(r&&r.files&&r.files[0]){let i=new FormData;i.append("file",r.files[0]);let o=yield this.userService.getCurrentUserObject().getIdToken(),s=yield this.apiService.post(Sn.SCANPDF,i,o);try{let a=s;this.resumeDataService.setResumeDataDTO(a),this.router.navigate(["/analytics"])}catch(a){console.error(a)}this.preloaderService.hide()}this.preloaderService.hide()})}navigateToViewer(t){switch(t){case"social-links":this.router.navigate(["/social-links",this.gUser?.email]);break;case"analytics":this.router.navigate(["/analytics-viewer"]);break;case"resume":this.router.navigate(["/resume-viewer",this.gUser?.email]);break;case"bento":this.router.navigate(["/bento-viewer",this.gUser?.email]);break;default:break}}static \u0275fac=function(r){return new(r||n)(Re(Lr),Re(er),Re(Fr),Re(Un),Re(ol))};static \u0275cmp=de({type:n,selectors:[["app-home-screen"]],features:[Ne([Yt({lucideLayoutGrid:rx,lucideLink:FU,lucideContact:DU,lucideFileText:OU,lucideBadgeCheck:MU,lucidePen:jU,lucideMail:BU,lucideQrCode:UU,lucideChartBar:SU,lucideDownload:nx,lucideVideo:WU,lucideFilePlus2:PU})]),ft],decls:21,vars:15,consts:[["fileInput",""],[1,"flex","items-center","p-10","flex-col","nav-bar-margin"],["accept","application/pdf","type","file",3,"change","hidden"],["tabindex","1",1,"flex","items-center","flex-col","justify-center","px-10","py-5","rounded-xl","mt-10","border-dashed","border-5","focusable",3,"click"],["hlm","","size","80px","name","lucideFilePlus2"],[1,"mt-20"],[1,"flex","flex-wrap","justify-center","gap-4","mt-8","items-stretch"],["hlmCard","",1,"w-xs","cursor-pointer","focusable"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],["size","30px","hlm","",3,"name"],["hlmCardFooter",""],["hlmBtn","",3,"click"],["hlmBtn","","variant","outline",3,"click"]],template:function(r,i){if(r&1){let o=tn();se(0,"app-top-nav-bar"),D(1,"div",1)(2,"h1"),V(3),I(),D(4,"div")(5,"p"),V(6," Drop your resume, linkedin pdf or anything that tells us about you "),I(),D(7,"input",2,0),we("change",function(a){return We(o),Ge(i.pdfSelection(a))}),I(),D(9,"div",3),we("click",function(){We(o);let a=Jl(8);return Ge(a.click())}),se(10,"ng-icon",4),D(11,"p"),V(12," drop here, or click to choose file "),I()()(),D(13,"div",5)(14,"h3"),V(15,"Your socials"),I(),D(16,"p"),V(17," Here are the collection of socials you have created, or can be created "),I(),D(18,"div",6),yn(19,gve,14,5,"div",7,ni),I()()()}r&2&&(P(2),te(It("",i.h1Style," text-center")),P(),yt("Welcome, ",i.gUser==null?null:i.gUser.displayName),P(2),te(It("",i.mutedStyle," mt-20 text-center")),P(2),ve("hidden",!0),P(4),te(It("",i.mutedStyle," mt-8 text-center")),P(3),te(i.h3Style),P(2),te(i.mutedStyle),P(3),kn(i.socials))},dependencies:[nn,jn,Di,mo,ts,vo,Ri,go,bn,uC,eD],encapsulation:2})};var ip=class n{userClass=W("",{alias:"class"});stickyLabels=W(!1,{transform:gt});_stateProvider=XH({optional:!0});_sideProvider=KH({optional:!0});_computedClass=ee(()=>be("w-full relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md p-1 data-[side=bottom]:top-[2px] data-[side=top]:bottom-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmSelectContent",""],["hlm-select-content"]],hostVars:4,hostBindings:function(t,r){t&2&&(ut("data-state",(r._stateProvider==null?null:r._stateProvider.state())??"open")("data-side",(r._sideProvider==null?null:r._sideProvider.side())??"bottom"),te(r._computedClass()))},inputs:{userClass:[1,"class","userClass"],stickyLabels:[1,"stickyLabels"]}})};var NW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})();var vve=["viewport"],wve=["*",[["hlm-select-scroll-up"]],[["brnSelectScrollUp"]],[["brnSelectScrollDown"]],[["hlm-select-scroll-down"]]],_ve=["*","hlm-select-scroll-up","brnSelectScrollUp","brnSelectScrollDown","hlm-select-scroll-down"];function yve(n,e){n&1&&(Xe(0,1),Xe(1,2))}function kve(n,e){n&1&&Ui(0)}function bve(n,e){n&1&&(Xe(0,3),Xe(1,4))}function xve(n,e){n&1&&Ui(0)}var Cve=[[["hlm-select-trigger"],["","brnSelectTrigger",""]],[["label","hlmLabel",""],["label","brnLabel",""]],"*"],Eve=["hlm-select-trigger,[brnSelectTrigger]","label[hlmLabel],label[brnLabel]","*"];function Mve(n,e){if(n&1&&(D(0,"label",1),V(1),I()),n&2){let t=ae();ut("id",t.labelId()),P(),qe(t.placeholder())}}function Sve(n,e){n&1&&Xe(0,1)}function Ive(n,e){n&1&&Xe(0,2)}var Ave=n=>({$implicit:n});function Tve(n,e){if(n&1&&Ui(0,2),n&2){let t,r=ae(),i=Jl(5);ve("ngTemplateOutlet",((t=r._customPlaceholderTemplate())==null?null:t.templateRef)??i)}}function Dve(n,e){if(n&1&&Ui(0,3),n&2){let t,r=ae(),i=Jl(3);ve("ngTemplateOutlet",((t=r._customValueTemplate())==null?null:t.templateRef)??i)("ngTemplateOutletContext",ec(2,Ave,r._select.value()))}}function Rve(n,e){if(n&1&&V(0),n&2){let t=ae();qe(t._value())}}function Pve(n,e){if(n&1&&V(0),n&2){let t=ae();qe(t.placeholder())}}var jW=new pe("BrnSelectContentToken");function Ove(){return C(jW)}function Nve(n){return{provide:jW,useExisting:n}}var HW=new pe("BrnSelectToken");function fC(){return C(HW)}function Lve(n){return{provide:HW,useExisting:n}}var Fve=0,su=(()=>{class n{_select=fC();_content=Ove();elementRef=C(at);id=W(`brn-option-${++Fve}`);value=W();_disabled=W(!1,{alias:"disabled",transform:gt});get disabled(){return this._disabled()}selected=ee(()=>this.value()!==void 0&&this._select.isSelected(this.value()));_active=Me(!1);checkedState=ee(()=>this.selected()?"checked":"unchecked");dir=this._select.dir;select(){if(!this._disabled()){if(this._select.multiple()){this._select.toggleSelect(this.value());return}this._select.selectOption(this.value())}}getLabel(){return this.elementRef.nativeElement.textContent?.trim()??""}setInactiveStyles(){this._active.set(!1)}activate(){this._disabled()||this._content.setActiveOption(this)}focus(){this.elementRef.nativeElement.focus(),this._active.set(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnOption",""]],hostAttrs:["role","option"],hostVars:7,hostBindings:function(r,i){r&1&&we("click",function(){return i.select()})("mouseenter",function(){return i.activate()})("blur",function(){return i.setInactiveStyles()}),r&2&&(gr("id",i.id())("tabIndex",-1),ut("aria-selected",i.selected())("aria-disabled",i._disabled())("dir",i._select.dir())("data-active",i._active()?"":void 0)("data-disabled",i._disabled()?"":void 0))},inputs:{id:[1,"id"],value:[1,"value"],_disabled:[1,"disabled","_disabled"]}})}return n})(),pC=100,LW=(()=>{class n{_el=C(at);_selectContent=C(Yg);_endReached=new Te;_destroyRef=C(Gn);startEmittingEvents(){let t=en(this._el.nativeElement,"mouseleave");Cy(100).pipe(Ue(t),Ue(this._endReached),Wd(this._destroyRef)).subscribe(()=>this._selectContent.moveFocusUp())}stopEmittingEvents(){this._endReached.next(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectScrollUp",""],["brn-select-scroll-up"],["hlm-select-scroll-up",5,"noHlm"]],hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&we("mouseenter",function(){return i.startEmittingEvents()})}})}return n})(),FW=(()=>{class n{_el=C(at);_selectContent=C(Yg);_endReached=new Te;_destroyRef=C(Gn);startEmittingEvents(){let t=en(this._el.nativeElement,"mouseleave");Cy(100).pipe(Ue(t),Ue(this._endReached),Wd(this._destroyRef)).subscribe(()=>this._selectContent.moveFocusDown())}stopEmittingEvents(){this._endReached.next(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectScrollDown",""],["brn-select-scroll-down"],["hlm-select-scroll-down",5,"noHlm"]],hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&we("mouseenter",function(){return i.startEmittingEvents()})}})}return n})(),Yg=(()=>{class n{_elementRef=C(at);_injector=C(Le);_select=fC();_canScrollUp=Me(!1);_canScrollDown=Me(!1);_viewport=zi.required("viewport");_scrollUpBtn=ea(LW);_scrollDownBtn=ea(FW);_options=ta(su,{descendants:!0});keyManager=null;constructor(){xt(()=>{this._select.open()&&xi(()=>this.updateArrowDisplay(),{injector:this._injector})})}ngAfterContentInit(){this.keyManager=new qa(this._options,this._injector).withHomeAndEnd().withVerticalOrientation().withTypeAhead().withWrap().skipPredicate(t=>t.disabled),xt(()=>{let t=this._select.open(),r=this._options();if(!t||!r.length)return;let i=r.find(o=>o.selected());i?xi(()=>{this.keyManager?.setActiveItem(i)},{injector:this._injector}):xi(()=>{this.keyManager?.setFirstItemActive()},{injector:this._injector})},{injector:this._injector})}updateArrowDisplay(){let{scrollTop:t,scrollHeight:r,clientHeight:i}=this._viewport().nativeElement;this._canScrollUp.set(t>0);let o=r-i;this._canScrollDown.set(Math.ceil(t)<o)}handleScroll(){this.updateArrowDisplay()}focusList(){this._elementRef.nativeElement.focus()}moveFocusUp(){this._viewport().nativeElement.scrollBy({top:-pC,behavior:"smooth"}),this._viewport().nativeElement.scrollTop===0&&this._scrollUpBtn()?.stopEmittingEvents()}moveFocusDown(){this._viewport().nativeElement.scrollBy({top:pC,behavior:"smooth"});let t=this._elementRef.nativeElement.scrollHeight,r=this._viewport().nativeElement.scrollTop;t+r+pC>this._viewport().nativeElement.scrollHeight+pC/2&&this._scrollDownBtn()?.stopEmittingEvents()}setActiveOption(t){let r=this._options().findIndex(i=>i===t);r!==-1&&this.keyManager?.setActiveItem(r)}selectActiveItem(t){t.preventDefault();let r=this.keyManager?.activeItem;r&&this._select.toggleSelect(r.value())}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select-content"],["hlm-select-content",5,"noHlm"]],contentQueries:function(r,i,o){r&1&&(Er(o,i._scrollUpBtn,LW,5),Er(o,i._scrollDownBtn,FW,5),Er(o,i._options,su,5)),r&2&&qn(3)},viewQuery:function(r,i){r&1&&Ei(i._viewport,vve,5),r&2&&qn()},hostAttrs:["role","listbox","aria-orientation","vertical"],hostVars:6,hostBindings:function(r,i){r&1&&we("keydown",function(s){return i.keyManager==null?null:i.keyManager.onKeydown(s)})("keydown.enter",function(s){return i.selectActiveItem(s)})("keydown.space",function(s){return i.selectActiveItem(s)}),r&2&&(gr("id",i._select.id()+"--content"),ut("aria-multiselectable",i._select.multiple())("aria-disabled",i._select.disabled()||i._select.formDisabled())("aria-labelledBy",i._select.labelId())("aria-controlledBy",i._select.id()+"--trigger")("dir",i._select.dir()))},features:[Ne([Nve(n)])],ngContentSelectors:_ve,decls:9,vars:2,consts:[["scrollUp",""],["viewport",""],["scrollDown",""],[4,"ngTemplateOutlet"],["data-brn-select-viewport","",2,"flex","1 1 0%","position","relative","width","100%","overflow","auto","min-height","36px","padding-bottom","2px","margin-bottom","-2px",3,"scroll"]],template:function(r,i){if(r&1){let o=tn();Ft(wve),Io(0,yve,2,0,"ng-template",null,0,Xf)(2,kve,1,0,"ng-container",3),D(3,"div",4,1),we("scroll",function(){return We(o),Ge(i.handleScroll())}),Xe(5),I(),Io(6,bve,2,0,"ng-template",null,2,Xf)(8,xve,1,0,"ng-container",3)}if(r&2){let o=Jl(1),s=Jl(7);P(2),ve("ngTemplateOutlet",i._canScrollUp()&&i._scrollUpBtn()?o:null),P(6),ve("ngTemplateOutlet",i._canScrollDown()&&i._scrollDownBtn()?s:null)}},dependencies:[Zf],styles:["[_nghost-%COMP%]{display:flex;box-sizing:border-box;flex-direction:column;outline:none;pointer-events:auto}[data-brn-select-viewport][_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-brn-select-viewport][_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"],changeDetection:0})}return n})(),Bve=0,gC=(()=>{class n{_defaultErrorStateMatcher=C(ex);_parentForm=C(Uh,{optional:!0});_injector=C(Le);_parentFormGroup=C(Lo,{optional:!0});ngControl=C(Es,{optional:!0,self:!0});id=W(`brn-select-${++Bve}`);multiple=W(!1,{transform:gt});placeholder=W("");disabled=W(!1,{transform:gt});dir=W("ltr");closeDelay=W(100,{transform:ho});open=tc(!1);value=tc();compareWith=W((t,r)=>t===r);formDisabled=Me(!1);_selectLabel=ea(qd,{descendants:!1});_selectContent=ea.required(Yg);options=ta(su,{descendants:!0});selectedOptions=ee(()=>this.options().filter(t=>t.selected()));_overlayDir=zi.required(Og);trigger=Me(null);triggerWidth=Me(0);_delayedExpanded=v3(fx(this.open).pipe(xr(t=>t?Ye(t):Ye(t).pipe(WS(this.closeDelay()))),Wd()),{initialValue:!1});state=ee(()=>this.open()?"open":"closed");_positionChanges$=new Te;side=v3(this._positionChanges$.pipe(Je(t=>t.connectionPair.originY==="center"?t.connectionPair.originX==="start"?"left":"right":t.connectionPair.originY)),{initialValue:"bottom"});labelId=ee(()=>this._selectLabel()?.id??`${this.id()}--label`);_onChange=()=>{};_onTouched=()=>{};_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}];errorStateTracker;errorState=ee(()=>this.errorStateTracker.errorState());constructor(){this.ngControl!==null&&(this.ngControl.valueAccessor=this),this.errorStateTracker=new yg(this._defaultErrorStateMatcher,this.ngControl,this._parentFormGroup,this._parentForm)}ngDoCheck(){this.errorStateTracker.updateErrorState()}toggle(){this.open()?this.hide():this.show()}show(){this.open()||this.disabled()||this.formDisabled()||this.options()?.length==0||this.open.set(!0)}hide(){this.open()&&(this.open.set(!1),this._onTouched(),this.trigger()?.focus())}writeValue(t){this.value.set(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.formDisabled.set(t)}selectOption(t){if(this.multiple()){let r=this.value(),i=r?[...r,t]:[t];this.value.set(i)}else this.value.set(t);this._onChange?.(this.value()),this.multiple()||this.hide()}deselectOption(t){if(this.multiple()){let r=this.value();this.value.set(r.filter(i=>!this.compareWith()(i,t)))}else this.value.set(null);this._onChange?.(this.value())}toggleSelect(t){this.isSelected(t)?this.deselectOption(t):this.selectOption(t)}isSelected(t){let r=this.value();return Array.isArray(r)?r.some(i=>this.compareWith()(i,t)):t!==void 0?this.compareWith()(r,t):!1}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select"],["hlm-select"]],contentQueries:function(r,i,o){r&1&&(Er(o,i._selectLabel,qd,4),Er(o,i._selectContent,Yg,5),Er(o,i.options,su,5)),r&2&&qn(3)},viewQuery:function(r,i){r&1&&Ei(i._overlayDir,Og,5),r&2&&qn()},inputs:{id:[1,"id"],multiple:[1,"multiple"],placeholder:[1,"placeholder"],disabled:[1,"disabled"],dir:[1,"dir"],closeDelay:[1,"closeDelay"],open:[1,"open"],value:[1,"value"],compareWith:[1,"compareWith"]},outputs:{open:"openChange",value:"valueChange"},features:[Ne([YH(()=>n),UD(()=>n),Lve(n),{provide:jh,useExisting:$n(()=>n)}])],ngContentSelectors:Eve,decls:6,vars:5,consts:[["trigger","cdkOverlayOrigin"],[1,"hidden"],["cdk-overlay-origin","",3,"click"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"]],template:function(r,i){if(r&1){let o=tn();Ft(Cve),ne(0,Mve,2,2,"label",1)(1,Sve,1,0),D(2,"div",2,0),we("click",function(){return We(o),Ge(i.toggle())}),Xe(4),I(),Io(5,Ive,1,0,"ng-template",3),we("backdropClick",function(){return We(o),Ge(i.hide())})("detach",function(){return We(o),Ge(i.hide())})("positionChange",function(a){return We(o),Ge(i._positionChanges$.next(a))})}if(r&2){let o=Jl(3);re(!i._selectLabel()&&i.placeholder()?0:1),P(5),ve("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i._delayedExpanded())("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i.triggerWidth()>0?i.triggerWidth():"auto")}},dependencies:[Mx,Og,O2,NW],encapsulation:2,changeDetection:0})}return n})(),oR=(()=>{class n{labelledBy=Me("");static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectGroup",""]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(r,i){r&2&&ut("aria-labelledby",i.labelledBy())}})}return n})(),UW=(()=>{class n{_group=C(oR,{optional:!0});_label=C(qd,{host:!0});constructor(){this._group?.labelledBy.set(this._label.id())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectLabel",""]],features:[ln([qd])]})}return n})(),BW=(()=>{class n{templateRef=C(bi);static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectPlaceholder",""],["","hlmSelectPlaceholder",""]]})}return n})(),zW=(()=>{class n{_elementRef=C(at);_changeDetector=C($i);_select=fC();_ngControl=C(Es,{optional:!0});_platform=C(Qn);_triggerId=ee(()=>`${this._select.id()}--trigger`);_contentId=ee(()=>`${this._select.id()}--content`);_disabled=ee(()=>this._select.disabled()||this._select.formDisabled());_labelledBy=ee(()=>{let t=this._select.value();return Array.isArray(t)&&t.length>0?`${this._select.labelId()} ${this._select.id()}--value`:this._select.labelId()});_resizeObserver;_statusChangedSubscription;constructor(){this._select.trigger.set(this)}ngOnInit(){this._ngControl&&(this._statusChangedSubscription=this._ngControl.statusChanges?.subscribe(()=>{this._changeDetector.markForCheck()}))}ngAfterViewInit(){this._select.triggerWidth.set(this._elementRef.nativeElement.offsetWidth),Wi(this._platform)&&(this._resizeObserver=new ResizeObserver(()=>this._select.triggerWidth.set(this._elementRef.nativeElement.offsetWidth)),this._resizeObserver.observe(this._elementRef.nativeElement))}ngOnDestroy(){this._resizeObserver?.disconnect(),this._statusChangedSubscription?.unsubscribe()}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectTrigger",""]],hostAttrs:["type","button","role","combobox","aria-autocomplete","none"],hostVars:18,hostBindings:function(r,i){r&1&&we("keydown.ArrowDown",function(){return i._select.show()}),r&2&&(gr("disabled",i._disabled()),ut("id",i._triggerId())("aria-expanded",i._select.open())("aria-controls",i._contentId())("aria-labelledBy",i._labelledBy())("dir",i._select.dir()),sr("ng-invalid",(i._ngControl==null?null:i._ngControl.invalid)||null)("ng-dirty",(i._ngControl==null?null:i._ngControl.dirty)||null)("ng-valid",(i._ngControl==null?null:i._ngControl.valid)||null)("ng-touched",(i._ngControl==null?null:i._ngControl.touched)||null)("ng-untouched",(i._ngControl==null?null:i._ngControl.untouched)||null)("ng-pristine",(i._ngControl==null?null:i._ngControl.pristine)||null))}})}return n})(),VW=(()=>{class n{templateRef=C(bi);static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnSelectValue",""],["","hlmSelectValue",""]]})}return n})(),$W=(()=>{class n{_select=fC();id=ee(()=>`${this._select.id()}--value`);placeholder=ee(()=>this._select.placeholder());_showPlaceholder=ee(()=>this._value()===null||this._value()===void 0||this._value()==="");_customValueTemplate=ea(VW,{descendants:!0});_customPlaceholderTemplate=ea(BW,{descendants:!0});_value=ee(()=>{let t=this._values();if(t.length===0)return null;let i=t.filter(s=>this._select.options().some(a=>this._select.compareWith()(a.value(),s))).map(s=>this._select.options().find(a=>this._select.compareWith()(a.value(),s)));if(i.length===0)return null;let o=i.map(s=>s?.getLabel());return this._select.dir()==="rtl"&&o.reverse(),this.transformFn()(o)});_values=ee(()=>Array.isArray(this._select.value())?this._select.value():[this._select.value()]);transformFn=W(t=>(t??[]).join(", "));static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-select-value"],["hlm-select-value"]],contentQueries:function(r,i,o){r&1&&(Er(o,i._customValueTemplate,VW,5),Er(o,i._customPlaceholderTemplate,BW,5)),r&2&&qn(2)},hostVars:2,hostBindings:function(r,i){r&2&&(gr("id",i.id()),ut("data-placeholder",i._showPlaceholder()?"":null))},inputs:{transformFn:[1,"transformFn"]},decls:6,vars:1,consts:[["defaultValueTemplate",""],["defaultPlaceholderTemplate",""],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(ne(0,Tve,1,1,"ng-container",2)(1,Dve,1,4,"ng-container",3),Io(2,Rve,1,1,"ng-template",null,0,Xf)(4,Pve,1,1,"ng-template",null,1,Xf)),r&2&&re(i._showPlaceholder()?0:1)},dependencies:[Zf],styles:["[_nghost-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;white-space:nowrap;pointer-events:none}"],changeDetection:0})}return n})();var sR=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmSelectGroup",""],["hlm-select-group"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([oR])]})};var sv=class n{_selectContent=C(ip);_stickyLabels=ee(()=>this._selectContent.stickyLabels());userClass=W("",{alias:"class"});_computedClass=ee(()=>be("text-muted-foreground px-2 py-1.5 text-xs",this._stickyLabels()?"sticky top-0 bg-popover block z-[2]":"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmSelectLabel",""],["hlm-select-label"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([UW])]})};var jve=["*"];function Hve(n,e){n&1&&se(0,"ng-icon",1)}var Xg=class n{_brnSelectOption=C(su,{host:!0});userClass=W("",{alias:"class"});_computedClass=ee(()=>be("data-[active]:bg-accent data-[active]:text-accent-foreground [&>ng-icon]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-option"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Ne([Yt({lucideCheck:tx})]),ln([{directive:su,inputs:["disabled","disabled","value","value"]}])],ngContentSelectors:jve,decls:3,vars:1,consts:[[1,"absolute","right-2","flex","size-3.5","items-center","justify-center"],["hlm","","size","sm","aria-hidden","true","name","lucideCheck"]],template:function(t,r){t&1&&(Ft(),D(0,"span",0),ne(1,Hve,1,0,"ng-icon",1),I(),Xe(2)),t&2&&(P(),re(r._brnSelectOption.selected()?1:-1))},dependencies:[nn,jn],encapsulation:2,changeDetection:0})};var vC=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex cursor-default items-center justify-center py-1",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-scroll-down"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Ne([Yt({lucideChevronDown:$d})])],decls:1,vars:0,consts:[["hlm","","size","sm","name","lucideChevronDown",1,"ml-2"]],template:function(t,r){t&1&&se(0,"ng-icon",0)},dependencies:[nn,jn],encapsulation:2,changeDetection:0})};var wC=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex cursor-default items-center justify-center py-1",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-scroll-up"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Ne([Yt({lucideChevronUp:TU})])],decls:1,vars:0,consts:[["hlm","","size","sm","name","lucideChevronUp",1,"ml-2"]],template:function(t,r){t&1&&se(0,"ng-icon",0)},dependencies:[nn,jn],encapsulation:2,changeDetection:0})};var zve=["*",[["ng-icon"]]],$ve=["*","ng-icon"];function Wve(n,e){n&1&&Xe(0,1)}function Gve(n,e){n&1&&se(0,"ng-icon",2)}var qve=Ba("border-input [&>ng-icon]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon]:size-4",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:text-destructive [&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:focus-visible:ring-destructive/20 dark:[&.ng-invalid.ng-touched]:focus-visible:ring-destructive/40",true:"text-destructive border-destructive focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40"}},defaultVariants:{error:"auto"}}),Zg=class n{_icon=ea(jn);_brnSelect=C(gC,{optional:!0});userClass=W("",{alias:"class"});size=W("default");_computedClass=ee(()=>be(qve({error:this._brnSelect?.errorState()}),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-select-trigger"]],contentQueries:function(t,r,i){t&1&&Er(i,r._icon,jn,5),t&2&&qn()},inputs:{userClass:[1,"class","userClass"],size:[1,"size"]},features:[Ne([Yt({lucideChevronDown:$d})])],ngContentSelectors:$ve,decls:5,vars:4,consts:[["button",""],["hlmInput","","brnSelectTrigger","","type","button"],["hlm","","size","sm","name","lucideChevronDown",1,"ml-2","flex-none"]],template:function(t,r){t&1&&(Ft(zve),D(0,"button",1,0),Xe(2),ne(3,Wve,1,0)(4,Gve,1,0,"ng-icon",2),I()),t&2&&(te(r._computedClass()),ut("data-size",r.size()),P(3),re(r._icon()?3:4))},dependencies:[zW,nn,jn],encapsulation:2,changeDetection:0})};var av=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("line-clamp-1 flex items-center gap-2 data-[placeholder]:text-muted-foreground",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["hlm-select-value"],["","hlmSelectValue",""],["brn-select-value","hlm",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var _C=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({imports:[Zg,Xg,wC,vC]})};var WW=[{value:"linkedin",label:"LinkedIn",icon:"lucideLinkedin",color:"#0077b5"},{value:"whatsapp",label:"WhatsApp",icon:"lucideMessageCircle",color:"#25d366"},{value:"x",label:"X",icon:"lucideTwitter",color:"#1da1f2"},{value:"facebook",label:"Facebook",icon:"lucideFacebook",color:"#1877f3"},{value:"instagram",label:"Instagram",icon:"lucideInstagram",color:"#e1306c"},{value:"github",label:"GitHub",icon:"lucideGithub",color:"#333"},{value:"youtube",label:"YouTube",icon:"lucideYoutube",color:"#ff0000"},{value:"custom",label:"Custom",icon:"",color:"#666666"}];var GW=[{baseURL:"https://facebook.com/",value:"facebook"},{baseURL:"https://www.facebook.com/",value:"facebook"},{baseURL:"https://github.com/",value:"github"},{baseURL:"https://www.github.com/",value:"github"},{baseURL:"https://instagram.com/",value:"instagram"},{baseURL:"https://www.instagram.com/",value:"instagram"},{baseURL:"https://linkedin.com/",value:"linkedin"},{baseURL:"https://www.linkedin.com/",value:"linkedin"},{baseURL:"https://x.com/",value:"x"},{baseURL:"https://www.x.com/",value:"x"},{baseURL:"https://youtube.com/",value:"youtube"},{baseURL:"https://www.youtube.com/",value:"youtube"},{baseURL:"https://messenger.com/",value:"messenger"},{baseURL:"https://www.messenger.com/",value:"messenger"}];var Pi=[];for(let n=0;n<256;++n)Pi.push((n+256).toString(16).slice(1));function qW(n,e=0){return(Pi[n[e+0]]+Pi[n[e+1]]+Pi[n[e+2]]+Pi[n[e+3]]+"-"+Pi[n[e+4]]+Pi[n[e+5]]+"-"+Pi[n[e+6]]+Pi[n[e+7]]+"-"+Pi[n[e+8]]+Pi[n[e+9]]+"-"+Pi[n[e+10]]+Pi[n[e+11]]+Pi[n[e+12]]+Pi[n[e+13]]+Pi[n[e+14]]+Pi[n[e+15]]).toLowerCase()}var aR,Xve=new Uint8Array(16);function lR(){if(!aR){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");aR=crypto.getRandomValues.bind(crypto)}return aR(Xve)}var Zve=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cR={randomUUID:Zve};function Qve(n,e,t){n=n||{};let r=n.random??n.rng?.()??lR();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return qW(r)}function Jve(n,e,t){return cR.randomUUID&&!e&&!n?cR.randomUUID():Qve(n,e,t)}var dR=Jve;var ewe=["tooltip"];function twe(n,e){if(n&1&&V(0),n&2){let t=ae();yt(" ",t.content," ")}}function nwe(n,e){if(n&1&&Ui(0,2),n&2){let t=ae();ve("ngTemplateOutlet",t.content)}}var uR=(()=>{class n{tooltipTemplate=Me(null);static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnTooltip",""]]})}return n})(),rwe=(()=>{class n{_cdr=C($i);_isBrowser=Wi(C(Qn));_renderer2=C(pi);_contentHovered=Me(!1);tooltipClasses=Me("");side=Me("above");content=null;_showTimeoutId;_hideTimeoutId;_animateTimeoutId;triggerElement;mouseLeaveHideDelay=0;exitAnimationDuration=0;tooltip=zi("tooltip",{read:at});_closeOnInteraction=!1;_isVisible=!1;_onHide=new Te;afterHidden=this._onHide.asObservable();show(t){this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._animateTimeoutId!==null&&clearTimeout(this._animateTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleDataAttributes(!0,this.side()),this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t,r){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._animateTimeoutId=setTimeout(()=>{this._animateTimeoutId=void 0,!this._contentHovered()&&this._toggleDataAttributes(!1,this.side())},Math.max(t,0)),this._hideTimeoutId=setTimeout(()=>{this._hideTimeoutId=void 0,!this._contentHovered()&&this._toggleVisibility(!1)},t+r)}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this.triggerElement=void 0}_isTypeOfString(t){return typeof t=="string"}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0,0)}_markForCheck(){this._cdr.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this.triggerElement?.contains(t))&&(this.isVisible()?this.hide(this.mouseLeaveHideDelay,this.exitAnimationDuration):this._finalize(!1)),this._contentHovered.set(!1)}_cancelPendingAnimations(){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalize(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let r=this.tooltip()?.nativeElement;!r||!this._isBrowser||(this._renderer2.setStyle(r,"visibility",t?"visible":"hidden"),t?this._renderer2.removeStyle(r,"display"):this._renderer2.setStyle(r,"display","none"),this._isVisible=t)}_toggleDataAttributes(t,r){let i=this.tooltip()?.nativeElement;!i||!this._isBrowser||(this._renderer2.setAttribute(i,"data-side",r),this._renderer2.setAttribute(i,"data-state",t?"open":"closed"))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-tooltip-content"]],viewQuery:function(r,i){r&1&&Ei(i.tooltip,ewe,5,at),r&2&&qn()},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,i){r&1&&we("mouseleave",function(s){return i._handleMouseLeave(s)}),r&2&&To("zoom",i.isVisible()?1:null)},decls:4,vars:5,consts:[["tooltip",""],[3,"mouseenter","mouseleave"],[3,"ngTemplateOutlet"]],template:function(r,i){if(r&1){let o=tn();D(0,"div",1,0),we("mouseenter",function(){return We(o),Ge(i._contentHovered.set(!0))})("mouseleave",function(){return We(o),Ge(i._contentHovered.set(!1))}),ne(2,twe,1,1)(3,nwe,1,1,"ng-container",2),I()}r&2&&(te(i.tooltipClasses()),To("visibility","hidden"),P(2),re(i._isTypeOfString(i.content)?2:3))},dependencies:[Zf],encapsulation:2,changeDetection:0})}return n})();var hR={showDelay:0,hideDelay:0,exitAnimationDuration:0,touchendHideDelay:1500},XW=new pe("brn-tooltip-default-options",{providedIn:"root",factory:()=>hR});function ZW(n){return{provide:XW,useValue:X(X({},hR),n)}}function iwe(){return C(XW,{optional:!0})??hR}function owe(n){let e=null,t=Dt(()=>n());return ee(()=>{e=n();let r=t;return t=e,r})}var swe=20;function KW(n){return Error(`Tooltip position "${n}" is invalid.`)}var QW=new pe("brn-tooltip-scroll-strategy"),awe={provide:QW,deps:[B2],useFactory:n=>()=>n.scrollStrategies.reposition({scrollThrottle:swe})},lwe="tooltip-panel",YW=zh({passive:!0}),cwe=500,dwe=8,uwe=8,JW=(()=>{class n{_tooltipDirective=C(uR,{optional:!0});_tooltipComponent=rwe;_cssClassPrefix="brn";_destroyed=new Te;_passiveListeners=[];_defaultOptions=iwe();_overlay=C(B2);_elementRef=C(at);_scrollDispatcher=C(Dg);_viewContainerRef=C(fi);_ngZone=C(Fe);_platform=C(Mr);_ariaDescriber=C(dz);_focusMonitor=C(lc);_dir=C(ia);_scrollStrategy=C(QW);_document=C(vt);_portal;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_viewportMargin=8;_currentPosition;_touchstartTimeout;_overlayRef=null;_tooltipInstance=null;position=W(this._defaultOptions?.position??"above");positionAtOrigin=W(this._defaultOptions?.positionAtOrigin??!1,{transform:gt});brnTooltipDisabled=W(!1,{transform:gt});showDelay=W(this._defaultOptions?.showDelay??0,{transform:ho});hideDelay=W(this._defaultOptions?.hideDelay??0,{transform:ho});exitAnimationDuration=W(this._defaultOptions?.exitAnimationDuration??0,{transform:ho});tooltipContentClasses=W(this._defaultOptions?.tooltipContentClasses??"",{alias:"tooltipContentClasses"});computedTooltipContentClasses=ee(()=>Me(this.tooltipContentClasses()));touchGestures=W(this._defaultOptions?.touchGestures??"auto");ariaDescribedBy=W("",{alias:"aria-describedby"});computedAriaDescribedBy=ee(()=>Me(this.ariaDescribedBy()));ariaDescribedByPrevious=owe(this.computedAriaDescribedBy);brnTooltipTrigger=W(null);brnTooltipTriggerState=ee(()=>this._tooltipDirective?this._tooltipDirective.tooltipTemplate():this.brnTooltipTrigger());constructor(){this._dir.change.pipe(Ue(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=dwe,this._initBrnTooltipTriggerEffect(),this._initAriaDescribedByPreviousEffect(),this._initTooltipContentClassesEffect(),this._initPositionEffect(),this._initPositionAtOriginEffect(),this._initBrnTooltipDisabledEffect(),this._initExitAnimationDurationEffect(),this._initHideDelayEffect()}setTooltipContentClasses(t){this.computedTooltipContentClasses().set(t)}setAriaDescribedBy(t){this.computedAriaDescribedBy().set(t)}_initPositionEffect(){xt(()=>{this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition())})}_initBrnTooltipDisabledEffect(){xt(()=>{this.brnTooltipDisabled()?this.hide(0):this._setupPointerEnterEventsIfNeeded()})}_initPositionAtOriginEffect(){xt(()=>{let t=this.positionAtOrigin();this._detach(),this._overlayRef=null})}_initTooltipContentClassesEffect(){xt(()=>{this._tooltipInstance&&this._tooltipInstance.tooltipClasses.set(this.computedTooltipContentClasses()()??"")})}_initAriaDescribedByPreviousEffect(){xt(()=>{let t=this.computedAriaDescribedBy()();this._ariaDescriber.removeDescription(this._elementRef.nativeElement,Dt(()=>this.ariaDescribedByPrevious()()),"tooltip"),t&&!this._isTooltipVisible()&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,t,"tooltip")})})})}_initBrnTooltipTriggerEffect(){xt(()=>{let t=this.brnTooltipTriggerState(),r=this._isTooltipVisible();Dt(()=>{!t&&r?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipContent())})})}_initExitAnimationDurationEffect(){xt(()=>{this._tooltipInstance&&(this._tooltipInstance.exitAnimationDuration=this.exitAnimationDuration())})}_initHideDelayEffect(){xt(()=>{this._tooltipInstance&&(this._tooltipInstance.mouseLeaveHideDelay=this.hideDelay())})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ue(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))}),qH&&!this.computedAriaDescribedBy()&&console.warn('BrnTooltip: "aria-describedby" attribute is required for accessibility')}ngOnDestroy(){let t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>t.removeEventListener(r,i,YW)),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.computedAriaDescribedBy()(),"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay(),r){if(this.brnTooltipDisabled()||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new Yd(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o.triggerElement=this._elementRef.nativeElement,o.mouseLeaveHideDelay=this.hideDelay(),o.tooltipClasses.set(this.computedTooltipContentClasses()()),o.exitAnimationDuration=this.exitAnimationDuration(),o.side.set(this._currentPosition??"above"),o.afterHidden.pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._updateTooltipContent(),o.show(t)}hide(t=this.hideDelay(),r=this.exitAnimationDuration()){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t,r):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin()||!t)&&o._origin instanceof at)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin()?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Ue(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${lwe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ue(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ue(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.key==="Escape"&&!Ga(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef?.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(X(X({},i.main),o.main)),this._addOffset(X(X({},i.fallback),o.fallback))])}_addOffset(t){let r=uwe,i=!this._dir||this._dir.value==="ltr";return t.originY==="top"?t.offsetY=-r:t.originY==="bottom"?t.offsetY=r:t.originX==="start"?t.offsetX=i?-r:r:t.originX==="end"&&(t.offsetX=i?r:-r),t}_getOrigin(){let t=!this._dir||this._dir.value==="ltr",r=this.position(),i;if(r==="above"||r==="below")i={originX:"center",originY:r==="above"?"top":"bottom"};else if(r==="before"||r==="left"&&t||r==="right"&&!t)i={originX:"start",originY:"center"};else if(r==="after"||r==="right"&&t||r==="left"&&!t)i={originX:"end",originY:"center"};else if(typeof Nd()>"u"||Nd())throw KW(r);let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value==="ltr",r=this.position(),i;if(r==="above")i={overlayX:"center",overlayY:"bottom"};else if(r==="below")i={overlayX:"center",overlayY:"top"};else if(r==="before"||r==="left"&&t||r==="right"&&!t)i={overlayX:"end",overlayY:"center"};else if(r==="after"||r==="right"&&t||r==="left"&&!t)i={overlayX:"start",overlayY:"center"};else if(typeof Nd()>"u"||Nd())throw KW(r);let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipContent(){this._tooltipInstance&&(this._tooltipInstance.content=this.brnTooltipTriggerState(),this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(br(1),Ue(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef?.updatePosition()}))}_invertPosition(t,r){return this.position()==="above"||this.position()==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){let{overlayY:r,originX:i,originY:o}=t,s;r==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=r==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition&&(this._tooltipInstance?.side.set(s),this._currentPosition=s)}_setupPointerEnterEventsIfNeeded(){this.brnTooltipDisabled()||!this.brnTooltipTriggerState()||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let r;t.x!==void 0&&t.y!==void 0&&(r=t),this.show(void 0,r)}]):this.touchGestures()!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),cwe)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures()!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,YW)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures();if(t!=="off"){let r=this._elementRef.nativeElement,i=r.style;(t==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnTooltipTrigger",""]],hostAttrs:[1,"brn-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&sr("brn-tooltip-disabled",i.brnTooltipDisabled())},inputs:{position:[1,"position"],positionAtOrigin:[1,"positionAtOrigin"],brnTooltipDisabled:[1,"brnTooltipDisabled"],showDelay:[1,"showDelay"],hideDelay:[1,"hideDelay"],exitAnimationDuration:[1,"exitAnimationDuration"],tooltipContentClasses:[1,"tooltipContentClasses"],touchGestures:[1,"touchGestures"],ariaDescribedBy:[1,"aria-describedby","ariaDescribedBy"],brnTooltipTrigger:[1,"brnTooltipTrigger"]},exportAs:["brnTooltipTrigger"],features:[Ne([awe])]})}return n})();var hwe=()=>({display:"contents"}),pwe=["*"],pR=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tooltip"]],hostVars:3,hostBindings:function(t,r){t&2&&Do(Th(2,hwe))},features:[ln([uR])],ngContentSelectors:pwe,decls:1,vars:0,template:function(t,r){t&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})};var fwe="bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=below]:slide-in-from-top-2 data-[side=above]:slide-in-from-bottom-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 ",op=class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmTooltipTrigger",""]],features:[Ne([ZW({showDelay:150,hideDelay:300,exitAnimationDuration:150,tooltipContentClasses:fwe})]),ln([{directive:JW,inputs:["brnTooltipDisabled","hlmTooltipDisabled","brnTooltipTrigger","hlmTooltipTrigger","aria-describedby","aria-describedby","position","position","positionAtOrigin","positionAtOrigin","hideDelay","hideDelay","showDelay","showDelay","exitAnimationDuration","exitAnimationDuration","touchGestures","touchGestures"]}])]})};var yC=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})};var au=class n{_dialogRef=C(Mi);_dialogContext=Ya();title=this._dialogContext.title;desc=this._dialogContext.desc;declined(){this._dialogRef.close("no")}confirmed(){this._dialogRef.close("yes")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-confirmation-dialog"]],decls:10,vars:2,consts:[["hlmDialogTitle",""],["hlmCardDescription",""],["hlmBtn","",3,"click"],["hlmBtn","","variant","destructive",3,"click"]],template:function(t,r){t&1&&(D(0,"hlm-dialog-header")(1,"div",0),V(2),I(),D(3,"div",1),V(4),I()(),D(5,"hlm-dialog-footer")(6,"button",2),we("click",function(){return r.confirmed()}),V(7,"Yes"),I(),D(8,"button",3),we("click",function(){return r.declined()}),V(9,"No"),I()()),t&2&&(P(2),qe(r.title),P(2),qe(r.desc))},dependencies:[bn,cc,dc,uc,Ri],encapsulation:2})};var sl=class n{constructor(e){this.location=e}navigateBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)(Re(Ro))};static \u0275cmp=de({type:n,selectors:[["app-only-back-nav-bar"]],features:[Ne([Yt({lucideArrowLeft:kg})])],decls:2,vars:0,consts:[["hlmBtn","","variant","secondary",1,"m-4",3,"click"],["size","25px","name","lucideArrowLeft"]],template:function(t,r){t&1&&(D(0,"button",0),we("click",function(){return r.navigateBack()}),se(1,"ng-icon",1),I())},dependencies:[nn,bn],encapsulation:2})};var tG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nG={};var yc,fR;(function(){var n;function e(F,A){function S(){}S.prototype=A.prototype,F.D=A.prototype,F.prototype=new S,F.prototype.constructor=F,F.C=function(L,U,K){for(var z=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)z[rt-2]=arguments[rt];return A.prototype[U].apply(L,z)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,A,S){S||(S=0);var L=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)L[U]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(U=0;16>U;++U)L[U]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=F.g[0],S=F.g[1],U=F.g[2];var K=F.g[3],z=A+(K^S&(U^K))+L[0]+3614090360&4294967295;A=S+(z<<7&4294967295|z>>>25),z=K+(U^A&(S^U))+L[1]+3905402710&4294967295,K=A+(z<<12&4294967295|z>>>20),z=U+(S^K&(A^S))+L[2]+606105819&4294967295,U=K+(z<<17&4294967295|z>>>15),z=S+(A^U&(K^A))+L[3]+3250441966&4294967295,S=U+(z<<22&4294967295|z>>>10),z=A+(K^S&(U^K))+L[4]+4118548399&4294967295,A=S+(z<<7&4294967295|z>>>25),z=K+(U^A&(S^U))+L[5]+1200080426&4294967295,K=A+(z<<12&4294967295|z>>>20),z=U+(S^K&(A^S))+L[6]+2821735955&4294967295,U=K+(z<<17&4294967295|z>>>15),z=S+(A^U&(K^A))+L[7]+4249261313&4294967295,S=U+(z<<22&4294967295|z>>>10),z=A+(K^S&(U^K))+L[8]+1770035416&4294967295,A=S+(z<<7&4294967295|z>>>25),z=K+(U^A&(S^U))+L[9]+2336552879&4294967295,K=A+(z<<12&4294967295|z>>>20),z=U+(S^K&(A^S))+L[10]+4294925233&4294967295,U=K+(z<<17&4294967295|z>>>15),z=S+(A^U&(K^A))+L[11]+2304563134&4294967295,S=U+(z<<22&4294967295|z>>>10),z=A+(K^S&(U^K))+L[12]+1804603682&4294967295,A=S+(z<<7&4294967295|z>>>25),z=K+(U^A&(S^U))+L[13]+4254626195&4294967295,K=A+(z<<12&4294967295|z>>>20),z=U+(S^K&(A^S))+L[14]+2792965006&4294967295,U=K+(z<<17&4294967295|z>>>15),z=S+(A^U&(K^A))+L[15]+1236535329&4294967295,S=U+(z<<22&4294967295|z>>>10),z=A+(U^K&(S^U))+L[1]+4129170786&4294967295,A=S+(z<<5&4294967295|z>>>27),z=K+(S^U&(A^S))+L[6]+3225465664&4294967295,K=A+(z<<9&4294967295|z>>>23),z=U+(A^S&(K^A))+L[11]+643717713&4294967295,U=K+(z<<14&4294967295|z>>>18),z=S+(K^A&(U^K))+L[0]+3921069994&4294967295,S=U+(z<<20&4294967295|z>>>12),z=A+(U^K&(S^U))+L[5]+3593408605&4294967295,A=S+(z<<5&4294967295|z>>>27),z=K+(S^U&(A^S))+L[10]+38016083&4294967295,K=A+(z<<9&4294967295|z>>>23),z=U+(A^S&(K^A))+L[15]+3634488961&4294967295,U=K+(z<<14&4294967295|z>>>18),z=S+(K^A&(U^K))+L[4]+3889429448&4294967295,S=U+(z<<20&4294967295|z>>>12),z=A+(U^K&(S^U))+L[9]+568446438&4294967295,A=S+(z<<5&4294967295|z>>>27),z=K+(S^U&(A^S))+L[14]+3275163606&4294967295,K=A+(z<<9&4294967295|z>>>23),z=U+(A^S&(K^A))+L[3]+4107603335&4294967295,U=K+(z<<14&4294967295|z>>>18),z=S+(K^A&(U^K))+L[8]+1163531501&4294967295,S=U+(z<<20&4294967295|z>>>12),z=A+(U^K&(S^U))+L[13]+2850285829&4294967295,A=S+(z<<5&4294967295|z>>>27),z=K+(S^U&(A^S))+L[2]+4243563512&4294967295,K=A+(z<<9&4294967295|z>>>23),z=U+(A^S&(K^A))+L[7]+1735328473&4294967295,U=K+(z<<14&4294967295|z>>>18),z=S+(K^A&(U^K))+L[12]+2368359562&4294967295,S=U+(z<<20&4294967295|z>>>12),z=A+(S^U^K)+L[5]+4294588738&4294967295,A=S+(z<<4&4294967295|z>>>28),z=K+(A^S^U)+L[8]+2272392833&4294967295,K=A+(z<<11&4294967295|z>>>21),z=U+(K^A^S)+L[11]+1839030562&4294967295,U=K+(z<<16&4294967295|z>>>16),z=S+(U^K^A)+L[14]+4259657740&4294967295,S=U+(z<<23&4294967295|z>>>9),z=A+(S^U^K)+L[1]+2763975236&4294967295,A=S+(z<<4&4294967295|z>>>28),z=K+(A^S^U)+L[4]+1272893353&4294967295,K=A+(z<<11&4294967295|z>>>21),z=U+(K^A^S)+L[7]+4139469664&4294967295,U=K+(z<<16&4294967295|z>>>16),z=S+(U^K^A)+L[10]+3200236656&4294967295,S=U+(z<<23&4294967295|z>>>9),z=A+(S^U^K)+L[13]+681279174&4294967295,A=S+(z<<4&4294967295|z>>>28),z=K+(A^S^U)+L[0]+3936430074&4294967295,K=A+(z<<11&4294967295|z>>>21),z=U+(K^A^S)+L[3]+3572445317&4294967295,U=K+(z<<16&4294967295|z>>>16),z=S+(U^K^A)+L[6]+76029189&4294967295,S=U+(z<<23&4294967295|z>>>9),z=A+(S^U^K)+L[9]+3654602809&4294967295,A=S+(z<<4&4294967295|z>>>28),z=K+(A^S^U)+L[12]+3873151461&4294967295,K=A+(z<<11&4294967295|z>>>21),z=U+(K^A^S)+L[15]+530742520&4294967295,U=K+(z<<16&4294967295|z>>>16),z=S+(U^K^A)+L[2]+3299628645&4294967295,S=U+(z<<23&4294967295|z>>>9),z=A+(U^(S|~K))+L[0]+4096336452&4294967295,A=S+(z<<6&4294967295|z>>>26),z=K+(S^(A|~U))+L[7]+1126891415&4294967295,K=A+(z<<10&4294967295|z>>>22),z=U+(A^(K|~S))+L[14]+2878612391&4294967295,U=K+(z<<15&4294967295|z>>>17),z=S+(K^(U|~A))+L[5]+4237533241&4294967295,S=U+(z<<21&4294967295|z>>>11),z=A+(U^(S|~K))+L[12]+1700485571&4294967295,A=S+(z<<6&4294967295|z>>>26),z=K+(S^(A|~U))+L[3]+2399980690&4294967295,K=A+(z<<10&4294967295|z>>>22),z=U+(A^(K|~S))+L[10]+4293915773&4294967295,U=K+(z<<15&4294967295|z>>>17),z=S+(K^(U|~A))+L[1]+2240044497&4294967295,S=U+(z<<21&4294967295|z>>>11),z=A+(U^(S|~K))+L[8]+1873313359&4294967295,A=S+(z<<6&4294967295|z>>>26),z=K+(S^(A|~U))+L[15]+4264355552&4294967295,K=A+(z<<10&4294967295|z>>>22),z=U+(A^(K|~S))+L[6]+2734768916&4294967295,U=K+(z<<15&4294967295|z>>>17),z=S+(K^(U|~A))+L[13]+1309151649&4294967295,S=U+(z<<21&4294967295|z>>>11),z=A+(U^(S|~K))+L[4]+4149444226&4294967295,A=S+(z<<6&4294967295|z>>>26),z=K+(S^(A|~U))+L[11]+3174756917&4294967295,K=A+(z<<10&4294967295|z>>>22),z=U+(A^(K|~S))+L[2]+718787259&4294967295,U=K+(z<<15&4294967295|z>>>17),z=S+(K^(U|~A))+L[9]+3951481745&4294967295,F.g[0]=F.g[0]+A&4294967295,F.g[1]=F.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,F.g[2]=F.g[2]+U&4294967295,F.g[3]=F.g[3]+K&4294967295}r.prototype.u=function(F,A){A===void 0&&(A=F.length);for(var S=A-this.blockSize,L=this.B,U=this.h,K=0;K<A;){if(U==0)for(;K<=S;)i(this,F,K),K+=this.blockSize;if(typeof F=="string"){for(;K<A;)if(L[U++]=F.charCodeAt(K++),U==this.blockSize){i(this,L),U=0;break}}else for(;K<A;)if(L[U++]=F[K++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var A=1;A<F.length-8;++A)F[A]=0;var S=8*this.o;for(A=F.length-8;A<F.length;++A)F[A]=S&255,S/=256;for(this.u(F),F=Array(16),A=S=0;4>A;++A)for(var L=0;32>L;L+=8)F[S++]=this.g[A]>>>L&255;return F};function o(F,A){var S=a;return Object.prototype.hasOwnProperty.call(S,F)?S[F]:S[F]=A(F)}function s(F,A){this.h=A;for(var S=[],L=!0,U=F.length-1;0<=U;U--){var K=F[U]|0;L&&K==A||(S[U]=K,L=!1)}this.g=S}var a={};function l(F){return-128<=F&&128>F?o(F,function(A){return new s([A|0],0>A?-1:0)}):new s([F|0],0>F?-1:0)}function d(F){if(isNaN(F)||!isFinite(F))return f;if(0>F)return T(d(-F));for(var A=[],S=1,L=0;F>=S;L++)A[L]=F/S|0,S*=4294967296;return new s(A,0)}function h(F,A){if(F.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(F.charAt(0)=="-")return T(h(F.substring(1),A));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(A,8)),L=f,U=0;U<F.length;U+=8){var K=Math.min(8,F.length-U),z=parseInt(F.substring(U,U+K),A);8>K?(K=d(Math.pow(A,K)),L=L.j(K).add(d(z))):(L=L.j(S),L=L.add(d(z)))}return L}var f=l(0),m=l(1),v=l(16777216);n=s.prototype,n.m=function(){if(b(this))return-T(this).m();for(var F=0,A=1,S=0;S<this.g.length;S++){var L=this.i(S);F+=(0<=L?L:4294967296+L)*A,A*=4294967296}return F},n.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(_(this))return"0";if(b(this))return"-"+T(this).toString(F);for(var A=d(Math.pow(F,6)),S=this,L="";;){var U=H(S,A).g;S=M(S,U.j(A));var K=((0<S.g.length?S.g[0]:S.h)>>>0).toString(F);if(S=U,_(S))return K+L;for(;6>K.length;)K="0"+K;L=K+L}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function _(F){if(F.h!=0)return!1;for(var A=0;A<F.g.length;A++)if(F.g[A]!=0)return!1;return!0}function b(F){return F.h==-1}n.l=function(F){return F=M(this,F),b(F)?-1:_(F)?0:1};function T(F){for(var A=F.g.length,S=[],L=0;L<A;L++)S[L]=~F.g[L];return new s(S,~F.h).add(m)}n.abs=function(){return b(this)?T(this):this},n.add=function(F){for(var A=Math.max(this.g.length,F.g.length),S=[],L=0,U=0;U<=A;U++){var K=L+(this.i(U)&65535)+(F.i(U)&65535),z=(K>>>16)+(this.i(U)>>>16)+(F.i(U)>>>16);L=z>>>16,K&=65535,z&=65535,S[U]=z<<16|K}return new s(S,S[S.length-1]&-2147483648?-1:0)};function M(F,A){return F.add(T(A))}n.j=function(F){if(_(this)||_(F))return f;if(b(this))return b(F)?T(this).j(T(F)):T(T(this).j(F));if(b(F))return T(this.j(T(F)));if(0>this.l(v)&&0>F.l(v))return d(this.m()*F.m());for(var A=this.g.length+F.g.length,S=[],L=0;L<2*A;L++)S[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<F.g.length;U++){var K=this.i(L)>>>16,z=this.i(L)&65535,rt=F.i(U)>>>16,ht=F.i(U)&65535;S[2*L+2*U]+=z*ht,B(S,2*L+2*U),S[2*L+2*U+1]+=K*ht,B(S,2*L+2*U+1),S[2*L+2*U+1]+=z*rt,B(S,2*L+2*U+1),S[2*L+2*U+2]+=K*rt,B(S,2*L+2*U+2)}for(L=0;L<A;L++)S[L]=S[2*L+1]<<16|S[2*L];for(L=A;L<2*A;L++)S[L]=0;return new s(S,0)};function B(F,A){for(;(F[A]&65535)!=F[A];)F[A+1]+=F[A]>>>16,F[A]&=65535,A++}function j(F,A){this.g=F,this.h=A}function H(F,A){if(_(A))throw Error("division by zero");if(_(F))return new j(f,f);if(b(F))return A=H(T(F),A),new j(T(A.g),T(A.h));if(b(A))return A=H(F,T(A)),new j(T(A.g),A.h);if(30<F.g.length){if(b(F)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var S=m,L=A;0>=L.l(F);)S=q(S),L=q(L);var U=Y(S,1),K=Y(L,1);for(L=Y(L,2),S=Y(S,2);!_(L);){var z=K.add(L);0>=z.l(F)&&(U=U.add(S),K=z),L=Y(L,1),S=Y(S,1)}return A=M(F,U.j(A)),new j(U,A)}for(U=f;0<=F.l(A);){for(S=Math.max(1,Math.floor(F.m()/A.m())),L=Math.ceil(Math.log(S)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),K=d(S),z=K.j(A);b(z)||0<z.l(F);)S-=L,K=d(S),z=K.j(A);_(K)&&(K=m),U=U.add(K),F=M(F,z)}return new j(U,F)}n.A=function(F){return H(this,F).h},n.and=function(F){for(var A=Math.max(this.g.length,F.g.length),S=[],L=0;L<A;L++)S[L]=this.i(L)&F.i(L);return new s(S,this.h&F.h)},n.or=function(F){for(var A=Math.max(this.g.length,F.g.length),S=[],L=0;L<A;L++)S[L]=this.i(L)|F.i(L);return new s(S,this.h|F.h)},n.xor=function(F){for(var A=Math.max(this.g.length,F.g.length),S=[],L=0;L<A;L++)S[L]=this.i(L)^F.i(L);return new s(S,this.h^F.h)};function q(F){for(var A=F.g.length+1,S=[],L=0;L<A;L++)S[L]=F.i(L)<<1|F.i(L-1)>>>31;return new s(S,F.h)}function Y(F,A){var S=A>>5;A%=32;for(var L=F.g.length-S,U=[],K=0;K<L;K++)U[K]=0<A?F.i(K+S)>>>A|F.i(K+S+1)<<32-A:F.i(K+S);return new s(U,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fR=nG.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,yc=nG.Integer=s}).apply(typeof tG<"u"?tG:typeof self<"u"?self:typeof window<"u"?window:{});var kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kc={};var gR,gwe,Qg,mR,lv,bC,vR,wR,_R;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,k){return p==Array.prototype||p==Object.prototype||(p[w]=k.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof kC=="object"&&kC];for(var w=0;w<p.length;++w){var k=p[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function i(p,w){if(w)e:{var k=r;p=p.split(".");for(var O=0;O<p.length-1;O++){var J=p[O];if(!(J in k))break e;k=k[J]}p=p[p.length-1],O=k[p],w=w(O),w!=O&&w!=null&&e(k,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var k=0,O=!1,J={next:function(){if(!O&&k<p.length){var ie=k++;return{value:w(ie,p[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(p){return p||function(){return o(this,function(w,k){return k})}});var s=s||{},a=this||self;function l(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function h(p,w,k){return p.call.apply(p.bind,arguments)}function f(p,w,k){if(!p)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),p.apply(w,J)}}return function(){return p.apply(w,arguments)}}function m(p,w,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function v(p,w){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function _(p,w){function k(){}k.prototype=w.prototype,p.aa=w.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(O,J,ie){for(var Ce=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Ce[Ot-2]=arguments[Ot];return w.prototype[J].apply(O,Ce)}}function b(p){let w=p.length;if(0<w){let k=Array(w);for(let O=0;O<w;O++)k[O]=p[O];return k}return[]}function T(p,w){for(let k=1;k<arguments.length;k++){let O=arguments[k];if(l(O)){let J=p.length||0,ie=O.length||0;p.length=J+ie;for(let Ce=0;Ce<ie;Ce++)p[J+Ce]=O[Ce]}else p.push(O)}}class M{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function B(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Y(p,w,k){for(let O in p)w.call(k,p[O],O,p)}function F(p,w){for(let k in p)w.call(void 0,p[k],k,p)}function A(p){let w={};for(let k in p)w[k]=p[k];return w}let S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,w){let k,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(k in O)p[k]=O[k];for(let ie=0;ie<S.length;ie++)k=S[ie],Object.prototype.hasOwnProperty.call(O,k)&&(p[k]=O[k])}}function U(p){var w=1;p=p.split(":");let k=[];for(;0<w&&p.length;)k.push(p.shift()),w--;return p.length&&k.push(p.join(":")),k}function K(p){a.setTimeout(()=>{throw p},0)}function z(){var p=Vn;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class rt{constructor(){this.h=this.g=null}add(w,k){let O=ht.get();O.set(w,k),this.h?this.h.next=O:this.g=O,this.h=O}}var ht=new M(()=>new Mt,p=>p.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ye=!1,Vn=new rt,Qi=()=>{let p=a.Promise.resolve(void 0);De=()=>{p.then(zr)}};var zr=()=>{for(var p;p=z();){try{p.h.call(p.g)}catch(k){K(k)}var w=ht;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ye=!1};function an(){this.s=this.s,this.C=this.C}an.prototype.s=!1,an.prototype.ma=function(){this.s||(this.s=!0,this.N())},an.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Pn=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{let k=()=>{};a.addEventListener("test",k,w),a.removeEventListener("test",k,w)}catch{}return p})();function ai(p,w){if(ze.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(q){e:{try{H(w.nodeName);var J=!0;break e}catch{}J=!1}J||(w=null)}}else k=="mouseover"?w=p.fromElement:k=="mouseout"&&(w=p.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:rr[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ai.aa.h.call(this)}}_(ai,ze);var rr={2:"touch",3:"pen",4:"mouse"};ai.prototype.h=function(){ai.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ni=0;function Ji(p,w,k,O,J){this.listener=p,this.proxy=null,this.src=w,this.type=k,this.capture=!!O,this.ha=J,this.key=++Ni,this.da=this.fa=!1}function Li(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Rs(p){this.src=p,this.g={},this.h=0}Rs.prototype.add=function(p,w,k,O,J){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var Ce=yl(p,w,O,J);return-1<Ce?(w=p[Ce],k||(w.fa=!1)):(w=new Ji(w,this.src,ie,!!O,J),w.fa=k,p.push(w)),w};function Dr(p,w){var k=w.type;if(k in p.g){var O=p.g[k],J=Array.prototype.indexOf.call(O,w,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(O,J,1),ie&&(Li(w),p.g[k].length==0&&(delete p.g[k],p.h--))}}function yl(p,w,k,O){for(var J=0;J<p.length;++J){var ie=p[J];if(!ie.da&&ie.listener==w&&ie.capture==!!k&&ie.ha==O)return J}return-1}var sm="closure_lm_"+(1e6*Math.random()|0),Vo={};function am(p,w,k,O,J){if(O&&O.once)return yo(p,w,k,O,J);if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)am(p,w[ie],k,O,J);return null}return k=ga(k),p&&p[Qe]?p.K(w,k,d(O)?!!O.capture:!!O,J):Rw(p,w,k,!1,O,J)}function Rw(p,w,k,O,J,ie){if(!w)throw Error("Invalid event type");var Ce=d(J)?!!J.capture:!!J,Ot=lm(p);if(Ot||(p[sm]=Ot=new Rs(p)),k=Ot.add(w,k,O,Ce,ie),k.proxy)return k;if(O=xu(),k.proxy=O,O.src=p,O.listener=k,p.addEventListener)Pn||(J=Ce),J===void 0&&(J=!1),p.addEventListener(w.toString(),O,J);else if(p.attachEvent)p.attachEvent(Pw(w.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function xu(){function p(k){return w.call(p.src,p.listener,k)}let w=Cu;return p}function yo(p,w,k,O,J){if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)yo(p,w[ie],k,O,J);return null}return k=ga(k),p&&p[Qe]?p.L(w,k,d(O)?!!O.capture:!!O,J):Rw(p,w,k,!0,O,J)}function $c(p,w,k,O,J){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)$c(p,w[ie],k,O,J);else O=d(O)?!!O.capture:!!O,k=ga(k),p&&p[Qe]?(p=p.i,w=String(w).toString(),w in p.g&&(ie=p.g[w],k=yl(ie,k,O,J),-1<k&&(Li(ie[k]),Array.prototype.splice.call(ie,k,1),ie.length==0&&(delete p.g[w],p.h--)))):p&&(p=lm(p))&&(w=p.g[w.toString()],p=-1,w&&(p=yl(w,k,O,J)),(k=-1<p?w[p]:null)&&Wc(k))}function Wc(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Qe])Dr(w.i,p);else{var k=p.type,O=p.proxy;w.removeEventListener?w.removeEventListener(k,O,p.capture):w.detachEvent?w.detachEvent(Pw(k),O):w.addListener&&w.removeListener&&w.removeListener(O),(k=lm(w))?(Dr(k,p),k.h==0&&(k.src=null,w[sm]=null)):Li(p)}}}function Pw(p){return p in Vo?Vo[p]:Vo[p]="on"+p}function Cu(p,w){if(p.da)p=!0;else{w=new ai(w,this);var k=p.listener,O=p.ha||p.src;p.fa&&Wc(p),p=k.call(O,w)}return p}function lm(p){return p=p[sm],p instanceof Rs?p:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ga(p){return typeof p=="function"?p:(p[kl]||(p[kl]=function(w){return p.handleEvent(w)}),p[kl])}function Rr(){an.call(this),this.i=new Rs(this),this.M=this,this.F=null}_(Rr,an),Rr.prototype[Qe]=!0,Rr.prototype.removeEventListener=function(p,w,k,O){$c(this,p,w,k,O)};function $r(p,w){var k,O=p.F;if(O)for(k=[];O;O=O.F)k.push(O);if(p=p.M,O=w.type||w,typeof w=="string")w=new ze(w,p);else if(w instanceof ze)w.target=w.target||p;else{var J=w;w=new ze(O,p),L(w,J)}if(J=!0,k)for(var ie=k.length-1;0<=ie;ie--){var Ce=w.g=k[ie];J=Gc(Ce,O,!0,w)&&J}if(Ce=w.g=p,J=Gc(Ce,O,!0,w)&&J,J=Gc(Ce,O,!1,w)&&J,k)for(ie=0;ie<k.length;ie++)Ce=w.g=k[ie],J=Gc(Ce,O,!1,w)&&J}Rr.prototype.N=function(){if(Rr.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var k=p.g[w],O=0;O<k.length;O++)Li(k[O]);delete p.g[w],p.h--}}this.F=null},Rr.prototype.K=function(p,w,k,O){return this.i.add(String(p),w,!1,k,O)},Rr.prototype.L=function(p,w,k,O){return this.i.add(String(p),w,!0,k,O)};function Gc(p,w,k,O){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,ie=0;ie<w.length;++ie){var Ce=w[ie];if(Ce&&!Ce.da&&Ce.capture==k){var Ot=Ce.listener,_r=Ce.ha||Ce.src;Ce.fa&&Dr(p.i,Ce),J=Ot.call(_r,O)!==!1&&J}}return J&&!O.defaultPrevented}function Op(p,w,k){if(typeof p=="function")k&&(p=m(p,k));else if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(p,w||0)}function Np(p){p.g=Op(()=>{p.g=null,p.i&&(p.i=!1,Np(p))},p.l);let w=p.h;p.h=null,p.m.apply(null,w)}class cm extends an{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Np(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(p){an.call(this),this.h=p,this.g={}}_(bl,an);var Lp=[];function Fp(p){Y(p.g,function(w,k){this.g.hasOwnProperty(k)&&Wc(w)},p),p.g={}}bl.prototype.N=function(){bl.aa.N.call(this),Fp(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dm=a.JSON.stringify,cM=a.JSON.parse,dM=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Bp(){}Bp.prototype.h=null;function um(p){return p.h||(p.h=p.i())}function Ow(){}var Eu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hm(){ze.call(this,"d")}_(hm,ze);function pm(){ze.call(this,"c")}_(pm,ze);var ma={},Nw=null;function Vp(){return Nw=Nw||new Rr}ma.La="serverreachability";function Lw(p){ze.call(this,ma.La,p)}_(Lw,ze);function xl(p){let w=Vp();$r(w,new Lw(w))}ma.STAT_EVENT="statevent";function Fw(p,w){ze.call(this,ma.STAT_EVENT,p),this.stat=w}_(Fw,ze);function Wr(p){let w=Vp();$r(w,new Fw(w,p))}ma.Ma="timingevent";function Bw(p,w){ze.call(this,ma.Ma,p),this.size=w}_(Bw,ze);function Mu(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},w)}function Su(){this.g=!0}Su.prototype.xa=function(){this.g=!1};function uM(p,w,k,O,J,ie){p.info(function(){if(p.g)if(ie)for(var Ce="",Ot=ie.split("&"),_r=0;_r<Ot.length;_r++){var $t=Ot[_r].split("=");if(1<$t.length){var Gr=$t[0];$t=$t[1];var qr=Gr.split("_");Ce=2<=qr.length&&qr[1]=="type"?Ce+(Gr+"="+$t+"&"):Ce+(Gr+"=redacted&")}}else Ce=null;else Ce=ie;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+w+`
`+k+`
`+Ce})}function hM(p,w,k,O,J,ie,Ce){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+w+`
`+k+`
`+ie+" "+Ce})}function qc(p,w,k,O){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+fM(p,k)+(O?" "+O:"")})}function pM(p,w){p.info(function(){return"TIMEOUT: "+w})}Su.prototype.info=function(){};function fM(p,w){if(!p.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var O=k[p];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ce=1;Ce<J.length;Ce++)J[Ce]=""}}}}return dm(k)}catch{return w}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fm;function jp(){}_(jp,Bp),jp.prototype.g=function(){return new XMLHttpRequest},jp.prototype.i=function(){return{}},fm=new jp;function va(p,w,k,O){this.j=p,this.i=w,this.l=k,this.R=O||1,this.U=new bl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jw}function jw(){this.i=null,this.g="",this.h=!1}var Hw={},Kc={};function gm(p,w,k){p.L=1,p.v=Ru(Os(w)),p.m=k,p.P=!0,Au(p,null)}function Au(p,w){p.F=Date.now(),Hp(p),p.A=Os(p.v);var k=p.A,O=p.R;Array.isArray(O)||(O=[String(O)]),Jw(k.i,"t",O),p.C=0,k=p.j.J,p.h=new jw,p.g=Sm(p.j,k?w:null,!p.m),0<p.O&&(p.M=new cm(m(p.Y,p,p.g),p.O)),w=p.U,k=p.g,O=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(Lp[0]=J.toString()),J=Lp);for(var ie=0;ie<J.length;ie++){var Ce=am(k,J[ie],O||w.handleEvent,!1,w.h||w);if(!Ce)break;w.g[Ce.key]=Ce}w=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),xl(),uM(p.i,p.u,p.A,p.l,p.R,p.m)}va.prototype.ca=function(p){p=p.target;let w=this.M;w&&hr(p)==3?w.j():this.Y(p)},va.prototype.Y=function(p){try{if(p==this.g)e:{let qr=hr(this.g);var w=this.g.Ba();let nd=this.g.Z();if(!(3>qr)&&(qr!=3||this.g&&(this.h.h||this.g.oa()||Em(this.g)))){this.J||qr!=4||w==7||(w==8||0>=nd?xl(3):xl(2)),Up(this);var k=this.g.Z();this.X=k;t:if(Uw(this)){var O=Em(this.g);p="";var J=O.length,ie=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cl(this),Yc(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,p+=this.h.i.decode(O[w],{stream:!(ie&&w==J-1)});O.length=0,this.h.g+=p,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=k==200,hM(this.i,this.u,this.A,this.l,this.R,qr,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,_r=this.g;if((Ot=_r.g?_r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ot)){var $t=Ot;break t}}$t=null}if(k=$t)qc(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vm(this,k);else{this.o=!1,this.s=3,Wr(12),Cl(this),Yc(this);break e}}if(this.P){k=!0;let jo;for(;!this.J&&this.C<Ce.length;)if(jo=gM(this,Ce),jo==Kc){qr==4&&(this.s=4,Wr(14),k=!1),qc(this.i,this.l,null,"[Incomplete Response]");break}else if(jo==Hw){this.s=4,Wr(15),qc(this.i,this.l,Ce,"[Invalid Chunk]"),k=!1;break}else qc(this.i,this.l,jo,null),vm(this,jo);if(Uw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qr!=4||Ce.length!=0||this.h.h||(this.s=1,Wr(16),k=!1),this.o=this.o&&k,!k)qc(this.i,this.l,Ce,"[Invalid Chunked Response]"),Cl(this),Yc(this);else if(0<Ce.length&&!this.W){this.W=!0;var Gr=this.j;Gr.g==this&&Gr.ba&&!Gr.M&&(Gr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),An(Gr),Gr.M=!0,Wr(11))}}else qc(this.i,this.l,Ce,null),vm(this,Ce);qr==4&&Cl(this),this.o&&!this.J&&(qr==4?o_(this.j,this):(this.o=!1,Hp(this)))}else r_(this.g),k==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Wr(12)):(this.s=0,Wr(13)),Cl(this),Yc(this)}}}catch{}finally{}};function Uw(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function gM(p,w){var k=p.C,O=w.indexOf(`
`,k);return O==-1?Kc:(k=Number(w.substring(k,O)),isNaN(k)?Hw:(O+=1,O+k>w.length?Kc:(w=w.slice(O,O+k),p.C=O+k,w)))}va.prototype.cancel=function(){this.J=!0,Cl(this)};function Hp(p){p.S=Date.now()+p.I,mm(p,p.I)}function mm(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Mu(m(p.ba,p),w)}function Up(p){p.B&&(a.clearTimeout(p.B),p.B=null)}va.prototype.ba=function(){this.B=null;let p=Date.now();0<=p-this.S?(pM(this.i,this.A),this.L!=2&&(xl(),Wr(17)),Cl(this),this.s=2,Yc(this)):mm(this,this.S-p)};function Yc(p){p.j.G==0||p.J||o_(p.j,p)}function Cl(p){Up(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Fp(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function vm(p,w){try{var k=p.j;if(k.G!=0&&(k.g==p||zp(k.h,p))){if(!p.K&&zp(k.h,p)&&k.G==3){try{var O=k.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)td(k),Bu(k);else break e;ju(k),Wr(18)}}else k.za=J[1],0<k.za-k.T&&37500>J[2]&&k.F&&k.v==0&&!k.C&&(k.C=Mu(m(k.Za,k),6e3));if(1>=_m(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else El(k,11)}else if((p.K||k.g==p)&&td(k),!B(w))for(J=k.Da.g.parse(w),w=0;w<J.length;w++){let $t=J[w];if(k.T=$t[0],$t=$t[1],k.G==2)if($t[0]=="c"){k.K=$t[1],k.ia=$t[2];let Gr=$t[3];Gr!=null&&(k.la=Gr,k.j.info("VER="+k.la));let qr=$t[4];qr!=null&&(k.Aa=qr,k.j.info("SVER="+k.Aa));let nd=$t[5];nd!=null&&typeof nd=="number"&&0<nd&&(O=1.5*nd,k.L=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;let jo=p.g;if(jo){let Zp=jo.g?jo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zp){var ie=O.h;ie.g||Zp.indexOf("spdy")==-1&&Zp.indexOf("quic")==-1&&Zp.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Tu(ie,ie.h),ie.h=null))}if(O.D){let Tm=jo.g?jo.g.getResponseHeader("X-HTTP-Session-Id"):null;Tm&&(O.ya=Tm,dn(O.I,O.D,Tm))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),O=k;var Ce=p;if(O.qa=a_(O,O.J?O.ia:null,O.W),Ce.K){$w(O.h,Ce);var Ot=Ce,_r=O.L;_r&&(Ot.I=_r),Ot.B&&(Up(Ot),Hp(Ot)),O.g=Ce}else Vu(O);0<k.i.length&&Yp(k)}else $t[0]!="stop"&&$t[0]!="close"||El(k,7);else k.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?El(k,7):Kp(k):$t[0]!="noop"&&k.l&&k.l.ta($t),k.v=0)}}xl(4)}catch{}}var mM=class{constructor(p,w){this.g=p,this.map=w}};function zw(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wm(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function _m(p){return p.h?1:p.g?p.g.size:0}function zp(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Tu(p,w){p.g?p.g.add(w):p.h=w}function $w(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}zw.prototype.cancel=function(){if(this.i=ym(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let p of this.g.values())p.cancel();this.g.clear()}};function ym(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(let k of p.g.values())w=w.concat(k.D);return w}return b(p.i)}function $p(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var w=[],k=p.length,O=0;O<k;O++)w.push(p[O]);return w}w=[],k=0;for(O in p)w[k++]=p[O];return w}function Ww(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var w=[];p=p.length;for(var k=0;k<p;k++)w.push(k);return w}w=[],k=0;for(let O in p)w[k++]=O;return w}}}function Gw(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var k=Ww(p),O=$p(p),J=O.length,ie=0;ie<J;ie++)w.call(void 0,O[ie],k&&k[ie],p)}var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qw(p,w){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var O=p[k].indexOf("="),J=null;if(0<=O){var ie=p[k].substring(0,O);J=p[k].substring(O+1)}else ie=p[k];w(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ps(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ps){this.h=p.h,Du(this,p.j),this.o=p.o,this.g=p.g,Xc(this,p.s),this.l=p.l;var w=p.i,k=new Ou;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),Wp(this,k),this.m=p.m}else p&&(w=String(p).match(km))?(this.h=!1,Du(this,w[1]||"",!0),this.o=Zc(w[2]||""),this.g=Zc(w[3]||"",!0),Xc(this,w[4]),this.l=Zc(w[5]||"",!0),Wp(this,w[6]||"",!0),this.m=Zc(w[7]||"")):(this.h=!1,this.i=new Ou(null,this.h))}Ps.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Pu(w,bm,!0),":");var k=this.g;return(k||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Pu(w,bm,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Pu(k,k.charAt(0)=="/"?Xw:Yw,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Pu(k,wM)),p.join("")};function Os(p){return new Ps(p)}function Du(p,w,k){p.j=k?Zc(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Xc(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Wp(p,w,k){w instanceof Ou?(p.i=w,xm(p.i,p.h)):(k||(w=Pu(w,vM)),p.i=new Ou(w,p.h))}function dn(p,w,k){p.i.set(w,k)}function Ru(p){return dn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Zc(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Pu(p,w,k){return typeof p=="string"?(p=encodeURI(p).replace(w,Kw),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Kw(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var bm=/[#\/\?@]/g,Yw=/[#\?:]/g,Xw=/[#\?]/g,vM=/[#\?@]/g,wM=/#/g;function Ou(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Ns(p){p.g||(p.g=new Map,p.h=0,p.i&&qw(p.i,function(w,k){p.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}n=Ou.prototype,n.add=function(p,w){Ns(this),this.i=null,p=Qc(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(w),this.h+=1,this};function Zw(p,w){Ns(p),w=Qc(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Qw(p,w){return Ns(p),w=Qc(p,w),p.g.has(w)}n.forEach=function(p,w){Ns(this),this.g.forEach(function(k,O){k.forEach(function(J){p.call(w,J,O,this)},this)},this)},n.na=function(){Ns(this);let p=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let O=0;O<w.length;O++){let J=p[O];for(let ie=0;ie<J.length;ie++)k.push(w[O])}return k},n.V=function(p){Ns(this);let w=[];if(typeof p=="string")Qw(this,p)&&(w=w.concat(this.g.get(Qc(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)w=w.concat(p[k])}return w},n.set=function(p,w){return Ns(this),this.i=null,p=Qc(this,p),Qw(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Jw(p,w,k){Zw(p,w),0<k.length&&(p.i=null,p.g.set(Qc(p,w),b(k)),p.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let p=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var O=w[k];let ie=encodeURIComponent(String(O)),Ce=this.V(O);for(O=0;O<Ce.length;O++){var J=ie;Ce[O]!==""&&(J+="="+encodeURIComponent(String(Ce[O]))),p.push(J)}}return this.i=p.join("&")};function Qc(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function xm(p,w){w&&!p.j&&(Ns(p),p.i=null,p.g.forEach(function(k,O){var J=O.toLowerCase();O!=J&&(Zw(this,O),Jw(this,J,k))},p)),p.j=w}function _M(p,w){let k=new Su;if(a.Image){let O=new Image;O.onload=v(wa,k,"TestLoadImage: loaded",!0,w,O),O.onerror=v(wa,k,"TestLoadImage: error",!1,w,O),O.onabort=v(wa,k,"TestLoadImage: abort",!1,w,O),O.ontimeout=v(wa,k,"TestLoadImage: timeout",!1,w,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else w(!1)}function yM(p,w){let k=new Su,O=new AbortController,J=setTimeout(()=>{O.abort(),wa(k,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:O.signal}).then(ie=>{clearTimeout(J),ie.ok?wa(k,"TestPingServer: ok",!0,w):wa(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),wa(k,"TestPingServer: error",!1,w)})}function wa(p,w,k,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(k)}catch{}}function kM(){this.g=new dM}function bM(p,w,k){let O=k||"";try{Gw(p,function(J,ie){let Ce=J;d(J)&&(Ce=dm(J)),w.push(O+ie+"="+encodeURIComponent(Ce))})}catch(J){throw w.push(O+"type="+encodeURIComponent("_badmap")),J}}function hn(p){this.l=p.Ub||null,this.j=p.eb||!1}_(hn,Bp),hn.prototype.g=function(){return new pn(this.l,this.j)},hn.prototype.i=(function(p){return function(){return p}})({});function pn(p,w){Rr.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(pn,Rr),n=pn.prototype,n.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Lu(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;e_(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function e_(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Nu(this):Lu(this),this.readyState==3&&e_(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Nu(this))},n.Qa=function(p){this.g&&(this.response=p,Nu(this))},n.ga=function(){this.g&&Nu(this)};function Nu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Lu(p)}n.setRequestHeader=function(p,w){this.u.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let p=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=w.next();return p.join(`\r
`)};function Lu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function t_(p){let w="";return Y(p,function(k,O){w+=O,w+=":",w+=k,w+=`\r
`}),w}function Cm(p,w,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=t_(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):dn(p,w,k))}function Yn(p){Rr.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Yn,Rr);var n_=/^https?$/i,xM=["POST","PUT"];n=Yn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,w,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fm.g(),this.v=this.o?um(this.o):um(fm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ie){wr(this,ie);return}if(p=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)k.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(let ie of O.keys())k.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xM,w,void 0))||O||J||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[ie,Ce]of k)this.g.setRequestHeader(ie,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qp(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){wr(this,ie)}};function wr(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Gp(p),Fu(p)}function Gp(p){p.A||(p.A=!0,$r(p,"complete"),$r(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,$r(this,"complete"),$r(this,"abort"),Fu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fu(this,!0)),Yn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},n.bb=function(){_a(this)};function _a(p){if(p.h&&typeof s<"u"&&(!p.v[1]||hr(p)!=4||p.Z()!=2)){if(p.u&&hr(p)==4)Op(p.Ea,0,p);else if($r(p,"readystatechange"),hr(p)==4){p.h=!1;try{let Ce=p.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var O;if(O=Ce===0){var J=String(p.D).match(km)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),O=!n_.test(J?J.toLowerCase():"")}k=O}if(k)$r(p,"complete"),$r(p,"success");else{p.m=6;try{var ie=2<hr(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",Gp(p)}}finally{Fu(p)}}}}function Fu(p,w){if(p.g){qp(p);let k=p.g,O=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||$r(p,"ready");try{k.onreadystatechange=O}catch{}}}function qp(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function hr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),cM(w)}};function Em(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function r_(p){let w={};p=(p.g&&2<=hr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(B(p[O]))continue;var k=U(p[O]);let J=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();let ie=w[J]||[];w[J]=ie,ie.push(k)}F(w,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jc(p,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||w}function Mm(p){this.Aa=0,this.i=[],this.j=new Su,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jc("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jc("baseRetryDelayMs",5e3,p),this.cb=Jc("retryDelaySeedMs",1e4,p),this.Wa=Jc("forwardChannelMaxRetries",2,p),this.wa=Jc("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new zw(p&&p.concurrentRequestLimit),this.Da=new kM,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mm.prototype,n.la=8,n.G=1,n.connect=function(p,w,k,O){Wr(0),this.W=p,this.H=w||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.I=a_(this,null,this.W),Yp(this)};function Kp(p){if(Fi(p),p.G==3){var w=p.U++,k=Os(p.I);if(dn(k,"SID",p.K),dn(k,"RID",w),dn(k,"TYPE","terminate"),ed(p,k),w=new va(p,p.j,w),w.L=2,w.v=Ru(Os(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=w.v,k=!0),k||(w.g=Sm(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Hp(w)}s_(p)}function Bu(p){p.g&&(An(p),p.g.cancel(),p.g=null)}function Fi(p){Bu(p),p.u&&(a.clearTimeout(p.u),p.u=null),td(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Yp(p){if(!wm(p.h)&&!p.s){p.s=!0;var w=p.Ga;De||Qi(),ye||(De(),ye=!0),Vn.add(w,p),p.B=0}}function ko(p,w){return _m(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Mu(m(p.Ga,p,w),Xp(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;let J=new va(this,this.j,p),ie=this.o;if(this.S&&(ie?(ie=A(ie),L(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=Ls(this,J,w),k=Os(this.I),dn(k,"RID",p),dn(k,"CVER",22),this.D&&dn(k,"X-HTTP-Session-Id",this.D),ed(this,k),ie&&(this.O?w="headers="+encodeURIComponent(String(t_(ie)))+"&"+w:this.m&&Cm(k,this.m,ie)),Tu(this.h,J),this.Ua&&dn(k,"TYPE","init"),this.P?(dn(k,"$req",w),dn(k,"SID","null"),J.T=!0,gm(J,k,null)):gm(J,k,w),this.G=2}}else this.G==3&&(p?i_(this,p):this.i.length==0||wm(this.h)||i_(this))};function i_(p,w){var k;w?k=w.l:k=p.U++;let O=Os(p.I);dn(O,"SID",p.K),dn(O,"RID",k),dn(O,"AID",p.T),ed(p,O),p.m&&p.o&&Cm(O,p.m,p.o),k=new va(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Ls(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Tu(p.h,k),gm(k,O,w)}function ed(p,w){p.H&&Y(p.H,function(k,O){dn(w,O,k)}),p.l&&Gw({},function(k,O){dn(w,O,k)})}function Ls(p,w,k){k=Math.min(p.i.length,k);var O=p.l?m(p.l.Na,p.l,p):null;e:{var J=p.i;let ie=-1;for(;;){let Ce=["count="+k];ie==-1?0<k?(ie=J[0].g,Ce.push("ofs="+ie)):ie=0:Ce.push("ofs="+ie);let Ot=!0;for(let _r=0;_r<k;_r++){let $t=J[_r].g,Gr=J[_r].map;if($t-=ie,0>$t)ie=Math.max(0,J[_r].g-100),Ot=!1;else try{bM(Gr,Ce,"req"+$t+"_")}catch{O&&O(Gr)}}if(Ot){O=Ce.join("&");break e}}}return p=p.i.splice(0,k),w.D=p,O}function Vu(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;De||Qi(),ye||(De(),ye=!0),Vn.add(w,p),p.v=0}}function ju(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Mu(m(p.Fa,p),Xp(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Fs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Mu(m(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wr(10),Bu(this),Fs(this))};function An(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function Fs(p){p.g=new va(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Os(p.qa);dn(w,"RID","rpc"),dn(w,"SID",p.K),dn(w,"AID",p.T),dn(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&dn(w,"TO",p.ja),dn(w,"TYPE","xmlhttp"),ed(p,w),p.m&&p.o&&Cm(w,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=Ru(Os(w)),k.m=null,k.P=!0,Au(k,p)}n.Za=function(){this.C!=null&&(this.C=null,Bu(this),ju(this),Wr(19))};function td(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function o_(p,w){var k=null;if(p.g==w){td(p),An(p),p.g=null;var O=2}else if(zp(p.h,w))k=w.D,$w(p.h,w),O=1;else return;if(p.G!=0){if(w.o)if(O==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var J=p.B;O=Vp(),$r(O,new Bw(O,k)),Yp(p)}else Vu(p);else if(J=w.s,J==3||J==0&&0<w.X||!(O==1&&ko(p,w)||O==2&&ju(p)))switch(k&&0<k.length&&(w=p.h,w.i=w.i.concat(k)),J){case 1:El(p,5);break;case 4:El(p,10);break;case 3:El(p,6);break;default:El(p,2)}}}function Xp(p,w){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*w}function El(p,w){if(p.j.info("Error code "+w),w==2){var k=m(p.fb,p),O=p.Xa;let J=!O;O=new Ps(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Du(O,"https"),Ru(O),J?_M(O.toString(),k):yM(O.toString(),k)}else Wr(2);p.G=0,p.l&&p.l.sa(w),s_(p),Fi(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Wr(2)):(this.j.info("Failed to ping google.com"),Wr(1))};function s_(p){if(p.G=0,p.ka=[],p.l){let w=ym(p.h);(w.length!=0||p.i.length!=0)&&(T(p.ka,w),T(p.ka,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.ra()}}function a_(p,w,k){var O=k instanceof Ps?Os(k):new Ps(k);if(O.g!="")w&&(O.g=w+"."+O.g),Xc(O,O.s);else{var J=a.location;O=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var ie=new Ps(null);O&&Du(ie,O),w&&(ie.g=w),J&&Xc(ie,J),k&&(ie.l=k),O=ie}return k=p.D,w=p.ya,k&&w&&dn(O,k,w),dn(O,"VER",p.la),ed(p,O),O}function Sm(p,w,k){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new Yn(new hn({eb:k})):new Yn(p.pa),w.Ha(p.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}n=Hu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bs(){}Bs.prototype.g=function(p,w){return new eo(p,w)};function eo(p,w){Rr.call(this),this.g=new Mm(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!B(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new ya(this)}_(eo,Rr),eo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},eo.prototype.close=function(){Kp(this.g)},eo.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=dm(p),p=k);w.i.push(new mM(w.Ya++,p)),w.G==3&&Yp(w)},eo.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,eo.aa.N.call(this)};function Im(p){hm.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(let k in w){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}_(Im,hm);function Am(){pm.call(this),this.status=1}_(Am,pm);function ya(p){this.g=p}_(ya,Hu),ya.prototype.ua=function(){$r(this.g,"a")},ya.prototype.ta=function(p){$r(this.g,new Im(p))},ya.prototype.sa=function(p){$r(this.g,new Am)},ya.prototype.ra=function(){$r(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,eo.prototype.send=eo.prototype.o,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,_R=kc.createWebChannelTransport=function(){return new Bs},wR=kc.getStatEventTarget=function(){return Vp()},vR=kc.Event=ma,bC=kc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,lv=kc.ErrorCode=Iu,Vw.COMPLETE="complete",mR=kc.EventType=Vw,Ow.EventType=Eu,Eu.OPEN="a",Eu.CLOSE="b",Eu.ERROR="c",Eu.MESSAGE="d",Rr.prototype.listen=Rr.prototype.K,Qg=kc.WebChannel=Ow,gwe=kc.FetchXmlHttpFactory=hn,Yn.prototype.listenOnce=Yn.prototype.L,Yn.prototype.getLastError=Yn.prototype.Ka,Yn.prototype.getLastErrorCode=Yn.prototype.Ba,Yn.prototype.getStatus=Yn.prototype.Z,Yn.prototype.getResponseJson=Yn.prototype.Oa,Yn.prototype.getResponseText=Yn.prototype.oa,Yn.prototype.send=Yn.prototype.ea,Yn.prototype.setWithCredentials=Yn.prototype.Ha,gR=kc.XhrIo=Yn}).apply(typeof kC<"u"?kC:typeof self<"u"?self:typeof window<"u"?window:{});var rG="@firebase/firestore",iG="4.8.0";var vi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");var C0="11.10.0";var up=new Qa("@firebase/firestore");function Jg(){return up.logLevel}function Pe(n,...e){if(up.logLevel<=qt.DEBUG){let t=e.map(ZP);up.debug(`Firestore (${C0}): ${n}`,...t)}}function xc(n,...e){if(up.logLevel<=qt.ERROR){let t=e.map(ZP);up.error(`Firestore (${C0}): ${n}`,...t)}}function cu(n,...e){if(up.logLevel<=qt.WARN){let t=e.map(ZP);up.warn(`Firestore (${C0}): ${n}`,...t)}}function ZP(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ct(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KG(n,r,t)}function KG(n,e,t){let r=`FIRESTORE (${C0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw xc(r),new Error(r)}function cr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||KG(e,i,r)}function on(n,e){return n}var xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},He=class extends fo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var al=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var IC=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ER=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}},MR=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},SR=class{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){cr(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new al;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new al,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>x(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new al)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cr(typeof r.accessToken=="string",31837,{l:r}),new IC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return cr(e===null||typeof e=="string",2055,{h:e}),new vi(e)}},IR=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},AR=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},AC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},TR=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){cr(this.o===void 0,3512);let r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AC(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function mwe(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function YG(){return new TextEncoder}var gv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=mwe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Wt(n,e){return n<e?-1:n>e?1:0}function DR(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Wt(r,i);{let o=YG(),s=vwe(o.encode(oG(n,t)),o.encode(oG(e,t)));return s!==0?s:Wt(r,i)}}t+=r>65535?2:1}return Wt(n.length,e.length)}function oG(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vwe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Wt(n[t],e[t]);return Wt(n.length,e.length)}function u0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var sG="__name__",TC=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ct(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ct(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Wt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):DR(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yc.fromString(e.substring(4,e.length-2))}},lr=class n extends TC{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},wwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ca=class n extends TC{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return wwe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sG}static keyField(){return new n([sG])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new He(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new He(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new He(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var lt=class n{constructor(e){this.path=e}static fromPath(e){return new n(lr.fromString(e))}static fromName(e){return new n(lr.fromString(e).popFirst(5))}static empty(){return new n(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new lr(e.slice()))}};function XG(n,e,t){if(!t)throw new He(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _we(n,e,t,r){if(e===!0&&r===!0)throw new He(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aG(n){if(!lt.isDocumentKey(n))throw new He(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lG(n){if(lt.isDocumentKey(n))throw new He(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ywe(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kwe(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ct(12329,{type:typeof n})}function mv(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kwe(n);throw new He(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jr(n,e){let t={typeString:n};return e&&(t.value=e),t}function Tv(n,e){if(!ywe(n))throw new He(xe.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new He(xe.INVALID_ARGUMENT,t);return!0}var cG=-62135596800,dG=1e6,wo=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dG);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cG)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dG}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tv(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-cG;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};wo._jsonSchemaVersion="firestore/timestamp/1.0",wo._jsonSchema={type:jr("string",wo._jsonSchemaVersion),seconds:jr("number"),nanoseconds:jr("number")};var Pt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new wo(0,0))}static max(){return new n(new wo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vv=-1,RR=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};RR.UNKNOWN_ID=-1;function bwe(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(r===1e9?new wo(t+1,0):new wo(t,r));return new hp(i,lt.empty(),e)}function xwe(n){return new hp(n.readTime,n.key,vv)}var hp=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Pt.min(),lt.empty(),vv)}static max(){return new n(Pt.max(),lt.empty(),vv)}};function Cwe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(n.documentKey,e.documentKey),t!==0?t:Wt(n.largestBatchId,e.largestBatchId))}var Ewe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",PR=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function o4(n){return x(this,null,function*(){if(n.code!==xe.FAILED_PRECONDITION||n.message!==Ewe)throw n;Pe("LocalStore","Unexpectedly lost primary lease")})}var ke=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;t(e[d]).next(h=>{s[d]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Mwe(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function E0(n){return n.name==="IndexedDbTransactionError"}var QP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Swe=-1;function s4(n){return n==null}function DC(n){return n===0&&1/n==-1/0}var ZG="";function Iwe(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uG(e)),e=Awe(n.get(t),e);return uG(e)}function Awe(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ZG:t+="";break;default:t+=o}}return t}function uG(n){return n+ZG+""}var Twe="remoteDocuments",QG="owner";var JG="mutationQueues";var eq="mutations";var tq="documentMutations",Dwe="remoteDocumentsV14";var nq="remoteDocumentGlobal";var rq="targets";var iq="targetDocuments";var oq="targetGlobal",sq="collectionParents";var aq="clientMetadata";var lq="bundles";var cq="namedQueries";var Rwe="indexConfiguration";var Pwe="indexState";var Owe="indexEntries";var dq="documentOverlays";var Nwe="globals";var Lwe=[JG,eq,tq,Twe,rq,QG,oq,iq,aq,nq,sq,lq,cq],urt=[...Lwe,dq],Fwe=[JG,eq,tq,Dwe,rq,QG,oq,iq,aq,nq,sq,lq,cq,dq],Bwe=Fwe,Vwe=[...Bwe,Rwe,Pwe,Owe];var hrt=[...Vwe,Nwe];function hG(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dv(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jwe(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ar=class n{constructor(e,t){this.comparator=e,this.root=t||ll.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ll.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ll.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new r0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new r0(this.root,e,this.comparator,!1)}getReverseIterator(){return new r0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new r0(this.root,e,this.comparator,!0)}},r0=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ll=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}};ll.EMPTY=null,ll.RED=!0,ll.BLACK=!1;ll.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ll(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wi=class n{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RC(this.data.getIterator())}getIteratorFrom(e){return new RC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},RC=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sp=class n{constructor(e){this.fields=e,e.sort(ca.comparator)}static empty(){return new n([])}unionWith(e){let t=new wi(ca.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return u0(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var PC=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qi=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PC("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qi.EMPTY_BYTE_STRING=new qi("");var Hwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(n){if(cr(!!n,39018),typeof n=="string"){let e=0,t=Hwe.exec(n);if(cr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ec(n){return typeof n=="string"?qi.fromBase64String(n):qi.fromUint8Array(n)}var uq="server_timestamp",hq="__type__",pq="__previous_value__",fq="__local_write_time__";function JP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hq])===null||t===void 0?void 0:t.stringValue)===uq}function a4(n){let e=n.mapValue.fields[pq];return JP(e)?a4(e):e}function wv(n){let e=Cc(n.mapValue.fields[fq].timestampValue);return new wo(e.seconds,e.nanos)}var OR=class{constructor(e,t,r,i,o,s,a,l,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}},OC="(default)",NC=class n{constructor(e,t){this.projectId=e,this.database=t||OC}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===OC}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var gq="__type__",mq="__max__",xC={mapValue:{fields:{__type__:{stringValue:mq}}}},vq="__vector__",_v="value";function du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JP(n)?4:_q(n)?9007199254740991:wq(n)?10:11:Ct(28295,{value:n})}function dl(n,e){if(n===e)return!0;let t=du(n);if(t!==du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wv(n).isEqual(wv(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cc(i.timestampValue),a=Cc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ec(i.bytesValue).isEqual(Ec(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return tr(i.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return tr(i.integerValue)===tr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=tr(i.doubleValue),a=tr(o.doubleValue);return s===a?DC(s)===DC(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return u0(n.arrayValue.values||[],e.arrayValue.values||[],dl);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hG(s)!==hG(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!dl(s[l],a[l])))return!1;return!0})(n,e);default:return Ct(52216,{left:n})}}function yv(n,e){return(n.values||[]).find(t=>dl(t,e))!==void 0}function h0(n,e){if(n===e)return 0;let t=du(n),r=du(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=tr(o.integerValue||o.doubleValue),l=tr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return pG(n.timestampValue,e.timestampValue);case 4:return pG(wv(n),wv(e));case 5:return DR(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ec(o),l=Ec(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let h=Wt(a[d],l[d]);if(h!==0)return h}return Wt(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Wt(tr(o.latitude),tr(s.latitude));return a!==0?a:Wt(tr(o.longitude),tr(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fG(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,l,d,h;let f=o.fields||{},m=s.fields||{},v=(a=f[_v])===null||a===void 0?void 0:a.arrayValue,_=(l=m[_v])===null||l===void 0?void 0:l.arrayValue,b=Wt(((d=v?.values)===null||d===void 0?void 0:d.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:fG(v,_)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===xC.mapValue&&s===xC.mapValue)return 0;if(o===xC.mapValue)return 1;if(s===xC.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){let m=DR(l[f],h[f]);if(m!==0)return m;let v=h0(a[l[f]],d[h[f]]);if(v!==0)return v}return Wt(l.length,h.length)})(n.mapValue,e.mapValue);default:throw Ct(23264,{le:t})}}function pG(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Wt(n,e);let t=Cc(n),r=Cc(e),i=Wt(t.seconds,r.seconds);return i!==0?i:Wt(t.nanos,r.nanos)}function fG(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=h0(t[i],r[i]);if(o)return o}return Wt(t.length,r.length)}function p0(n){return NR(n)}function NR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Cc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ec(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return lt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=NR(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${NR(t.fields[s])}`;return i+"}"})(n.mapValue):Ct(61005,{value:n})}function MC(n){switch(du(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=a4(n);return e?16+MC(e):16;case 5:return 2*n.stringValue.length;case 6:return Ec(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+MC(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Dv(r.fields,(o,s)=>{i+=o.length+MC(s)}),i})(n.mapValue);default:throw Ct(13486,{value:n})}}function LR(n){return!!n&&"integerValue"in n}function e6(n){return!!n&&"arrayValue"in n}function gG(n){return!!n&&"nullValue"in n}function mG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yR(n){return!!n&&"mapValue"in n}function wq(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gq])===null||t===void 0?void 0:t.stringValue)===vq}function dv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Dv(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dv(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _q(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mq}var frt={mapValue:{fields:{[gq]:{stringValue:vq},[_v]:{arrayValue:{}}}}};var bc=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dv(t)}setAll(e){let t=ca.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=dv(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());yR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yR(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Dv(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(dv(this.value))}};var da=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Pt.min(),Pt.min(),Pt.min(),bc.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Pt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Pt.min(),Pt.min(),bc.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Pt.min(),Pt.min(),bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var f0=class{constructor(e,t){this.position=e,this.inclusive=t}};function vG(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=lt.comparator(lt.fromName(s.referenceValue),t.key):r=h0(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wG(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dl(n.position[t],e.position[t]))return!1;return!0}var g0=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Uwe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var LC=class{},ii=class n extends LC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BR(e,t,r):t==="array-contains"?new HR(e,r):t==="in"?new UR(e,r):t==="not-in"?new zR(e,r):t==="array-contains-any"?new $R(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VR(e,r):new jR(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(h0(t,this.value)):t!==null&&du(this.value)===du(t)&&this.matchesComparison(h0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ul=class n extends LC{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return yq(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function yq(n){return n.op==="and"}function kq(n){return zwe(n)&&yq(n)}function zwe(n){for(let e of n.filters)if(e instanceof ul)return!1;return!0}function FR(n){if(n instanceof ii)return n.field.canonicalString()+n.op.toString()+p0(n.value);if(kq(n))return n.filters.map(e=>FR(e)).join(",");{let e=n.filters.map(t=>FR(t)).join(",");return`${n.op}(${e})`}}function bq(n,e){return n instanceof ii?(function(r,i){return i instanceof ii&&r.op===i.op&&r.field.isEqual(i.field)&&dl(r.value,i.value)})(n,e):n instanceof ul?(function(r,i){return i instanceof ul&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bq(s,i.filters[a]),!0):!1})(n,e):void Ct(19439)}function xq(n){return n instanceof ii?(function(t){return`${t.field.canonicalString()} ${t.op} ${p0(t.value)}`})(n):n instanceof ul?(function(t){return t.op.toString()+" {"+t.getFilters().map(xq).join(" ,")+"}"})(n):"Filter"}var BR=class extends ii{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){let t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}},VR=class extends ii{constructor(e,t){super(e,"in",t),this.keys=Cq("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},jR=class extends ii{constructor(e,t){super(e,"not-in",t),this.keys=Cq("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Cq(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}var HR=class extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return e6(t)&&yv(t.arrayValue,this.value)}},UR=class extends ii{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yv(this.value.arrayValue,t)}},zR=class extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(yv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yv(this.value.arrayValue,t)}},$R=class extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!e6(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yv(this.value.arrayValue,r))}};var WR=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function _G(n,e=null,t=[],r=[],i=null,o=null,s=null){return new WR(n,e,t,r,i,o,s)}function t6(n){let e=on(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FR(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),s4(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>p0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>p0(r)).join(",")),e.Pe=t}return e.Pe}function n6(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Uwe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bq(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wG(n.startAt,e.startAt)&&wG(n.endAt,e.endAt)}function GR(n){return lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var m0=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $we(n,e,t,r,i,o,s,a){return new m0(n,e,t,r,i,o,s,a)}function r6(n){return new m0(n)}function yG(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wwe(n){return n.collectionGroup!==null}function uv(n){let e=on(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wi(ca.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new g0(o,r))}),t.has(ca.keyField().canonicalString())||e.Te.push(new g0(ca.keyField(),r))}return e.Te}function cl(n){let e=on(n);return e.Ie||(e.Ie=Gwe(e,uv(n))),e.Ie}function Gwe(n,e){if(n.limitType==="F")return _G(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new g0(i.field,o)});let t=n.endAt?new f0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new f0(n.startAt.position,n.startAt.inclusive):null;return _G(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qR(n,e,t){return new m0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function l4(n,e){return n6(cl(n),cl(e))&&n.limitType===e.limitType}function Eq(n){return`${t6(cl(n))}|lt:${n.limitType}`}function e0(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>xq(i)).join(", ")}]`),s4(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>p0(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>p0(i)).join(",")),`Target(${r})`})(cl(n))}; limitType=${n.limitType})`}function c4(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):lt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of uv(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let d=vG(s,a,l);return s.inclusive?d<=0:d<0})(r.startAt,uv(r),i)||r.endAt&&!(function(s,a,l){let d=vG(s,a,l);return s.inclusive?d>=0:d>0})(r.endAt,uv(r),i))})(n,e)}function qwe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mq(n){return(e,t)=>{let r=!1;for(let i of uv(n)){let o=Kwe(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Kwe(n,e,t){let r=n.field.isKeyField()?lt.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?h0(l,d):Ct(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:n.dir})}}var Mc=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dv(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return jwe(this.inner)}size(){return this.innerSize}};var Ywe=new Ar(lt.comparator);function uu(){return Ywe}var Sq=new Ar(lt.comparator);function cv(...n){let e=Sq;for(let t of n)e=e.insert(t.key,t);return e}function Xwe(n){let e=Sq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ap(){return hv()}function Iq(){return hv()}function hv(){return new Mc(n=>n.toString(),(n,e)=>n.isEqual(e))}var grt=new Ar(lt.comparator),Zwe=new wi(lt.comparator);function cn(...n){let e=Zwe;for(let t of n)e=e.add(t);return e}var Qwe=new wi(Wt);function Jwe(){return Qwe}function e_e(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:DC(e)?"-0":e}}function t_e(n){return{integerValue:""+n}}var v0=class{constructor(){this._=void 0}};function n_e(n,e,t){return n instanceof kv?(function(i,o){let s={fields:{[hq]:{stringValue:uq},[fq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JP(o)&&(o=a4(o)),o&&(s.fields[pq]=o),{mapValue:s}})(t,e):n instanceof w0?Aq(n,e):n instanceof _0?Tq(n,e):(function(i,o){let s=i_e(i,o),a=kG(s)+kG(i.Ee);return LR(s)&&LR(i.Ee)?t_e(a):e_e(i.serializer,a)})(n,e)}function r_e(n,e,t){return n instanceof w0?Aq(n,e):n instanceof _0?Tq(n,e):t}function i_e(n,e){return n instanceof bv?(function(r){return LR(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var kv=class extends v0{},w0=class extends v0{constructor(e){super(),this.elements=e}};function Aq(n,e){let t=Dq(e);for(let r of n.elements)t.some(i=>dl(i,r))||t.push(r);return{arrayValue:{values:t}}}var _0=class extends v0{constructor(e){super(),this.elements=e}};function Tq(n,e){let t=Dq(e);for(let r of n.elements)t=t.filter(i=>!dl(i,r));return{arrayValue:{values:t}}}var bv=class extends v0{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function kG(n){return tr(n.integerValue||n.doubleValue)}function Dq(n){return e6(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o_e(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof w0&&i instanceof w0||r instanceof _0&&i instanceof _0?u0(r.elements,i.elements,dl):r instanceof bv&&i instanceof bv?dl(r.Ee,i.Ee):r instanceof kv&&i instanceof kv})(n.transform,e.transform)}var pv=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function SC(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var xv=class{};function Rq(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new KR(n.key,pv.none()):new Cv(n.key,n.data,pv.none());{let t=n.data,r=bc.empty(),i=new wi(ca.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new y0(n.key,r,new sp(i.toArray()),pv.none())}}function s_e(n,e,t){n instanceof Cv?(function(i,o,s){let a=i.value.clone(),l=xG(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof y0?(function(i,o,s){if(!SC(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=xG(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Pq(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function fv(n,e,t,r){return n instanceof Cv?(function(o,s,a,l){if(!SC(o.precondition,s))return a;let d=o.value.clone(),h=CG(o.fieldTransforms,l,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof y0?(function(o,s,a,l){if(!SC(o.precondition,s))return a;let d=CG(o.fieldTransforms,l,s),h=s.data;return h.setAll(Pq(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return SC(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function bG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&u0(r,i,(o,s)=>o_e(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Cv=class extends xv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},y0=class extends xv{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Pq(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function xG(n,e,t){let r=new Map;cr(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r_e(s,a,t[i]))}return r}function CG(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,n_e(o,s,e))}return r}var KR=class extends xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var YR=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&s_e(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fv(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Iq();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Rq(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Pt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&u0(this.mutations,e.mutations,(t,r)=>bG(t,r))&&u0(this.baseMutations,e.baseMutations,(t,r)=>bG(t,r))}};var XR=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZR=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Br,rn;function Oq(n){if(n===void 0)return xc("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Br.OK:return xe.OK;case Br.CANCELLED:return xe.CANCELLED;case Br.UNKNOWN:return xe.UNKNOWN;case Br.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Br.INTERNAL:return xe.INTERNAL;case Br.UNAVAILABLE:return xe.UNAVAILABLE;case Br.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Br.NOT_FOUND:return xe.NOT_FOUND;case Br.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Br.ABORTED:return xe.ABORTED;case Br.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Br.DATA_LOSS:return xe.DATA_LOSS;default:return Ct(39323,{code:n})}}(rn=Br||(Br={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";var EG=null;var a_e=new yc([4294967295,4294967295],0);function MG(n){let e=YG().encode(n),t=new fR;return t.update(e),new Uint8Array(t.digest())}function SG(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new yc([t,r],0),new yc([i,o],0)]}var QR=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lp(`Invalid padding: ${t}`);if(r<0)throw new lp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lp(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=yc.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(yc.fromNumber(r)));return i.compare(a_e)===1&&(i=new yc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=MG(e),[r,i]=SG(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=MG(e),[r,i]=SG(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},lp=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var FC=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ev.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Pt.min(),i,new Ar(Wt),uu(),cn())}},Ev=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,cn(),cn(),cn())}};var i0=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},BC=class{constructor(e,t){this.targetId=e,this.De=t}},VC=class{constructor(e,t,r=qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},jC=class{constructor(){this.ve=0,this.Ce=IG(),this.Fe=qi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=cn(),t=cn(),r=cn();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ct(38017,{changeType:o})}}),new Ev(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=IG()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,cr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},JR=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=uu(),this.je=CC(),this.Je=CC(),this.He=new Ar(Wt)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ct(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(GR(o))if(r===0){let s=new lt(o.path);this.Xe(t,s,da.newNoDocument(s,Pt.min()))}else cr(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}EG?.ct((function(h,f,m,v,_){var b,T,M,B,j,H;let q={localCacheCount:h,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Y=f.unchangedNames;return Y&&(q.bloomFilter={applied:_===0,hashCount:(b=Y?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(B=(M=(T=Y?.bits)===null||T===void 0?void 0:T.bitmap)===null||M===void 0?void 0:M.length)!==null&&B!==void 0?B:0,padding:(H=(j=Y?.bits)===null||j===void 0?void 0:j.padding)!==null&&H!==void 0?H:0,mightContain:F=>{var A;return(A=v?.mightContain(F))!==null&&A!==void 0&&A}}),q})(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ec(r).toUint8Array()}catch(l){if(l instanceof PC)return cu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new QR(s,i,o)}catch(l){return cu(l instanceof lp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&GR(a.target)){let l=new lt(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,da.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=cn();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.st(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new FC(e,t,this.He,this.ze,r);return this.ze=uu(),this.je=CC(),this.Je=CC(),this.He=new Ar(Wt),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new jC,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new wi(Wt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new wi(Wt),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new jC),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function CC(){return new Ar(lt.comparator)}function IG(){return new Ar(lt.comparator)}var l_e={asc:"ASCENDING",desc:"DESCENDING"},c_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d_e={and:"AND",or:"OR"},eP=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tP(n,e){return n.useProto3Json||s4(e)?e:{value:e}}function u_e(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h_e(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function o0(n){return cr(!!n,49232),Pt.fromTimestamp((function(t){let r=Cc(t);return new wo(r.seconds,r.nanos)})(n))}function p_e(n,e){return nP(n,e).canonicalString()}function nP(n,e){let t=(function(i){return new lr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Nq(n){let e=lr.fromString(n);return cr(jq(e),10190,{key:e.toString()}),e}function kR(n,e){let t=Nq(e);if(t.get(1)!==n.databaseId.projectId)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(Fq(t))}function Lq(n,e){return p_e(n.databaseId,e)}function f_e(n){let e=Nq(n);return e.length===4?lr.emptyPath():Fq(e)}function AG(n){return new lr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fq(n){return cr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g_e(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ct(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(cr(h===void 0||typeof h=="string",58123),qi.fromBase64String(h||"")):(cr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qi.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(d){let h=d.code===void 0?xe.UNKNOWN:Oq(d.code);return new He(h,d.message||"")})(s);t=new VC(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=kR(n,r.document.name),o=o0(r.document.updateTime),s=r.document.createTime?o0(r.document.createTime):Pt.min(),a=new bc({mapValue:{fields:r.document.fields}}),l=da.newFoundDocument(i,o,s,a),d=r.targetIds||[],h=r.removedTargetIds||[];t=new i0(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=kR(n,r.document),o=r.readTime?o0(r.readTime):Pt.min(),s=da.newNoDocument(i,o),a=r.removedTargetIds||[];t=new i0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=kR(n,r.document),o=r.removedTargetIds||[];t=new i0([],o,i,null)}else{if(!("filter"in e))return Ct(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZR(i,o),a=r.targetId;t=new BC(a,s)}}return t}function m_e(n,e){return{documents:[Lq(n,e.path)]}}function v_e(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lq(n,i);let o=(function(d){if(d.length!==0)return Vq(ul.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(h=>(function(m){return{field:t0(m.field),direction:y_e(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=tP(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:i}}function w_e(n){let e=f_e(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){cr(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(f){let m=Bq(f);return m instanceof ul&&kq(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(m=>(function(_){return new g0(n0(_.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let m;return m=typeof f=="object"?f.value:f,s4(m)?null:m})(t.limit));let l=null;t.startAt&&(l=(function(f){let m=!!f.before,v=f.values||[];return new f0(v,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(f){let m=!f.before,v=f.values||[];return new f0(v,m)})(t.endAt)),$we(e,i,s,o,a,"F",l,d)}function __e(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bq(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=n0(t.unaryFilter.field);return ii.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=n0(t.unaryFilter.field);return ii.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=n0(t.unaryFilter.field);return ii.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=n0(t.unaryFilter.field);return ii.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ii.create(n0(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ul.create(t.compositeFilter.filters.map(r=>Bq(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(t.compositeFilter.op))})(n):Ct(30097,{filter:n})}function y_e(n){return l_e[n]}function k_e(n){return c_e[n]}function b_e(n){return d_e[n]}function t0(n){return{fieldPath:n.canonicalString()}}function n0(n){return ca.fromServerFormat(n.fieldPath)}function Vq(n){return n instanceof ii?(function(t){if(t.op==="=="){if(mG(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NAN"}};if(gG(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mG(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NOT_NAN"}};if(gG(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:t0(t.field),op:k_e(t.op),value:t.value}}})(n):n instanceof ul?(function(t){let r=t.getFilters().map(i=>Vq(i));return r.length===1?r[0]:{compositeFilter:{op:b_e(t.op),filters:r}}})(n):Ct(54877,{filter:n})}function jq(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mv=class n{constructor(e,t,r,i,o=Pt.min(),s=Pt.min(),a=qi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rP=class{constructor(e){this.gt=e}};function x_e(n){let e=w_e({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qR(e,e.limit,"L"):e}var HC=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(tr(e.integerValue));else if("doubleValue"in e){let r=tr(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),DC(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Cc(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ec(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?_q(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):wq(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Ct(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=_v,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(tr(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),lt.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};HC.Ut=new HC;var iP=class{constructor(){this.Dn=new oP}addToCollectionParentIndex(e,t){return this.Dn.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ke.resolve()}deleteFieldIndex(e,t){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,t){return ke.resolve()}getDocumentsMatchingTarget(e,t){return ke.resolve(null)}getIndexType(e,t){return ke.resolve(0)}getFieldIndexes(e,t){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,t){return ke.resolve(hp.min())}getMinOffsetFromCollectionGroup(e,t){return ke.resolve(hp.min())}updateCollectionGroup(e,t,r){return ke.resolve()}updateIndexEntries(e,t){return ke.resolve()}},oP=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wi(lr.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wi(lr.comparator)).toArray()}};var mrt=new Uint8Array(0);var TG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hq=41943040,Is=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(Hq,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);var Sv=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var DG="LruGarbageCollector",C_e=1048576;function RG([n,e],[t,r]){let i=Wt(n,t);return i===0?Wt(e,r):i}var sP=class{constructor(e){this.Tr=e,this.buffer=new wi(RG),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();RG(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},aP=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Pe(DG,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>x(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){E0(t)?Pe(DG,"Ignoring IndexedDB error during garbage collection: ",t):yield o4(t)}yield this.Rr(3e5)}))}},lP=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ke.resolve(QP.ue);let r=new sP(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(TG)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TG):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Jg()<=qt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function E_e(n,e){return new lP(n,e)}var cP=class{constructor(){this.changes=new Mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,da.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dP=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var uP=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fv(r.mutation,i,sp.empty(),wo.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){let i=ap();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ap();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=uu(),s=hv(),a=(function(){return hv()})();return t.forEach((l,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof y0)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),fv(h.mutation,d,h.mutation.getFieldMask(),wo.now())):s.set(d.key,sp.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>{var f;return a.set(d,new dP(h,(f=s.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=hv(),i=new Ar((s,a)=>s-a),o=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let h=r.get(l)||sp.empty();h=a.applyToLocalView(d,h),r.set(l,h);let f=(i.get(a.batchId)||cn()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,h=l.value,f=Iq();h.forEach(m=>{if(!o.has(m)){let v=Rq(t.get(m),r.get(m));v!==null&&f.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ke.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wwe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ke.resolve(ap()),a=vv,l=o;return s.next(d=>ke.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?ke.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,cn())).next(h=>({batchId:a,changes:Xwe(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let i=cv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cv();return this.indexManager.getCollectionParents(e,o).next(a=>ke.forEach(a,l=>{let d=(function(f,m){return new m0(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,da.newInvalidDocument(h)))});let a=cv();return s.forEach((l,d)=>{let h=o.get(l);h!==void 0&&fv(h.mutation,d,sp.empty(),wo.now()),c4(t,d)&&(a=a.insert(l,d))}),a})}};var hP=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ke.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:o0(i.createTime)}})(t)),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:x_e(i.bundledQuery),readTime:o0(i.readTime)}})(t)),ke.resolve()}};var pP=class{constructor(){this.overlays=new Ar(lt.comparator),this.kr=new Map}getOverlay(e,t){return ke.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ap();return ke.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),ke.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ke.resolve()}getOverlaysForCollection(e,t,r){let i=ap(),o=t.length+1,s=new lt(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ar((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=ap(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=ap(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return ke.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new XR(t,r));let o=this.kr.get(t);o===void 0&&(o=cn(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var fP=class{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ke.resolve()}};var Iv=class{constructor(){this.qr=new wi(Vr.Qr),this.$r=new wi(Vr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Vr(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Vr(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new lt(new lr([])),r=new Vr(t,e),i=new Vr(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new lt(new lr([])),r=new Vr(t,e),i=new Vr(t,e+1),o=cn();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Vr(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Vr=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return lt.comparator(e.key,t.key)||Wt(e.Hr,t.Hr)}static Ur(e,t){return Wt(e.Hr,t.Hr)||lt.comparator(e.key,t.key)}};var gP=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new wi(Vr.Qr)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new YR(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Vr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(s)}lookupMutationBatch(e,t){return ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?Swe:this.er-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Vr(t,0),i=new Vr(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wi(Wt);return t.forEach(i=>{let o=new Vr(i,0),s=new Vr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),ke.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;lt.isDocumentKey(o)||(o=o.child(""));let s=new Vr(new lt(o),0),a=new wi(Wt);return this.Yr.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.Hr)),!0)},s),ke.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){cr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ke.forEach(t.mutations,i=>{let o=new Vr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Vr(t,0),i=this.Yr.firstAfterOrEqual(r);return ke.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var mP=class{constructor(e){this.ni=e,this.docs=(function(){return new Ar(lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():da.newInvalidDocument(t))}getEntries(e,t){let r=uu();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():da.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=uu(),s=t.path,a=new lt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:h}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Cwe(xwe(h),r)<=0||(i.has(h.key)||c4(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ke.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ct(9500)}ri(e,t){return ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vP(this)}getSize(e){return ke.resolve(this.size)}},vP=class extends cP{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ke.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var wP=class{constructor(e){this.persistence=e,this.ii=new Mc(t=>t6(t),n6),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.si=0,this.oi=new Iv,this.targetCount=0,this._i=Sv.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ke.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Sv(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.hr(t),ke.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(o).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ke.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this.oi.containsKey(t))}};var UC=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new QP(0),this.ci=!1,this.ci=!0,this.li=new fP,this.referenceDelegate=e(this),this.hi=new wP(this),this.indexManager=new iP,this.remoteDocumentCache=(function(i){return new mP(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new rP(t),this.Ti=new hP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new gP(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);let i=new _P(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return ke.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},_P=class extends PR{constructor(e){super(),this.currentSequenceNumber=e}},yP=class n{constructor(e){this.persistence=e,this.Ai=new Iv,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Ct(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.mi,r=>{let i=lt.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Pt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ke.or([()=>ke.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},zC=class n{constructor(e,t){this.persistence=e,this.gi=new Mc(r=>Iwe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=E_e(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ke.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?ke.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Pt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ke.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ke.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=MC(e.data.value)),t}Sr(e,t,r){return ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var kP=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=cn(),i=cn();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var bP=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xP=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return e$()?8:Mwe(mi())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bP;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Jg()<=qt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",e0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ke.resolve()):(Jg()<=qt.DEBUG&&Pe("QueryEngine","Query:",e0(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Jg()<=qt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",e0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cl(t))):ke.resolve())}ps(e,t){if(yG(t))return ke.resolve(null);let r=cl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qR(t,null,"F"),r=cl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=cn(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.bs(t,a);return this.Ds(t,d,s,l.readTime)?this.ps(e,qR(t,null,"F")):this.vs(e,d,t,l)}))})))}ys(e,t,r,i){return yG(t)||i.isEqual(Pt.min())?ke.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?ke.resolve(null):(Jg()<=qt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),e0(t)),this.vs(e,s,t,bwe(i,vv)).next(a=>a))})}bs(e,t){let r=new wi(Mq(e));return t.forEach((i,o)=>{c4(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Jg()<=qt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",e0(t)),this.gs.getDocumentsMatchingQuery(e,t,hp.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var i6="LocalStore",M_e=3e8,CP=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ar(Wt),this.Ms=new Mc(o=>t6(o),n6),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function S_e(n,e,t,r){return new CP(n,e,t,r)}function Uq(n,e){return x(this,null,function*(){let t=on(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=cn();for(let d of i){s.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}for(let d of o){a.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function zq(n){let e=on(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function I_e(n,e){let t=on(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,f)=>{let m=i.get(f);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,f)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(qi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),(function(b,T,M){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=M_e?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(m,v,h)&&a.push(t.hi.updateTargetData(o,v))});let l=uu(),d=cn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(A_e(o,s,e.documentUpdates).next(h=>{l=h.Ls,d=h.ks})),!r.isEqual(Pt.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return ke.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(t.Fs=i,o))}function A_e(n,e,t){let r=cn(),i=cn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=uu();return t.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Pe(i6,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function T_e(n,e){let t=on(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,ke.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Mv(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function EP(n,e,t){return x(this,null,function*(){let r=on(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!E0(s))throw s;Pe(i6,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function PG(n,e,t){let r=on(n),i=Pt.min(),o=cn();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,d,h){let f=on(l),m=f.Ms.get(h);return m!==void 0?ke.resolve(f.Fs.get(m)):f.hi.getTargetData(d,h)})(r,s,cl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Pt.min(),t?o:cn())).next(a=>(D_e(r,qwe(e),a),{documents:a,qs:o})))}function D_e(n,e,t){let r=n.xs.get(e)||Pt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var $C=class{constructor(){this.activeTargetIds=Jwe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var MP=class{constructor(){this.Fo=new $C,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $C,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var SP=class{xo(e){}shutdown(){}};var OG="ConnectivityMonitor",WC=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Pe(OG,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Pe(OG,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var EC=null;function IP(){return EC===null?EC=(function(){return 268435456+Math.round(2147483648*Math.random())})():EC++,"0x"+EC.toString(16)}var bR="RestConnection",R_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},AP=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===OC?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=IP(),a=this.Go(e,t.toUriEncodedString());Pe(bR,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:d}=new URL(a),h=Xa(d);return this.jo(e,a,l,r,h).then(f=>(Pe(bR,`Received RPC '${e}' ${s}: `,f),f),f=>{throw cu(bR,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+C0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=R_e[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var TP=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Gi="WebChannelConnection",DP=class extends AP{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=IP();return new Promise((a,l)=>{let d=new gR;d.setWithCredentials(!0),d.listenOnce(mR.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case lv.NO_ERROR:let f=d.getResponseJson();Pe(Gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case lv.TIMEOUT:Pe(Gi,`RPC '${e}' ${s} timed out`),l(new He(xe.DEADLINE_EXCEEDED,"Request time out"));break;case lv.HTTP_ERROR:let m=d.getStatus();if(Pe(Gi,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);let _=v?.error;if(_&&_.status&&_.message){let b=(function(M){let B=M.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(B)>=0?B:xe.UNKNOWN})(_.status);l(new He(b,_.message))}else l(new He(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new He(xe.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Pe(Gi,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Pe(Gi,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}P_(e,t,r){let i=IP(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_R(),a=wR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");Pe(Gi,`Creating RPC '${e}' stream ${i}: ${h}`,l);let f=s.createWebChannel(h,l);this.T_(f);let m=!1,v=!1,_=new TP({Ho:T=>{v?Pe(Gi,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(Pe(Gi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Pe(Gi,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},Yo:()=>f.close()}),b=(T,M,B)=>{T.listen(M,j=>{try{B(j)}catch(H){setTimeout(()=>{throw H},0)}})};return b(f,Qg.EventType.OPEN,()=>{v||(Pe(Gi,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),b(f,Qg.EventType.CLOSE,()=>{v||(v=!0,Pe(Gi,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(f))}),b(f,Qg.EventType.ERROR,T=>{v||(v=!0,cu(Gi,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),_.__(new He(xe.UNAVAILABLE,"The operation could not be completed")))}),b(f,Qg.EventType.MESSAGE,T=>{var M;if(!v){let B=T.data[0];cr(!!B,16349);let j=B,H=j?.error||((M=j[0])===null||M===void 0?void 0:M.error);if(H){Pe(Gi,`RPC '${e}' stream ${i} received error:`,H);let q=H.status,Y=(function(S){let L=Br[S];if(L!==void 0)return Oq(L)})(q),F=H.message;Y===void 0&&(Y=xe.INTERNAL,F="Unknown error status: "+q+" with message "+H.message),v=!0,_.__(new He(Y,F)),f.close()}else Pe(Gi,`RPC '${e}' stream ${i} received:`,B),_.a_(B)}}),b(a,vR.STAT_EVENT,T=>{T.stat===bC.PROXY?Pe(Gi,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===bC.NOPROXY&&Pe(Gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function xR(){return typeof document<"u"?document:null}function $q(n){return new eP(n,!0)}var GC=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var NG="PersistentStream",RP=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new GC(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return x(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return x(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return x(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(xc(t.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new He(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>x(this,null,function*(){this.state=0,this.start()}))}G_(e){return Pe(NG,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Pe(NG,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},PP=class extends RP{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=g_e(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Pt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Pt.min():s.readTime?o0(s.readTime):Pt.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=AG(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=GR(l)?{documents:m_e(o,l)}:{query:v_e(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=h_e(o,s.resumeToken);let d=tP(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Pt.min())>0){a.readTime=u_e(o,s.snapshotVersion.toTimestamp());let d=tP(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=__e(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=AG(this.serializer),t.removeTarget=e,this.k_(t)}};var OP=class{},NP=class extends OP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,nP(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(xe.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,nP(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(xe.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},LP=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xc(t),this._a=!1):Pe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var k0="RemoteStore",FP=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>x(this,null,function*(){Pv(this)&&(Pe(k0,"Restarting streams for network reachability change."),yield(function(l){return x(this,null,function*(){let d=on(l);d.Ia.add(4),yield Rv(d),d.Aa.set("Unknown"),d.Ia.delete(4),yield d4(d)})})(this))}))}),this.Aa=new LP(r,i)}};function d4(n){return x(this,null,function*(){if(Pv(n))for(let e of n.da)yield e(!0)})}function Rv(n){return x(this,null,function*(){for(let e of n.da)yield e(!1)})}function Wq(n,e){let t=on(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),l6(t)?a6(t):M0(t).x_()&&s6(t,e))}function o6(n,e){let t=on(n),r=M0(t);t.Ta.delete(e),r.x_()&&Gq(t,e),t.Ta.size===0&&(r.x_()?r.B_():Pv(t)&&t.Aa.set("Unknown"))}function s6(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}M0(n).H_(e)}function Gq(n,e){n.Ra.$e(e),M0(n).Y_(e)}function a6(n){n.Ra=new JR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),M0(n).start(),n.Aa.aa()}function l6(n){return Pv(n)&&!M0(n).M_()&&n.Ta.size>0}function Pv(n){return on(n).Ia.size===0}function qq(n){n.Ra=void 0}function P_e(n){return x(this,null,function*(){n.Aa.set("Online")})}function O_e(n){return x(this,null,function*(){n.Ta.forEach((e,t)=>{s6(n,e)})})}function N_e(n,e){return x(this,null,function*(){qq(n),l6(n)?(n.Aa.la(e),a6(n)):n.Aa.set("Unknown")})}function L_e(n,e,t){return x(this,null,function*(){if(n.Aa.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{yield(function(i,o){return x(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){Pe(k0,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield LG(n,r)}else if(e instanceof i0?n.Ra.Ye(e):e instanceof BC?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Pt.min()))try{let r=yield zq(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ta.get(d);h&&o.Ta.set(d,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let h=o.Ta.get(l);if(!h)return;o.Ta.set(l,h.withResumeToken(qi.EMPTY_BYTE_STRING,h.snapshotVersion)),Gq(o,l);let f=new Mv(h.target,l,d,h.sequenceNumber);s6(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){Pe(k0,"Failed to raise snapshot:",r),yield LG(n,r)}})}function LG(n,e,t){return x(this,null,function*(){if(!E0(e))throw e;n.Ia.add(1),yield Rv(n),n.Aa.set("Offline"),t||(t=()=>zq(n.localStore)),n.asyncQueue.enqueueRetryable(()=>x(null,null,function*(){Pe(k0,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield d4(n)}))})}function FG(n,e){return x(this,null,function*(){let t=on(n);t.asyncQueue.verifyOperationInProgress(),Pe(k0,"RemoteStore received new credentials");let r=Pv(t);t.Ia.add(3),yield Rv(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield d4(t)})}function F_e(n,e){return x(this,null,function*(){let t=on(n);e?(t.Ia.delete(2),yield d4(t)):e||(t.Ia.add(2),yield Rv(t),t.Aa.set("Unknown"))})}function M0(n){return n.Va||(n.Va=(function(t,r,i){let o=on(t);return o.ia(),new PP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:P_e.bind(null,n),e_:O_e.bind(null,n),n_:N_e.bind(null,n),J_:L_e.bind(null,n)}),n.da.push(e=>x(null,null,function*(){e?(n.Va.N_(),l6(n)?a6(n):n.Aa.set("Unknown")):(yield n.Va.stop(),qq(n))}))),n.Va}var BP=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kq(n,e){if(xc("AsyncQueue",`${e}: ${n}`),E0(n))return new He(xe.UNAVAILABLE,`${e}: ${n}`);throw n}var qC=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=cv(),this.sortedSet=new Ar(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var KC=class{constructor(){this.fa=new Ar(lt.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ct(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},b0=class n{constructor(e,t,r,i,o,s,a,l,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qC.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l4(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var VP=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},jP=class{constructor(){this.queries=BG(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=on(t),o=i.queries;i.queries=BG(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new He(xe.ABORTED,"Firestore shutting down"))}};function BG(){return new Mc(n=>Eq(n),l4)}function Yq(n,e){return x(this,null,function*(){let t=on(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new VP,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Kq(s,`Initialization of query '${e0(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&c6(t)})}function Xq(n,e){return x(this,null,function*(){let t=on(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function B_e(n,e){let t=on(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&c6(t)}function V_e(n,e,t){let r=on(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function c6(n){n.Da.forEach(e=>{e.next()})}var HP,VG;(VG=HP||(HP={})).Fa="default",VG.Cache="cache";var YC=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new b0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=b0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==HP.Cache}};var XC=class{constructor(e){this.key=e}},ZC=class{constructor(e){this.key=e}},UP=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=cn(),this.mutatedKeys=cn(),this.Xa=Mq(e),this.eu=new qC(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new KC,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let m=i.get(h),v=c4(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),T=!1;m&&v?m.data.isEqual(v.data)?_!==b&&(r.track({type:3,doc:v}),T=!0):this.iu(m,v)||(r.track({type:2,doc:v}),T=!0,(l&&this.Xa(v,l)>0||d&&this.Xa(v,d)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),T=!0):m&&!v&&(r.track({type:1,doc:m}),T=!0,(l||d)&&(a=!0)),T&&(v?(s=s.add(v),o=b?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,f)=>(function(v,_){let b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{At:T})}};return b(v)-b(_)})(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,d=l!==this.Ya;return this.Ya=l,s.length!==0||d?{snapshot:new b0(this.query,e.eu,o,s,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new KC,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=cn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new ZC(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new XC(r))}),t}uu(e){this.Ha=e.qs,this.Za=cn();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return b0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},d6="SyncEngine",zP=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},$P=class{constructor(e){this.key=e,this.lu=!1}},WP=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Mc(a=>Eq(a),l4),this.Tu=new Map,this.Iu=new Set,this.du=new Ar(lt.comparator),this.Eu=new Map,this.Au=new Iv,this.Ru={},this.Vu=new Map,this.mu=Sv.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function j_e(n,e,t=!0){return x(this,null,function*(){let r=tK(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield Zq(r,e,t,!0),i})}function H_e(n,e){return x(this,null,function*(){let t=tK(n);yield Zq(t,e,!0,!1)})}function Zq(n,e,t,r){return x(this,null,function*(){let i=yield T_e(n.localStore,cl(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield U_e(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Wq(n.remoteStore,i),a})}function U_e(n,e,t,r,i){return x(this,null,function*(){n.gu=(f,m,v)=>(function(b,T,M,B){return x(this,null,function*(){let j=T.view.nu(M);j.Ds&&(j=yield PG(b.localStore,T.query,!1).then(({documents:F})=>T.view.nu(F,j)));let H=B&&B.targetChanges.get(T.targetId),q=B&&B.targetMismatches.get(T.targetId)!=null,Y=T.view.applyChanges(j,b.isPrimaryClient,H,q);return HG(b,T.targetId,Y._u),Y.snapshot})})(n,f,m,v);let o=yield PG(n.localStore,e,!0),s=new UP(e,o.qs),a=s.nu(o.documents),l=Ev.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,l);HG(n,t,d._u);let h=new zP(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),d.snapshot})}function z_e(n,e,t){return x(this,null,function*(){let r=on(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!l4(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield EP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&o6(r.remoteStore,i.targetId),GP(r,i.targetId)}).catch(o4))):(GP(r,i.targetId),yield EP(r.localStore,i.targetId,!0))})}function $_e(n,e){return x(this,null,function*(){let t=on(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),o6(t.remoteStore,r.targetId))})}function Qq(n,e){return x(this,null,function*(){let t=on(n);try{let r=yield I_e(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(cr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?cr(s.lu,14607):i.removedDocuments.size>0&&(cr(s.lu,42227),s.lu=!1))}),yield eK(t,r,e)}catch(r){yield o4(r)}})}function jG(n,e,t){let r=on(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=on(s);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(let m of f.wa)m.va(a)&&(d=!0)}),d&&c6(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W_e(n,e,t){return x(this,null,function*(){let r=on(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ar(lt.comparator);s=s.insert(o,da.newNoDocument(o,Pt.min()));let a=cn().add(o),l=new FC(Pt.min(),new Map,new Ar(Wt),s,a);yield Qq(r,l),r.du=r.du.remove(o),r.Eu.delete(e),u6(r)}else yield EP(r.localStore,e,!1).then(()=>GP(r,e,t)).catch(o4)})}function GP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||Jq(n,r)})}function Jq(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(o6(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),u6(n))}function HG(n,e,t){for(let r of t)r instanceof XC?(n.Au.addReference(r.key,e),G_e(n,r)):r instanceof ZC?(Pe(d6,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Jq(n,r.key)):Ct(19791,{yu:r})}function G_e(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Pe(d6,"New document in limbo: "+t),n.Iu.add(r),u6(n))}function u6(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new lt(lr.fromString(e)),r=n.mu.next();n.Eu.set(r,new $P(t)),n.du=n.du.insert(t,r),Wq(n.remoteStore,new Mv(cl(r6(t.path)),r,"TargetPurposeLimboResolution",QP.ue))}}function eK(n,e,t){return x(this,null,function*(){let r=on(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(d=>{var h;if((d||t)&&r.isPrimaryClient){let f=d?!d.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){i.push(d);let f=kP.Es(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(l,d){return x(this,null,function*(){let h=on(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ke.forEach(d,m=>ke.forEach(m.Is,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>ke.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!E0(f))throw f;Pe(i6,"Failed to update sequence numbers: "+f)}for(let f of d){let m=f.targetId;if(!f.fromCache){let v=h.Fs.get(m),_=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(m,b)}}})})(r.localStore,o))})}function q_e(n,e){return x(this,null,function*(){let t=on(n);if(!t.currentUser.isEqual(e)){Pe(d6,"User change. New user:",e.toKey());let r=yield Uq(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new He(xe.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eK(t,r.Bs)}})}function K_e(n,e){let t=on(n),r=t.Eu.get(e);if(r&&r.lu)return cn().add(r.key);{let i=cn(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function tK(n){let e=on(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W_e.bind(null,e),e.hu.J_=B_e.bind(null,e.eventManager),e.hu.pu=V_e.bind(null,e.eventManager),e}var nK=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return x(this,null,function*(){this.serializer=$q(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return S_e(this.persistence,new xP,t.initialUser,this.serializer)}Du(t){return new UC(yP.Vi,this.serializer)}bu(t){return new MP}terminate(){return x(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),qP=class extends nK{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){cr(this.persistence.referenceDelegate instanceof zC,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new aP(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new UC(r=>zC.Vi(r,t),this.serializer)}};var Y_e=(()=>{class n{initialize(t,r){return x(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jG(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q_e.bind(null,this.syncEngine),yield F_e(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new jP})()}createDatastore(t){let r=$q(t.databaseInfo.databaseId),i=(function(s){return new DP(s)})(t.databaseInfo);return(function(s,a,l,d){return new NP(s,a,l,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new FP(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>jG(this.syncEngine,r,0),(function(){return WC.C()?new WC:new SP})())}createSyncEngine(t,r){return(function(o,s,a,l,d,h,f){let m=new WP(o,s,a,l,d,h);return f&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return x(this,null,function*(){var t,r;yield(function(o){return x(this,null,function*(){let s=on(o);Pe(k0,"RemoteStore shutting down."),s.Ia.add(5),yield Rv(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var QC=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xc("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var hu="FirestoreClient",KP=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vi.UNAUTHENTICATED,this.clientId=gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>x(this,null,function*(){Pe(hu,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Pe(hu,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Kq(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function CR(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Pe(hu,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>x(null,null,function*(){r.isEqual(i)||(yield Uq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{cu("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{cu("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function UG(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield X_e(n);Pe(hu,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>FG(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>FG(e.remoteStore,i)),n._onlineComponents=e})}function X_e(n){return x(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(hu,"Using user provided OfflineComponentProvider");try{yield CR(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;cu("Error using user provided cache. Falling back to memory cache: "+t),yield CR(n,new nK)}}else Pe(hu,"Using default OfflineComponentProvider"),yield CR(n,new qP(void 0));return n._offlineComponents})}function Z_e(n){return x(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(hu,"Using user provided OnlineComponentProvider"),yield UG(n,n._uninitializedComponentsProvider._online)):(Pe(hu,"Using default OnlineComponentProvider"),yield UG(n,new Y_e))),n._onlineComponents})}function rK(n){return x(this,null,function*(){let e=yield Z_e(n),t=e.eventManager;return t.onListen=j_e.bind(null,e.syncEngine),t.onUnlisten=z_e.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H_e.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$_e.bind(null,e.syncEngine),t})}function Q_e(n,e,t={}){let r=new al;return n.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return(function(o,s,a,l,d){let h=new QC({next:m=>{h.Ou(),s.enqueueAndForget(()=>Xq(o,f));let v=m.docs.has(a);!v&&m.fromCache?d.reject(new He(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?d.reject(new He(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new YC(r6(a.path),h,{includeMetadataChanges:!0,ka:!0});return Yq(o,f)})(yield rK(n),n.asyncQueue,e,t,r)})),r.promise}function J_e(n,e,t={}){let r=new al;return n.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return(function(o,s,a,l,d){let h=new QC({next:m=>{h.Ou(),s.enqueueAndForget(()=>Xq(o,f)),m.fromCache&&l.source==="server"?d.reject(new He(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new YC(a,h,{includeMetadataChanges:!0,ka:!0});return Yq(o,f)})(yield rK(n),n.asyncQueue,e,t,r)})),r.promise}function iK(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zG=new Map;var oK="firestore.googleapis.com",$G=!0,JC=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new He(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oK,this.ssl=$G}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$G;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C_e)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_we("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iK((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},x0=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ER;switch(r.type){case"firstParty":return new AR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=zG.get(t);r&&(Pe("ComponentProvider","Removing Datastore"),zG.delete(t),r.terminate())})(this),Promise.resolve()}};function sK(n,e,t,r={}){var i;n=mv(n,x0);let o=Xa(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(Fg(`https://${l}`),Bg("Firestore",!0)),s.host!==oK&&s.host!==l&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Za(d,a)&&(n._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=vi.MOCK_USER;else{h=Rx(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new He(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vi(m)}n._authCredentials=new MR(new IC(h,f))}}var e4=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ns=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tv(t,n._jsonSchema))return new n(e,r||null,new lt(lr.fromString(t.referencePath)))}};ns._jsonSchemaVersion="firestore/documentReference/1.0",ns._jsonSchema={type:jr("string",ns._jsonSchemaVersion),referencePath:jr("string")};var lu=class n extends e4{constructor(e,t,r){super(e,t,r6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ns(this.firestore,null,new lt(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aK(n,e,...t){if(n=Si(n),XG("collection","path",e),n instanceof x0){let r=lr.fromString(e,...t);return lG(r),new lu(n,null,r)}{if(!(n instanceof ns||n instanceof lu))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(lr.fromString(e,...t));return lG(r),new lu(n.firestore,null,r)}}function lK(n,e,...t){if(n=Si(n),arguments.length===1&&(e=gv.newId()),XG("doc","path",e),n instanceof x0){let r=lr.fromString(e,...t);return aG(r),new ns(n,null,new lt(r))}{if(!(n instanceof ns||n instanceof lu))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(lr.fromString(e,...t));return aG(r),new ns(n.firestore,n instanceof lu?n.converter:null,new lt(r))}}var WG="AsyncQueue",t4=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new GC(this,"async_queue_retry"),this.oc=()=>{let r=xR();r&&Pe(WG,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=xR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=xR();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new al;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return x(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!E0(e))throw e;Pe(WG,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,xc("INTERNAL UNHANDLED ERROR: ",GG(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=BP.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Ct(47125,{hc:GG(this.tc)})}verifyOperationInProgress(){}Pc(){return x(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function GG(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Av=class extends x0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new t4,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new t4(e),this._firestoreClient=void 0,yield e}})}};function cK(n,e){let t=typeof n=="object"?n:pc(),r=typeof n=="string"?n:e||OC,i=Zd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Dx("firestore");o&&sK(i,...o)}return i}function dK(n){if(n._terminated)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eye(n),n._firestoreClient}function eye(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,l,d,h){return new OR(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iK(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new KP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var s0=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qi.fromBase64String(e))}catch(t){throw new He(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tv(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};s0._jsonSchemaVersion="firestore/bytes/1.0",s0._jsonSchema={type:jr("string",s0._jsonSchemaVersion),bytes:jr("string")};var n4=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new He(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var a0=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Tv(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};a0._jsonSchemaVersion="firestore/geoPoint/1.0",a0._jsonSchema={type:jr("string",a0._jsonSchemaVersion),latitude:jr("number"),longitude:jr("number")};var l0=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tv(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new He(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};l0._jsonSchemaVersion="firestore/vectorValue/1.0",l0._jsonSchema={type:jr("string",l0._jsonSchemaVersion),vectorValues:jr("object")};var tye=new RegExp("[~\\*/\\[\\]]");function nye(n,e,t){if(e.search(tye)>=0)throw qG(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new n4(...e.split("."))._internalPath}catch{throw qG(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qG(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new He(xe.INVALID_ARGUMENT,a+n+l)}var r4=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new YP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uK("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},YP=class extends r4{data(){return super.data()}};function uK(n,e){return typeof e=="string"?nye(n,e):e instanceof n4?e._internalPath:e._delegate._internalPath}function rye(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new He(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var XP=class{convertValue(e,t="none"){switch(du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Dv(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_v].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>tr(s.doubleValue));return new l0(o)}convertGeoPoint(e){return new a0(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=a4(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wv(e));default:return null}}convertTimestamp(e){let t=Cc(e);return new wo(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=lr.fromString(e);cr(jq(r),9688,{name:e});let i=new NC(r.get(1),r.get(3)),o=new lt(r.popFirst(5));return i.isEqual(t)||xc(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var cp=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},dp=class n extends r4{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new c0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uK("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};dp._jsonSchemaVersion="firestore/documentSnapshot/1.0",dp._jsonSchema={type:jr("string",dp._jsonSchemaVersion),bundleSource:jr("string","DocumentSnapshot"),bundleName:jr("string"),bundle:jr("string")};var c0=class extends dp{data(e={}){return super.data(e)}},d0=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new c0(this._firestore,this._userDataWriter,r.key,r,new cp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new c0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new c0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iye(a.type),doc:l,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function iye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:n})}}function hK(n){n=mv(n,ns);let e=mv(n.firestore,Av);return Q_e(dK(e),n._key).then(t=>oye(e,n,t))}d0._jsonSchemaVersion="firestore/querySnapshot/1.0",d0._jsonSchema={type:jr("string",d0._jsonSchemaVersion),bundleSource:jr("string","QuerySnapshot"),bundleName:jr("string"),bundle:jr("string")};var i4=class extends XP{constructor(e){super(),this.firestore=e}convertBytes(e){return new s0(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ns(this.firestore,null,t)}};function pK(n){n=mv(n,e4);let e=mv(n.firestore,Av),t=dK(e),r=new i4(e);return rye(n._query),J_e(t,n._query).then(i=>new d0(e,r,n,i))}function oye(n,e,t){let r=t.docs.get(e._key),i=new i4(n);return new dp(n,i,e._key,r,new cp(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){C0=i})(el),es(new Ii("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Av(new SR(r.getProvider("auth-internal")),new TR(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new He(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new NC(d.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Bn(rG,iG,e),Bn(rG,iG,"esm2017")})();var Sc=class{constructor(e){return e}},fK="firestore",h6=class{constructor(){return Qd(fK)}};var p6=new pe("angularfire2.firestore-instances");function sye(n,e){let t=Jh(fK,n,e);return t&&new Sc(t)}function aye(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sc(r)}}var lye={provide:h6,deps:[[new Or,p6]]},cye={provide:Sc,useFactory:sye,deps:[[new Or,p6],sa]};function gK(n,...e){return Bn("angularfire",tl.full,"fst"),di([cye,lye,{provide:p6,useFactory:aye(n),multi:!0,deps:[Fe,Le,nl,fc,[new Or,rp],[new Or,eu],...e]}])}var mK=Ir(aK,!0,2);var u4=Ir(lK,!0,2);var h4=Ir(hK,!0);var vK=Ir(pK,!0);var wK=Ir(cK,!0);function Ov(n,e){return x(this,null,function*(){return yield Dn(n,()=>new Promise((t,r)=>{e().then(t).catch(r)}))})}var CK="firebasestorage.googleapis.com",uye="storageBucket",hye=120*1e3,pye=600*1e3;var hl=class n extends fo{constructor(e,t,r=0){super(f6(e),`Firebase Storage: ${t} (${f6(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ac=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(Ac||{});function f6(n){return"storage/"+n}function fye(){let n="An unknown error occurred, please check the error payload for server response.";return new hl(Ac.UNKNOWN,n)}function gye(){return new hl(Ac.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mye(){return new hl(Ac.CANCELED,"User canceled the upload/download.")}function vye(n){return new hl(Ac.INVALID_URL,"Invalid URL '"+n+"'.")}function wye(n){return new hl(Ac.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _K(n){return new hl(Ac.INVALID_ARGUMENT,n)}function EK(){return new hl(Ac.APP_DELETED,"The Firebase app was deleted.")}function _ye(n){return new hl(Ac.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ic=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw wye(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function d(H){H.path_=decodeURIComponent(H.path)}let h="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},b=t===CK?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",M=new RegExp(`^https?://${b}/${i}/${T}`,"i"),j=[{regex:a,indices:l,postModify:o},{regex:v,indices:_,postModify:d},{regex:M,indices:{bucket:1,path:2},postModify:d}];for(let H=0;H<j.length;H++){let q=j[H],Y=q.regex.exec(e);if(Y){let F=Y[q.indices.bucket],A=Y[q.indices.path];A||(A=""),r=new n(F,A),q.postModify(r);break}}if(r==null)throw vye(e);return r}},g6=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function yye(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let d=!1;function h(...T){d||(d=!0,e.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,n(v,l())},T)}function m(){o&&clearTimeout(o)}function v(T,...M){if(d){m();return}if(T){m(),h.call(null,T,...M);return}if(l()||s){m(),h.call(null,T,...M);return}r<64&&(r*=2);let j;a===1?(a=2,j=0):j=(r+Math.random())*1e3,f(j)}let _=!1;function b(T){_||(_=!0,m(),!d&&(i!==null?(T||(a=2),clearTimeout(i),f(0)):T||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},t),b}function kye(n){n(!1)}function bye(n){return n!==void 0}function yK(n,e,t,r){if(r<e)throw _K(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _K(`Invalid value for '${n}'. Expected ${t} or less.`)}function xye(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var m6=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(m6||{});function Cye(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var v6=class{constructor(e,t,r,i,o,s,a,l,d,h,f,m=!0,v=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,b)=>{this.resolve_=_,this.reject_=b,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new S0(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===m6.NO_ERROR,l=o.getStatus();if(!a||Cye(l,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===m6.ABORT;r(!1,new S0(!1,null,h));return}let d=this.successCodes_.indexOf(l)!==-1;r(!0,new S0(d,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());bye(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=fye();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?EK():mye();s(l)}else{let l=gye();s(l)}};this.canceled_?t(!1,new S0(!1,null,!0)):this.backoffId_=yye(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},S0=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Eye(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Mye(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Sye(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Iye(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Aye(n,e,t,r,i,o,s=!0,a=!1){let l=xye(n.urlParams),d=n.url+l,h=Object.assign({},n.headers);return Sye(h,e),Eye(h,t),Mye(h,o),Iye(h,r),new v6(d,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function Tye(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Dye(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Nit=256*1024;var w6=class n{constructor(e,t){this._service=e,t instanceof Ic?this._location=t:this._location=Ic.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ic(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dye(this._location.path)}get storage(){return this._service}get parent(){let e=Tye(this._location.path);if(e===null)return null;let t=new Ic(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw _ye(e)}};function kK(n,e){let t=e?.[uye];return t==null?null:Ic.makeFromBucketSpec(t,n)}function Rye(n,e,t,r={}){n.host=`${e}:${t}`;let i=Xa(e);i&&(Fg(`https://${n.host}/b`),Bg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Rx(o,n.app.options.projectId))}var _6=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=CK,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hye,this._maxUploadRetryTime=pye,this._requests=new Set,i!=null?this._bucket=Ic.makeFromBucketSpec(i,this._host):this._bucket=kK(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ic.makeFromBucketSpec(this._url,e):this._bucket=kK(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yK("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yK("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return x(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return x(this,null,function*(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new w6(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new g6(EK());{let s=Aye(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return x(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},bK="@firebase/storage",xK="0.13.14";var MK="storage";function SK(n=pc(),e){n=Si(n);let r=Zd(n,MK).getImmediate({identifier:e}),i=Dx("storage");return i&&IK(r,...i),r}function IK(n,e,t,r={}){Rye(n,e,t,r)}function Pye(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _6(t,r,i,e,el)}function Oye(){es(new Ii(MK,Pye,"PUBLIC").setMultipleInstances(!0)),Bn(bK,xK,""),Bn(bK,xK,"esm2017")}Oye();var pp=class{constructor(e){return e}},AK="storage",y6=class{constructor(){return Qd(AK)}};var k6=new pe("angularfire2.storage-instances");function Nye(n,e){let t=Jh(AK,n,e);return t&&new pp(t)}function Lye(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pp(r)}}var Fye={provide:y6,deps:[[new Or,k6]]},Bye={provide:pp,useFactory:Nye,deps:[[new Or,k6],sa]};function TK(n,...e){return Bn("angularfire",tl.full,"gcs"),di([Bye,Fye,{provide:k6,useFactory:Lye(n),multi:!0,deps:[Fe,Le,nl,fc,[new Or,rp],[new Or,eu],...e]}])}var DK=Ir(SK,!0);var I0=class n{constructor(e,t,r,i,o){this.firestore=e;this.storage=t;this.injector=r;this.apiService=i;this.userService=o}addSocialLinkForUser(e){return x(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.post(Sn.ADDSOCIALLINK,e,t)})}addSocialLinkGreeting(e){return x(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.post(Sn.ADDSOCIALGREETING,e,t)})}getAllSocialLinksForUser(e){return x(this,null,function*(){return yield Ov(this.injector,()=>x(this,null,function*(){let t=mK(this.firestore,"User",e,"SocialLinks");return(yield vK(t)).docs.map(i=>i.data())}))})}getSocialLinkGreeting(e){return x(this,null,function*(){return yield Ov(this.injector,()=>x(this,null,function*(){let t=u4(this.firestore,"User",e,"SocialLinkGreeting","greeting"),r=yield h4(t);return r.exists()?r.data():null}))})}uploadIconAndGetUrl(e){return x(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken(),r=new FormData;return r.append("file",e),(yield this.apiService.post(Sn.UPLOADICON,r,t)).url})}deleteSocialLink(e){return x(this,null,function*(){let t=yield this.userService.getCurrentUserObject().getIdToken();yield this.apiService.delete(Sn.DELETE_SOCIAL_LINK,{sid:e},t)})}static \u0275fac=function(t){return new(t||n)(Ie(Sc),Ie(pp),Ie(Le),Ie(Fr),Ie(er))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var b6=class{_box;_destroyed=new Te;_resizeSubject=new Te;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ze(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Qt(t=>t.some(r=>r.target===e)),Ay({bufferSize:1,refCount:!0}),Ue(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},PK=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=C(Fe);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new b6(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var A0=(()=>{class n{orientation=W("horizontal");$orientation=this.orientation;direction=W("ltr");$direction=this.direction;activeTab=tc(void 0,{alias:"brnTabs"});$activeTab=this.activeTab.asReadonly();activationMode=W("automatic");$activationMode=this.activationMode;tabActivated=xs();_tabs=Me({});$tabs=this._tabs.asReadonly();registerTrigger(t,r){this.updateEntry(t,{trigger:r})}registerContent(t,r){this.updateEntry(t,{content:r})}unregisterTrigger(t){this.updateEntry(t,{trigger:void 0}),this.activeTab()===t&&this.activeTab.set(void 0)}unregisterContent(t){this.updateEntry(t,{content:void 0})}updateEntry(t,r){this._tabs.update(i=>{let o=i[t]??{},s=X(X({},o),r);if(!s.trigger&&!s.content){let l=i,{[t]:d}=l;return Xu(l,[kF(t)])}return Se(X({},i),{[t]:s})})}emitTabActivated(t){this.tabActivated.emit(t)}setActiveTab(t){this.activeTab.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnTabs",""]],hostVars:2,hostBindings:function(r,i){r&2&&ut("data-orientation",i.orientation())("dir",i.direction())},inputs:{orientation:[1,"orientation"],direction:[1,"direction"],activeTab:[1,"brnTabs","activeTab"],activationMode:[1,"activationMode"]},outputs:{activeTab:"brnTabsChange",tabActivated:"tabActivated"},exportAs:["brnTabs"]})}return n})(),NK=(()=>{class n{_root=C(A0);_elementRef=C(at);contentFor=W.required({alias:"brnTabsContent"});_isSelected=ee(()=>this._root.$activeTab()===this.contentFor());_contentId=ee(()=>`brn-tabs-content-${this.contentFor()}`);_labelId=ee(()=>`brn-tabs-label-${this.contentFor()}`);constructor(){xt(()=>{let t=this.contentFor();Dt(()=>this._root.registerContent(t,this))})}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._root.unregisterContent(this.contentFor())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnTabsContent",""]],hostAttrs:["role","tabpanel","tabindex","0"],hostVars:3,hostBindings:function(r,i){r&2&&(gr("id",i._contentId())("hidden",i._isSelected()===!1),ut("aria-labelledby",i._labelId()))},inputs:{contentFor:[1,"brnTabsContent","contentFor"]},exportAs:["brnTabsContent"]})}return n})(),fp=(()=>{class n{elementRef=C(at);_root=C(A0);_orientation=this._root.$orientation;triggerFor=W.required({alias:"brnTabsTrigger"});selected=ee(()=>this._root.$activeTab()===this.triggerFor());_contentId=ee(()=>`brn-tabs-content-${this.triggerFor()}`);_labelId=ee(()=>`brn-tabs-label-${this.triggerFor()}`);_disabled=W(!1,{alias:"disabled",transform:gt});get disabled(){return this._disabled()}constructor(){xt(()=>{let t=this.triggerFor();Dt(()=>this._root.registerTrigger(t,this))})}focus(){this.elementRef.nativeElement.focus(),this._root.$activationMode()==="automatic"&&this.activate()}activate(){this.triggerFor()&&(this._root.setActiveTab(this.triggerFor()),this._root.emitTabActivated(this.triggerFor()))}get key(){return this.triggerFor()}ngOnDestroy(){this._root.unregisterTrigger(this.triggerFor())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["button","brnTabsTrigger",""]],hostAttrs:["type","button","role","tab"],hostVars:9,hostBindings:function(r,i){r&1&&we("click",function(){return i.activate()}),r&2&&(gr("id",i._labelId())("tabIndex",i._disabled()?-1:i.selected()?0:-1),ut("aria-selected",i.selected())("aria-controls",i._contentId())("aria-disabled",i._disabled())("data-state",i.selected()?"active":"inactive")("data-orientation",i._orientation())("data-disabled",i._disabled()?"":void 0)("disabled",i._disabled()?"":void 0))},inputs:{triggerFor:[1,"brnTabsTrigger","triggerFor"],_disabled:[1,"disabled","_disabled"]},exportAs:["brnTabsTrigger"]})}return n})(),LK=(()=>{class n{_root=C(A0);_orientation=this._root.$orientation;_direction=this._root.$direction;_activeTab=this._root.$activeTab;_tabs=this._root.$tabs;_elementRef=C(at);_keyDownListener=en(this._elementRef.nativeElement,"keydown");_keyManager;triggers=ta(fp,{descendants:!0});ngAfterContentInit(){this._keyManager=new qa(this.triggers()).withHorizontalOrientation(this._direction()).withHomeAndEnd().withPageUpDown().withWrap(),this._keyDownListener.pipe(br(1)).subscribe(()=>{let t=this._activeTab(),r=this._tabs(),i=0;if(t){let o=r[t];o&&(i=this.triggers().indexOf(o.trigger))}this._keyManager?.setActiveItem(i)}),this._keyDownListener.subscribe(t=>{"key"in t&&(this._orientation()==="horizontal"&&(t.key==="ArrowUp"||t.key==="ArrowDown")||this._orientation()==="vertical"&&(t.key==="ArrowLeft"||t.key==="ArrowRight"))||this._keyManager?.onKeydown(t)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnTabsList",""]],contentQueries:function(r,i,o){r&1&&Er(o,i.triggers,fp,5),r&2&&qn()},hostAttrs:["role","tablist"],hostVars:2,hostBindings:function(r,i){r&2&&ut("aria-orientation",i._orientation())("data-orientation",i._orientation())},exportAs:["brnTabsList"]})}return n})();var OK=zh({passive:!0}),Uye=650,zye=100,FK=(()=>{class n{_scrollDistance=0;_selectedIndexChanged=!1;_root=C(A0);_activeTab=this._root.$activeTab;_tabs=this._root.$tabs;_destroyed=new Te;showPaginationControls=Me(!1);disableScrollAfter=!0;disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Te;disablePagination=W(!1,{transform:gt});_selectedIndex=ee(()=>{let t=this._activeTab(),r=this._tabs(),i=0;if(t&&this.items()){let o=r[t];o&&(i=this.items().indexOf(o.trigger))}return i});selectFocusedIndex=xs();indexFocused=xs();_sharedResizeObserver=C(PK);_injector=C(Le);_elementRef=C(at);_changeDetectorRef=C($i);_viewportRuler=C(Kd);_dir=C(ia,{optional:!0});_ngZone=C(Fe);_platform=C(Mr);animationMode=C(A1,{optional:!0});constructor(){this._ngZone.runOutsideAngular(()=>{en(this._elementRef.nativeElement,"mouseleave").pipe(Ue(this._destroyed)).subscribe(()=>{this._stopInterval()})}),xt(()=>{let t=this._selectedIndex();t!==0&&(this._selectedIndexChanged=!0,this._keyManager&&this._keyManager.updateActiveItem(t))})}ngAfterViewInit(){en(this.previousPaginator().nativeElement,"touchstart",OK).pipe(Ue(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),en(this.nextPaginator().nativeElement,"touchstart",OK).pipe(Ue(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let t=this._dir?this._dir.change:Ye("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Vl(32),Ue(this._destroyed)),i=this._viewportRuler.change(150).pipe(Ue(this._destroyed)),o=()=>{this.updatePagination()};this._keyManager=new qa(this.items()).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex()),xi(o,{injector:this._injector}),Ey(t,i,r,this.itemsChanges,this._itemsResized()).pipe(Ue(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?ci:this.itemsChanges.pipe(bd(this.items()),xr(t=>new Ze(r=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>r.next(o));for(let o of t)i.observe(o.elementRef.nativeElement);return()=>{i.disconnect()}}))),Qm(1),Qt(t=>t.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!==this.items().length&&(this.updatePagination(),this._tabLabelCount=this.items().length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex()),this._checkScrollingControls(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ga(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this._selectedIndex()){let r=this.items()[this.focusIndex];r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex??0:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this.items()?!!this.items()[t]:!0}_setTabFocus(t){if(this.showPaginationControls()&&this._scrollToLabel(t),this.items()?.length){this.items()[t].focus();let r=this.tabListContainer().nativeElement;this._getLayoutDirection()==="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination())return;let t=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-t:t;this.tabList().nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this.tabListContainer().nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let r=this.tabListContainer().nativeElement.offsetWidth,i=(t==="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination())return;let r=this.items()?this.items()[t]:null;if(!r)return;let i=this.tabListContainer().nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement,a,l;this._getLayoutDirection()==="ltr"?(a=o,l=a+s):(l=this.tabListInner().nativeElement.offsetWidth-o,a=l-s);let d=this.scrollDistance,h=this.scrollDistance+i;a<d?this.scrollDistance-=d-a:l>h&&(this.scrollDistance+=Math.min(l-h,a-d))}_checkPaginationEnabled(){if(this.disablePagination())this.showPaginationControls.set(!1);else{let t=this.tabListInner().nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this.showPaginationControls()&&this._changeDetectorRef.markForCheck(),this.showPaginationControls.set(t)}}_checkScrollingControls(){this.disablePagination()?this.disableScrollAfter=this.disableScrollBefore=!0:(this.disableScrollBefore=this.scrollDistance===0,this.disableScrollAfter=this.scrollDistance===this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this.tabListInner().nativeElement.scrollWidth,r=this.tabListContainer().nativeElement.offsetWidth;return t-r||0}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&r.button!==null&&r.button!==0||(this._stopInterval(),Bl(Uye,zye).pipe(Ue(Ey(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination())return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,inputs:{disablePagination:[1,"disablePagination"]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})();var $ye=["*"],Tc=class n{tab=W.required();userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex flex-col gap-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tabs"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{tab:[1,"tab"],userClass:[1,"class","userClass"]},features:[ln([{directive:A0,inputs:["orientation","orientation","direction","direction","activationMode","activationMode","brnTabs","tab"],outputs:["tabActivated","tabActivated"]}])],ngContentSelectors:$ye,decls:1,vars:0,template:function(t,r){t&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})};var Dc=class n{contentFor=W.required({alias:"hlmTabsContent"});userClass=W("",{alias:"class"});_computedClass=ee(()=>be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmTabsContent",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{contentFor:[1,"hlmTabsContent","contentFor"],userClass:[1,"class","userClass"]},features:[ln([{directive:NK,inputs:["brnTabsContent","hlmTabsContent"]}])]})};var Wye=["*"],x6=Ba("inline-flex h-9 w-fit items-center justify-center rounded-lg bg-muted p-[3px] text-muted-foreground",{variants:{orientation:{horizontal:"h-10 space-x-1",vertical:"mt-2 flex-col h-fit space-y-1"}},defaultVariants:{orientation:"horizontal"}}),Rc=class n{orientation=W("horizontal");userClass=W("",{alias:"class"});_computedClass=ee(()=>be(x6({orientation:this.orientation()}),this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-tabs-list"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{orientation:[1,"orientation"],userClass:[1,"class","userClass"]},features:[ln([LK])],ngContentSelectors:Wye,decls:1,vars:0,template:function(t,r){t&1&&(Ft(),Xe(0))},encapsulation:2,changeDetection:0})};var Gye=["tabListContainer"],qye=["tabList"],Kye=["tabListInner"],Yye=["nextPaginator"],Xye=["previousPaginator"],Zye=["*"],C6=class n extends FK{items=ta(fp,{descendants:!1});itemsChanges=fx(this.items);tabListContainer=zi.required("tabListContainer");tabList=zi.required("tabList");tabListInner=zi.required("tabListInner");nextPaginator=zi.required("nextPaginator");previousPaginator=zi.required("previousPaginator");userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex overflow-hidden relative gap-1 flex-shrink-0",this.userClass()));tabListClass=W("",{alias:"tabListClass"});_tabListClass=ee(()=>be(x6(),this.tabListClass()));paginationButtonClass=W("",{alias:"paginationButtonClass"});_paginationButtonClass=ee(()=>be("relative z-[2] select-none disabled:cursor-default",zD({variant:"ghost",size:"icon"}),this.paginationButtonClass()));_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["hlm-paginated-tabs-list"]],contentQueries:function(t,r,i){t&1&&Er(i,r.items,fp,4),t&2&&qn()},viewQuery:function(t,r){t&1&&(Ei(r.tabListContainer,Gye,5),Ei(r.tabList,qye,5),Ei(r.tabListInner,Kye,5),Ei(r.nextPaginator,Yye,5),Ei(r.previousPaginator,Xye,5)),t&2&&qn(5)},hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"],tabListClass:[1,"tabListClass"],paginationButtonClass:[1,"paginationButtonClass"]},features:[Ne([Yt({lucideChevronRight:AU,lucideChevronLeft:IU})]),ft],ngContentSelectors:Zye,decls:13,vars:16,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["data-pagination","previous","type","button","aria-hidden","true","tabindex","-1",3,"click","mousedown","touchend","disabled"],["hlm","","size","base","name","lucideChevronLeft"],[1,"z-[1]","flex","grow","overflow-hidden",3,"keydown"],["role","tablist",1,"relative","grow","transition-transform",3,"cdkObserveContent"],["data-pagination","next","type","button","aria-hidden","true","tabindex","-1",3,"click","mousedown","touchend","disabled"],["hlm","","size","base","name","lucideChevronRight"]],template:function(t,r){if(t&1){let i=tn();Ft(),D(0,"button",5,0),we("click",function(){return We(i),Ge(r._handlePaginatorClick("before"))})("mousedown",function(s){return We(i),Ge(r._handlePaginatorPress("before",s))})("touchend",function(){return We(i),Ge(r._stopInterval())}),se(2,"ng-icon",6),I(),D(3,"div",7,1),we("keydown",function(s){return We(i),Ge(r._handleKeydown(s))}),D(5,"div",8,2),we("cdkObserveContent",function(){return We(i),Ge(r._onContentChanges())}),D(7,"div",null,3),Xe(9),I()()(),D(10,"button",9,4),we("click",function(){return We(i),Ge(r._handlePaginatorClick("after"))})("mousedown",function(s){return We(i),Ge(r._handlePaginatorPress("after",s))})("touchend",function(){return We(i),Ge(r._stopInterval())}),se(12,"ng-icon",10),I()}t&2&&(te(r._paginationButtonClass()),sr("flex",r.showPaginationControls())("hidden",!r.showPaginationControls()),ve("disabled",r.disableScrollBefore||null),P(7),te(r._tabListClass()),P(3),te(r._paginationButtonClass()),sr("flex",r.showPaginationControls())("hidden",!r.showPaginationControls()),ve("disabled",r.disableScrollAfter||null))},dependencies:[rz,nn,jn],encapsulation:2,changeDetection:0})};var Pc=class n{triggerFor=W.required({alias:"hlmTabsTrigger"});userClass=W("",{alias:"class"});_computedClass=ee(()=>be("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_ng-icon]:pointer-events-none [&_ng-icon]:shrink-0 [&_ng-icon]:text-base",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmTabsTrigger",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{triggerFor:[1,"hlmTabsTrigger","triggerFor"],userClass:[1,"class","userClass"]},features:[ln([{directive:fp,inputs:["brnTabsTrigger","hlmTabsTrigger","disabled","disabled"]}])]})};var Qye=new pe("HlmTableConfig"),Jye={table:"w-full caption-bottom text-sm",thead:"[&_tr]:border-b",tbody:"[&_tr:last-child]:border-0",tfoot:"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",tr:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",th:"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",td:"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",caption:"text-muted-foreground mt-4 text-sm"};function T0(){return C(Qye,{optional:!0})??Jye}var Nv=class n{userVariant=W({},{alias:"hlmTable"});userClass=W("",{alias:"class"});_globalOrDefaultConfig=T0();_variant=ee(()=>{let e=this._globalOrDefaultConfig,t=this.userVariant();return typeof t=="object"&&t!==null&&Object.keys(t).length>0?X(X({},e),t):e});_computedClass=ee(()=>be(this._variant().table,this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["table","hlmTable",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userVariant:[1,"hlmTable","userVariant"],userClass:[1,"class","userClass"]}})},Lv=class n{_globalOrDefaultConfig=T0();userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this._globalOrDefaultConfig?this._globalOrDefaultConfig.thead.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["thead","hlmTHead",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},Fv=class n{_globalOrDefaultConfig=T0();userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this._globalOrDefaultConfig?this._globalOrDefaultConfig.tbody.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["tbody","hlmTBody",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var Bv=class n{_globalOrDefaultConfig=T0();userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this._globalOrDefaultConfig?this._globalOrDefaultConfig.tr.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["tr","hlmTr",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},Vv=class n{_globalOrDefaultConfig=T0();userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this._globalOrDefaultConfig?this._globalOrDefaultConfig.th.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["th","hlmTh",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})},jv=class n{_globalOrDefaultConfig=T0();userClass=W("",{alias:"class"});_computedClass=ee(()=>be(this._globalOrDefaultConfig?this._globalOrDefaultConfig.td.trim():"",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["td","hlmTd",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})};var tke=(n,e)=>e.value;function nke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Profile URL is required."),I())}function rke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Profile URL cannot exceed 200 characters."),I())}function ike(n,e){n&1&&(D(0,"hlm-error"),V(1,"Platform name is required."),I())}function oke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Platform name cannot exceed 20 characters."),I())}function ske(n,e){if(n&1&&(D(0,"hlm-form-field")(1,"label",44)(2,"div",13),V(3,"Platform Name"),I()(),se(4,"input",45),ne(5,ike,2,0,"hlm-error"),ne(6,oke,2,0,"hlm-error"),I()),n&2){let t,r,i=ae();P(5),re(!((t=i.newLinkForm.get("customPlatformName"))==null||t.errors==null)&&t.errors.required&&(!(i.newLinkForm==null||(t=i.newLinkForm.get("customPlatformName"))==null)&&t.dirty||!(i.newLinkForm==null||(t=i.newLinkForm.get("customPlatformName"))==null)&&t.touched)?5:-1),P(),re(!((r=i.newLinkForm.get("username"))==null||r.errors==null)&&r.errors.maxlength?6:-1)}}function ake(n,e){n&1&&(D(0,"hlm-error"),V(1,"Username is required."),I())}function lke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Username cannot exceed 30 characters."),I())}function cke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Handle is required."),I())}function dke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Handle cannot exceed 30 characters."),I())}function uke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Followers cannot exceed 9 digits."),I())}function hke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Followers must be a number."),I())}function pke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Following cannot exceed 9 digits."),I())}function fke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Following must be a number."),I())}function gke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Bio is required."),I())}function mke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Bio cannot exceed 160 characters."),I())}function vke(n,e){if(n&1&&(D(0,"hlm-option",32),V(1),I()),n&2){let t=e.$implicit;ve("value",t.value),P(),qe(t.label)}}function wke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Social media type is required."),I())}function _ke(n,e){if(n&1&&(D(0,"div",34)(1,"label",46),V(2,"Already set icon"),I(),se(3,"img",47),I()),n&2){let t=ae();P(3),ve("src",t.existingIconURL,ti)}}function yke(n,e){if(n&1){let t=tn();B1(0),D(1,"hlm-form-field",34)(2,"label",48),V(3),D(4,"input",49),we("change",function(i){We(t);let o=ae();return Ge(o.onIconUpload(i))}),I()()(),V1()}if(n&2){let t=ae();P(3),yt(" ",t.isUpdatingSocialLink?"Change":"Choose"," custom Icon ")}}function kke(n,e){if(n&1&&(D(0,"div",35)(1,"span",50),V(2,"Preview:"),I(),se(3,"img",51),I()),n&2){let t=ae();P(3),ve("src",t.customIcon,ti)}}function bke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Title is required."),I())}function xke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Title cannot exceed 50 characters."),I())}function Cke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Body is required."),I())}function Eke(n,e){n&1&&(D(0,"hlm-error"),V(1,"Body cannot exceed 256 characters."),I())}function Mke(n,e){if(n&1){let t=tn();D(0,"tr",58)(1,"td",66),V(2),I(),D(3,"td",67),V(4),I(),D(5,"td",68),V(6),I(),D(7,"td",69),V(8),I(),D(9,"td",69),V(10),I(),D(11,"td",70)(12,"button",71),we("click",function(){let i=We(t).$implicit,o=ae(2);return Ge(o.deleteSocialLink(i.id))}),se(13,"ng-icon",72),I(),D(14,"button",71),we("click",function(){let i=We(t).$implicit,o=ae(2);return Ge(o.updateSocialLink(i))}),se(15,"ng-icon",73),I()()()}if(n&2){let t=e.$implicit;P(2),qe(t.username),P(2),qe(t.platformName),P(2),yt(" ",t.desc," "),P(2),yt(" ",t.followers," "),P(2),yt(" ",t.following," ")}}function Ske(n,e){if(n&1&&(D(0,"div",52),se(1,"span",53),D(2,"span",54),V(3,"Your Social Links"),I(),se(4,"span",53),I(),se(5,"div",55),D(6,"table",56)(7,"thead",57)(8,"tr",58)(9,"th",59),V(10,"Username"),I(),D(11,"th",60),V(12,"Platform"),I(),D(13,"th",61),V(14,"Bio"),I(),D(15,"th",62),V(16,"Followers"),I(),D(17,"th",62),V(18,"Following"),I(),D(19,"th",63),V(20,"Actions"),I()()(),D(21,"tbody",64),yn(22,Mke,16,5,"tr",58,ni),I()(),se(24,"div",65)),n&2){let t=ae();P(22),kn(t.socialLinks)}}var f4=class n extends Hn{constructor(t,r,i){super();this.fb=t;this.preloaderService=r;this.socialLinkService=i}newLinkForm=null;greetingsForm=null;layout="card";socialLinks=[];customIcon="";customIconFile=null;platforms=WW;isUpdatingSocialLink=!1;existingIconURL="";udpatingSocialLink=null;platformValueChangeSubscription;profileURLChangeSubscription;userService=C(er);_hlmDialogService=C(Jn);socialLinkGreetCloud=null;fetchSocialLinks(){return x(this,null,function*(){this.preloaderService.show(),this.socialLinks=yield this.socialLinkService.getAllSocialLinksForUser(this.userService.getCurrentUserObject().uid),this.socialLinkGreetCloud=yield this.socialLinkService.getSocialLinkGreeting(this.userService.getCurrentUserObject().uid),this.greetingsForm&&(this.greetingsForm.get("title")?.setValue(this.socialLinkGreetCloud?.title),this.greetingsForm.get("body")?.setValue(this.socialLinkGreetCloud?.body)),this.preloaderService.hide()})}ngOnInit(){window.scrollTo(0,0),this.greetingsForm=this.fb.group({title:new ar({value:null,disabled:!1},[je.maxLength(50),je.required]),body:new ar({value:null,disabled:!1},[je.maxLength(256),je.required])}),this.newLinkForm=this.fb.group({url:new ar({value:"",disabled:!1},[je.required,je.maxLength(200)]),customPlatformName:new ar({value:null,disabled:!1},[je.maxLength(20),je.required]),username:new ar({value:"",disabled:!1},[je.required,je.maxLength(30)]),handle:new ar({value:"",disabled:!1},[je.maxLength(30)]),follower:new ar({value:null,disabled:!1},[je.max(999999999),je.pattern(/^[0-9]+$/)]),following:new ar({value:null,disabled:!1},[je.max(999999999),je.pattern(/^[0-9]+$/)]),bio:new ar({value:"",disabled:!1},[je.required,je.maxLength(160)]),platform:new ar({value:null,disabled:!0},[je.required]),color:new ar({value:"#666666",disabled:!0})}),this.platformValueChangeSubscription=this.newLinkForm.get("platform")?.valueChanges.subscribe(t=>{this.onPlatformChange(t)}),this.profileURLChangeSubscription=this.newLinkForm.get("url")?.valueChanges.subscribe(t=>{this.onProfileURLChange(t)}),this.fetchSocialLinks()}ngOnDestroy(){this.platformValueChangeSubscription&&this.platformValueChangeSubscription.unsubscribe(),this.profileURLChangeSubscription&&this.profileURLChangeSubscription.unsubscribe()}get url(){return this.newLinkForm?.get("url")}get platform(){return this.newLinkForm?.get("platform")}get color(){return this.newLinkForm?.get("color")}get followers(){return this.newLinkForm?.get("follower")}get following(){return this.newLinkForm?.get("following")}get customPlatformName(){return this.newLinkForm?.get("customPlatformName")}get username(){return this.newLinkForm?.get("username")}get bio(){return this.newLinkForm?.get("bio")}get handle(){return this.newLinkForm?.get("handle")}onProfileURLChange(t){if(t){let r=GW.find(i=>t.includes(i.baseURL));if(r){let i=r.value;this.platform?.enable(),this.platform?.setValue(i)}else this.platform?.setValue("custom")}}onPlatformChange(t){let r=t;if(r&&r!=="custom"){this.newLinkForm?.get("color")?.disable();let i=this.platforms.find(o=>o.value===r);this.color?.setValue(i?i.color:"#666666"),this.customIcon="",this.customPlatformName?.setValidators(null),this.customPlatformName?.updateValueAndValidity()}else r==="custom"&&(this.newLinkForm?.get("color")?.enable(),this.color?.setValue("#666666"),this.customPlatformName?.setValidators([je.required,je.maxLength(20)]),this.customPlatformName?.updateValueAndValidity())}onIconUpload(t){let i=t.target.files[0];if(i){if(i.size>5*1024*1024){this._hlmDialogService.open(Ms,{context:{info:"Icon file size must be less than 5MB.",desc:"File size limit"}});return}this.customIconFile=i}}addGreetings(){return x(this,null,function*(){if(this.greetingsForm&&(this.greetingsForm.markAllAsTouched(),!this.greetingsForm.invalid)){this.preloaderService.show();try{let t={title:this.greetingsForm.get("title")?.value,body:this.greetingsForm.get("body")?.value};yield this.socialLinkService.addSocialLinkGreeting(t),this.preloaderService.hide(),this.greetingsForm.reset({title:t.title,body:t.body}),this._hlmDialogService.open(Ms,{context:{info:"Greeting Updated",desc:"Check your view page to see updated greeting"}})}catch(t){this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:t?.message||"Unknown error",desc:"Problem while adding greeting"}})}}})}deleteSocialLink(t){return x(this,null,function*(){try{this._hlmDialogService.open(au,{context:{title:"Are you sure?",desc:"you want to delete this social link"}}).closed$.subscribe(r=>x(this,null,function*(){if(r==="yes")this.preloaderService.show(),yield this.socialLinkService.deleteSocialLink(t),this.socialLinks=this.socialLinks.filter(i=>i.id!==t),this.preloaderService.hide(),this._hlmDialogService.open(Ms,{context:{info:"Delete Successfull",desc:"Your social link has successfully deleted, go to viewer page to see changes"}});else return}))}catch{this._hlmDialogService.open(Xt,{context:{error:"Unable to delete your social link",desc:"Check your internet connection, or try again later"}})}})}updateSocialLink(t){return x(this,null,function*(){this.isUpdatingSocialLink=!0,this.udpatingSocialLink=t,this.url?.disable(),this.url?.setValue(t.url),this.username?.setValue(t.username),this.handle?.setValue(t.handle),this.followers?.setValue(t.followers),this.following?.setValue(t.following),this.bio?.setValue(t.desc),this.color?.setValue(t.color),this.platform?.setValue(t.platform),this.platform?.disable(),this.customPlatformName?.setValue(t.platformName),t.platform!=="custom"?this.color?.disable():(this.color?.enable(),this.existingIconURL=t.customIcon,this.color?.setValue(t.color))})}updateSocialLinkDB(){return x(this,null,function*(){if(!this.newLinkForm||(this.newLinkForm.markAllAsTouched(),this.newLinkForm.invalid)||!this.url?.value||!this.platform?.value)return null;this.preloaderService.show();let t="";return this.platform.value==="custom"&&this.customIconFile&&(t=yield this.socialLinkService.uploadIconAndGetUrl(this.customIconFile)),{id:this.udpatingSocialLink?.id,url:this.url.value,username:this.username?.value,platform:this.platform.value,platformName:this.customPlatformName?.value,icon:this.udpatingSocialLink?.icon,color:this.color?.value,customIcon:t!==""?t:this.udpatingSocialLink?.customIcon,followers:this.followers?.value,following:this.following?.value,desc:this.bio?.value,handle:this.handle?.value}})}addSocialLink(){return x(this,null,function*(){if(this.newLinkForm&&(this.newLinkForm.markAllAsTouched(),!this.newLinkForm.invalid&&!(!this.url?.value||!this.platform?.value)))if(this.isUpdatingSocialLink){this.preloaderService.show();try{let t=yield this.updateSocialLinkDB();t&&(yield this.socialLinkService.addSocialLinkForUser(t),this.socialLinks=this.socialLinks.filter(r=>r.id!==t.id),this.socialLinks.push(t),this._hlmDialogService.open(Ms,{context:{info:"Update Successfull",desc:"Your social link has successfully updated, go to viewer page to see changes"}}))}catch(t){this._hlmDialogService.open(Xt,{context:{error:t?.message||"Unknown error",desc:"Problem while updating social link"}})}finally{this.isUpdatingSocialLink=!1,this.newLinkForm.reset({color:"#666666"}),this.platform.disable(),this.customIcon="",this.customIconFile=null,this.preloaderService.hide()}}else{let t=this.platforms.find(i=>i.value===this.platform?.value),r="";try{this.preloaderService.show(),this.platform.value==="custom"&&this.customIconFile&&(r=yield this.socialLinkService.uploadIconAndGetUrl(this.customIconFile));let i={id:dR(),url:this.url.value,username:this.username?.value,platform:this.platform.value,platformName:t?this.platform.value==="custom"?this.customPlatformName?.value:t.value:"Custom",icon:t?t.icon:"",color:this.color?.value||(t?t.color:"#666666"),customIcon:this.platform.value==="custom"?r:"",followers:this.followers?.value,following:this.following?.value,desc:this.bio?.value,handle:this.handle?.value};this.socialLinks.push(i),yield this.socialLinkService.addSocialLinkForUser(i),this.preloaderService.hide(),this._hlmDialogService.open(Ms,{context:{info:"Saved Successfull",desc:"Your social link has successfully saved, go to viewer page to see changes"}})}catch(i){this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:i?.message||"Unknown error",desc:"Problem while adding social link"}})}finally{this.newLinkForm.reset({color:"#666666"}),this.platform.disable(),this.customIcon="",this.customIconFile=null}}})}static \u0275fac=function(r){return new(r||n)(Re(Qb),Re(Un),Re(I0))};static \u0275cmp=de({type:n,selectors:[["app-social-links-screen"]],features:[Ne([Yt({lucideLinkedin:Eg,lucideMessageCircle:Mg,lucideTwitter:Sg,lucideFacebook:bg,lucideInstagram:Cg,lucideGithub:xg,lucideYoutube:Ig,lucideTrash:ix,lucidePencil:HU})]),ft],decls:111,vars:25,consts:[[1,"flex","flex-col","items-center","p-4","sm:p-8","w-full","max-w-4xl","mx-auto"],["tab","socialLink"],["hlmTabsTrigger","socialLink"],["hlmTabsTrigger","greet"],["hlmTabsContent","socialLink"],["hlmCard","",1,"max-w-[695px]"],[3,"submit","formGroup"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"flex-1","mb-4"],["for","profileURL","hlmLabel",""],[1,"text-xs"],["id","profileURL","hlmInput","","placeholder","Paste your profile URL","formControlName","url",1,"w-xs","sm:w-xl"],[1,"flex","gap-2","mb-8","flex-col","sm:ml-4","ml-0"],[1,"flex","flex-col","sm:flex-row","gap-2"],["for","username","hlmLabel",""],["id","username","hlmInput","","type","text","placeholder","Smil_thakur","formControlName","username"],["for","handle","hlmLabel",""],["id","handle","hlmInput","","type","text","formControlName","handle","placeholder","@SmilThakur"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-6"],["for","follower","hlmLabel",""],["id","follower","hlmInput","","type","number","placeholder","25","formControlName","follower",1,"w-[72px]"],["for","following","hlmLabel",""],["id","following","hlmInput","","type","number","placeholder","65","formControlName","following",1,"w-[72px]"],["for","bio","hlmLabel",""],["id","bio","type","text","hlmInput","","placeholder","you know who I am","formControlName","bio",1,"w-xs","sm:w-md"],[1,"flex","flex-col","sm:flex-row","items-center","justify-center","sm:space-x-2","space-y-2","sm:space-y-0"],[1,"flex-1"],["placeholder","Select social media","formControlName","platform",1,"inline-block","w-full"],[1,"w-full"],[3,"value"],["type","color","hlmInput","","placeholder","Color","formControlName","color",1,"w-[40px]","h-[40px]","p-1"],[1,"mt-4"],[1,"flex","items-center","gap-4","mt-2"],["hlmCardFooter",""],["hlmBtn","","type","submit"],["hlmTabsContent","greet"],[1,"mb-4"],["for","greetingTitle","hlmLabel",""],["id","greetingTitle","hlmInput","","type","text","placeholder","Welcome everyone!","formControlName","title",1,"w-xs","sm:w-xl"],["for","greetingBody","hlmLabel",""],["id","greetingBody","hlmInput","","type","text","placeholder","Here are my social Links","formControlName","body",1,"w-xs","sm:w-xl"],["for","platformName","hlmLabel",""],["id","platformName","hlmInput","","type","text","placeholder","codeforces","formControlName","customPlatformName"],[1,"text-xs","mt-4"],[1,"mt-2","ml-4","w-8","h-8","rounded-full","border",3,"src"],["hlmLabel",""],["hlmInput","","type","file","accept","image/*",1,"w-xs","sm:w-md",3,"change"],[1,"text-muted-foreground","text-xs"],[1,"w-8","h-8","rounded-full","border",3,"src"],[1,"w-full","flex","flex-col","sm:flex-row","items-center","gap-2","sm:gap-4","mb-4","mt-4"],[1,"flex-1","border-b","border-muted"],[1,"text-muted-foreground"],[1,"upper-cushion"],["hlmTable",""],["hlmTHead",""],["hlmTr",""],["hlmTh","",1,"max-w-[100px]"],["hlmTh","",1,"max-w-[86px]"],["hlmTh","",1,"hidden","sm:table-cell","max-w-[200px]"],["hlmTh","",1,"hidden","sm:table-cell"],["hlmTh",""],["hlmTBody",""],[1,"lower-cushion"],["hlmTd","",1,"max-w-[100px]"],["hlmTd","",1,"max-w-[86px]"],["hlmTd","",1,"hidden","sm:table-cell","max-w-[200px]"],["hlmTd","",1,"hidden","sm:table-cell"],["hlmTd","",1,"action"],["hlmBtn","","size","icon","variant","secondary",1,"size-8",3,"click"],["hlm","","name","lucideTrash"],["hlm","","name","lucidePencil"]],template:function(r,i){if(r&1&&(se(0,"app-only-back-nav-bar"),D(1,"div",0)(2,"hlm-tabs",1)(3,"hlm-tabs-list")(4,"button",2),V(5,"Social Link"),I(),D(6,"button",3),V(7,"Greetings"),I()(),D(8,"div",4)(9,"div",5)(10,"form",6),we("submit",function(){return i.addSocialLink()}),D(11,"div",7)(12,"div",8),V(13,"Add a Social Link"),I(),D(14,"div",9),V(15," Enter your profile link, select the platform, pick a color, and optionally upload a custom icon. "),I()(),D(16,"div",10)(17,"hlm-form-field",11)(18,"label",12)(19,"div",13),V(20,"Profile URL"),I()(),se(21,"input",14),ne(22,nke,2,0,"hlm-error"),ne(23,rke,2,0,"hlm-error"),I(),D(24,"div",15)(25,"div"),V(26,"Additional Info"),I(),D(27,"div",16),ne(28,ske,7,2,"hlm-form-field"),D(29,"hlm-form-field")(30,"label",17)(31,"div",13),V(32,"Username"),I()(),se(33,"input",18),ne(34,ake,2,0,"hlm-error"),ne(35,lke,2,0,"hlm-error"),I(),D(36,"hlm-form-field")(37,"label",19)(38,"div",13),V(39,"handle"),I()(),se(40,"input",20),ne(41,cke,2,0,"hlm-error"),ne(42,dke,2,0,"hlm-error"),I()(),D(43,"div",21)(44,"hlm-form-field")(45,"label",22)(46,"div",13),V(47,"Followers"),I()(),se(48,"input",23),ne(49,uke,2,0,"hlm-error"),ne(50,hke,2,0,"hlm-error"),I(),D(51,"hlm-form-field")(52,"label",24)(53,"div",13),V(54,"Following"),I()(),se(55,"input",25),ne(56,pke,2,0,"hlm-error"),ne(57,fke,2,0,"hlm-error"),I()(),D(58,"hlm-form-field")(59,"label",26)(60,"div",13),V(61,"Bio"),I()(),se(62,"input",27),ne(63,gke,2,0,"hlm-error"),ne(64,mke,2,0,"hlm-error"),I()(),D(65,"div",28)(66,"hlm-form-field",29)(67,"brn-select",30)(68,"hlm-select-trigger",31),se(69,"hlm-select-value"),I(),D(70,"hlm-select-content")(71,"hlm-select-label"),V(72,"Platform"),I(),yn(73,vke,2,2,"hlm-option",32,tke),I()(),ne(75,wke,2,0,"hlm-error"),I(),D(76,"hlm-form-field"),se(77,"input",33),I()(),ne(78,_ke,4,1,"div",34),ne(79,yke,5,1,"ng-container"),ne(80,kke,4,1,"div",35),I(),D(81,"div",36)(82,"button",37),V(83),I()()()()(),D(84,"div",38)(85,"div",5)(86,"form",6),we("submit",function(){return i.addGreetings()}),D(87,"div",7)(88,"div",8),V(89,"Add a Greeting"),I(),D(90,"div",9),V(91," Add a personal greeting to welcome people viewing your social links page. Don't worry if you leave this empty, we'll show a friendly default message. "),I()(),D(92,"div",10)(93,"hlm-form-field",39)(94,"label",40)(95,"div",13),V(96,"Title"),I()(),se(97,"input",41),ne(98,bke,2,0,"hlm-error"),ne(99,xke,2,0,"hlm-error"),I(),D(100,"hlm-form-field")(101,"label",42)(102,"div",13),V(103,"Body"),I()(),se(104,"input",43),ne(105,Cke,2,0,"hlm-error"),ne(106,Eke,2,0,"hlm-error"),I()(),D(107,"div",36)(108,"button",37),V(109,"Refresh Greeting"),I()()()()()(),ne(110,Ske,25,0),I()),r&2){let o,s,a,l,d,h,f,m,v,_,b,T,M,B,j,H,q,Y;P(10),ve("formGroup",i.newLinkForm),P(12),re(!((o=i.newLinkForm.get("url"))==null||o.errors==null)&&o.errors.required&&(!(i.newLinkForm==null||(o=i.newLinkForm.get("url"))==null)&&o.dirty||!(i.newLinkForm==null||(o=i.newLinkForm.get("url"))==null)&&o.touched)?22:-1),P(),re(!((s=i.newLinkForm.get("url"))==null||s.errors==null)&&s.errors.maxlength?23:-1),P(5),re((i.newLinkForm==null||(a=i.newLinkForm.get("platform"))==null?null:a.value)==="custom"?28:-1),P(6),re(!((l=i.newLinkForm.get("username"))==null||l.errors==null)&&l.errors.required&&(!(i.newLinkForm==null||(l=i.newLinkForm.get("username"))==null)&&l.dirty||!(i.newLinkForm==null||(l=i.newLinkForm.get("username"))==null)&&l.touched)?34:-1),P(),re(!((d=i.newLinkForm.get("username"))==null||d.errors==null)&&d.errors.maxlength?35:-1),P(6),re(!((h=i.newLinkForm.get("handle"))==null||h.errors==null)&&h.errors.required&&(!(i.newLinkForm==null||(h=i.newLinkForm.get("handle"))==null)&&h.dirty||!(i.newLinkForm==null||(h=i.newLinkForm.get("handle"))==null)&&h.touched)?41:-1),P(),re(!((f=i.newLinkForm.get("handle"))==null||f.errors==null)&&f.errors.maxlength?42:-1),P(7),re(!((m=i.newLinkForm.get("follower"))==null||m.errors==null)&&m.errors.max&&(!(i.newLinkForm==null||(m=i.newLinkForm.get("follower"))==null)&&m.dirty||!(i.newLinkForm==null||(m=i.newLinkForm.get("follower"))==null)&&m.touched)?49:-1),P(),re(!((v=i.newLinkForm.get("follower"))==null||v.errors==null)&&v.errors.pattern&&(!(i.newLinkForm==null||(v=i.newLinkForm.get("follower"))==null)&&v.dirty||!(i.newLinkForm==null||(v=i.newLinkForm.get("follower"))==null)&&v.touched)?50:-1),P(6),re(!((_=i.newLinkForm.get("following"))==null||_.errors==null)&&_.errors.max&&(!(i.newLinkForm==null||(_=i.newLinkForm.get("following"))==null)&&_.dirty||!(i.newLinkForm==null||(_=i.newLinkForm.get("following"))==null)&&_.touched)?56:-1),P(),re(!((b=i.newLinkForm.get("following"))==null||b.errors==null)&&b.errors.pattern&&(!(i.newLinkForm==null||(b=i.newLinkForm.get("following"))==null)&&b.dirty||!(i.newLinkForm==null||(b=i.newLinkForm.get("following"))==null)&&b.touched)?57:-1),P(6),re(!((T=i.newLinkForm.get("bio"))==null||T.errors==null)&&T.errors.required&&(!(i.newLinkForm==null||(T=i.newLinkForm.get("bio"))==null)&&T.dirty||!(i.newLinkForm==null||(T=i.newLinkForm.get("bio"))==null)&&T.touched)?63:-1),P(),re(!((M=i.newLinkForm.get("bio"))==null||M.errors==null)&&M.errors.maxlength?64:-1),P(9),kn(i.platforms),P(2),re(!((B=i.newLinkForm.get("platform"))==null||B.errors==null)&&B.errors.required&&(!(i.newLinkForm==null||(B=i.newLinkForm.get("platform"))==null)&&B.dirty||!(i.newLinkForm==null||(B=i.newLinkForm.get("platform"))==null)&&B.touched)?75:-1),P(3),re((i.platform==null?null:i.platform.value)==="custom"&&i.isUpdatingSocialLink&&i.existingIconURL?78:-1),P(),re((i.platform==null?null:i.platform.value)==="custom"?79:-1),P(),re(i.customIcon?80:-1),P(3),yt(" ",i.isUpdatingSocialLink?"Update":"Add"," "),P(3),ve("formGroup",i.greetingsForm),P(12),re(!((j=i.greetingsForm.get("title"))==null||j.errors==null)&&j.errors.required&&(!(i.greetingsForm==null||(j=i.greetingsForm.get("title"))==null)&&j.dirty||!(i.greetingsForm==null||(j=i.greetingsForm.get("title"))==null)&&j.touched)?98:-1),P(),re(!((H=i.greetingsForm.get("title"))==null||H.errors==null)&&H.errors.maxlength?99:-1),P(6),re(!((q=i.greetingsForm.get("body"))==null||q.errors==null)&&q.errors.required&&(!(i.greetingsForm==null||(q=i.greetingsForm.get("body"))==null)&&q.dirty||!(i.greetingsForm==null||(q=i.greetingsForm.get("body"))==null)&&q.touched)?105:-1),P(),re(!((Y=i.greetingsForm.get("body"))==null||Y.errors==null)&&Y.errors.maxlength?106:-1),P(4),re(i.socialLinks.length>0?110:-1)}},dependencies:[Tc,Rc,Pc,Dc,za,zd,Ua,i3,Hd,Ud,Lo,sc,ja,Va,Jo,_C,ip,Zg,Xg,av,sv,$a,gC,Yg,$W,Ka,bn,nn,Di,mo,ts,vo,Ri,go,Nv,Fv,jv,Vv,Lv,Bv,Po,yC,sl],encapsulation:2})};var gp=(n,e)=>{let t=C(Ti),r=C(Lr);return qg(t).pipe(Je(i=>i&&i.emailVerified?!0:(r.navigate(["/login"]),!1)))};var E6=(n,e)=>{let t=C(Ti),r=C(Lr);return qg(t).pipe(Je(i=>i&&i.emailVerified?(r.navigate(["/home"]),!1):!0))};function VK(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;let t=document.implementation.createHTMLDocument(),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),e&&(r.href=e),i.href=n,i.href}var jK=(()=>{let n=0,e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function ua(n){let e=[];for(let t=0,r=n.length;t<r;t++)e.push(n[t]);return e}var D0=null;function m4(n={}){return D0||(n.includeStyleProperties?(D0=n.includeStyleProperties,D0):(D0=ua(window.getComputedStyle(document.documentElement)),D0))}function g4(n,e){let r=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Ike(n){let e=g4(n,"border-left-width"),t=g4(n,"border-right-width");return n.clientWidth+e+t}function Ake(n){let e=g4(n,"border-top-width"),t=g4(n,"border-bottom-width");return n.clientHeight+e+t}function M6(n,e={}){let t=e.width||Ike(n),r=e.height||Ake(n);return{width:t,height:r}}function HK(){let n,e;try{e=process}catch{}let t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}var rs=16384;function UK(n){(n.width>rs||n.height>rs)&&(n.width>rs&&n.height>rs?n.width>n.height?(n.height*=rs/n.width,n.width=rs):(n.width*=rs/n.height,n.height=rs):n.width>rs?(n.height*=rs/n.width,n.width=rs):(n.width*=rs/n.height,n.height=rs))}function R0(n){return new Promise((e,t)=>{let r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=t,r.crossOrigin="anonymous",r.decoding="async",r.src=n})}function Tke(n){return x(this,null,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})}function zK(n,e,t){return x(this,null,function*(){let r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${t}`),i.setAttribute("viewBox",`0 0 ${e} ${t}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(n),Tke(i)})}var Ki=(n,e)=>{if(n instanceof e)return!0;let t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||Ki(t,e)};function Dke(n){let e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function Rke(n,e){return m4(e).map(t=>{let r=n.getPropertyValue(t),i=n.getPropertyPriority(t);return`${t}: ${r}${i?" !important":""};`}).join(" ")}function Pke(n,e,t,r){let i=`.${n}:${e}`,o=t.cssText?Dke(t):Rke(t,r);return document.createTextNode(`${i}{${o}}`)}function $K(n,e,t,r){let i=window.getComputedStyle(n,t),o=i.getPropertyValue("content");if(o===""||o==="none")return;let s=jK();try{e.className=`${e.className} ${s}`}catch{return}let a=document.createElement("style");a.appendChild(Pke(s,t,i,r)),e.appendChild(a)}function WK(n,e,t){$K(n,e,":before",t),$K(n,e,":after",t)}var GK="application/font-woff",qK="image/jpeg",Oke={woff:GK,woff2:GK,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:qK,jpeg:qK,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Nke(n){let e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function P0(n){let e=Nke(n).toLowerCase();return Oke[e]||""}function Lke(n){return n.split(/,/)[1]}function Hv(n){return n.search(/^(data:)/)!==-1}function I6(n,e){return`data:${e};base64,${n}`}function A6(n,e,t){return x(this,null,function*(){let r=yield fetch(n,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);let i=yield r.blob();return new Promise((o,s)=>{let a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(t({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})})}var S6={};function Fke(n,e,t){let r=n.replace(/\?.*/,"");return t&&(r=n),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}function O0(n,e,t){return x(this,null,function*(){let r=Fke(n,e,t.includeQueryParams);if(S6[r]!=null)return S6[r];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let i;try{let o=yield A6(n,t.fetchRequestInit,({res:s,result:a})=>(e||(e=s.headers.get("Content-Type")||""),Lke(a)));i=I6(o,e)}catch(o){i=t.imagePlaceholder||"";let s=`Failed to fetch resource: ${n}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return S6[r]=i,i})}function Bke(n){return x(this,null,function*(){let e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):R0(e)})}function Vke(n,e){return x(this,null,function*(){if(n.currentSrc){let o=document.createElement("canvas"),s=o.getContext("2d");o.width=n.clientWidth,o.height=n.clientHeight,s?.drawImage(n,0,0,o.width,o.height);let a=o.toDataURL();return R0(a)}let t=n.poster,r=P0(t),i=yield O0(t,r,e);return R0(i)})}function jke(n,e){return x(this,null,function*(){var t;try{if(!((t=n?.contentDocument)===null||t===void 0)&&t.body)return yield Uv(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)})}function Hke(n,e){return x(this,null,function*(){return Ki(n,HTMLCanvasElement)?Bke(n):Ki(n,HTMLVideoElement)?Vke(n,e):Ki(n,HTMLIFrameElement)?jke(n,e):n.cloneNode(KK(n))})}var Uke=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",KK=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";function zke(n,e,t){return x(this,null,function*(){var r,i;if(KK(e))return e;let o=[];return Uke(n)&&n.assignedNodes?o=ua(n.assignedNodes()):Ki(n,HTMLIFrameElement)&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?o=ua(n.contentDocument.body.childNodes):o=ua(((i=n.shadowRoot)!==null&&i!==void 0?i:n).childNodes),o.length===0||Ki(n,HTMLVideoElement)||(yield o.reduce((s,a)=>s.then(()=>Uv(a,t)).then(l=>{l&&e.appendChild(l)}),Promise.resolve())),e})}function $ke(n,e,t){let r=e.style;if(!r)return;let i=window.getComputedStyle(n);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):m4(t).forEach(o=>{let s=i.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Ki(n,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),r.setProperty(o,s,i.getPropertyPriority(o))})}function Wke(n,e){Ki(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Ki(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function Gke(n,e){if(Ki(n,HTMLSelectElement)){let t=e,r=Array.from(t.children).find(i=>n.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function qke(n,e,t){return Ki(e,Element)&&($ke(n,e,t),WK(n,e,t),Wke(n,e),Gke(n,e)),e}function Kke(n,e){return x(this,null,function*(){let t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;let r={};for(let o=0;o<t.length;o++){let a=t[o].getAttribute("xlink:href");if(a){let l=n.querySelector(a),d=document.querySelector(a);!l&&d&&!r[a]&&(r[a]=yield Uv(d,e,!0))}}let i=Object.values(r);if(i.length){let o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";let a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);n.appendChild(s)}return n})}function Uv(n,e,t){return x(this,null,function*(){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(r=>Hke(r,e)).then(r=>zke(n,r,e)).then(r=>qke(n,r,e)).then(r=>Kke(r,e))})}var YK=/url\((['"]?)([^'"]+?)\1\)/g,Yke=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Xke=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Zke(n){let e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Qke(n){let e=[];return n.replace(YK,(t,r,i)=>(e.push(i),t)),e.filter(t=>!Hv(t))}function Jke(n,e,t,r,i){return x(this,null,function*(){try{let o=t?VK(e,t):e,s=P0(e),a;if(i){let l=yield i(o);a=I6(l,s)}else a=yield O0(o,s,r);return n.replace(Zke(e),`$1${a}$3`)}catch{}return n})}function ebe(n,{preferredFontFormat:e}){return e?n.replace(Xke,t=>{for(;;){let[r,,i]=Yke.exec(t)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):n}function T6(n){return n.search(YK)!==-1}function v4(n,e,t){return x(this,null,function*(){if(!T6(n))return n;let r=ebe(n,t);return Qke(r).reduce((o,s)=>o.then(a=>Jke(a,s,e,t)),Promise.resolve(r))})}function N0(n,e,t){return x(this,null,function*(){var r;let i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(n);if(i){let o=yield v4(i,null,t);return e.style.setProperty(n,o,e.style.getPropertyPriority(n)),!0}return!1})}function tbe(n,e){return x(this,null,function*(){(yield N0("background",n,e))||(yield N0("background-image",n,e)),(yield N0("mask",n,e))||(yield N0("-webkit-mask",n,e))||(yield N0("mask-image",n,e))||(yield N0("-webkit-mask-image",n,e))})}function nbe(n,e){return x(this,null,function*(){let t=Ki(n,HTMLImageElement);if(!(t&&!Hv(n.src))&&!(Ki(n,SVGImageElement)&&!Hv(n.href.baseVal)))return;let r=t?n.src:n.href.baseVal,i=yield O0(r,P0(r),e);yield new Promise((o,s)=>{n.onload=o,n.onerror=e.onImageErrorHandler?(...l)=>{try{o(e.onImageErrorHandler(...l))}catch(d){s(d)}}:s;let a=n;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),t?(n.srcset="",n.src=i):n.href.baseVal=i})})}function rbe(n,e){return x(this,null,function*(){let r=ua(n.childNodes).map(i=>D6(i,e));yield Promise.all(r).then(()=>n)})}function D6(n,e){return x(this,null,function*(){Ki(n,Element)&&(yield tbe(n,e),yield nbe(n,e),yield rbe(n,e))})}function XK(n,e){let{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);let r=e.style;return r!=null&&Object.keys(r).forEach(i=>{t[i]=r[i]}),n}var ZK={};function QK(n){return x(this,null,function*(){let e=ZK[n];if(e!=null)return e;let r=yield(yield fetch(n)).text();return e={url:n,cssText:r},ZK[n]=e,e})}function JK(n,e){return x(this,null,function*(){let t=n.cssText,r=/url\(["']?([^"')]+)["']?\)/g,o=(t.match(/url\([^)]+\)/g)||[]).map(s=>x(null,null,function*(){let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,n.url).href),A6(a,e.fetchRequestInit,({result:l})=>(t=t.replace(s,`url(${l})`),[s,l]))}));return Promise.all(o).then(()=>t)})}function eY(n){if(n==null)return[];let e=[],t=/(\/\*[\s\S]*?\*\/)/gi,r=n.replace(t,""),i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");let o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(l[0])}return e}function ibe(n,e){return x(this,null,function*(){let t=[],r=[];return n.forEach(i=>{if("cssRules"in i)try{ua(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1,l=o.href,d=QK(l).then(h=>JK(h,e)).then(h=>eY(h).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:f,error:m})}})).catch(h=>{console.error("Error loading remote css",h.toString())});r.push(d)}})}catch(o){let s=n.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(QK(i.href).then(a=>JK(a,e)).then(a=>eY(a).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(n.forEach(i=>{if("cssRules"in i)try{ua(i.cssRules||[]).forEach(o=>{t.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),t))})}function obe(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>T6(e.style.getPropertyValue("src")))}function sbe(n,e){return x(this,null,function*(){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");let t=ua(n.ownerDocument.styleSheets),r=yield ibe(t,e);return obe(r)})}function tY(n){return n.trim().replace(/["']/g,"")}function abe(n){let e=new Set;function t(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{e.add(tY(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&t(o)})}return t(n),e}function nY(n,e){return x(this,null,function*(){let t=yield sbe(n,e),r=abe(n);return(yield Promise.all(t.filter(o=>r.has(tY(o.style.fontFamily))).map(o=>{let s=o.parentStyleSheet?o.parentStyleSheet.href:null;return v4(o.cssText,s,e)}))).join(`
`)})}function rY(n,e){return x(this,null,function*(){let t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:yield nY(n,e);if(t){let r=document.createElement("style"),i=document.createTextNode(t);r.appendChild(i),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}})}function lbe(t){return x(this,arguments,function*(n,e={}){let{width:r,height:i}=M6(n,e),o=yield Uv(n,e,!0);return yield rY(o,e),yield D6(o,e),XK(o,e),yield zK(o,r,i)})}function cbe(t){return x(this,arguments,function*(n,e={}){let{width:r,height:i}=M6(n,e),o=yield lbe(n,e),s=yield R0(o),a=document.createElement("canvas"),l=a.getContext("2d"),d=e.pixelRatio||HK(),h=e.canvasWidth||r,f=e.canvasHeight||i;return a.width=h*d,a.height=f*d,e.skipAutoScale||UK(a),a.style.width=`${h}`,a.style.height=`${f}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,a.width,a.height)),l.drawImage(s,0,0,a.width,a.height),a})}function iY(t){return x(this,arguments,function*(n,e={}){return(yield cbe(n,e)).toDataURL()})}var oY=["lucideFacebook","lucideGithub","lucideInstagram","lucideLinkedin","lucideMessageCircle","lucideTwitter","lucideYoutube"];var H0=q_(oX(),1);var ixe=["qrcElement"],sX=(()=>{let e=class e{constructor(r,i){this.renderer=r,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new it,this.context=null}ngOnChanges(){return x(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(r){return this.allowEmptyString===!1?!(typeof r>"u"||r===""||r==="null"||r===null):!(typeof r>"u")}toDataURL(r){return new Promise((i,o)=>{(0,H0.toDataURL)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}toCanvas(r,i){return new Promise((o,s)=>{(0,H0.toCanvas)(r,this.qrdata,i,a=>{a?s(a):o("success")})})}toSVG(r){return new Promise((i,o)=>{(0,H0.toString)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}renderElement(r){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){return x(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let r={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,o=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,r).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,o),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),o!==this.centerImage.height&&(this.centerImage.height=o),s!==this.centerImage.width&&(this.centerImage.width=s);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-s/2,a.height/2-o/2,s,o)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(r).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let d=a.firstChild;this.renderer.setAttribute(d,"height",`${this.width}`),this.renderer.setAttribute(d,"width",`${this.width}`),this.renderElement(d),this.emitQRCodeURL(d)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(r).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})}convertBase64ImageUrlToBlob(r){let i=r.split(";base64,"),o=i[0].split(":")[1],s=atob(i[1]),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return new Blob([a],{type:o})}emitQRCodeURL(r){let i=r.constructor.name;if(i===SVGSVGElement.name){let d=r.outerHTML,h=new Blob([d],{type:"image/svg+xml"}),f=URL.createObjectURL(h),m=this.sanitizer.bypassSecurityTrustUrl(f);this.qrCodeURL.emit(m);return}let o="";i===HTMLCanvasElement.name&&(o=r.toDataURL("image/png")),i===HTMLImageElement.name&&(o=r.src);let s=this.convertBase64ImageUrlToBlob(o),a=URL.createObjectURL(s),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}};e.\u0275fac=function(i){return new(i||e)(Re(pi),Re(fD))},e.\u0275cmp=de({type:e,selectors:[["qrcode"]],viewQuery:function(i,o){if(i&1&&ks(ixe,7),i&2){let s;Ko(s=Yo())&&(o.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ei],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,o){i&1&&Ci(0,"div",null,0),i&2&&te(o.cssClass)},encapsulation:2,changeDetection:0});let n=e;return n})();var yp=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("block animate-pulse rounded-md bg-muted",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-skeleton"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0})};function oxe(n,e){if(n&1&&(D(0,"div",4),se(1,"ng-icon",17),I()),n&2){let t=ae();P(),ve("name",t.socialLink.icon)}}function sxe(n,e){n&1&&se(0,"hlm-skeleton",18)}function axe(n,e){if(n&1){let t=tn();D(0,"div",5),ne(1,sxe,1,0,"hlm-skeleton",18),D(2,"img",19),we("load",function(){We(t);let i=ae();return Ge(i.onCustomImageLoaded())}),I()()}if(n&2){let t=ae();P(),re(t.customImageLoaded?-1:1),P(),sr("opacity-0",!t.customImageLoaded)("opacity-100",t.customImageLoaded),ve("src",t.socialLink.customIcon,ti)("alt",t.socialLink.platformName?t.socialLink.platformName+" icon":"Custom social icon")}}function lxe(n,e){if(n&1&&se(0,"img",6),n&2){let t=ae();ve("src","https://ui-avatars.com/api/?name="+(t.socialLink.platformName?t.socialLink.platformName.charAt(0):"S")+"&background=random&color=fff&size=48",ti)("alt",t.socialLink.platformName?t.socialLink.platformName+" avatar":"Default avatar")}}function cxe(n,e){if(n&1&&(D(0,"span"),V(1),I()),n&2){let t=ae();P(),yt("",t.formatFollowersCount(t.socialLink.followers)," Followers")}}function dxe(n,e){n&1&&(D(0,"span"),V(1,"\u2022"),I())}function uxe(n,e){if(n&1&&(D(0,"span"),V(1),I()),n&2){let t=ae();P(),yt("",t.formatFollowersCount(t.socialLink.following)," Following")}}function hxe(n,e){if(n&1&&(D(0,"p",9),V(1),I()),n&2){let t=ae();te(It("",t.mutedStyle," text-[10px] sm:text-xs font-mono text-ellipsis")),ve("hlmTooltipTrigger",t.socialLink.handle),ut("aria-label",t.socialLink.handle),P(),yt(" ",t.socialLink.handle," ")}}function pxe(n,e){if(n&1){let t=tn();D(0,"div",15)(1,"button",20),we("click",function(){We(t);let i=ae();return Ge(i.shareCardImage())}),V(2,"Share"),I(),D(3,"button",21),we("click",function(){We(t);let i=ae();return Ge(i.downloadCardImage())}),V(4," Download "),I()()}}function fxe(n,e){if(n&1){let t=tn();D(0,"div",16)(1,"button",22),we("click",function(){We(t);let i=ae();return Ge(i.shareCardImage())}),se(2,"ng-icon",23),I(),D(3,"button",22),we("click",function(){We(t);let i=ae();return Ge(i.downloadCardImage())}),se(4,"ng-icon",24),I()()}}var U0=class n extends Hn{socialLinkInput=W();isDialog=!0;dialogRef=null;dialogContext=null;socialLink;constructor(){super();try{this.dialogRef=C(Mi),this.dialogContext=Ya(),this.socialLink=this.dialogContext}catch{console.error("main-card not opened as dialog")}}ngOnInit(){this.socialLinkInput()!==void 0&&(this.socialLink=this.socialLinkInput(),this.isDialog=!1)}customImageLoaded=!1;popularMediaLucideIcons=oY;shareCardImage(){return x(this,null,function*(){yield this.captureAndHandleCardImage("share")})}downloadCardImage(){return x(this,null,function*(){yield this.captureAndHandleCardImage("download")})}onCustomImageLoaded(){this.customImageLoaded=!0}captureAndHandleCardImage(e){return x(this,null,function*(){let t=document.getElementById(`main-card-${this.socialLink.id}`);if(!t)return;let r=window.getComputedStyle(t),i=r.getPropertyValue("--card").trim(),o="";i?window.CSS&&CSS.supports("color",`oklch(${i})`)?o=`oklch(${i})`:window.CSS&&CSS.supports("color",`hsl(${i})`)?o=`hsl(${i})`:o="#181A20":(o=r.backgroundColor,(!o||o==="rgba(0, 0, 0, 0)"||o==="transparent")&&(o="#181A20"));let a=yield iY(t,{backgroundColor:o,cacheBust:!0,pixelRatio:3,style:{}}),l=yield(yield fetch(a)).blob();if(l)if(e==="share"){let d=new File([l],"social-link-card.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[d]}))yield navigator.share({files:[d],title:"My Social Card",text:"Check out my social profile!"});else{let h=URL.createObjectURL(l),f=document.createElement("a");f.href=h,f.download="social-link-card.png",f.click(),URL.revokeObjectURL(h)}}else{let d=URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download="social-link-card.png",h.click(),URL.revokeObjectURL(d)}})}formatFollowersCount(e){if(e==null||e==="")return"";let t=typeof e=="string"?parseInt(e,10):e;return isNaN(t)?"":t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"b+":t>=1e7?(t/1e6).toFixed(1).replace(/\.0$/,"")+"m+":t>=1e5?(t/1e5).toFixed(1).replace(/\.0$/,"")+"lkh+":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k+":t.toString()}get qrCodeWidth(){return window.innerWidth<640?90:150}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-social-link-main-card"]],inputs:{socialLinkInput:[1,"socialLinkInput"]},features:[Ne([Yt({lucideLinkedin:Eg,lucideMessageCircle:Mg,lucideTwitter:Sg,lucideFacebook:bg,lucideInstagram:Cg,lucideGithub:xg,lucideYoutube:Ig,lucideExternalLink:RU,lucideShare2:zU,lucideDownload:nx})]),ft],decls:35,vars:37,consts:[[1,"bg-[var(--card)]","border","rounded-xl","h-[250px]","sm:h-[250px]",3,"id"],[1,"h-full","flex","flex-col","sm:flex-row","gap-4","sm:gap-8","p-4","sm:p-8"],[1,"flex-1","flex","flex-col","justify-between","mb-4","sm:mb-0"],[1,"flex","items-center","gap-2","sm:gap-3"],[1,"flex","items-center","justify-center"],[1,"relative","w-8","h-8","sm:w-10","sm:h-10"],[1,"w-8","h-8","sm:w-10","sm:h-10","rounded-md",3,"src","alt"],[1,"font-semibold","text-xs","sm:text-sm","uppercase","tracking-wider"],[1,"font-bold","text-lg","sm:text-xl","tracking-wider","text-ellipsis",3,"hlmTooltipTrigger"],[3,"hlmTooltipTrigger"],[3,"hlmTooltipTrigger","class"],["size","12px","name","lucideExternalLink",1,"sm:size-[15px]"],["target","_blank",1,"text-[10px]","sm:text-xs","font-mono","text-ellipsis","break-all",3,"hlmTooltipTrigger","href"],[1,"flex","flex-col","items-center","justify-center","min-w-[120px]"],[1,"sm:w-[150px]","w-[90px]","h-[90px]","sm:h-[150px]","flex","items-center","justify-center",3,"width","qrdata","elementType"],[1,"flex","items-center","mt-4","sm:mt-6","gap-2","sm:gap-4","flex-wrap"],[1,"flex","items-center","mt-2","gap-2","ml-4"],["size","24px",1,"sm:size-[30px]",3,"name"],[1,"absolute","inset-0","w-full","h-full","rounded-md","z-10"],["crossorigin","anonymous",1,"absolute","inset-0","w-full","h-full","rounded-md","object-cover","transition-opacity","duration-300",3,"load","src","alt"],["hlmBtn","",3,"click"],["hlmBtn","","variant","outline",3,"click"],["hlmBtn","","size","icon","variant","secondary",1,"size-8",3,"click"],["hlm","","size","sm","name","lucideShare2"],["hlm","","size","sm","name","lucideDownload"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),ne(5,oxe,2,1,"div",4)(6,axe,3,7,"div",5)(7,lxe,1,2,"img",6),D(8,"div")(9,"h2",7),V(10),I(),D(11,"p"),V(12," Social Profile "),I()()(),D(13,"div")(14,"h3",8),V(15),I(),D(16,"p",9),V(17),I(),D(18,"div"),ne(19,cxe,2,1,"span"),ne(20,dxe,2,0,"span"),ne(21,uxe,2,1,"span"),I()()(),D(22,"div"),ne(23,hxe,2,6,"p",10),D(24,"div")(25,"div",4),se(26,"ng-icon",11),I(),D(27,"a",12),V(28),I()()()(),D(29,"div",13),se(30,"qrcode",14),D(31,"p"),V(32," SCAN TO CONNECT "),I()()()(),ne(33,pxe,5,0,"div",15)(34,fxe,5,0,"div",16)),t&2&&(ve("id",It("main-card-",r.socialLink.id)),P(5),re(r.popularMediaLucideIcons.includes(r.socialLink.icon.toString())?5:r.socialLink.customIcon?6:7),P(5),yt(" ",r.socialLink.platformName," "),P(),te(It("",r.mutedStyle," text-[10px] sm:text-xs")),P(3),ve("hlmTooltipTrigger",r.socialLink.username),ut("aria-label",r.socialLink.username),P(),yt(" ",r.socialLink.username," "),P(),te(It("",r.mutedStyle," text-xs sm:text-sm leading-relaxed text-ellipsis")),ve("hlmTooltipTrigger",r.socialLink.desc),ut("aria-label",r.socialLink.desc),P(),yt(" ",r.socialLink.desc," "),P(),te(It("flex gap-2 sm:gap-4 text-xs ",r.mutedStyle," flex-wrap")),P(),re(r.socialLink.followers?19:-1),P(),re(r.socialLink.followers&&r.socialLink.following?20:-1),P(),re(r.socialLink.following?21:-1),P(2),re(r.socialLink.handle?23:-1),P(),te(It("flex items-center gap-1 sm:gap-2 ",r.mutedStyle," mt-1 flex-wrap")),P(3),ve("hlmTooltipTrigger",r.socialLink.url)("href",r.socialLink==null?null:r.socialLink.url,ti),ut("aria-label",r.socialLink.url),P(),yt(" ",r.socialLink.url," "),P(2),ve("width",r.qrCodeWidth)("qrdata",r.socialLink.url)("elementType","url"),P(),te(It("text-[10px] sm:text-xs ",r.mutedStyle," text-center mt-3 font-mono")),P(2),re(r.isDialog?33:34))},dependencies:[nn,sX,bn,op,yp,jn],styles:[".text-ellipsis[_ngcontent-%COMP%]{max-width:190px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var z0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-static-top-bar"]],decls:4,vars:0,consts:[[1,"h-[50px]","backdrop-blur-md"],[1,"flex","h-full","p-2","items-center","justify-center"]],template:function(t,r){t&1&&(Rn(0,"div",0)(1,"div",1)(2,"div"),V(3,"Powered by Socially"),Fn()()())},styles:["[_nghost-%COMP%]{position:fixed;top:0;width:100%;z-index:999999}"]})};var $0=class n{title=W.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-promotion-footer"]],inputs:{title:[1,"title"]},decls:6,vars:1,consts:[[1,"h-[50px]","bg-[var(--color-primary)]","text-[var(--color-primary-foreground)]"],[1,"flex","h-full","px-4","items-center","justify-center","text-sm","text-center"],["href","https://socially.com","target","_blank","rel","noopener noreferrer",1,"underline","font-medium","hover:opacity-80"]],template:function(t,r){t&1&&(Rn(0,"div",0)(1,"div",1)(2,"span"),V(3),Rn(4,"a",2),V(5," Visit socially.com "),Fn()()()()),t&2&&(P(3),yt(" ",r.title(),"\xA0 "))},styles:["[_nghost-%COMP%]{width:100%;z-index:999999}"]})};var gxe=(n,e,t)=>({"--social-link-color":n,"--frost-x":e,"--frost-y":t});function mxe(n,e){if(n&1&&se(0,"ng-icon",6),n&2){let t=ae();ve("name",t.socialLink().icon)}}function vxe(n,e){n&1&&se(0,"hlm-skeleton",9)}function wxe(n,e){if(n&1){let t=tn();D(0,"div",7),ne(1,vxe,1,0,"hlm-skeleton",9),D(2,"img",10),we("load",function(){We(t);let i=ae();return Ge(i.onTinyImageLoad())}),I()()}if(n&2){let t=ae();P(),re(t.tinyImageLoaded?-1:1),P(),sr("opacity-0",!t.tinyImageLoaded)("opacity-100",t.tinyImageLoaded),ve("src",t.socialLink().customIcon,ti)}}function _xe(n,e){if(n&1&&se(0,"img",8),n&2){let t=ae();ve("src","https://ui-avatars.com/api/?name="+(t.socialLink().platformName?t.socialLink().platformName.charAt(0):"S")+"&background=random&color=fff&size=48",ti)}}var A4=class n{constructor(e){this.hlmDialogService=e}socialLink=W.required();tinyImageLoaded=!1;onTinyImageLoad(){this.tinyImageLoaded=!0}lucideIcons=["lucideLinkedin","lucideMessageCircle","lucideTwitter","lucideFacebook","lucideInstagram","lucideGithub","lucideYoutube"];frostX="50%";frostY="50%";onFrostMove(e){let r=e.currentTarget.getBoundingClientRect(),i=(e.clientX-r.left)/r.width*100,o=(e.clientY-r.top)/r.height*100;this.frostX=`${i}%`,this.frostY=`${o}%`}resetFrost(){this.frostX="50%",this.frostY="50%"}openMainCard(){let e=this.hlmDialogService.open(U0,{context:this.socialLink(),contentClass:"social-link-main-card"})}static \u0275fac=function(t){return new(t||n)(Re(Jn))};static \u0275cmp=de({type:n,selectors:[["app-social-link-card"]],inputs:{socialLink:[1,"socialLink"]},features:[Ne([Yt({lucideLinkedin:Eg,lucideMessageCircle:Mg,lucideTwitter:Sg,lucideFacebook:bg,lucideInstagram:Cg,lucideGithub:xg,lucideYoutube:Ig})])],decls:11,vars:10,consts:[["hlmCard","",1,"focus-effect","social-link-card","card-frosted-bg","w-xs",3,"click","mousemove","mouseleave"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],[1,"overflow-hidden","text-ellipsis","whitespace-nowrap","block",3,"href"],["hlmCardContent",""],["size","24px",3,"name"],[1,"relative","w-[30px]","h-[30px]"],["alt","","srcset","",1,"rounded-md","w-[30px]","h-[30px]",3,"src"],[1,"absolute","inset-0","w-full","h-full","rounded-md","z-10"],["alt","","crossorigin","anonymous",1,"absolute","inset-0","w-full","h-full","rounded-md","object-cover","transition-opacity","duration-300",3,"load","src"]],template:function(t,r){t&1&&(D(0,"div",0),we("click",function(){return r.openMainCard()})("mousemove",function(o){return r.onFrostMove(o)})("mouseleave",function(){return r.resetFrost()}),D(1,"div",1)(2,"div",2),V(3),I(),D(4,"div",3)(5,"a",4),V(6),I()()(),D(7,"div",5),ne(8,mxe,1,1,"ng-icon",6)(9,wxe,3,6,"div",7)(10,_xe,1,1,"img",8),I()()),t&2&&(Do(BT(6,gxe,r.socialLink().color,r.frostX,r.frostY)),P(3),yt(" ",r.socialLink().platformName," "),P(2),ve("href",r.socialLink().url,ti),P(),qe(r.socialLink().url),P(2),re(r.lucideIcons.includes(r.socialLink().icon.toString())?8:r.socialLink().customIcon?9:10))},dependencies:[Di,mo,vo,Ri,go,Po,nn,yp],styles:['.focus-effect[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.22,1,.36,1),box-shadow .3s cubic-bezier(.22,1,.36,1);will-change:transform,box-shadow;perspective:800px}.focus-effect[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00000040,0 1.5px 8px #0000001a;transform:translateY(-16px) scale(1.04) rotateX(8deg);z-index:2}.social-link-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-frosted-bg[_ngcontent-%COMP%]{position:relative;z-index:1}.social-link-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--social-link-color, #6b7280) 0%,rgba(255,255,255,.25) 100%);opacity:.35;filter:blur(10px) saturate(1.2);z-index:0;transition:opacity .3s,background .15s;pointer-events:none}.social-link-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at var(--frost-x, 50%) var(--frost-y, 50%),var(--social-link-color, #6b7280) 0%,rgba(255,255,255,.1) 80%);opacity:0;filter:blur(18px) saturate(1.5);z-index:1;transition:opacity .3s,background .15s;pointer-events:none}.social-link-card[_ngcontent-%COMP%]:hover:after{opacity:.7}.card-frosted-bg[_ngcontent-%COMP%]{background:#ffffff59;-webkit-backdrop-filter:blur(8px) saturate(1.2);backdrop-filter:blur(8px) saturate(1.2);border-radius:1rem;box-shadow:0 2px 8px #0000000a}']})};function yxe(n,e){if(n&1&&se(0,"app-social-link-main-card",11),n&2){let t=e.$implicit;ve("socialLinkInput",t)}}function kxe(n,e){if(n&1&&se(0,"app-social-link-card",13),n&2){let t=e.$implicit;ve("socialLink",t)}}function bxe(n,e){if(n&1&&(D(0,"div",0)(1,"div",3)(2,"h1"),V(3),I(),D(4,"p"),V(5),I()(),D(6,"div",4)(7,"hlm-tabs",5)(8,"hlm-tabs-list")(9,"button",6),se(10,"ng-icon",7),I(),D(11,"button",8),se(12,"ng-icon",9),I()(),D(13,"div",10),yn(14,yxe,1,1,"app-social-link-main-card",11,ni),I(),D(16,"div",12),yn(17,kxe,1,1,"app-social-link-card",13,ni),I()()()()),n&2){let t=ae();P(2),te(It("",t.h1Style," mb-2")),P(),yt(" ",t.socialLinkGreet!=null&&t.socialLinkGreet.title?t.socialLinkGreet.title:"Hey there, welcome aboard!"," "),P(),te(t.mutedStyle),P(),yt(" ",t.socialLinkGreet!=null&&t.socialLinkGreet.body?t.socialLinkGreet.body:" Here's a curated list of my social links feel free to check them out and connect!"," "),P(9),kn(t.socialLinks),P(3),kn(t.socialLinks)}}function xxe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),V(2,"No social Links found"),I()()),n&2){let t=ae();P(),te(t.h1Style)}}function Cxe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),V(2,"User not found!"),I()()),n&2){let t=ae();P(),te(t.h1Style)}}var T4=class n extends Hn{constructor(t,r,i,o,s){super();this.route=t;this.socialLinkService=r;this.preloaderService=i;this.userService=o;this.hlmDialogService=s}email;socialLinks=null;fetchingLinks=!0;socialLinkGreet=null;userNotFound=!1;fetchSocialLinks(t){return x(this,null,function*(){this.fetchingLinks=!0,this.preloaderService.show();let r=null;try{if(r=yield this.userService.getUserIdFromEmail(t),r===null)throw this.userNotFound=!0,new Error("Unable to find the user!");this.socialLinks=yield this.socialLinkService.getAllSocialLinksForUser(r),this.socialLinkGreet=yield this.socialLinkService.getSocialLinkGreeting(r)}catch(i){this.hlmDialogService.open(Xt,{context:{error:"Unable to fetch the user links",desc:i}})}this.preloaderService.hide(),this.fetchingLinks=!1})}ngOnInit(){this.route.paramMap.subscribe(t=>x(this,null,function*(){this.email=t.get("email"),this.fetchSocialLinks(this.email)}))}static \u0275fac=function(r){return new(r||n)(Re(Oo),Re(I0),Re(Un),Re(er),Re(Jn))};static \u0275cmp=de({type:n,selectors:[["app-social-link-viewer"]],features:[Ne([Yt({lucideLayoutGrid:rx,lucideGrid3x3:NU})]),ft],decls:5,vars:3,consts:[[1,"min-h-screen"],[1,"flex","items-center","justify-center","flex-col","h-[100vh]"],["title","Want to create your own social links page?"],[1,"p-4","mt-[80px]","mb-6"],["hlmCard","",1,"p-2","m-2"],["tab","max"],["hlmTabsTrigger","max"],["name","lucideLayoutGrid"],["hlmTabsTrigger","min"],["name","lucideGrid3x3"],["hlmTabsContent","max",1,"flex","flex-wrap","gap-4","items-center","justify-center","mb-6"],[3,"socialLinkInput"],["hlmTabsContent","min",1,"flex","flex-wrap","gap-4","items-center","justify-center","mb-6"],[3,"socialLink"]],template:function(r,i){r&1&&(se(0,"app-static-top-bar"),ne(1,bxe,19,7,"div",0),ne(2,xxe,3,2,"div",1),ne(3,Cxe,3,2,"div",1),se(4,"app-promotion-footer",2)),r&2&&(P(),re(!i.fetchingLinks&&i.socialLinks&&i.socialLinks.length>0?1:-1),P(),re((i.socialLinks==null?null:i.socialLinks.length)===0?2:-1),P(),re(i.userNotFound?3:-1))},dependencies:[Po,U0,z0,$0,Tc,Rc,Pc,Dc,nn,Di,A4],encapsulation:2})};var aX={basics:{fullName:"John Doe",email:"john.doe@example.com",phone:"+1 234 567 8901",location:{city:"San Francisco",state:"California",country:"USA"},summary:"A passionate software engineer with 5+ years of experience in full-stack development, focused on delivering scalable web applications.",profileImage:"url_or_base64"},socialLinks:[{platform:"LinkedIn",url:"https://linkedin.com/in/johndoe"},{platform:"GitHub",url:"https://github.com/johndoe"},{platform:"Personal Website",url:"https://johndoe.dev"}],skills:[{category:"Frontend",items:["React","Angular","TypeScript","HTML","CSS"]},{category:"Backend",items:["Node.js","Express","Django"]},{category:"DevOps",items:["Docker","AWS","GitHub Actions"]}],workExperience:[{company:"TechCorp",role:"Senior Software Engineer",location:"Remote",startDate:"2019-06",endDate:"2023-12",description:"Led a team of 5 developers to build a scalable SaaS platform using React and Node.js. Improved performance by 40%."},{company:"StartupX",role:"Frontend Developer",location:"New York, NY",startDate:"2017-01",endDate:"2019-05",description:"Built and maintained the UI for a fintech app used by over 100k users."}],education:[{institution:"MIT",degree:"Bachelor of Science in Computer Science",location:"Cambridge, MA",startDate:"2012-08",endDate:"2016-05",grade:"3.8 GPA"}],projects:[{name:"OpenSource CMS",url:"https://github.com/johndoe/opensource-cms",description:"A content management system built using MERN stack, supporting plugins and theming.",technologies:["MongoDB","Express","React","Node.js"]},{name:"Portfolio Website",url:"https://johndoe.dev",description:"Personal portfolio built with Next.js and Tailwind CSS.",technologies:["Next.js","Tailwind","Vercel"]}],certifications:[{name:"AWS Certified Developer \u2013 Associate",issuer:"Amazon",date:"2021-08"},{name:"Scrum Master Certified",issuer:"Scrum Alliance",date:"2020-11"}],achievements:["Built a scalable microservice system for handling 1M+ requests/day","Won Hackathon 2022 organized by XYZ Corp","Mentored 10+ junior developers"],blogs:[{title:"Understanding React Server Components",url:"https://johndoe.dev/blog/react-server-components",summary:"An in-depth guide to how server components work and when to use them."},{title:"How I Built My Portfolio in 2 Days",url:"https://johndoe.dev/blog/build-portfolio-fast",summary:"Tips and lessons learned while creating my dev portfolio."}],languages:[{language:"English",fluency:"Native"},{language:"Spanish",fluency:"Conversational"}],interests:["Open source","Tech blogging","Cycling"]};var fX=q_(D4());function Exe(n,e){n&1&&(ys(),Rn(0,"svg",0),Ci(1,"path",2),Fn())}function Mxe(n,e){n&1&&(ys(),Rn(0,"svg",0),Ci(1,"path",3),Fn())}function Sxe(n,e){n&1&&(ys(),Rn(0,"svg",0),Ci(1,"path",4),Fn())}function Ixe(n,e){n&1&&(ys(),Rn(0,"svg",1),Ci(1,"path",5)(2,"path",6),Fn())}function Axe(n,e){n&1&&Ci(0,"div",2)}var Txe=["toastRef"],dX=[[["","loading-icon",""]],[["","success-icon",""]],[["","error-icon",""]],[["","warning-icon",""]],[["","info-icon",""]]],uX=["[loading-icon]","[success-icon]","[error-icon]","[warning-icon]","[info-icon]"];function Dxe(n,e){if(n&1){let t=tn();D(0,"button",3),we("click",function(){We(t);let i=ae();return Ge(i.onCloseButtonClick())}),ys(),D(1,"svg",4),se(2,"line",5)(3,"line",6),I()()}if(n&2){let t,r=ae();te(r.cn(r.classes().closeButton,(t=r.toast().classes)==null?null:t.closeButton)),ut("data-disabled",r.disabled())}}function Rxe(n,e){n&1&&Ui(0)}function Pxe(n,e){if(n&1&&(Io(0,Rxe,1,0,"ng-container",7),Xo(1,"asComponent")),n&2){let t=ae();ve("ngComponentOutlet",bs(1,2,t.toast().component))("ngComponentOutletInputs",t.toast().componentProps)}}function Oxe(n,e){n&1&&Xe(0)}function Nxe(n,e){n&1&&Ui(0)}function Lxe(n,e){if(n&1&&(Io(0,Nxe,1,0,"ng-container",7),Xo(1,"asComponent")),n&2){let t=ae(3);ve("ngComponentOutlet",bs(1,2,t.toast().icon))("ngComponentOutletInputs",t.toast().componentProps)}}function Fxe(n,e){n&1&&Xe(0,1)}function Bxe(n,e){n&1&&Xe(0,2)}function Vxe(n,e){n&1&&Xe(0,3)}function jxe(n,e){n&1&&Xe(0,4)}function Hxe(n,e){if(n&1&&ne(0,Fxe,1,0)(1,Bxe,1,0)(2,Vxe,1,0)(3,jxe,1,0),n&2){let t,r=ae(3);re((t=r.toastType())==="success"?0:t==="error"?1:t==="warning"?2:t==="info"?3:-1)}}function Uxe(n,e){if(n&1&&(D(0,"div",8),ne(1,Oxe,1,0),ne(2,Lxe,2,4,"ng-container")(3,Hxe,4,1),I()),n&2){let t=ae(2);P(),re(t.toastType()==="loading"&&!t.toast().icon?1:-1),P(),re(t.toast().icon?2:3)}}function zxe(n,e){if(n&1&&V(0),n&2){let t=ae(3);yt(" ",t.toast().title," ")}}function $xe(n,e){n&1&&Ui(0)}function Wxe(n,e){if(n&1&&(Io(0,$xe,1,0,"ng-container",7),Xo(1,"asComponent")),n&2){let t=ae(),r=ae(2);ve("ngComponentOutlet",bs(1,2,t))("ngComponentOutletInputs",r.toast().componentProps)}}function Gxe(n,e){if(n&1&&(D(0,"div",14),ne(1,zxe,1,1),Xo(2,"isString"),Kf(3,Wxe,2,4,"ng-container"),I()),n&2){let t,r=ae(2);te(r.cn(r.classes().title,(t=r.toast().classes)==null?null:t.title)),P(),re(bs(2,3,e)?1:3)}}function qxe(n,e){if(n&1&&V(0),n&2){let t=ae(3);yt(" ",t.toast().description," ")}}function Kxe(n,e){n&1&&Ui(0)}function Yxe(n,e){if(n&1&&(Io(0,Kxe,1,0,"ng-container",7),Xo(1,"asComponent")),n&2){let t=ae(),r=ae(2);ve("ngComponentOutlet",bs(1,2,t))("ngComponentOutletInputs",r.toast().componentProps)}}function Xxe(n,e){if(n&1&&(D(0,"div",15),ne(1,qxe,1,1),Xo(2,"isString"),Kf(3,Yxe,2,4,"ng-container"),I()),n&2){let t,r=ae(2);te(r.cn(r.descriptionClass(),r.toastDescriptionClass(),r.classes().description,(t=r.toast().classes)==null?null:t.description)),P(),re(bs(2,3,e)?1:3)}}function Zxe(n,e){if(n&1){let t=tn();D(0,"button",16),we("click",function(){We(t);let i=ae(2);return Ge(i.onCancelClick())}),V(1),I()}if(n&2){let t,r=ae(2);Do(r.cancelButtonStyle()??r.toast().cancelButtonStyle),te(r.cn(r.classes().cancelButton,(t=r.toast().classes)==null?null:t.cancelButton)),P(),yt(" ",e.label," ")}}function Qxe(n,e){if(n&1){let t=tn();D(0,"button",17),we("click",function(i){We(t);let o=ae(2);return Ge(o.onActionClick(i))}),V(1),I()}if(n&2){let t,r=ae(2);Do(r.actionButtonStyle()??r.toast().actionButtonStyle),te(r.cn(r.classes().actionButton,(t=r.toast().classes)==null?null:t.actionButton)),P(),yt(" ",e.label," ")}}function Jxe(n,e){if(n&1&&(ne(0,Uxe,4,2,"div",8),D(1,"div",9),ne(2,Gxe,4,5,"div",10),ne(3,Xxe,4,5,"div",11),I(),ne(4,Zxe,2,5,"button",12),ne(5,Qxe,2,5,"button",13)),n&2){let t,r,i,o,s=ae();re(s.toastType()!=="default"||s.toast().icon||s.toast().promise?0:-1),P(2),re((t=s.toast().title)?2:-1,t),P(),re((r=s.toast().description)?3:-1,r),P(),re((i=s.toast().cancel)?4:-1,i),P(),re((o=s.toast().action)?5:-1,o)}}var eCe=["listRef"],tCe=()=>({}),nCe=(n,e)=>e.id;function rCe(n,e){if(n&1&&se(0,"ngx-sonner-loader",6),n&2){let t=ae().$implicit;ve("isVisible",t.type==="loading")}}function iCe(n,e){n&1&&se(0,"ngx-sonner-icon",7)}function oCe(n,e){n&1&&se(0,"ngx-sonner-icon",8)}function sCe(n,e){n&1&&se(0,"ngx-sonner-icon",9)}function aCe(n,e){n&1&&se(0,"ngx-sonner-icon",10)}function lCe(n,e){if(n&1&&(D(0,"ngx-sonner-toast",5),Xe(1,0,["loading-icon",""],rCe,1,1),Xe(3,1,["success-icon",""],iCe,1,0),Xe(5,2,["error-icon",""],oCe,1,0),Xe(7,3,["warning-icon",""],sCe,1,0),Xe(9,4,["info-icon",""],aCe,1,0),I()),n&2){let t=e.$implicit,r=e.$index,i=ae(3);te(i.toastOptions().class??""),ve("index",r)("toast",t)("invert",i.invert())("visibleToasts",i.visibleToasts())("closeButton",i.closeButton())("interacting",i.interacting())("position",i.position())("expandByDefault",i.expand())("expanded",i.expanded())("actionButtonStyle",i.toastOptions().actionButtonStyle)("cancelButtonStyle",i.toastOptions().cancelButtonStyle)("descriptionClass",i.toastOptions().descriptionClass??"")("classes",i.toastOptions().classes??Th(17,tCe))("duration",i.toastOptions().duration??i.duration())("unstyled",i.toastOptions().unstyled??!1)}}function cCe(n,e){if(n&1){let t=tn();D(0,"ol",3,0),we("blur",function(i){We(t);let o=ae(2);return Ge(o.handleBlur(i))})("focus",function(i){We(t);let o=ae(2);return Ge(o.handleFocus(i))})("mouseenter",function(){We(t);let i=ae(2);return Ge(i.expanded.set(!0))})("mousemove",function(){We(t);let i=ae(2);return Ge(i.expanded.set(!0))})("mouseleave",function(){We(t);let i=ae(2);return Ge(i.handleMouseLeave())})("pointerdown",function(i){We(t);let o=ae(2);return Ge(o.handlePointerDown(i))})("pointerup",function(){We(t);let i=ae(2);return Ge(i.interacting.set(!1))}),yn(2,lCe,11,18,"ngx-sonner-toast",4,nCe),Xo(4,"toastFilter"),I()}if(n&2){let t=e.$implicit,r=e.$index,i=ae(2);Do(i.toasterStyles()),te(i._class()),ve("tabIndex",-1),ut("data-theme",i.actualTheme())("data-rich-colors",i.richColors())("dir",i.dir()==="auto"?i.getDocumentDirection():i.dir())("data-y-position",t.split("-")[0])("data-x-position",t.split("-")[1]),P(2),kn(jT(4,10,i.toasts(),r,t))}}function dCe(n,e){if(n&1&&(D(0,"section",1),yn(1,cCe,5,14,"ol",2,Js),I()),n&2){let t=ae();ve("tabIndex",-1),ut("aria-label","Notifications "+t.hotKeyLabel()),P(),kn(t.possiblePositions())}}var lX=0;function uCe(){let n=Me([]),e=Me([]);function t(M){n.update(B=>[M,...B])}function r(M){let A=M,{message:B}=A,j=Xu(A,["message"]),H=typeof M?.id=="number"||M.id&&M.id?.length>0?M.id:lX++,q=M.dismissible??!0,Y=M.type??"default";return n().find(S=>S.id===H)?n.update(S=>S.map(L=>L.id===H?Se(X(X({},L),M),{id:H,title:B,dismissible:q,type:Y,updated:!0}):Se(X({},L),{updated:!1}))):t(Se(X({},j),{id:H,title:B,dismissible:q,type:Y})),H}function i(M){if(M===void 0){n.set([]);return}return n.update(B=>B.filter(j=>j.id!==M)),M}function o(M,B){return r(Se(X({},B),{type:"default",message:M}))}function s(M,B){return r(Se(X({},B),{type:"error",message:M}))}function a(M,B){return r(Se(X({},B),{type:"success",message:M}))}function l(M,B){return r(Se(X({},B),{type:"info",message:M}))}function d(M,B){return r(Se(X({},B),{type:"warning",message:M}))}function h(M,B){return r(Se(X({},B),{type:"loading",message:M}))}function f(M,B){if(!B)return;let j;B.loading!==void 0&&(j=r(Se(X({},B),{promise:M,type:"loading",message:B.loading})));let H=M instanceof Promise?M:M(),q=j!==void 0;return H.then(Y=>{if(Y&&typeof Y.ok=="boolean"&&!Y.ok){q=!1;let F=typeof B.error=="function"?B.error(`HTTP error! status: ${Y.status}`):B.error;r({id:j,type:"error",message:F})}else if(B.success!==void 0){q=!1;let F=typeof B.success=="function"?B.success(Y):B.success;r({id:j,type:"success",message:F})}}).catch(Y=>{if(B.error!==void 0){q=!1;let F=typeof B.error=="function"?B.error(Y):B.error;r({id:j,type:"error",message:F})}}).finally(()=>{q&&(i(j),j=void 0),B.finally?.()}),j}function m(M,B){let j=B?.id??lX++;return r(X({component:M,id:j},B)),j}function v(M){e.update(B=>B.filter(j=>j.toastId!==M))}function _(M){e.update(B=>[M,...B].sort(b))}let b=(M,B)=>n().findIndex(j=>j.id===M.toastId)-n().findIndex(j=>j.id===B.toastId);function T(){n.set([]),e.set([])}return{create:r,addToast:t,dismiss:i,message:o,error:s,success:a,info:l,warning:d,loading:h,promise:f,custom:m,removeHeight:v,addHeight:_,reset:T,toasts:n.asReadonly(),heights:e.asReadonly()}}var _i=uCe();function hCe(n,e){return _i.create(X({message:n},e))}var pCe=hCe,kp=Object.assign(pCe,{success:_i.success,info:_i.info,warning:_i.warning,error:_i.error,custom:_i.custom,message:_i.message,promise:_i.promise,dismiss:_i.dismiss,loading:_i.loading}),fCe=(()=>{let e=class e{constructor(){this.type=W("default")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-icon"]],inputs:{type:[1,"type"]},decls:4,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","height","20","width","20"],["viewBox","0 0 64 64","fill","currentColor","height","20","width","20","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule","evenodd"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule","evenodd"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule","evenodd"],["d","M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"],["d","M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"]],template:function(i,o){if(i&1&&ne(0,Exe,2,0,":svg:svg",0)(1,Mxe,2,0,":svg:svg",0)(2,Sxe,2,0,":svg:svg",0)(3,Ixe,3,0,":svg:svg",1),i&2){let s;re((s=o.type())==="success"?0:s==="error"?1:s==="info"?2:s==="warning"?3:-1)}},encapsulation:2,changeDetection:0});let n=e;return n})(),gCe=3,mCe="32px",R4=4e3,vCe=356,hX=14,wCe=20,_Ce=200,yCe={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""},kCe=(()=>{let e=class e{constructor(){this.isVisible=W.required({transform:gt}),this.bars=Array(12).fill(0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-loader"]],inputs:{isVisible:[1,"isVisible"]},decls:4,vars:1,consts:[[1,"sonner-loading-wrapper"],[1,"sonner-spinner"],[1,"sonner-loading-bar"]],template:function(i,o){i&1&&(Rn(0,"div",0)(1,"div",1),yn(2,Axe,1,0,"div",2,ni),Fn()()),i&2&&(ut("data-visible",o.isVisible()),P(2),kn(o.bars))},encapsulation:2,changeDetection:0});let n=e;return n})(),bCe=(()=>{let e=class e{transform(r,i,o){return r.filter(s=>!s.position&&i===0||s.position===o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pd({name:"toastFilter",type:e,pure:!0});let n=e;return n})();function cX(...n){return n.filter(Boolean).join(" ")}var xCe=(()=>{let e=class e{transform(r){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pd({name:"asComponent",type:e,pure:!0});let n=e;return n})(),CCe=(()=>{let e=class e{transform(r){return typeof r=="string"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Pd({name:"isString",type:e,pure:!0});let n=e;return n})(),ECe=(()=>{let e=class e{constructor(){this.cn=cX,this.toasts=_i.toasts,this.heights=_i.heights,this.removeHeight=_i.removeHeight,this.addHeight=_i.addHeight,this.dismiss=_i.dismiss,this.toast=W.required(),this.index=W.required(),this.expanded=W.required(),this._invert=W.required({alias:"invert"}),this.position=W.required(),this.visibleToasts=W.required(),this.expandByDefault=W.required(),this._closeButton=W.required({alias:"closeButton"}),this.interacting=W.required(),this.cancelButtonStyle=W(),this.actionButtonStyle=W(),this.duration=W(R4),this.descriptionClass=W(""),this._classes=W({},{alias:"classes"}),this.unstyled=W(!1),this._class=W("",{alias:"class"}),this._style=W({},{alias:"style"}),this.mounted=Me(!1),this.removed=Me(!1),this.swiping=Me(!1),this.swipeOut=Me(!1),this.offsetBeforeRemove=Me(0),this.initialHeight=Me(0),this.toastRef=zi.required("toastRef"),this.classes=ee(()=>X(X({},yCe),this._classes())),this.isFront=ee(()=>this.index()===0),this.isVisible=ee(()=>this.index()+1<=this.visibleToasts()),this.toastType=ee(()=>this.toast().type??"default"),this.toastClass=ee(()=>this.toast().class??""),this.toastPosition=ee(()=>this.toast().position??this.position()),this.toastDescriptionClass=ee(()=>this.toast().descriptionClass??""),this.heightIndex=ee(()=>this.heights().findIndex(r=>r.toastId===this.toast().id)),this.offset=Nr({source:()=>({heightIndex:this.heightIndex(),toastsHeightBefore:this.toastsHeightBefore()}),computation:({heightIndex:r,toastsHeightBefore:i})=>Math.round(r*hX+i)}),this.closeTimerStartTimeRef=0,this.lastCloseTimerStartTimeRef=0,this.pointerStartRef=null,this.coords=ee(()=>this.toastPosition().split("-")),this.toastsHeightBefore=ee(()=>this.heights().reduce((r,i,o)=>o>=this.heightIndex()?r:r+i.height,0)),this.invert=ee(()=>this.toast().invert??this._invert()),this.closeButton=ee(()=>this.toast().closeButton??this._closeButton()),this.disabled=ee(()=>this.toastType()==="loading"),this.remainingTime=0,this.isPromiseLoadingOrInfiniteDuration=ee(()=>this.toast().promise&&this.toastType()==="loading"||this.toast().duration===Number.POSITIVE_INFINITY),this.toastClasses=ee(()=>cX(this._class(),this.toastClass(),this.classes().toast,this.toast().classes?.toast,this.classes()[this.toastType()],this.toast().classes?.[this.toastType()])),this.toastStyle=ee(()=>X({"--index":`${this.index()}`,"--toasts-before":`${this.index()}`,"--z-index":`${this.toasts().length-this.index()}`,"--offset":`${this.removed()?this.offsetBeforeRemove():this.offset()}px`,"--initial-height":this.expandByDefault()?"auto":`${this.initialHeight()}px`},this._style())),xt(()=>{this.toast().updated&&(clearTimeout(this.timeoutId),this.remainingTime=this.toast().duration??this.duration()??R4,this.startTimer())}),rj(r=>{this.isPromiseLoadingOrInfiniteDuration()||(this.expanded()||this.interacting()?this.pauseTimer():this.startTimer()),r(()=>clearTimeout(this.timeoutId))}),xt(()=>{this.toast().delete&&this.deleteToast()})}ngAfterViewInit(){this.remainingTime=this.toast().duration??this.duration()??R4,this.mounted.set(!0);let r=this.toastRef().nativeElement.getBoundingClientRect().height;this.initialHeight.set(r),this.addHeight({toastId:this.toast().id,height:r})}ngOnDestroy(){clearTimeout(this.timeoutId),this.removeHeight(this.toast().id)}deleteToast(){this.removed.set(!0),this.offsetBeforeRemove.set(this.offset()),this.removeHeight(this.toast().id),setTimeout(()=>{this.dismiss(this.toast().id)},_Ce)}pauseTimer(){if(this.lastCloseTimerStartTimeRef<this.closeTimerStartTimeRef){let r=new Date().getTime()-this.closeTimerStartTimeRef;this.remainingTime=this.remainingTime-r}this.lastCloseTimerStartTimeRef=new Date().getTime()}startTimer(){this.closeTimerStartTimeRef=new Date().getTime(),this.timeoutId=setTimeout(()=>{this.toast().onAutoClose?.(this.toast()),this.deleteToast()},this.remainingTime)}onPointerDown(r){if(this.disabled()||!this.toast().dismissible)return;this.offsetBeforeRemove.set(this.offset());let i=r.target;i.setPointerCapture(r.pointerId),i.tagName!=="BUTTON"&&(this.swiping.set(!0),this.pointerStartRef={x:r.clientX,y:r.clientY})}onPointerUp(){if(this.swipeOut()||!this.toast().dismissible)return;this.pointerStartRef=null;let r=Number(this.toastRef().nativeElement.style.getPropertyValue("--swipe-amount").replace("px","")||0);if(Math.abs(r)>=wCe){this.offsetBeforeRemove.set(this.offset()),this.toast().onDismiss?.(this.toast()),this.deleteToast(),this.swipeOut.set(!0);return}this.toastRef().nativeElement.style.setProperty("--swipe-amount","0px"),this.swiping.set(!1)}onPointerMove(r){if(!this.pointerStartRef||!this.toast().dismissible)return;let i=r.clientY-this.pointerStartRef.y,o=r.clientX-this.pointerStartRef.x,a=(this.coords()[0]==="top"?Math.min:Math.max)(0,i),l=r.pointerType==="touch"?10:2;Math.abs(a)>l?this.toastRef().nativeElement.style.setProperty("--swipe-amount",`${i}px`):Math.abs(o)>l&&(this.pointerStartRef=null)}onCloseButtonClick(){this.disabled()||!this.toast().dismissible||(this.deleteToast(),this.toast().onDismiss?.(this.toast()))}onCancelClick(){let r=this.toast();r.dismissible&&(this.deleteToast(),r.cancel?.onClick&&r.cancel.onClick())}onActionClick(r){this.toast().action?.onClick(r),!r.defaultPrevented&&this.deleteToast()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-toast"]],viewQuery:function(i,o){i&1&&Ei(o.toastRef,Txe,5),i&2&&qn()},inputs:{toast:[1,"toast"],index:[1,"index"],expanded:[1,"expanded"],_invert:[1,"invert","_invert"],position:[1,"position"],visibleToasts:[1,"visibleToasts"],expandByDefault:[1,"expandByDefault"],_closeButton:[1,"closeButton","_closeButton"],interacting:[1,"interacting"],cancelButtonStyle:[1,"cancelButtonStyle"],actionButtonStyle:[1,"actionButtonStyle"],duration:[1,"duration"],descriptionClass:[1,"descriptionClass"],_classes:[1,"classes","_classes"],unstyled:[1,"unstyled"],_class:[1,"class","_class"],_style:[1,"style","_style"]},ngContentSelectors:uX,decls:5,vars:22,consts:[["toastRef",""],["data-sonner-toast","","aria-atomic","true","role","status","tabindex","0",3,"pointerdown","pointerup","pointermove"],["aria-label","Close toast","data-close-button","",3,"class"],["aria-label","Close toast","data-close-button","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[4,"ngComponentOutlet","ngComponentOutletInputs"],["data-icon",""],["data-content",""],["data-title","",3,"class"],["data-description","",3,"class"],["data-button","","data-cancel","",3,"style","class"],["data-button","",3,"style","class"],["data-title",""],["data-description",""],["data-button","","data-cancel","",3,"click"],["data-button","",3,"click"]],template:function(i,o){if(i&1){let s=tn();Ft(dX),D(0,"li",1,0),we("pointerdown",function(l){return We(s),Ge(o.onPointerDown(l))})("pointerup",function(){return We(s),Ge(o.onPointerUp())})("pointermove",function(l){return We(s),Ge(o.onPointerMove(l))}),ne(2,Dxe,4,3,"button",2),ne(3,Pxe,2,4,"ng-container")(4,Jxe,6,5),I()}i&2&&(Do(o.toastStyle()),te(o.toastClasses()),ut("aria-live",o.toast().important?"assertive":"polite")("data-styled",!(o.toast().component||o.toast().unstyled||o.unstyled()))("data-mounted",o.mounted())("data-promise",!!o.toast().promise)("data-removed",o.removed())("data-visible",o.isVisible())("data-y-position",o.coords()[0])("data-x-position",o.coords()[1])("data-index",o.index())("data-front",o.isFront())("data-swiping",o.swiping())("data-dismissible",o.toast().dismissible)("data-type",o.toastType())("data-invert",o.invert())("data-swipe-out",o.swipeOut())("data-expanded",o.expanded()||o.expandByDefault()&&o.mounted()),P(2),re(o.closeButton()&&!o.toast().component?2:-1),P(),re(o.toast().component?3:4))},dependencies:[W1,CCe,xCe],encapsulation:2,changeDetection:0});let n=e;return n})(),pX=(()=>{let e=class e{constructor(){this.platformId=C(Qn),this.toasts=_i.toasts,this.heights=_i.heights,this.reset=_i.reset,this.invert=W(!1,{transform:gt}),this.theme=W("light"),this.position=W("bottom-right"),this.hotKey=W(["altKey","KeyT"]),this.richColors=W(!1,{transform:gt}),this.expand=W(!1,{transform:gt}),this.duration=W(R4,{transform:ho}),this.visibleToasts=W(gCe,{transform:ho}),this.closeButton=W(!1,{transform:gt}),this.toastOptions=W({}),this.offset=W(null),this.dir=W(this.getDocumentDirection()),this._class=W("",{alias:"class"}),this._style=W({},{alias:"style"}),this.possiblePositions=ee(()=>Array.from(new Set([this.position(),...this.toasts().filter(r=>r.position).map(r=>r.position)].filter(Boolean)))),this.expanded=Nr({source:this.toasts,computation:r=>r.length<1}),this.actualTheme=Nr({source:this.theme,computation:r=>this.getActualTheme(r)}),this.interacting=Me(!1),this.listRef=zi("listRef"),this.lastFocusedElementRef=Me(null),this.isFocusWithinRef=Me(!1),this.hotKeyLabel=ee(()=>this.hotKey().join("+").replace(/Key/g,"").replace(/Digit/g,"")),this.toasterStyles=ee(()=>X({"--front-toast-height":`${this.heights()[0]?.height}px`,"--offset":typeof this.offset()=="number"?`${this.offset()}px`:this.offset()??`${mCe}`,"--width":`${vCe}px`,"--gap":`${hX}px`},this._style())),this.handleKeydown=r=>{let i=this.listRef()?.nativeElement;if(!i)return;this.hotKey().every(s=>r[s]||r.code===s)&&(this.expanded.set(!0),i.focus()),r.code==="Escape"&&(document.activeElement===i||i.contains(document.activeElement))&&this.expanded.set(!1)},this.handleThemePreferenceChange=({matches:r})=>{this.theme()==="system"&&this.actualTheme.set(r?"dark":"light")},this.reset(),Wi(this.platformId)&&(document.addEventListener("keydown",this.handleKeydown),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.handleThemePreferenceChange))}ngOnDestroy(){Wi(this.platformId)&&(document.removeEventListener("keydown",this.handleKeydown),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.handleThemePreferenceChange))}handleBlur(r){this.isFocusWithinRef()&&!r.target.contains(r.relatedTarget)&&(this.isFocusWithinRef.set(!1),this.lastFocusedElementRef()&&(this.lastFocusedElementRef()?.focus({preventScroll:!0}),this.lastFocusedElementRef.set(null)))}handleFocus(r){r.target instanceof HTMLElement&&r.target.dataset.dismissible==="false"||this.isFocusWithinRef()||(this.isFocusWithinRef.set(!0),this.lastFocusedElementRef.set(r.relatedTarget))}handlePointerDown(r){r.target instanceof HTMLElement&&r.target.dataset.dismissible==="false"||this.interacting.set(!0)}handleMouseLeave(){this.interacting()||this.expanded.set(!1)}getActualTheme(r){return r!=="system"?r:Wi(this.platformId)&&window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}getDocumentDirection(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return!r||r==="auto"?window.getComputedStyle(document.documentElement).direction:r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngx-sonner-toaster"]],viewQuery:function(i,o){i&1&&Ei(o.listRef,eCe,5),i&2&&qn()},inputs:{invert:[1,"invert"],theme:[1,"theme"],position:[1,"position"],hotKey:[1,"hotKey"],richColors:[1,"richColors"],expand:[1,"expand"],duration:[1,"duration"],visibleToasts:[1,"visibleToasts"],closeButton:[1,"closeButton"],toastOptions:[1,"toastOptions"],offset:[1,"offset"],dir:[1,"dir"],_class:[1,"class","_class"],_style:[1,"style","_style"]},ngContentSelectors:uX,decls:1,vars:1,consts:[["listRef",""],[3,"tabIndex"],["data-sonner-toaster","",3,"tabIndex","class","style"],["data-sonner-toaster","",3,"blur","focus","mouseenter","mousemove","mouseleave","pointerdown","pointerup","tabIndex"],[3,"index","toast","invert","visibleToasts","closeButton","interacting","position","expandByDefault","expanded","actionButtonStyle","cancelButtonStyle","class","descriptionClass","classes","duration","unstyled"],[3,"index","toast","invert","visibleToasts","closeButton","interacting","position","expandByDefault","expanded","actionButtonStyle","cancelButtonStyle","descriptionClass","classes","duration","unstyled"],[3,"isVisible"],["type","success"],["type","error"],["type","warning"],["type","info"]],template:function(i,o){i&1&&(Ft(dX),ne(0,dCe,3,2,"section",1)),i&2&&re(o.toasts().length>0?0:-1)},dependencies:[ECe,bCe,fCe,kCe],styles:[`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: var(--ngx-sonner-toast-icon-margin-start, -3px);--toast-icon-margin-end: var(--ngx-sonner-toast-icon-margin-end, 4px);--toast-svg-margin-start: var(--ngx-sonner-toast-svg-margin-start,-1px);--toast-svg-margin-end: var(--ngx-sonner-toast-svg-margin-end, 0px);--toast-button-margin-start: var(--ngx-sonner-toast-button-margin-start, auto);--toast-button-margin-end: var(--ngx-sonner-toast-button-margin-end, 0);--toast-close-button-start: var(--ngx-sonner-toast-close-button-start, 0);--toast-close-button-end: var(--ngx-sonner-toast-close-button-end, unset);--toast-close-button-transform: var(--ngx-sonner-toast-close-button-transform, translate(-35%, -35%))}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: var(--ngx-sonner-rtl-toast-icon-margin-start, 4px);--toast-icon-margin-end: var(--ngx-sonner-rtl-toast-icon-margin-end, -3px);--toast-svg-margin-start: var(--ngx-sonner-rtl-toast-svg-margin-start, 0px);--toast-svg-margin-end: var(--ngx-sonner-rtl-toast-svg-margin-end, -1px);--toast-button-margin-start: var(--ngx-sonner-rtl-toast-button-margin-start, 0);--toast-button-margin-end: var(--ngx-sonner-rtl-toast-button-margin-end, auto);--toast-close-button-start: var(--ngx-sonner-rtl-toast-close-button-start, unset);--toast-close-button-end: var(--ngx-sonner-rtl-toast-close-button-end, 0);--toast-close-button-transform: var(--ngx-sonner-rtl-toast-close-button-transform, translate(35%, -35%))}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:var(--ngx-sonner-font-family, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji);--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: var(--ngx-sonner-border-radius, 8px);box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:var(--ngx-sonner-toast-focus-box-shadow, 0 0 0 2px rgba(0, 0, 0, .4))}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--normal-text);background:#00000014}[data-sonner-toast][data-theme=dark] [data-cancel]{background:#ffffff4d}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--ngx-sonner-toast-close-button-background, var(--gray1));color:var(--ngx-sonner-toast-close-button-color, var(--gray12));border:var(--ngx-sonner-toast-close-button-border, 1px solid var(--gray4));transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--ngx-sonner-toast-close-button-hover-background, var(--gray2));color:var(--ngx-sonner-toast-close-button-hover-color, var(--gray12));border-color:var(--ngx-sonner-toast-close-button-hover-border-color, var(--gray5))}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: var(--ngx-sonner-toast-normal-background, #fff);--normal-border: var(--ngx-sonner-toast-normal-border-color, var(--gray4));--normal-text: var(--ngx-sonner-toast-normal-color, var(--gray12));--success-bg: var(--ngx-sonner-toast-success-background, hsl(143, 85%, 96%));--success-border: var(--ngx-sonner-toast-success-border, hsl(145, 92%, 91%));--success-text: var(--ngx-sonner-toast-success-color, hsl(140, 100%, 27%));--info-bg: var(--ngx-sonner-toast-info-background, hsl(208, 100%, 97%));--info-border: var(--ngx-sonner-toast-info-border, hsl(221, 91%, 91%));--info-text: var(--ngx-sonner-toast-info-color, hsl(210, 92%, 45%));--warning-bg: var(--ngx-sonner-toast-warning-background, hsl(49, 100%, 97%));--warning-border: var(--ngx-sonner-toast-warning-border, hsl(49, 91%, 91%));--warning-text: var(--ngx-sonner-toast-warning-color, hsl(31, 92%, 45%));--error-bg: var(--ngx-sonner-toast-error-background, hsl(359, 100%, 97%));--error-border: var(--ngx-sonner-toast-error-border, hsl(359, 100%, 94%));--error-text: var(--ngx-sonner-toast-error-color, hsl(360, 100%, 45%))}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: var(--ngx-sonner-toast-inverse-normal-background, #000);--normal-border: var(--ngx-sonner-toast-inverse-normal-border-color, hsl(0, 0%, 20%));--normal-text: var(--ngx-sonner-toast-inverse-normal-color, var(--gray1))}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: var(--ngx-sonner-toast-inverse-dark-normal-background, #fff);--normal-border: var(--ngx-sonner-toast-inverse-dark-normal-border-color, var(--gray3));--normal-text: var(--ngx-sonner-toast-inverse-dark-normal-color, var(--gray12))}[data-sonner-toaster][data-theme=dark]{--normal-bg: var(--ngx-sonner-toast-dark-normal-background, #000);--normal-border: var(--ngx-sonner-toast-dark-normal-border-color, hsl(0, 0%, 20%));--normal-text: var(--ngx-sonner-toast-dark-normal-color, var(--gray1));--success-bg: var(--ngx-sonner-toast-dark-success-background, hsl(150, 100%, 6%));--success-border: var(--ngx-sonner-toast-dark-success-border, hsl(147, 100%, 12%));--success-text: var(--ngx-sonner-toast-dark-success-color, hsl(150, 86%, 65%));--info-bg: var(--ngx-sonner-toast-dark-info-background, hsl(215, 100%, 6%));--info-border: var(--ngx-sonner-toast-dark-info-border, hsl(223, 100%, 12%));--info-text: var(--ngx-sonner-toast-dark-info-color, hsl(216, 87%, 65%));--warning-bg: var(--ngx-sonner-toast-dark-warning-background, hsl(64, 100%, 6%));--warning-border: var(--ngx-sonner-toast-dark-warning-border, hsl(60, 100%, 12%));--warning-text: var(--ngx-sonner-toast-dark-warning-color, hsl(46, 87%, 65%));--error-bg: var(--ngx-sonner-toast-dark-error-background, hsl(358, 76%, 10%));--error-border: var(--ngx-sonner-toast-dark-error-border, hsl(357, 89%, 16%));--error-text: var(--ngx-sonner-toast-dark-error-color, hsl(358, 100%, 81%))}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`],encapsulation:2,changeDetection:0});let n=e;return n})();var bp=class n{invert=W(!1,{transform:gt});theme=W("light");position=W("bottom-right");hotKey=W(["altKey","KeyT"]);richColors=W(!1,{transform:gt});expand=W(!1,{transform:gt});duration=W(4e3,{transform:ho});visibleToasts=W(3,{transform:ho});closeButton=W(!1,{transform:gt});toastOptions=W({classes:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}});offset=W(null);dir=W("auto");userClass=W("",{alias:"class"});userStyle=W({},{alias:"style"});_computedClass=ee(()=>be("toaster group",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-toaster"]],inputs:{invert:[1,"invert"],theme:[1,"theme"],position:[1,"position"],hotKey:[1,"hotKey"],richColors:[1,"richColors"],expand:[1,"expand"],duration:[1,"duration"],visibleToasts:[1,"visibleToasts"],closeButton:[1,"closeButton"],toastOptions:[1,"toastOptions"],offset:[1,"offset"],dir:[1,"dir"],userClass:[1,"class","userClass"],userStyle:[1,"style","userStyle"]},decls:1,vars:16,consts:[[3,"invert","theme","position","hotKey","richColors","expand","duration","visibleToasts","closeButton","toastOptions","offset","dir"]],template:function(t,r){t&1&&se(0,"ngx-sonner-toaster",0),t&2&&(Do(r.userStyle()),te(r._computedClass()),ve("invert",r.invert())("theme",r.theme())("position",r.position())("hotKey",r.hotKey())("richColors",r.richColors())("expand",r.expand())("duration",r.duration())("visibleToasts",r.visibleToasts())("closeButton",r.closeButton())("toastOptions",r.toastOptions())("offset",r.offset())("dir",r.dir()))},dependencies:[pX],encapsulation:2,changeDetection:0})};var vu=class n{userCache=null;setCache(e){this.userCache=e}getCache(){return this.userCache}clearCache(){this.userCache=null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var tO=n=>({"mb-4":n});function MCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Your fullName is required"),I())}function SCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"A title for your life, a catchy oneliner is required"),I())}function ICe(n,e){n&1&&(D(0,"hlm-error"),V(1,"We need to have a summary of your life"),I())}function ACe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Come on showoff some skills"),I())}function TCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Degree is required"),I())}function DCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Institution is required"),I())}function RCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Year is required"),I())}function PCe(n,e){if(n&1){let t=tn();D(0,"div")(1,"div",45)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),V(7,"Degree"),I()(),se(8,"input",47),ne(9,TCe,2,0,"hlm-error"),I(),D(10,"hlm-form-field")(11,"label",46)(12,"div",22),V(13,"Institution"),I()(),se(14,"input",48),ne(15,DCe,2,0,"hlm-error"),I(),D(16,"hlm-form-field")(17,"label",46)(18,"div",22),V(19,"Year"),I()(),se(20,"input",49),ne(21,RCe,2,0,"hlm-error"),I()(),D(22,"div",35)(23,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeEducation(i))}),se(24,"ng-icon",51),I()()()()()}if(n&2){let t,r,i,o=e.$implicit,s=e.$index,a=e.$count,l=ae();P(),ve("formGroupName",s),P(),te(ec(19,tO,s!==a-1)),P(3),ve("for",It("degree",s)),P(3),ve("id",It("degree",s)),P(),re(((t=o.get("degree"))!=null&&t.dirty||(t=o.get("degree"))!=null&&t.touched)&&((t=o.get("degree"))!=null&&t.hasError("required"))?9:-1),P(2),ve("for",It("institution",s)),P(3),ve("id",It("institution",s)),P(),re(((r=o.get("institution"))!=null&&r.dirty||(r=o.get("institution"))!=null&&r.touched)&&((r=o.get("institution"))!=null&&r.hasError("required"))?15:-1),P(2),ve("for",It("year",s)),P(3),ve("id",It("year",s)),P(),re(((i=o.get("year"))!=null&&i.dirty||(i=o.get("year"))!=null&&i.touched)&&((i=o.get("year"))!=null&&i.hasError("required"))?21:-1),P(2),ve("disabled",l.educations.length===1)}}function OCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Role is required"),I())}function NCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Company you worked at is required"),I())}function LCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Years of experience is required"),I())}function FCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Summary of your work"),I())}function BCe(n,e){if(n&1){let t=tn();D(0,"div")(1,"div",45)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),V(7,"Role"),I()(),se(8,"input",52),ne(9,OCe,2,0,"hlm-error"),I(),D(10,"hlm-form-field")(11,"label",46)(12,"div",22),V(13,"Company"),I()(),se(14,"input",53),ne(15,NCe,2,0,"hlm-error"),I(),D(16,"hlm-form-field")(17,"label",46)(18,"div",22),V(19,"Years"),I()(),se(20,"input",54),ne(21,LCe,2,0,"hlm-error"),I(),D(22,"hlm-form-field")(23,"label",46)(24,"div",22),V(25,"Summary"),I()(),se(26,"textarea",55),ne(27,FCe,2,0,"hlm-error"),I()(),D(28,"div",35)(29,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeExperience(i))}),se(30,"ng-icon",51),I()()()()()}if(n&2){let t,r,i,o,s=e.$implicit,a=e.$index,l=e.$count,d=ae();P(),ve("formGroupName",a),P(),te(ec(24,tO,a!==l-1)),P(3),ve("for",It("role",a)),P(3),ve("id",It("role",a)),P(),re(((t=s.get("role"))!=null&&t.dirty||(t=s.get("role"))!=null&&t.touched)&&((t=s.get("role"))!=null&&t.hasError("required"))?9:-1),P(2),ve("for",It("company",a)),P(3),ve("id",It("company",a)),P(),re(((r=s.get("company"))!=null&&r.dirty||(r=s.get("company"))!=null&&r.touched)&&((r=s.get("company"))!=null&&r.hasError("required"))?15:-1),P(2),ve("for",It("years",a)),P(3),ve("id",It("years",a)),P(),re(((i=s.get("years"))!=null&&i.dirty||(i=s.get("years"))!=null&&i.touched)&&((i=s.get("years"))!=null&&i.hasError("required"))?21:-1),P(2),ve("for",It("summary",a)),P(3),ve("id",It("summary",a)),P(),re(((o=s.get("summary"))!=null&&o.dirty||(o=s.get("summary"))!=null&&o.touched)&&((o=s.get("summary"))!=null&&o.hasError("required"))?27:-1),P(2),ve("disabled",d.experiences.length===1)}}function VCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Name of the project is required"),I())}function jCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Techstack used in project is required"),I())}function HCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Year on which project go completed"),I())}function UCe(n,e){n&1&&(D(0,"hlm-error"),V(1,"Summary of your project is required"),I())}function zCe(n,e){if(n&1){let t=tn();D(0,"div",41)(1,"div",56)(2,"div",19)(3,"div",20)(4,"hlm-form-field")(5,"label",46)(6,"div",22),V(7,"Name"),I()(),se(8,"input",57),ne(9,VCe,2,0,"hlm-error"),I(),D(10,"hlm-form-field")(11,"label",46)(12,"div",29),V(13," Techstack "),se(14,"ng-icon",30),I()(),se(15,"input",58),ne(16,jCe,2,0,"hlm-error"),I(),D(17,"hlm-form-field")(18,"label",46)(19,"div",22),V(20,"Year"),I()(),se(21,"input",59),ne(22,HCe,2,0,"hlm-error"),I(),D(23,"hlm-form-field")(24,"label",46)(25,"div",22),V(26,"Summary"),I()(),se(27,"textarea",60),ne(28,UCe,2,0,"hlm-error"),I()(),D(29,"div",35)(30,"button",50),we("click",function(){let i=We(t).$index,o=ae();return Ge(o.removeProject(i))}),se(31,"ng-icon",51),I()()()()()}if(n&2){let t,r,i,o,s=e.$implicit,a=e.$index,l=e.$count,d=ae();ve("formGroupName",a),P(2),te(ec(25,tO,a!==l-1)),P(3),ve("for",It("name",a)),P(3),ve("id",It("name",a)),P(),re(((t=s.get("name"))!=null&&t.dirty||(t=s.get("name"))!=null&&t.touched)&&((t=s.get("name"))!=null&&t.hasError("required"))?9:-1),P(2),ve("for",It("techstack",a)),P(3),ve("hlmTooltipTrigger","Your input should be comma separated"),P(),ve("id",It("techstack",a)),P(),re(((r=s.get("techstack"))!=null&&r.dirty||(r=s.get("techstack"))!=null&&r.touched)&&((r=s.get("techstack"))!=null&&r.hasError("required"))?16:-1),P(2),ve("for",It("yearProject",a)),P(3),ve("id",It("yearProject",a)),P(),re(((i=s.get("year"))!=null&&i.dirty||(i=s.get("year"))!=null&&i.touched)&&((i=s.get("year"))!=null&&i.hasError("required"))?22:-1),P(2),ve("for",It("summaryProject",a)),P(3),ve("id",It("summaryProject",a)),P(),re(((o=s.get("summary"))!=null&&o.dirty||(o=s.get("summary"))!=null&&o.touched)&&((o=s.get("summary"))!=null&&o.hasError("required"))?28:-1),P(2),ve("disabled",d.projects.length===1)}}var P4=class n extends Hn{resumeDataService=C(ol);userService=C(er);fb=C(Qb);router=C(Lr);apiService=C(Fr);_hlmDialogService=C(Jn);preloaderService=C(Un);dummyData=aX;userProfileURL=this.userService.getCurrentUserObject().photoURL;resumeData=this.resumeDataService.resumeDataDTO;initialFormData=null;resumeDataSaved=null;userCacheManager=C(vu);userDataForm=this.fb.group({fullName:["",je.required],title:["",je.required],summary:["",je.required],skills:["",je.required],educations:this.fb.array([]),experiences:this.fb.array([]),projects:this.fb.array([])});ngOnInit(){this.loadSavedProfile()}loadSavedProfile(){return x(this,null,function*(){this.preloaderService.show();try{this.userCacheManager.getCache()?this.resumeDataSaved=this.userCacheManager.getCache():(this.resumeDataSaved=yield this.resumeDataService.getResumeDataFirebase(),this.userCacheManager.setCache(this.resumeDataSaved)),this.resumeDataSaved&&this.resumeData?(this.setResumeDatatoForm(this.resumeData),kp("This data will override your current Data!",{description:"You can scanned a new PDF which has different data that will override the current data",action:{label:"Discard",onClick:()=>{this.setResumeDatatoForm(this.resumeDataSaved),this.resumeDataService.clearResumeDataDTO(),this.initialFormData=this.resumeDataSaved}}})):this.resumeDataSaved?this.setResumeDatatoForm(this.resumeDataSaved):this.resumeData?this.setResumeDatatoForm(this.resumeData):(this.educations.length===0&&this.addEducation(),this.experiences.length===0&&this.addExperience(),this.projects.length===0&&this.addProject()),this.initialFormData=this.userDataForm.value,this.preloaderService.hide()}catch{this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:"Profile not loaded",desc:"Sorry we are not able to fetch your saved profile, try again!"}})}})}setResumeDatatoForm(e){if(e.fullName&&this.userDataForm.get("fullName")?.setValue(e?.fullName),e.title&&this.userDataForm.get("title")?.setValue(e?.title),e.summary&&this.userDataForm.get("summary")?.setValue(e?.summary),e.skills){let t=(e?.skills??[]).filter(r=>r!==null);this.userDataForm.get("skills")?.setValue(t.join(", "))}if(e.educations){let t=(e?.educations??[]).filter(r=>r!==null);this.educations.clear();for(let r=0;r<t.length;r++){let i=this.fb.group({degree:[t[r].degree??"",je.required],institution:[t[r].institution??"",je.required],year:[t[r].year??"",je.required]});this.educations.push(i)}}if(e.experiences){let t=(e.experiences??[]).filter(r=>r!==null);this.experiences.clear();for(let r=0;r<t.length;r++){let i=this.fb.group({role:[t[r].role??"",je.required],company:[t[r].company??"",je.required],years:[t[r].years??"",je.required],summary:[t[r].summary??"",je.required]});this.experiences.push(i)}}if(e.projects){let t=(e.projects??[]).filter(r=>r!==null);this.projects.clear();for(let r=0;r<t.length;r++){let i=(t[r].techstack??[]).filter(s=>s!==null).join(", "),o=this.fb.group({name:[t[r].name??"",je.required],techstack:[i??"",je.required],year:[t[r].year??"",je.required],summary:[t[r].summary??"",je.required]});this.projects.push(o)}}}get educations(){return this.userDataForm.get("educations")}get experiences(){return this.userDataForm.get("experiences")}get projects(){return this.userDataForm.get("projects")}userExperiences=[];userEducations=[];userProjects=[];userSkills=[];addEducation(){let e=this.fb.group({degree:["",je.required],institution:["",je.required],year:["",je.required]});this.educations.push(e)}addExperience(){let e=this.fb.group({role:["",je.required],company:["",je.required],years:["",je.required],summary:["",je.required]});this.experiences.push(e)}addProject(){let e=this.fb.group({name:["",je.required],techstack:["",je.required],year:["",je.required],summary:["",je.required]});this.projects.push(e)}removeEducation(e){this.educations.length>1&&this.educations.removeAt(e)}removeExperience(e){this.experiences.length>1&&this.experiences.removeAt(e)}removeProject(e){this.projects.length>1&&this.projects.removeAt(e)}canSave(){return this.resumeDataService.resumeDataDTO?!0:!(0,fX.isEqual)(this.userDataForm.value,this.initialFormData)}saveProfile(){return x(this,null,function*(){if(this.userDataForm.markAllAsTouched(),this.userDataForm.markAllAsDirty(),this.userDataForm.valid)try{this.preloaderService.show();let e=[];for(let o=0;o<this.educations.controls.length;o++){let s={degree:this.educations.controls[o].get("degree")?.value,institution:this.educations.controls[o].get("institution")?.value,year:this.educations.controls[o].get("year")?.value};e.push(s)}let t=[];for(let o=0;o<this.experiences.controls.length;o++){let s={role:this.experiences.controls[o].get("role")?.value,company:this.experiences.controls[o].get("company")?.value,years:this.experiences.controls[o].get("years")?.value,summary:this.experiences.controls[o].get("summary")?.value};t.push(s)}let r=[];for(let o=0;o<this.projects.controls.length;o++){let s={name:this.projects.controls[o].get("name")?.value,techstack:(this.projects.controls[o].get("techstack")?.value).split(",").map(a=>a.trim()),year:this.projects.controls[o].get("year")?.value,summary:this.projects.controls[o].get("summary")?.value};r.push(s)}let i={fullName:this.userDataForm.get("fullName")?.value,title:this.userDataForm.get("title")?.value,summary:this.userDataForm.get("summary")?.value,skills:this.userDataForm.get("skills")?.value.split(",").map(o=>o.trim())??[],educations:e,experiences:t,projects:r};yield this.apiService.post(Sn.UPDATEUSERPROFILE,i,yield this.userService.getCurrentUserObject().getIdToken()),this.userCacheManager.setCache(i),this.preloaderService.hide(),this._hlmDialogService.open(Ms,{context:{error:"Profile Updated",desc:"Your Profile is Updated Successfully"}})}catch(e){this.preloaderService.hide(),this._hlmDialogService.open(Xt,{context:{error:"Unable to Update Your Profile",desc:`Please check internet connection or Try again ${e}`}})}else kp("Field Contains Error",{description:"Go through the tabs to check whether you missed a field or a field contains an error"})})}cancel(){this.resumeDataService.clearResumeDataDTO(),this.router.navigate(["/home"])}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-analytics-screen"]],features:[Ne([Yt({lucideInfo:LU,lucideTrash:ix})]),ft],decls:91,vars:24,consts:[[3,"duration","closeButton"],[1,"flex","items-center","justify-center","px-2","py-6"],["hlmCard","",1,"w-full","sm:max-w-lg","md:max-w-2xl","lg:max-w-4xl"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent","",1,"flex","flex-col","md:flex-row-reverse","md:justify-around","gap-6"],[1,"flex","flex-col","items-center"],["alt","User profile image",1,"h-28","w-28","sm:h-36","sm:w-36","md:h-40","md:w-40","rounded-full","object-cover",3,"src"],["hlmBtn","","variant","outline",1,"mt-4","w-full","sm:w-auto"],[1,"flex-1"],[3,"formGroup"],["tab","basic"],[1,"ml-[-10px]","sm:ml-0"],["hlmTabsTrigger","basic"],["hlmTabsTrigger","education"],["hlmTabsTrigger","experience"],["hlmTabsTrigger","project"],["hlmTabsContent","basic"],["hlmCard",""],["hlmCardContent","",1,"flex","flex-col","gap-4"],["for","fullName","hlmLabel",""],[1,"text-xs"],["id","fullName","formControlName","fullName","hlmInput","","placeholder","Your full name",1,"w-full"],["for","title","hlmLabel",""],["id","title","hlmInput","","formControlName","title","placeholder","A catchy oneliner",1,"w-full"],["for","summary","hlmLabel",""],["id","summary","hlmInput","","formControlName","summary","placeholder","Type your message here.",1,"w-full","min-h-[100px]"],["for","skills","hlmLabel",""],[1,"text-xs","flex","items-center","gap-2"],["name","lucideInfo",3,"hlmTooltipTrigger"],["id","skills","formControlName","skills","hlmInput","","placeholder","Your skills comma separated",1,"w-full"],["hlmTabsContent","education"],["hlmCardContent",""],["hlmCardContent","","formArrayName","educations"],["hlmCardFooter",""],["hlmBtn","","variant","secondary",1,"mt-2","w-fit",3,"click"],["hlmTabsContent","experience"],["hlmCardContent","","formArrayName","experiences"],["hlmTabsContent","project"],["hlmCardContent","","formArrayName","projects"],[3,"formGroupName"],["hlmCardFooter","",1,"flex","flex-col","sm:flex-row","items-center","justify-center","gap-4","mt-4"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto",3,"click"],["hlmBtn","",1,"w-full","sm:w-auto",3,"click","disabled"],[1,"flex","flex-col","gap-2","ml-2","mr-2",3,"formGroupName"],["hlmLabel","",3,"for"],["hlmInput","","placeholder","You are qualified in","formControlName","degree",1,"w-full",3,"id"],["hlmInput","","formControlName","institution","placeholder","You qualified from",1,"w-full",3,"id"],["hlmInput","","formControlName","year","placeholder","You qualified on",1,"w-full",3,"id"],["hlmBtn","","size","icon","variant","destructive",1,"size-8",3,"click","disabled"],["hlm","","size","sm","name","lucideTrash"],["hlmInput","","formControlName","role","placeholder","Your role",1,"w-full",3,"id"],["hlmInput","","formControlName","company","placeholder","You worked in",1,"w-full",3,"id"],["hlmInput","","formControlName","years","placeholder","How long you worked",1,"w-full",3,"id"],["hlmInput","","formControlName","summary","placeholder","Type your message here.",1,"w-full","min-h-[100px]",3,"id"],[1,"flex","flex-col","gap-2","mr-2","ml-2"],["hlmInput","","placeholder","Name of your project","formControlName","name",1,"w-full",3,"id"],["hlmInput","","placeholder","Tech used in your project comma separated","formControlName","techstack",1,"w-full",3,"id"],["hlmInput","","placeholder","Project completed on","formControlName","year",1,"w-full",3,"id"],["hlmInput","","placeholder","Type your message here.","formControlName","summary",1,"w-full","min-h-[100px]",3,"id"]],template:function(t,r){if(t&1&&(se(0,"app-only-back-nav-bar")(1,"hlm-toaster",0),D(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),V(6,"Your Info."),I(),D(7,"div",5),V(8,"Edit and Save."),I()(),D(9,"div",6)(10,"div",7),se(11,"img",8),D(12,"button",9),V(13," Update Image "),I()(),D(14,"div",10)(15,"form",11)(16,"hlm-tabs",12)(17,"hlm-tabs-list",13)(18,"button",14),V(19,"Basic"),I(),D(20,"button",15),V(21,"Education"),I(),D(22,"button",16),V(23,"Experience"),I(),D(24,"button",17),V(25,"Project"),I()(),D(26,"div",18)(27,"div",19)(28,"h3",3),V(29,"Basic Info"),I(),D(30,"div",20)(31,"hlm-form-field")(32,"label",21)(33,"div",22),V(34,"Fullname"),I()(),se(35,"input",23),ne(36,MCe,2,0,"hlm-error"),I(),D(37,"hlm-form-field")(38,"label",24)(39,"div",22),V(40,"Title"),I()(),se(41,"input",25),ne(42,SCe,2,0,"hlm-error"),I(),D(43,"hlm-form-field")(44,"label",26)(45,"div",22),V(46,"Summary"),I()(),se(47,"textarea",27),ne(48,ICe,2,0,"hlm-error"),I(),D(49,"hlm-form-field")(50,"label",28)(51,"div",29),V(52," Skills "),se(53,"ng-icon",30),I()(),se(54,"input",31),ne(55,ACe,2,0,"hlm-error"),I()()()(),D(56,"div",32)(57,"div",19)(58,"h3",33),V(59),I(),D(60,"div",34),yn(61,PCe,25,21,"div",null,ni),I(),D(63,"div",35)(64,"button",36),we("click",function(){return r.addEducation()}),V(65," Add Education "),I()()()(),D(66,"div",37)(67,"div",19)(68,"h3",33),V(69),I(),D(70,"div",38),yn(71,BCe,31,26,"div",null,ni),I(),D(73,"div",35)(74,"button",36),we("click",function(){return r.addExperience()}),V(75," Add Experience "),I()()()(),D(76,"div",39)(77,"div",19)(78,"h3",33),V(79),I(),D(80,"div",40),yn(81,zCe,32,27,"div",41,ni),I(),D(83,"div",35)(84,"button",36),we("click",function(){return r.addProject()}),V(85," Add Project "),I()()()()()()()(),D(86,"div",42)(87,"button",43),we("click",function(){return r.cancel()}),V(88," Discard "),I(),D(89,"button",44),we("click",function(){return r.saveProfile()}),V(90," Save "),I()()()()),t&2){let i,o,s,a;P(),ve("duration",5e3)("closeButton",!0),P(10),ve("src",r.userProfileURL,ti),P(4),ve("formGroup",r.userDataForm),P(13),te(r.h3Style),P(8),re(!((i=r.userDataForm.get("fullName"))==null||i.errors==null)&&i.errors.required&&((i=r.userDataForm.get("fullName"))!=null&&i.dirty||(i=r.userDataForm.get("fullName"))!=null&&i.touched)?36:-1),P(6),re(!((o=r.userDataForm.get("title"))==null||o.errors==null)&&o.errors.required&&((o=r.userDataForm.get("title"))!=null&&o.dirty||(o=r.userDataForm.get("title"))!=null&&o.touched)?42:-1),P(6),re(!((s=r.userDataForm.get("summary"))==null||s.errors==null)&&s.errors.required&&((s=r.userDataForm.get("summary"))!=null&&s.dirty||(s=r.userDataForm.get("summary"))!=null&&s.touched)?48:-1),P(5),ve("hlmTooltipTrigger","Your input should be comma separated"),P(2),re(!((a=r.userDataForm.get("skills"))==null||a.errors==null)&&a.errors.required&&((a=r.userDataForm.get("skills"))!=null&&a.dirty||(a=r.userDataForm.get("skills"))!=null&&a.touched)?55:-1),P(3),te(It("",r.h3Style," mb-2")),P(),yt(" Education",r.educations.length>1?"s":""," "),P(2),kn(r.educations.controls),P(7),te(It("",r.h3Style," mb-2")),P(),yt(" Experience",r.experiences.length>1?"s":""," "),P(2),kn(r.experiences.controls),P(7),te(It("",r.h3Style," mb-2")),P(),yt(" Project",r.projects.length>1?"s":""," "),P(2),kn(r.projects.controls),P(8),ve("disabled",!r.canSave())}},dependencies:[Di,mo,ts,vo,Ri,go,za,zd,Ua,Hd,Ud,Lo,sc,Xb,Zb,ja,Va,Jo,$a,Ka,sl,bn,Tc,Dc,Rc,Pc,nn,jn,op,Po,bp],encapsulation:2})};function $Ce(n,e){if(n&1&&(D(0,"li"),V(1),I()),n&2){let t=e.$implicit;P(),qe(t)}}function WCe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),V(2),I(),D(3,"p",5),V(4),I()()),n&2){let t=e.$implicit;P(2),qe(t==null?null:t.degree),P(2),Yf(" ",t==null?null:t.institution," - ",t==null?null:t.year," ")}}function GCe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),V(2),I(),D(3,"p",5),V(4),I(),D(5,"p"),V(6),I()()),n&2){let t=e.$implicit;P(2),qe(t==null?null:t.role),P(2),Yf(" ",t==null?null:t.company," - ",t==null?null:t.years," "),P(2),qe(t==null?null:t.summary)}}function qCe(n,e){if(n&1&&(D(0,"div",8)(1,"h3",9),V(2),I(),D(3,"p",5),V(4),I(),D(5,"p"),V(6),I()()),n&2){let t=e.$implicit;P(2),qe(t==null?null:t.name),P(2),Yf(" Tech Stack: ",t==null?null:t.techstack," - ",t==null?null:t.year," "),P(2),qe(t==null?null:t.summary)}}function KCe(n,e){if(n&1&&(D(0,"div",0)(1,"div",2)(2,"div")(3,"div",3)(4,"h1",4),V(5),I(),D(6,"p",5),V(7),I()(),D(8,"div",3)(9,"h2",6),V(10,"Summary"),I(),D(11,"p"),V(12),I()(),D(13,"div",3)(14,"h2",6),V(15,"Skills"),I(),D(16,"ul",7),yn(17,$Ce,2,1,"li",null,ni),I()()(),D(19,"div")(20,"div",3)(21,"h2",6),V(22,"Education"),I(),yn(23,WCe,5,3,"div",8,ni),I(),D(25,"div",3)(26,"h2",6),V(27,"Experience"),I(),yn(28,GCe,7,4,"div",8,ni),I(),D(30,"div",3)(31,"h2",6),V(32,"Projects"),I(),yn(33,qCe,7,4,"div",8,ni),I()()()()),n&2){let t=ae();P(5),qe(t.resumeData.fullName),P(2),qe(t.resumeData.title),P(5),qe(t.resumeData.summary),P(5),kn(t.resumeData.skills),P(6),kn(t.resumeData.educations),P(5),kn(t.resumeData.experiences),P(5),kn(t.resumeData.projects)}}function YCe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),V(2,"Please update your profile"),I(),D(3,"h3"),V(4,"Error loading your profile!"),I()()),n&2){let t=ae();P(),te(t.h1Style),P(2),te(t.h3Style)}}var O4=class n extends Hn{userCacheManager=C(vu);resumeDataService=C(ol);preloaderService=C(Un);resumeData=null;hlmDialogService=C(Jn);ngOnInit(){return x(this,null,function*(){if(this.preloaderService.show(),this.userCacheManager.getCache())this.resumeData=this.userCacheManager.getCache();else try{this.resumeData=yield this.resumeDataService.getResumeDataFirebase(),this.resumeData?this.userCacheManager.setCache(this.resumeData):this.hlmDialogService.open(Xt,{context:{error:"Can not get your profile Details",desc:"Make sure you go to analytics page to check if your profile data is valid and save!"}})}catch(e){console.error("Error fetching resume data:",e)}this.preloaderService.hide()})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-analytics-viewer"]],features:[ft],decls:3,vars:2,consts:[[1,"container","mx-auto","p-4"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"mb-4"],[1,"text-2xl","font-bold"],[1,"text-muted-foreground"],[1,"text-lg","font-semibold"],[1,"list-disc","list-inside"],[1,"mb-2"],[1,"font-semibold"]],template:function(t,r){t&1&&(se(0,"app-only-back-nav-bar"),ne(1,KCe,35,3,"div",0),ne(2,YCe,5,4,"div",1)),t&2&&(P(),re(r.resumeData?1:-1),P(),re(r.resumeData?-1:2))},dependencies:[sl,Po],encapsulation:2})};var G0=class n{apiService=C(Fr);userService=C(er);firestore=C(Sc);injector=C(Le);generatePDFFromLatex(e){return x(this,null,function*(){try{let t=new Blob([e],{type:"text/plain"}),r=new FormData;return r.append("file",t,"resume.tex"),yield this.apiService.postBlob(Sn.GETPDFFROMLATEX,r,yield this.userService.getCurrentUserObject().getIdToken())}catch(t){throw new Error(t.message||"Failed to generate PDF")}})}getPDFFromEmail(e){return x(this,null,function*(){try{return yield this.apiService.getBlob(Sn.GET_PDF_FROM_EMAIL,{email:e},null)}catch(t){throw new Error(t.message||"Failed to fetch PDF")}})}getSaveTexURL(){return x(this,null,function*(){return yield Ov(this.injector,()=>x(this,null,function*(){let e=u4(this.firestore,"User",this.userService.getCurrentUserObject().uid,"Texs","resume"),t=yield h4(e);return t.exists()?t.data().url:null}))})}getSaveTexContent(){return x(this,null,function*(){let e=yield this.getSaveTexURL();try{return(yield this.apiService.get(Sn.GETTEXCONTENT,null,yield this.userService.getCurrentUserObject().getIdToken())).latex}catch(t){throw new Error(t.message||"Failed to load Tex file")}})}saveTex(e){return x(this,null,function*(){try{let t=new Blob([e],{type:"text/plain"}),r=new FormData;return r.append("file",t,"resume.tex"),yield this.apiService.post(Sn.SAVETEX,r,yield this.userService.getCurrentUserObject().getIdToken())}catch(t){throw new Error(t.message||"Failed to save PDF")}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var J0={};bF(J0,{AbortException:()=>q4e,AnnotationEditorLayer:()=>K4e,AnnotationEditorParamsType:()=>Y4e,AnnotationEditorType:()=>RN,AnnotationEditorUIManager:()=>X4e,AnnotationLayer:()=>Z4e,AnnotationMode:()=>Q4e,ColorPicker:()=>J4e,DOMSVGFactory:()=>eEe,DrawLayer:()=>tEe,FeatureTest:()=>nEe,GlobalWorkerOptions:()=>PN,ImageKind:()=>rEe,InvalidPDFException:()=>iEe,MissingPDFException:()=>oEe,OPS:()=>sEe,OutputScale:()=>aEe,PDFDataRangeTransport:()=>lEe,PDFDateString:()=>cEe,PDFWorker:()=>dEe,PasswordResponses:()=>uEe,PermissionFlag:()=>hEe,PixelsPerInch:()=>pEe,RenderingCancelledException:()=>fEe,TextLayer:()=>gEe,UnexpectedResponseException:()=>mEe,Util:()=>vEe,VerbosityLevel:()=>ON,XfaLayer:()=>wEe,build:()=>_Ee,createValidAbsoluteUrl:()=>yEe,fetchData:()=>kEe,getDocument:()=>NN,getFilenameFromUrl:()=>bEe,getPdfFilenameFromUrl:()=>xEe,getXfaPageViewport:()=>CEe,isDataScheme:()=>EEe,isPdfFile:()=>MEe,noContextMenu:()=>SEe,normalizeUnicode:()=>IEe,setLayerDimensions:()=>AEe,shadow:()=>TEe,version:()=>ww});var nw={};nw.d=(n,e)=>{for(var t in e)nw.o(e,t)&&!nw.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};nw.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Et=globalThis.pdfjsLib={};nw.d(Et,{AbortException:()=>jc,AnnotationEditorLayer:()=>G4e,AnnotationEditorParamsType:()=>kt,AnnotationEditorType:()=>Bt,AnnotationEditorUIManager:()=>lw,AnnotationLayer:()=>wN,AnnotationMode:()=>wu,ColorPicker:()=>bE,DOMSVGFactory:()=>pw,DrawLayer:()=>CN,FeatureTest:()=>Oi,GlobalWorkerOptions:()=>Mp,ImageKind:()=>H4,InvalidPDFException:()=>G4,MissingPDFException:()=>Vc,OPS:()=>ha,OutputScale:()=>aw,PDFDataRangeTransport:()=>lE,PDFDateString:()=>K4,PDFWorker:()=>Y0,PasswordResponses:()=>e4e,PermissionFlag:()=>JCe,PixelsPerInch:()=>_u,RenderingCancelledException:()=>sw,TextLayer:()=>uw,UnexpectedResponseException:()=>Q0,Util:()=>Ke,VerbosityLevel:()=>EE,XfaLayer:()=>uE,build:()=>$4e,createValidAbsoluteUrl:()=>i4e,fetchData:()=>AE,getDocument:()=>j4e,getFilenameFromUrl:()=>h4e,getPdfFilenameFromUrl:()=>p4e,getXfaPageViewport:()=>f4e,isDataScheme:()=>TE,isPdfFile:()=>SN,noContextMenu:()=>Ds,normalizeUnicode:()=>c4e,setLayerDimensions:()=>Sp,shadow:()=>Jt,version:()=>z4e});var Xi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),TX=[1,0,0,1,0,0],aO=[.001,0,0,.001,0,0],XCe=1e7,j4=1.35,ZCe=.35,Zdt=ZCe/j4,os={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},QCe="pdfjs_internal_editor_",Bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},JCe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},H4={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},oi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var Qv={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var EE={ERRORS:0,WARNINGS:1,INFOS:5},ha={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},e4e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ME=EE.WARNINGS;function t4e(n){Number.isInteger(n)&&(ME=n)}function n4e(){return ME}function SE(n){ME>=EE.INFOS&&console.log(`Info: ${n}`)}function zt(n){ME>=EE.WARNINGS&&console.log(`Warning: ${n}`)}function Kn(n){throw new Error(n)}function si(n,e){n||Kn(e)}function r4e(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function i4e(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=l4e(n)}catch{}let r=e?new URL(n,e):new URL(n);if(r4e(r))return r}catch{}return null}function Jt(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}var yu=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})(),rw=class extends yu{constructor(e,t){super(e,"PasswordException"),this.code=t}},iw=class extends yu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},G4=class extends yu{constructor(e){super(e,"InvalidPDFException")}},Vc=class extends yu{constructor(e){super(e,"MissingPDFException")}},Q0=class extends yu{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},lO=class extends yu{constructor(e){super(e,"FormatError")}},jc=class extends yu{constructor(e){super(e,"AbortException")}};function DX(n){(typeof n!="object"||n?.length===void 0)&&Kn("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let r=[];for(let i=0;i<e;i+=t){let o=Math.min(i+t,e),s=n.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function IE(n){typeof n!="string"&&Kn("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function o4e(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function EN(n){let e=Object.create(null);for(let[t,r]of n)e[t]=r;return e}function s4e(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function a4e(){try{return new Function(""),!0}catch{return!1}}var Oi=class{static get isLittleEndian(){return Jt(this,"isLittleEndian",s4e())}static get isEvalSupported(){return Jt(this,"isEvalSupported",a4e())}static get isOffscreenCanvasSupported(){return Jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Jt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Jt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Jt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},nO=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),Ke=class{static makeHexColor(e,t,r){return`#${nO[e]}${nO[t]}${nO[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){let r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,t){let r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,d=a+l||1,h=a-l||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;let o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>s?null:[r,o,i,s]}static#e(e,t,r,i,o,s,a,l,d,h){if(d<=0||d>=1)return;let f=1-d,m=d*d,v=m*d,_=f*(f*(f*e+3*d*t)+3*m*r)+v*i,b=f*(f*(f*o+3*d*s)+3*m*a)+v*l;h[0]=Math.min(h[0],_),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],_),h[3]=Math.max(h[3],b)}static#t(e,t,r,i,o,s,a,l,d,h,f,m){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,t,r,i,o,s,a,l,-f/h,m);return}let v=h**2-4*f*d;if(v<0)return;let _=Math.sqrt(v),b=2*d;this.#e(e,t,r,i,o,s,a,l,(-h+_)/b,m),this.#e(e,t,r,i,o,s,a,l,(-h-_)/b,m)}static bezierBoundingBox(e,t,r,i,o,s,a,l,d){return d?(d[0]=Math.min(d[0],e,a),d[1]=Math.min(d[1],t,l),d[2]=Math.max(d[2],e,a),d[3]=Math.max(d[3],t,l)):d=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,r,o,a,t,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),d),this.#t(e,r,o,a,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),d),d}};function l4e(n){return decodeURIComponent(escape(n))}var rO=null,gX=null;function c4e(n){return rO||(rO=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gX=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(rO,(e,t,r)=>t?t.normalize("NFKC"):gX.get(r))}function d4e(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return DX(n)}var MN="pdfjs_internal_id_",Nc={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function u4e(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(DX(n))}var Fc="http://www.w3.org/2000/svg",_u=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function AE(n,e="text"){return x(this,null,function*(){if(tw(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{let i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})})}var ow=class n{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=o;let a=(e[2]+e[0])/2,l=(e[3]+e[1])/2,d,h,f,m;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,m=1;break;case 90:d=0,h=1,f=1,m=0;break;case 270:d=0,h=-1,f=-1,m=0;break;case 0:d=1,h=0,f=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,m=-m);let v,_,b,T;d===0?(v=Math.abs(l-e[1])*t+i,_=Math.abs(a-e[0])*t+o,b=(e[3]-e[1])*t,T=(e[2]-e[0])*t):(v=Math.abs(a-e[0])*t+i,_=Math.abs(l-e[1])*t+o,b=(e[2]-e[0])*t,T=(e[3]-e[1])*t),this.transform=[d*t,h*t,f*t,m*t,v-d*t*a-f*t*l,_-h*t*a-m*t*l],this.width=b,this.height=T}get rawDims(){let{viewBox:e}=this;return Jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,t){return Ke.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=Ke.applyTransform([e[0],e[1]],this.transform),r=Ke.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Ke.applyInverseTransform([e,t],this.transform)}},sw=class extends yu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function TE(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function SN(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function h4e(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function p4e(n,e="document.pdf"){if(typeof n!="string")return e;if(TE(n))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}var q4=class{started=Object.create(null);times=[];time(e){e in this.started&&zt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||zt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:r}of this.times)t=Math.max(r.length,t);for(let{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(t)} ${o-i}ms
`);return e.join("")}};function tw(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Ds(n){n.preventDefault()}function mX(n){console.log("Deprecated API usage: "+n)}var K4=class{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=this.#e.exec(e);if(!t)return null;let r=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;let d=t[7]||"Z",h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(s+=h,a+=f):d==="+"&&(s-=h,a-=f),new Date(Date.UTC(r,i,o,s,a,l))}};function f4e(n,{scale:e=1,rotation:t=0}){let{width:r,height:i}=n.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new ow({viewBox:o,scale:e,rotation:t})}function IN(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(zt(`Not a valid color format: "${n}"`),[0,0,0])}function g4e(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let r=window.getComputedStyle(e).color;n.set(t,IN(r))}e.remove()}function dr(n){let{a:e,b:t,c:r,d:i,e:o,f:s}=n.getTransform();return[e,t,r,i,o,s]}function Lc(n){let{a:e,b:t,c:r,d:i,e:o,f:s}=n.getTransform().invertSelf();return[e,t,r,i,o,s]}function Sp(n,e,t=!1,r=!0){if(e instanceof ow){let{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=n,a=Oi.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${o}px`,h=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=a?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(s.width=h,s.height=f):(s.width=f,s.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var aw=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},cO=class n{#e=null;#t=null;#n;#r=null;#o=null;static#i=null;constructor(e){this.#n=e,n.#i||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Ds,{signal:t}),e.addEventListener("pointerdown",n.#l,{signal:t});let r=this.#r=document.createElement("div");r.className="buttons",e.append(r);let i=this.#n.toolbarPosition;if(i){let{style:o}=e,s=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}get div(){return this.#e}static#l(e){e.stopPropagation()}#c(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#a(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ds,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#o?.shown()}#u(){let{editorType:e,_uiManager:t}=this.#n,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",n.#i[e]),this.#a(r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#r.append(r)}get#s(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return x(this,null,function*(){let t=yield e.render();this.#a(t),this.#r.prepend(t,this.#s),this.#o=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#a(t),this.#r.prepend(t,this.#s)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},dO=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ds,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#o(e,t){let r=0,i=0;for(let o of e){let s=o.y+o.height;if(s<r)continue;let a=o.x+(t?o.width:0);if(s>r){i=a,r=s;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]}show(e,t,r){let[i,o]=this.#o(t,r),{style:s}=this.#t||=this.#r();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let r=this.#n._signal;e.addEventListener("contextmenu",Ds,{signal:r}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(e)}};function Y4(n,e,t){for(let r of t)e.addEventListener(r,n[r].bind(n))}function m4e(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var uO=class{#e=0;get id(){return`${QCe}${this.#e++}`}},hO=class n{#e=d4e();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;let o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Jt(this,"_isSVGFittingCanvas",o)}#r(e,t){return x(this,null,function*(){this.#n||=new Map;let r=this.#n.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(r.url=t,i=yield AE(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){let o=n._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((d,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,d()},s.onload=()=>x(this,null,function*(){let f=r.svgUrl=s.result;a.src=(yield o)?`${f}#svgView(preserveAspectRatio(none))`:f}),a.onerror=s.onerror=h});s.readAsDataURL(i),yield l}else r.bitmap=yield createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return this.#n.set(e,r),r&&this.#n.set(r.id,r),r})}getFromFile(e){return x(this,null,function*(){let{lastModified:t,name:r,size:i,type:o}=e;return this.#r(`${t}_${r}_${i}_${o}`,e)})}getFromUrl(e){return x(this,null,function*(){return this.#r(e,e)})}getFromBlob(e,t){return x(this,null,function*(){let r=yield t;return this.#r(e,r)})}getFromId(e){return x(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){let{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)})}getFromCanvas(e,t){this.#n||=new Map;let r=this.#n.get(e);if(r?.bitmap)return r.refCounter+=1,r;let i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,r),this.#n.set(r.id,r),r}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;let{bitmap:r}=t;if(!t.url&&!t.file){let i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}r.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},pO=class{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),this.#t)return;let l={cmd:e,undo:t,post:r,type:o};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(l);return}if(s&&this.#e[this.#r].type===o){a&&(l.undo=this.#e[this.#r].undo),this.#e[this.#r]=l;return}let d=this.#r+1;d===this.#n?this.#e.splice(0,1):(this.#r=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(l)}undo(){if(this.#r===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}},Ip=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=Oi.platform;for(let[r,i,o={}]of e)for(let s of r){let a=s.startsWith("mac+");t&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!t&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let r=this.callbacks.get(this.#e(t));if(!r)return;let{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...s,t)(),o||(t.stopPropagation(),t.preventDefault()))}},fO=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return g4e(e),Jt(this,"_colors",e)}convert(e){let t=IN(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[r,i]of this._colors)if(i.every((o,s)=>o===t[s]))return n._colorsMapping.get(r);return t}getHexCode(e){let t=this._colors.get(e);return t?Ke.makeHexColor(...t):e}},lw=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#o=null;#i=null;#l=null;#c=new pO;#d=null;#a=0;#u=new Set;#s=null;#h=null;#f=new Set;#p=!1;#g=!1;#v=!1;#m=null;#w=null;#y=null;#x=null;#k=!1;#b=null;#T=new uO;#S=!1;#C=!1;#I=null;#M=null;#D=null;#P=null;#E=Bt.NONE;#_=new Set;#A=null;#R=null;#F=null;#H={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#L=null;#B=null;#V=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,r=a=>a.#B.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:d}=l;return d!=="text"&&d!=="number"}return!0},o=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Ip([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#B.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#B.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:r}]]))}constructor(t,r,i,o,s,a,l,d,h,f,m){let v=this._signal=this.#e.signal;this.#B=t,this.#V=r,this.#o=i,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:v}),this.#ee(),this.#ie(),this.#q(),this.#i=s.annotationStorage,this.#m=s.filterFactory,this.#R=a,this.#x=l||null,this.#p=d,this.#g=h,this.#v=f,this.#P=m||null,this.viewParameters={realScale:_u.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#f.clear(),this.#t=null,this.#_.clear(),this.#c.destroy(),this.#o?.destroy(),this.#b?.hide(),this.#b=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#L&&(clearTimeout(this.#L),this.#L=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#P}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Jt(this,"hcmFilter",this.#R?this.#m.addHCMFilter(this.#R.foreground,this.#R.background):"none")}get direction(){return Jt(this,"direction",getComputedStyle(this.#B).direction)}get highlightColors(){return Jt(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(t=>t.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#D=t}editAltText(t,r=!1){this.#o?.editAltText(this,t,r)}switchToMode(t,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,r){this._eventBus.dispatch("setpreference",{source:this,name:t,value:r})}onSetPreference({name:t,value:r}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=r;break}}onPageChanging({pageNumber:t}){this.#a=t-1}focusMainContainer(){this.#B.focus()}findParent(t,r){for(let i of this.#r.values()){let{x:o,y:s,width:a,height:l}=i.div.getBoundingClientRect();if(t>=o&&t<=o+a&&r>=s&&r<=s+l)return i}return null}disableUserSelect(t=!1){this.#V.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#f.add(t)}removeShouldRescale(t){this.#f.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*_u.PDF_TO_CSS_UNITS;for(let r of this.#f)r.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#$({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#G(t){let{currentLayer:r}=this;if(r.hasTextLayer(t))return r;for(let i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){let r=document.getSelection();if(!r||r.isCollapsed)return;let{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a}=r,l=r.toString(),h=this.#$(r).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;r.empty();let m=this.#G(h),v=this.#E===Bt.NONE,_=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:a,text:l}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Bt.HIGHLIGHT,_);return}_()}#Q(){let t=document.getSelection();if(!t||t.isCollapsed)return;let i=this.#$(t).closest(".textLayer"),o=this.getSelectionBoxes(i);o&&(this.#b||=new dO(this),this.#b.show(i,o,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}#J(){let t=document.getSelection();if(!t||t.isCollapsed){this.#A&&(this.#b?.hide(),this.#A=null,this.#N({hasSelectedText:!1}));return}let{anchorNode:r}=t;if(r===this.#A)return;let o=this.#$(t).closest(".textLayer");if(!o){this.#A&&(this.#b?.hide(),this.#A=null,this.#N({hasSelectedText:!1}));return}if(this.#b?.hide(),this.#A=r,this.#N({hasSelectedText:!0}),!(this.#E!==Bt.HIGHLIGHT&&this.#E!==Bt.NONE)&&(this.#E===Bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#k=this.isShiftKeyDown,!this.isShiftKeyDown)){let s=this.#E===Bt.HIGHLIGHT?this.#G(o):null;s?.toggleDrawing();let a=new AbortController,l=this.combinedSignal(a),d=h=>{h.type==="pointerup"&&h.button!==0||(a.abort(),s?.toggleDrawing(!0),h.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}}#W(t=""){this.#E===Bt.HIGHLIGHT?this.highlightSelection(t):this.#p&&this.#Q()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#y)return;this.#y=new AbortController;let t=this.combinedSignal(this.#y);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ne(){this.#y?.abort(),this.#y=null}blur(){if(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#W("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let r of this.#_)if(r.div.contains(t)){this.#M=[r,t],r._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;let[t,r]=this.#M;this.#M=null,r.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}#q(){if(this.#I)return;this.#I=new AbortController;let t=this.combinedSignal(this.#I);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#re(){this.#I?.abort(),this.#I=null}#K(){if(this.#d)return;this.#d=new AbortController;let t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Y(){this.#d?.abort(),this.#d=null}#ie(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#q(),this.#K()}removeEditListeners(){this.#re(),this.#Y()}dragOver(t){for(let{type:r}of t.dataTransfer.items)for(let i of this.#h)if(i.isHandlingMimeForPasting(r)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let r of t.dataTransfer.items)for(let i of this.#h)if(i.isHandlingMimeForPasting(r.type)){i.paste(r,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let r=[];for(let i of this.#_){let o=i.serialize(!0);o&&r.push(o)}r.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(t){this.copy(t),this.delete()}paste(t){return x(this,null,function*(){t.preventDefault();let{clipboardData:r}=t;for(let s of r.items)for(let a of this.#h)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=r.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){zt(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();let o=this.currentLayer;try{let s=[];for(let d of i){let h=yield o.deserialize(d);if(!h)return;s.push(h)}let a=()=>{for(let d of s)this.#X(d);this.#Z(s)},l=()=>{for(let d of s)d.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){zt(`paste: "${s.message}".`)}})}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Bt.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,o])=>this.#H[i]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,t)}),this.#E===Bt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#U([[kt.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#te(),this.#K(),this.#N({isEditing:this.#E!==Bt.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ne(),this.#Y(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#h){this.#h=t;for(let r of this.#h)this.#U(r.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#r.get(this.#a)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#a}addLayer(t){this.#r.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}updateMode(t,r=null,i=!1){return x(this,null,function*(){if(this.#E!==t&&!(this.#O&&(yield this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#E=t,t===Bt.NONE){this.setEditingState(!1),this.#se(),this.#O.resolve();return}this.setEditingState(!0),yield this.#oe(),this.unselectAll();for(let o of this.#r.values())o.updateMode(t);if(!r){i&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(let o of this.#n.values())o.annotationElementId===r?(this.setSelected(o),o.enterInEditMode()):o.unselect();this.#O.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,r){if(this.#h){switch(t){case kt.CREATE:this.currentLayer.addNewEditor();return;case kt.HIGHLIGHT_DEFAULT_COLOR:this.#D?.updateColor(r);break;case kt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#F||=new Map).set(t,r),this.showAllEditors("highlight",r);break}for(let i of this.#_)i.updateParams(t,r);for(let i of this.#h)i.updateDefaultParams(t,r)}}showAllEditors(t,r,i=!1){for(let s of this.#n.values())s.editorType===t&&s.show(r);(this.#F?.get(kt.HIGHLIGHT_SHOW_ALL)??!0)!==r&&this.#U([[kt.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(t=!1){if(this.#C!==t){this.#C=t;for(let r of this.#r.values())t?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",t)}}#oe(){return x(this,null,function*(){if(!this.#S){this.#S=!0;let t=[];for(let r of this.#r.values())t.push(r.enable());yield Promise.all(t);for(let r of this.#n.values())r.enable()}})}#se(){if(this.unselectAll(),this.#S){this.#S=!1;for(let t of this.#r.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let r=[];for(let i of this.#n.values())i.pageIndex===t&&r.push(i);return r}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#X(t){let r=this.#r.get(t.pageIndex);r?r.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#U(t.propertiesToUpdate))}get#ae(){let t=null;for(t of this.#_);return t}updateUI(t){this.#ae===t&&this.#U(t.propertiesToUpdate)}toggleSelected(t){if(this.#_.has(t)){this.#_.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#_.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){for(let r of this.#_)r!==t&&r.unselect();this.#_.clear(),this.#_.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#_.has(t)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(t){t.unselect(),this.#_.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(t){this.#c.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#_],r=()=>{for(let o of t)o.remove()},i=()=>{for(let o of t)this.#X(o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Z(t){for(let r of this.#_)r.unselect();this.#_.clear();for(let r of t)r.isEmpty()||(this.#_.add(r),r.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#_)t.commit();this.#Z(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Bt.NONE))&&this.hasSelection){for(let t of this.#_)t.unselect();this.#_.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,r,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=r;let[o,s]=this.#j,a=[...this.#_],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(let d of a)this.#n.has(d.id)&&d.translateInPage(o,s)},undo:()=>{for(let d of a)this.#n.has(d.id)&&d.translateInPage(-o,-s)},mustExec:!1})},l);for(let d of a)d.translateInPage(t,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#s=new Map;for(let t of this.#_)this.#s.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#s)return!1;this.disableUserSelect(!1);let t=this.#s;this.#s=null;let r=!1;for(let[{x:o,y:s,pageIndex:a},l]of t)l.newX=o,l.newY=s,l.newPageIndex=a,r||=o!==l.savedX||s!==l.savedY||a!==l.savedPageIndex;if(!r)return!1;let i=(o,s,a,l)=>{if(this.#n.has(o.id)){let d=this.#r.get(l);d?o._setParentAndPosition(d,s,a):(o.pageIndex=l,o.x=s,o.y=a)}};return this.addCommands({cmd:()=>{for(let[o,{newX:s,newY:a,newPageIndex:l}]of t)i(o,s,a,l)},undo:()=>{for(let[o,{savedX:s,savedY:a,savedPageIndex:l}]of t)i(o,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,r){if(this.#s)for(let i of this.#s.keys())i.drag(t,r)}rebuild(t){if(t.parent===null){let r=this.getLayer(t.pageIndex);r?(r.changeParent(t),r.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return Jt(this,"imageManager",new hO)}getSelectionBoxes(t){if(!t)return null;let r=document.getSelection();for(let h=0,f=r.rangeCount;h<f;h++)if(!t.contains(r.getRangeAt(h).commonAncestorContainer))return null;let{x:i,y:o,width:s,height:a}=t.getBoundingClientRect(),l;switch(t.getAttribute("data-main-rotation")){case"90":l=(h,f,m,v)=>({x:(f-o)/a,y:1-(h+m-i)/s,width:v/a,height:m/s});break;case"180":l=(h,f,m,v)=>({x:1-(h+m-i)/s,y:1-(f+v-o)/a,width:m/s,height:v/a});break;case"270":l=(h,f,m,v)=>({x:1-(f+v-o)/a,y:(h-i)/s,width:v/a,height:m/s});break;default:l=(h,f,m,v)=>({x:(h-i)/s,y:(f-o)/a,width:m/s,height:v/a});break}let d=[];for(let h=0,f=r.rangeCount;h<f;h++){let m=r.getRangeAt(h);if(!m.collapsed)for(let{x:v,y:_,width:b,height:T}of m.getClientRects())b===0||T===0||d.push(l(v,_,b,T))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:r}){(this.#l||=new Map).set(t,r)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){let r=this.#l?.get(t.data.id);if(!r)return;let i=this.#i.getRawValue(r);i&&(this.#E===Bt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}}return n})(),vX=(()=>{class n{#e=null;#t=!1;#n=null;#r=null;#o=null;#i=null;#l=!1;#c=null;#d=null;#a=null;#u=null;#s=!1;static#h=null;static _l10n=null;constructor(t){this.#d=t,this.#s=t._uiManager.useNewAltTextFlow,n.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){n._l10n??=t}render(){return x(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";let r=this.#r=document.createElement("span");t.append(r),this.#s?(t.classList.add("new"),t.setAttribute("data-l10n-id",n.#h.missing),r.setAttribute("data-l10n-id",n.#h["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let i=this.#d._uiManager._signal;t.addEventListener("contextmenu",Ds,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});let o=s=>{s.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#s&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#f}})};return t.addEventListener("click",o,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#l=!0,o(s))},{signal:i}),yield this.#p(),t})}get#f(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#s?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#s?this.#e!==null||!!this.#a:this.isEmpty()}get guessedText(){return this.#a}setGuessedText(t){return x(this,null,function*(){this.#e===null&&(this.#a=t,this.#u=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())})}toggleAltTextBadge(t=!1){if(!this.#s||this.#e){this.#c?.remove(),this.#c=null;return}if(!this.#c){let r=this.#c=document.createElement("div");r.className="noAltTextBadge",this.#d.div.append(r)}this.#c.classList.toggle("hidden",!t)}serialize(t){let r=this.#e;return!t&&this.#a===r&&(r=this.#u),{altText:r,decorative:this.#t,guessedText:this.#a,textWithDisclaimer:this.#u}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:r,guessedText:i,textWithDisclaimer:o,cancel:s=!1}){i&&(this.#a=i,this.#u=o),!(this.#e===t&&this.#t===r)&&(s||(this.#e=t,this.#t=r),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#f}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#o=null,this.#c?.remove(),this.#c=null}#p(){return x(this,null,function*(){let t=this.#n;if(!t)return;if(this.#s){if(t.classList.toggle("done",!!this.#e),t.setAttribute("data-l10n-id",n.#h[this.#f]),this.#r?.setAttribute("data-l10n-id",n.#h[`${this.#f}-label`]),!this.#e){this.#o?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#o?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=this.#o;if(!r){this.#o=r=document.createElement("span"),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${this.#d.id}`;let o=100,s=this.#d._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#o.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:s}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#o?.classList.remove("show")},{signal:s})}this.#t?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=this.#e),r.parentNode||t.append(r),this.#d.getImageForAltText()?.setAttribute("aria-describedby",r.id)})}}return n})(),In=class n{#e=null;#t=null;#n=null;#r=!1;#o=!1;#i=null;#l=null;#c=null;#d="";#a=!1;#u=null;#s=!1;#h=!1;#f=!1;#p=null;#g=0;#v=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#y=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new fO;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=lw.TRANSLATE_SMALL,r=lw.TRANSLATE_BIG;return Jt(this,"_resizerKeyboardManager",new Ip([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];let[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new gO({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(n._l10n??=e,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let r=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Kn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#F(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){let[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(t+i)/s,this.fixAndSetPosition()}#x([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()}translate(e,t){this.#x(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y],this.#x(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#u||=[this.x,this.y];let[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this,[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:r}=n,i=r/e,o=r/t;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,r]=this.pageDimensions,{x:i,y:o,width:s,height:a}=this;if(s*=t,a*=r,i*=t,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(t-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(t,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(t,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=t,this.y=o/=r;let[l,d]=this.getBaseTranslation();i+=l,o+=d;let{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#k(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#k(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#k(e,t,360-this.parentRotation)}#b(e){switch(e){case 90:{let[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){let[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),o=!this.#o&&t.endsWith("%");if(i&&o)return;let[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!this.#o&&!o&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let r of e){let i=document.createElement("div");this.#i.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#S.bind(this,r),{signal:t}),i.addEventListener("contextmenu",Ds,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#i)}#S(e,t){t.preventDefault();let{isMac:r}=Oi.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#n?.toggle(!1);let i=this._isDraggable;this._isDraggable=!1;let o=new AbortController,s=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Ds,{signal:s});let a=this.x,l=this.y,d=this.width,h=this.height,f=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let v=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=f,this.div.style.cursor=m,this.#C(a,l,d,h)};window.addEventListener("pointerup",v,{signal:s}),window.addEventListener("blur",v,{signal:s})}#C(e,t,r,i){let o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;let[d,h]=this.parentDimensions;this.setDims(d*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;let[d,h]=this.parentDimensions;this.setDims(d*r,h*i),this.fixAndSetPosition()},mustExec:!0})}#I(e,t){let[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,d=n.MIN_SIZE/r,h=n.MIN_SIZE/i,f=De=>Math.round(De*1e4)/1e4,m=this.#b(this.rotation),v=(De,ye)=>[m[0]*De+m[2]*ye,m[1]*De+m[3]*ye],_=this.#b(360-this.rotation),b=(De,ye)=>[_[0]*De+_[2]*ye,_[1]*De+_[3]*ye],T,M,B=!1,j=!1;switch(e){case"topLeft":B=!0,T=(De,ye)=>[0,0],M=(De,ye)=>[De,ye];break;case"topMiddle":T=(De,ye)=>[De/2,0],M=(De,ye)=>[De/2,ye];break;case"topRight":B=!0,T=(De,ye)=>[De,0],M=(De,ye)=>[0,ye];break;case"middleRight":j=!0,T=(De,ye)=>[De,ye/2],M=(De,ye)=>[0,ye/2];break;case"bottomRight":B=!0,T=(De,ye)=>[De,ye],M=(De,ye)=>[0,0];break;case"bottomMiddle":T=(De,ye)=>[De/2,ye],M=(De,ye)=>[De/2,0];break;case"bottomLeft":B=!0,T=(De,ye)=>[0,ye],M=(De,ye)=>[De,0];break;case"middleLeft":j=!0,T=(De,ye)=>[0,ye/2],M=(De,ye)=>[De,ye/2];break}let H=T(a,l),q=M(a,l),Y=v(...q),F=f(o+Y[0]),A=f(s+Y[1]),S=1,L=1,[U,K]=this.screenToPageTranslation(t.movementX,t.movementY);if([U,K]=b(U/r,K/i),B){let De=Math.hypot(a,l);S=L=Math.max(Math.min(Math.hypot(q[0]-H[0]-U,q[1]-H[1]-K)/De,1/a,1/l),d/a,h/l)}else j?S=Math.max(d,Math.min(1,Math.abs(q[0]-H[0]-U)))/a:L=Math.max(h,Math.min(1,Math.abs(q[1]-H[1]-K)))/l;let z=f(a*S),rt=f(l*L);Y=v(...M(z,rt));let ht=F-Y[0],Mt=A-Y[1];this.width=z,this.height=rt,this.x=ht,this.y=Mt,this.setDims(r*z,i*rt),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return x(this,null,function*(){return this._editToolbar||this.#h?this._editToolbar:(this._editToolbar=new cO(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){let t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return x(this,null,function*(){this.#n||(vX.initialize(n._l10n),this.#n=new vX(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return x(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#r?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#P();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[r,i]=this.getInitialTranslation();return this.translate(r,i),Y4(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=Oi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#a=!0,this._isDraggable){this.#D(e);return}this.#M(e)}get isSelected(){return this._uiManager.isSelected(this)}#M(e){let{isMac:t}=Oi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#D(e){let{isSelected:t}=this;this._uiManager.setUpDragSession();let r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),this.#g=e.clientX,this.#v=e.clientY;let s=a=>{let{clientX:l,clientY:d}=a,[h,f]=this.screenToPageTranslation(l-this.#g,d-this.#v);this.#g=l,this.#v=d,this._uiManager.dragSelectedEditors(h,f)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}let o=()=>{r.abort(),t&&this.div.classList.remove("moving"),this.#a=!1,this._uiManager.endDragSession()||this.#M(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}moveInDOM(){this.#p&&clearTimeout(this.#p),this.#p=setTimeout(()=>{this.#p=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){let i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,d=e/i,h=t/i,f=this.x*o,m=this.y*s,v=this.width*o,_=this.height*s;switch(r){case 0:return[f+d+a,s-m-h-_+l,f+d+v+a,s-m-h+l];case 90:return[f+h+a,s-m+d+l,f+h+_+a,s-m+d+v+l];case 180:return[f-d-v+a,s-m+h+l,f-d+a,s-m+h+_+l];case 270:return[f-h-_+a,s-m-d-v+l,f-h+a,s-m-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,t-s,a,l];case 90:return[r,t-i,l,a];case 180:return[o,t-i,a,l];case 270:return[o,t-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#f}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#P(){if(this.#c||!this.div)return;this.#c=new AbortController;let e=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#P()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){Kn("An editor must be serializable")}static deserialize(e,t,r){return x(this,null,function*(){let i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,i.#e=e.accessibilityData;let[o,s]=i.pageDimensions,[a,l,d,h]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=d/o,i.height=h/s,i})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#p&&(clearTimeout(this.#p),this.#p=null),this.#F(),this.removeEditToolbar(),this.#m){for(let e of this.#m.values())clearTimeout(e);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#i.classList.remove("hidden"),Y4(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#i.children;if(!this.#t){this.#t=Array.from(t);let s=this.#E.bind(this),a=this.#_.bind(this),l=this._uiManager._signal;for(let d of this.#t){let h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:l}),d.addEventListener("blur",a,{signal:l}),d.addEventListener("focus",this.#A.bind(this,h),{signal:l}),d.setAttribute("data-l10n-id",n._l10nResizer[h])}}let r=this.#t[0],i=0;for(let s of t){if(s===r)break;i++}let o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)this.#i.append(this.#i.firstChild);else if(o>i)for(let a=0;a<o-i;a++)this.#i.firstChild.before(this.#i.lastChild);let s=0;for(let a of t){let d=this.#t[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",n._l10nResizer[d])}}this.#R(0),this.#f=!0,this.#i.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#E(e){n._resizerKeyboardManager.exec(this,e)}#_(e){this.#f&&e.relatedTarget?.parentNode!==this.#i&&this.#F()}#A(e){this.#d=this.#f?e:""}#R(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#f&&this.#I(this.#d,{movementX:e,movementY:t})}#F(){if(this.#f=!1,this.#R(-1),this.#l){let{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=this.#l;this.#C(e,t,r,i),this.#l=null}}_stopResizingWithKeyboard(){this.#F(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#s}set isEditing(e){this.#s=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#o=!0;let r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#m||=new Map;let{action:r}=e,i=this.#m.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#m.delete(r),this.#m.size===0&&(this.#m=null)},n._telemetryTimeout),this.#m.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},gO=class extends In{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},wX=3285377520,Ts=4294901760,pl=65535,X4=class{constructor(e){this.h1=e?e&4294967295:wX,this.h2=e?e&4294967295:wX}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,T=e.length;b<T;b++){let M=e.charCodeAt(b);M<=255?t[r++]=M:(t[r++]=M>>>8,t[r++]=M&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let i=r>>2,o=r-i*4,s=new Uint32Array(t.buffer,0,i),a=0,l=0,d=this.h1,h=this.h2,f=3432918353,m=461845907,v=f&pl,_=m&pl;for(let b=0;b<i;b++)b&1?(a=s[b],a=a*f&Ts|a*v&pl,a=a<<15|a>>>17,a=a*m&Ts|a*_&pl,d^=a,d=d<<13|d>>>19,d=d*5+3864292196):(l=s[b],l=l*f&Ts|l*v&pl,l=l<<15|l>>>17,l=l*m&Ts|l*_&pl,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,o){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*f&Ts|a*v&pl,a=a<<15|a>>>17,a=a*m&Ts|a*_&pl,i&1?d^=a:h^=a}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ts|e*36045&pl,t=t*4283543511&Ts|((t<<16|e>>>16)*2950163797&Ts)>>>16,e^=t>>>1,e=e*444984403&Ts|e*60499&pl,t=t*3301882366&Ts|((t<<16|e>>>16)*3120437893&Ts)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},mO=Object.freeze({map:null,hash:"",transfer:void 0}),cw=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let r=this.#n.get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof In)return;this.onAnnotationEditor(null)}}setValue(e,t){let r=this.#n.get(e),i=!1;if(r!==void 0)for(let[o,s]of Object.entries(t))r[o]!==s&&(i=!0,r[o]=s);else i=!0,this.#n.set(e,t);i&&this.#r(),t instanceof In&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?EN(this.#n):null}setAll(e){for(let[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Z4(this)}get serializable(){if(this.#n.size===0)return mO;let e=new Map,t=new X4,r=[],i=Object.create(null),o=!1;for(let[s,a]of this.#n){let l=a instanceof In?a.serialize(!1,i):a;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),o||=!!l.bitmap)}if(o)for(let s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:mO}get editorStats(){let e=null,t=new Map;for(let r of this.#n.values()){if(!(r instanceof In))continue;let i=r.telemetryFinalData;if(!i)continue;let{type:o}=i;t.has(o)||t.set(o,Object.getPrototypeOf(r).constructor),e||=Object.create(null);let s=e[o]||=new Map;for(let[a,l]of Object.entries(i)){if(a==="type")continue;let d=s.get(a);d||(d=new Map,s.set(a,d));let h=d.get(l)??0;d.set(l,h+1)}}for(let[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof In)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},Z4=class extends cw{#e;constructor(e){super();let{map:t,hash:r,transfer:i}=e.serializable,o=structuredClone(t,i?{transfer:i}:null);this.#e={map:o,hash:r,transfer:i}}get print(){Kn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Jt(this,"modifiedIds",{ids:new Set,hash:""})}},vO=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(r){return x(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(si(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:i,src:o,style:s}=e,a=new FontFace(i,o,s);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(i),t?.(e)}catch{zt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Kn("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return x(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{yield r.loaded}catch(i){throw zt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(r=>{let i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return Jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Xi||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Jt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(si(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){let o=r.shift();setTimeout(o.callback,0)}}let{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(H,q){return H.charCodeAt(q)<<24|H.charCodeAt(q+1)<<16|H.charCodeAt(q+2)<<8|H.charCodeAt(q+3)&255}function i(H,q,Y,F){let A=H.substring(0,q),S=H.substring(q+Y);return A+F+S}let o,s,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),d=0;function h(H,q){if(++d>30){zt("Load test font never loaded."),q();return}if(l.font="30px "+H,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){q();return}setTimeout(h.bind(null,H,q))}let f=`lt${Date.now()}${this.loadTestFontId++}`,m=this._loadTestFont;m=i(m,976,f.length,f);let _=16,b=1482184792,T=r(m,_);for(o=0,s=f.length-3;o<s;o+=4)T=T-b+r(f,o)|0;o<f.length&&(T=T-b+r(f+"XXX",o)|0),m=i(m,_,4,o4e(T));let M=`url(data:font/opentype;base64,${btoa(m)});`,B=`@font-face {font-family:"${f}";src:${M}}`;this.insertRule(B);let j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(let H of[e.loadedName,f]){let q=this._document.createElement("span");q.textContent="Hi",q.style.fontFamily=H,j.append(q)}this._document.body.append(j),h(f,()=>{j.remove(),t.complete()})}},wO=class{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(let i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=`url(data:${this.mimetype};base64,${u4e(this.data)});`,t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(o){zt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(o,s){};let i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case Nc.BEZIER_CURVE_TO:{let[a,l,d,h,f,m]=r.slice(o,o+6);i.push(v=>v.bezierCurveTo(a,l,d,h,f,m)),o+=6}break;case Nc.MOVE_TO:{let[a,l]=r.slice(o,o+2);i.push(d=>d.moveTo(a,l)),o+=2}break;case Nc.LINE_TO:{let[a,l]=r.slice(o,o+2);i.push(d=>d.lineTo(a,l)),o+=2}break;case Nc.QUADRATIC_CURVE_TO:{let[a,l,d,h]=r.slice(o,o+4);i.push(f=>f.quadraticCurveTo(a,l,d,h)),o+=4}break;case Nc.RESTORE:i.push(a=>a.restore());break;case Nc.SAVE:i.push(a=>a.save());break;case Nc.SCALE:si(i.length===2,"Scale command is only valid at the third position.");break;case Nc.TRANSFORM:{let[a,l,d,h,f,m]=r.slice(o,o+6);i.push(v=>v.transform(a,l,d,h,f,m)),o+=6}break;case Nc.TRANSLATE:{let[a,l]=r.slice(o,o+2);i.push(d=>d.translate(a,l)),o+=2}break}return this.compiledGlyphs[t]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,d=i.length;l<d;l++)i[l](s)}}},Q4=class{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Kn("Abstract method `_createCanvas` called.")}},_O=class extends Q4{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let r=this._document.createElement("canvas");return r.width=e,r.height=t,r}},J4=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return x(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})})}_fetch(e){return x(this,null,function*(){Kn("Abstract method `_fetch` called.")})}},eE=class extends J4{_fetch(e){return x(this,null,function*(){let t=yield AE(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):IE(t)})}},tE=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,o){return"none"}destroy(e=!1){}},yO=class extends tE{#e;#t;#n;#r;#o;#i;#l=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#o=t}get#c(){return this.#t||=new Map}get#d(){return this.#i||=new Map}get#a(){if(!this.#n){let e=this.#o.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let r=this.#o.createElementNS(Fc,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#n=this.#o.createElementNS(Fc,"defs"),e.append(r),r.append(this.#n),this.#o.body.append(e)}return this.#n}#u(e){if(e.length===1){let l=e[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=l[f]/255;let h=d.join(",");return[h,h,h]}let[t,r,i]=e,o=new Array(256),s=new Array(256),a=new Array(256);for(let l=0;l<256;l++)o[l]=t[l]/255,s[l]=r[l]/255,a[l]=i[l]/255;return[o.join(","),s.join(","),a.join(",")]}#s(e){if(this.#e===void 0){this.#e="";let t=this.#o.URL;t!==this.#o.baseURI&&(TE(t)?zt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#c.get(e);if(t)return t;let[r,i,o]=this.#u(e),s=e.length===1?r:`${r}${i}${o}`;if(t=this.#c.get(s),t)return this.#c.set(e,t),t;let a=`g_${this.#r}_transfer_map_${this.#l++}`,l=this.#s(a);this.#c.set(e,l),this.#c.set(s,l);let d=this.#p(a);return this.#v(r,i,o,d),l}addHCMFilter(e,t){let r=`${e}-${t}`,i="base",o=this.#d.get(i);if(o?.key===r||(o?(o.filter?.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},this.#d.set(i,o)),!e||!t))return o.url;let s=this.#w(e);e=Ke.makeHexColor(...s);let a=this.#w(t);if(t=Ke.makeHexColor(...a),this.#a.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;let l=new Array(256);for(let v=0;v<=255;v++){let _=v/255;l[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}let d=l.join(","),h=`g_${this.#r}_hcm_filter`,f=o.filter=this.#p(h);this.#v(d,d,d,f),this.#f(f);let m=(v,_)=>{let b=s[v]/255,T=a[v]/255,M=new Array(_+1);for(let B=0;B<=_;B++)M[B]=b+B/_*(T-b);return M.join(",")};return this.#v(m(0,5),m(1,5),m(2,5),f),o.url=this.#s(h),o.url}addAlphaFilter(e){let t=this.#c.get(e);if(t)return t;let[r]=this.#u([e]),i=`alpha_${r}`;if(t=this.#c.get(i),t)return this.#c.set(e,t),t;let o=`g_${this.#r}_alpha_map_${this.#l++}`,s=this.#s(o);this.#c.set(e,s),this.#c.set(i,s);let a=this.#p(o);return this.#m(r,a),s}addLuminosityFilter(e){let t=this.#c.get(e||"luminosity");if(t)return t;let r,i;if(e?([r]=this.#u([e]),i=`luminosity_${r}`):i="luminosity",t=this.#c.get(i),t)return this.#c.set(e,t),t;let o=`g_${this.#r}_luminosity_map_${this.#l++}`,s=this.#s(o);this.#c.set(e,s),this.#c.set(i,s);let a=this.#p(o);return this.#h(a),e&&this.#m(r,a),s}addHighlightHCMFilter(e,t,r,i,o){let s=`${t}-${r}-${i}-${o}`,a=this.#d.get(e);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#d.set(e,a)),!t||!r))return a.url;let[l,d]=[t,r].map(this.#w.bind(this)),h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[i,o].map(this.#w.bind(this));f<h&&([h,f,m,v]=[f,h,v,m]),this.#a.style.color="";let _=(M,B,j)=>{let H=new Array(256),q=(f-h)/j,Y=M/255,F=(B-M)/(255*j),A=0;for(let S=0;S<=j;S++){let L=Math.round(h+S*q),U=Y+S*F;for(let K=A;K<=L;K++)H[K]=U;A=L+1}for(let S=A;S<256;S++)H[S]=H[A-1];return H.join(",")},b=`g_${this.#r}_hcm_${e}_filter`,T=a.filter=this.#p(b);return this.#f(T),this.#v(_(m[0],v[0],5),_(m[1],v[1],5),_(m[2],v[2],5),T),a.url=this.#s(b),a.url}destroy(e=!1){e&&this.#d.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#h(e){let t=this.#o.createElementNS(Fc,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#f(e){let t=this.#o.createElementNS(Fc,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){let t=this.#o.createElementNS(Fc,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#a.append(t),t}#g(e,t,r){let i=this.#o.createElementNS(Fc,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#v(e,t,r,i){let o=this.#o.createElementNS(Fc,"feComponentTransfer");i.append(o),this.#g(o,"feFuncR",e),this.#g(o,"feFuncG",t),this.#g(o,"feFuncB",r)}#m(e,t){let r=this.#o.createElementNS(Fc,"feComponentTransfer");t.append(r),this.#g(r,"feFuncA",e)}#w(e){return this.#a.style.color=e,IN(getComputedStyle(this.#a).getPropertyValue("color"))}},nE=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return x(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let r=`${this.baseUrl}${e}`;return this._fetch(r).catch(i=>{throw new Error(`Unable to load font data at: ${r}`)})})}_fetch(e){return x(this,null,function*(){Kn("Abstract method `_fetch` called.")})}},rE=class extends nE{_fetch(e){return x(this,null,function*(){let t=yield AE(e,"arraybuffer");return new Uint8Array(t)})}};Xi&&(U4=Promise.withResolvers(),z4=null,x(null,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),r=yield import("./chunk-ALIQTIYY.js"),i=yield import("./chunk-NYZOWURK.js"),o,s;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:o,path2d:s}))}).then(e=>{z4=e,U4.resolve()},e=>{zt(`loadPackages: ${e}`),z4=new Map,U4.resolve()}));var U4,z4,fl=class{static get promise(){return U4.promise}static get(e){return z4?.get(e)}};function RX(n){return x(this,null,function*(){let t=yield fl.get("fs").promises.readFile(n);return new Uint8Array(t)})}var kO=class extends tE{},bO=class extends Q4{_createCanvas(e,t){return fl.get("canvas").createCanvas(e,t)}},xO=class extends J4{_fetch(e){return x(this,null,function*(){return RX(e)})}},CO=class extends nE{_fetch(e){return x(this,null,function*(){return RX(e)})}},_o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function EO(n,e){if(!e)return;let t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}var dw=class{getPattern(){Kn("Abstract method `getPattern` called.")}},MO=class extends dw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let o;if(i===_o.STROKE||i===_o.FILL){let s=t.current.getClippedPathBoundingBox(i,dr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,d=t.cachedCanvases.getCanvas("pattern",a,l),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),r=Ke.transform(r,[1,0,0,1,s[0],s[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),EO(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),o=e.createPattern(d.canvas,"no-repeat");let f=new DOMMatrix(r);o.setTransform(f)}else EO(e,this._bbox),o=this._createGradient(e);return o}};function iO(n,e,t,r,i,o,s,a){let l=e.coords,d=e.colors,h=n.data,f=n.width*4,m;l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=o,o=s,s=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=s,s=a,a=m),l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=o,o=s,s=m);let v=(l[t]+e.offsetX)*e.scaleX,_=(l[t+1]+e.offsetY)*e.scaleY,b=(l[r]+e.offsetX)*e.scaleX,T=(l[r+1]+e.offsetY)*e.scaleY,M=(l[i]+e.offsetX)*e.scaleX,B=(l[i+1]+e.offsetY)*e.scaleY;if(_>=B)return;let j=d[o],H=d[o+1],q=d[o+2],Y=d[s],F=d[s+1],A=d[s+2],S=d[a],L=d[a+1],U=d[a+2],K=Math.round(_),z=Math.round(B),rt,ht,Mt,De,ye,Vn,Qi,zr;for(let an=K;an<=z;an++){if(an<T){let Qe=an<_?0:(_-an)/(_-T);rt=v-(v-b)*Qe,ht=j-(j-Y)*Qe,Mt=H-(H-F)*Qe,De=q-(q-A)*Qe}else{let Qe;an>B?Qe=1:T===B?Qe=0:Qe=(T-an)/(T-B),rt=b-(b-M)*Qe,ht=Y-(Y-S)*Qe,Mt=F-(F-L)*Qe,De=A-(A-U)*Qe}let ze;an<_?ze=0:an>B?ze=1:ze=(_-an)/(_-B),ye=v-(v-M)*ze,Vn=j-(j-S)*ze,Qi=H-(H-L)*ze,zr=q-(q-U)*ze;let Pn=Math.round(Math.min(rt,ye)),ai=Math.round(Math.max(rt,ye)),rr=f*an+Pn*4;for(let Qe=Pn;Qe<=ai;Qe++)ze=(rt-Qe)/(rt-ye),ze<0?ze=0:ze>1&&(ze=1),h[rr++]=ht-(ht-Vn)*ze|0,h[rr++]=Mt-(Mt-Qi)*ze|0,h[rr++]=De-(De-zr)*ze|0,h[rr++]=255}}function v4e(n,e,t){let r=e.coords,i=e.colors,o,s;switch(e.type){case"lattice":let a=e.verticesPerRow,l=Math.floor(r.length/a)-1,d=a-1;for(o=0;o<l;o++){let h=o*a;for(let f=0;f<d;f++,h++)iO(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),iO(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)iO(n,t,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}var SO=class extends dw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),v=d/f,_=h/m,b={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/v,scaleY:1/_},T=f+4,M=m+4,B=r.getCanvas("mesh",T,M),j=B.context,H=j.createImageData(f,m);if(t){let Y=H.data;for(let F=0,A=Y.length;F<A;F+=4)Y[F]=t[0],Y[F+1]=t[1],Y[F+2]=t[2],Y[F+3]=255}for(let Y of this._figures)v4e(H,Y,b);return j.putImageData(H,2,2),{canvas:B.canvas,offsetX:a-2*v,offsetY:l-2*_,scaleX:v,scaleY:_}}getPattern(e,t,r,i){EO(e,this._bbox);let o;if(i===_o.SHADING)o=Ke.singularValueDecompose2dScale(dr(e));else if(o=Ke.singularValueDecompose2dScale(t.baseTransform),this.matrix){let a=Ke.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}let s=this._createMeshCanvas(o,i===_o.SHADING?null:this._background,t.cachedCanvases);return i!==_o.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}},IO=class extends dw{getPattern(){return"hotpink"}};function w4e(n){switch(n[0]){case"RadialAxial":return new MO(n);case"Mesh":return new SO(n);case"Dummy":return new IO}throw new Error(`Unknown IR type: ${n[0]}`)}var _X={COLORED:1,UNCOLORED:2},_4e=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,r,i,o,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=r,this.ctx=i,this.canvasGraphicsFactory=o,this.baseTransform=s}createPatternCanvas(t){let{bbox:r,operatorList:i,paintType:o,tilingType:s,color:a,canvasGraphicsFactory:l}=this,{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),SE("TilingType: "+s);let f=r[0],m=r[1],v=r[2],_=r[3],b=v-f,T=_-m,M=Ke.singularValueDecompose2dScale(this.matrix),B=Ke.singularValueDecompose2dScale(this.baseTransform),j=M[0]*B[0],H=M[1]*B[1],q=b,Y=T,F=!1,A=!1,S=Math.ceil(d*j),L=Math.ceil(h*H),U=Math.ceil(b*j),K=Math.ceil(T*H);S>=U?q=d:F=!0,L>=K?Y=h:A=!0;let z=this.getSizeAndScale(q,this.ctx.canvas.width,j),rt=this.getSizeAndScale(Y,this.ctx.canvas.height,H),ht=t.cachedCanvases.getCanvas("pattern",z.size,rt.size),Mt=ht.context,De=l.createCanvasGraphics(Mt);if(De.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(De,o,a),Mt.translate(-z.scale*f,-rt.scale*m),De.transform(z.scale,0,0,rt.scale,0,0),Mt.save(),this.clipBbox(De,f,m,v,_),De.baseTransform=dr(De.ctx),De.executeOperatorList(i),De.endDrawing(),Mt.restore(),F||A){let ye=ht.canvas;F&&(q=d),A&&(Y=h);let Vn=this.getSizeAndScale(q,this.ctx.canvas.width,j),Qi=this.getSizeAndScale(Y,this.ctx.canvas.height,H),zr=Vn.size,an=Qi.size,ze=t.cachedCanvases.getCanvas("pattern-workaround",zr,an),Pn=ze.context,ai=F?Math.floor(b/d):0,rr=A?Math.floor(T/h):0;for(let Qe=0;Qe<=ai;Qe++)for(let Ni=0;Ni<=rr;Ni++)Pn.drawImage(ye,zr*Qe,an*Ni,zr,an,0,0,zr,an);return{canvas:ze.canvas,scaleX:Vn.scale,scaleY:Qi.scale,offsetX:f,offsetY:m}}return{canvas:ht.canvas,scaleX:z.scale,scaleY:rt.scale,offsetX:f,offsetY:m}}getSizeAndScale(t,r,i){let o=Math.max(n.MAX_PATTERN_SIZE,r),s=Math.ceil(t*i);return s>=o?s=o:i=s/t,{scale:i,size:s}}clipBbox(t,r,i,o,s){let a=o-r,l=s-i;t.ctx.rect(r,i,a,l),t.current.updateRectMinMax(dr(t.ctx),[r,i,o,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,r,i){let o=t.ctx,s=t.current;switch(r){case _X.COLORED:let a=this.ctx;o.fillStyle=a.fillStyle,o.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case _X.UNCOLORED:let l=Ke.makeHexColor(i[0],i[1],i[2]);o.fillStyle=l,o.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new lO(`Unsupported paint type: ${r}`)}}getPattern(t,r,i,o){let s=i;o!==_o.SHADING&&(s=Ke.transform(s,r.baseTransform),this.matrix&&(s=Ke.transform(s,this.matrix)));let a=this.createPatternCanvas(r),l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let d=t.createPattern(a.canvas,"repeat");return d.setTransform(l),d}}return n})();function y4e({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){let a=Oi.isLittleEndian?4278190080:255,[l,d]=s?[o,a]:[a,o],h=r>>3,f=r&7,m=n.length;t=new Uint32Array(t.buffer);let v=0;for(let _=0;_<i;_++){for(let T=e+h;e<T;e++){let M=e<m?n[e]:255;t[v++]=M&128?d:l,t[v++]=M&64?d:l,t[v++]=M&32?d:l,t[v++]=M&16?d:l,t[v++]=M&8?d:l,t[v++]=M&4?d:l,t[v++]=M&2?d:l,t[v++]=M&1?d:l}if(f===0)continue;let b=e<m?n[e++]:255;for(let T=0;T<f;T++)t[v++]=b&1<<7-T?d:l}return{srcPos:e,destPos:v}}var yX=16,kX=100,k4e=15,bX=10,xX=1e3,Bo=16;function b4e(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},n.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,o,s,a){e.bezierCurveTo(t,r,i,o,s,a),this.__originalBezierCurveTo(t,r,i,o,s,a)},n.rect=function(t,r,i,o){e.rect(t,r,i,o),this.__originalRect(t,r,i,o)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var AO=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function N4(n,e,t,r,i,o,s,a,l,d){let[h,f,m,v,_,b]=dr(n);if(f===0&&m===0){let B=s*h+_,j=Math.round(B),H=a*v+b,q=Math.round(H),Y=(s+l)*h+_,F=Math.abs(Math.round(Y)-j)||1,A=(a+d)*v+b,S=Math.abs(Math.round(A)-q)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(v),j,q),n.drawImage(e,t,r,i,o,0,0,F,S),n.setTransform(h,f,m,v,_,b),[F,S]}if(h===0&&v===0){let B=a*m+_,j=Math.round(B),H=s*f+b,q=Math.round(H),Y=(a+d)*m+_,F=Math.abs(Math.round(Y)-j)||1,A=(s+l)*f+b,S=Math.abs(Math.round(A)-q)||1;return n.setTransform(0,Math.sign(f),Math.sign(m),0,j,q),n.drawImage(e,t,r,i,o,0,0,S,F),n.setTransform(h,f,m,v,_,b),[S,F]}n.drawImage(e,t,r,i,o,s,a,l,d);let T=Math.hypot(h,f),M=Math.hypot(m,v);return[T*l,M*d]}function x4e(n){let{width:e,height:t}=n;if(e>xX||t>xX)return null;let r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1,s=new Uint8Array(o*(t+1)),a,l,d,h=e+7&-8,f=new Uint8Array(h*t),m=0;for(let M of n.data){let B=128;for(;B>0;)f[m++]=M&B?0:255,B>>=1}let v=0;for(m=0,f[m]!==0&&(s[0]=1,++v),l=1;l<e;l++)f[m]!==f[m+1]&&(s[l]=f[m]?2:1,++v),m++;for(f[m]!==0&&(s[l]=2,++v),a=1;a<t;a++){m=a*h,d=a*o,f[m-h]!==f[m]&&(s[d]=f[m]?1:8,++v);let M=(f[m]?4:0)+(f[m-h]?8:0);for(l=1;l<e;l++)M=(M>>2)+(f[m+1]?4:0)+(f[m-h+1]?8:0),i[M]&&(s[d+l]=i[M],++v),m++;if(f[m-h]!==f[m]&&(s[d+l]=f[m]?2:4,++v),v>r)return null}for(m=h*(t-1),d=a*o,f[m]!==0&&(s[d]=8,++v),l=1;l<e;l++)f[m]!==f[m+1]&&(s[d+l]=f[m]?4:8,++v),m++;if(f[m]!==0&&(s[d+l]=4,++v),v>r)return null;let _=new Int32Array([0,o,-1,0,-o,0,0,0,1]),b=new Path2D;for(a=0;v&&a<=t;a++){let M=a*o,B=M+e;for(;M<B&&!s[M];)M++;if(M===B)continue;b.moveTo(M%o,a);let j=M,H=s[M];do{let q=_[H];do M+=q;while(!s[M]);let Y=s[M];Y!==5&&Y!==10?(H=Y,s[M]=0):(H=Y&51*H>>4,s[M]&=H>>2|H<<2),b.lineTo(M%o,M/o|0),s[M]||--v}while(j!==M);--a}return f=null,s=null,function(M){M.save(),M.scale(1/e,-1/t),M.translate(0,-t),M.fill(b),M.beginPath(),M.restore()}}var iE=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=TX,this.textMatrixScale=1,this.fontMatrix=aO,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Yi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Ke.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){let r=Ke.applyTransform(t,e),i=Ke.applyTransform(t.slice(2),e),o=Ke.applyTransform([t[0],t[3]],e),s=Ke.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,t){Ke.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,o,s,a,l,d,h){let f=Ke.bezierBoundingBox(t,r,i,o,s,a,l,d,h);h||this.updateRectMinMax(e,f)}getPathBoundingBox(e=_o.FILL,t=null){let r=[this.minX,this.minY,this.maxX,this.maxY];if(e===_o.STROKE){t||Kn("Stroke bounding box must include transform.");let i=Ke.singularValueDecompose2dScale(t),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){let e=Ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=_o.FILL,t=null){return Ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function CX(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,r=e.width,i=t%Bo,o=(t-i)/Bo,s=i===0?o:o+1,a=n.createImageData(r,Bo),l=0,d,h=e.data,f=a.data,m,v,_,b;if(e.kind===H4.GRAYSCALE_1BPP){let T=h.byteLength,M=new Uint32Array(f.buffer,0,f.byteLength>>2),B=M.length,j=r+7>>3,H=4294967295,q=Oi.isLittleEndian?4278190080:255;for(m=0;m<s;m++){for(_=m<o?Bo:i,d=0,v=0;v<_;v++){let Y=T-l,F=0,A=Y>j?r:Y*8-7,S=A&-8,L=0,U=0;for(;F<S;F+=8)U=h[l++],M[d++]=U&128?H:q,M[d++]=U&64?H:q,M[d++]=U&32?H:q,M[d++]=U&16?H:q,M[d++]=U&8?H:q,M[d++]=U&4?H:q,M[d++]=U&2?H:q,M[d++]=U&1?H:q;for(;F<A;F++)L===0&&(U=h[l++],L=128),M[d++]=U&L?H:q,L>>=1}for(;d<B;)M[d++]=0;n.putImageData(a,0,m*Bo)}}else if(e.kind===H4.RGBA_32BPP){for(v=0,b=r*Bo*4,m=0;m<o;m++)f.set(h.subarray(l,l+b)),l+=b,n.putImageData(a,0,v),v+=Bo;m<s&&(b=r*i*4,f.set(h.subarray(l,l+b)),n.putImageData(a,0,v))}else if(e.kind===H4.RGB_24BPP)for(_=Bo,b=r*_,m=0;m<s;m++){for(m>=o&&(_=i,b=r*_),d=0,v=b;v--;)f[d++]=h[l++],f[d++]=h[l++],f[d++]=h[l++],f[d++]=255;n.putImageData(a,0,m*Bo)}else throw new Error(`bad image kind: ${e.kind}`)}function EX(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,r=e.width,i=t%Bo,o=(t-i)/Bo,s=i===0?o:o+1,a=n.createImageData(r,Bo),l=0,d=e.data,h=a.data;for(let f=0;f<s;f++){let m=f<o?Bo:i;({srcPos:l}=y4e({src:d,srcPos:l,dest:h,width:r,height:m,nonBlackColor:0})),n.putImageData(a,0,f*Bo)}}function Jv(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function L4(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Xi){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function MX(n,e){if(e)return!0;let t=Ke.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let r=Math.fround((globalThis.devicePixelRatio||1)*_u.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}var C4e=["butt","round","square"],E4e=["miter","round","bevel"],M4e={},SX={},K0=class n{constructor(e,t,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,d){this.ctx=e,this.current=new iE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new AO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){let o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){let l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dr(this.compositeCtx))}this.ctx.save(),L4(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dr(this.ctx)}executeOperatorList(e,t,r,i){let o=e.argsArray,s=e.fnArray,a=t||0,l=o.length;if(l===a)return a;let d=l-a>bX&&typeof r=="function",h=d?Date.now()+k4e:0,f=0,m=this.commonObjs,v=this.objs,_;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(_=s[a],_!==ha.dependency)this[_].apply(this,o[a]);else for(let b of o[a]){let T=b.startsWith("g_")?m:v;if(!T.has(b))return T.get(b,r),a}if(a++,a===l)return a;if(d&&++f>bX){if(Date.now()>h)return r(),a;f=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let r=e.width??e.displayWidth,i=e.height??e.displayHeight,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,d="prescale1",h,f;for(;o>2&&a>1||s>2&&l>1;){let m=a,v=l;o>2&&a>1&&(m=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/m),s>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/v),h=this.cachedCanvases.getCanvas(d,m,v),f=h.context,f.clearRect(0,0,m,v),f.drawImage(e,0,0,a,l,0,0,m,v),e=h.canvas,a=m,l=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){let t=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=dr(t),l,d,h,f;if((e.bitmap||e.data)&&e.count>1){let A=e.bitmap||e.data.buffer;d=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(A),l||(l=new Map,this._cachedBitmapsMap.set(A,l));let S=l.get(d);if(S&&!s){let L=Math.round(Math.min(a[0],a[2])+a[4]),U=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:S,offsetX:L,offsetY:U}}h=S}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),EX(f.context,e));let m=Ke.transform(a,[1/r,0,0,-1/i,0,0]);m=Ke.transform(m,[1,0,0,1,0,-i]);let[v,_,b,T]=Ke.getAxialAlignedBoundingBox([0,0,r,i],m),M=Math.round(b-v)||1,B=Math.round(T-_)||1,j=this.cachedCanvases.getCanvas("fillCanvas",M,B),H=j.context,q=v,Y=_;H.translate(-q,-Y),H.transform(...m),h||(h=this._scaleImage(f.canvas,Lc(H)),h=h.img,l&&s&&l.set(d,h)),H.imageSmoothingEnabled=MX(dr(H),e.interpolate),N4(H,h,0,0,h.width,h.height,0,0,r,i),H.globalCompositeOperation="source-in";let F=Ke.transform(Lc(H),[1,0,0,1,-q,-Y]);return H.fillStyle=s?o.getPattern(t,this,F,_o.FILL):o,H.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(d,j.canvas)),{canvas:j.canvas,offsetX:Math.round(q),offsetY:Math.round(Y)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=C4e[e]}setLineJoin(e){this.ctx.lineJoin=E4e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;let o=this.ctx;o.setTransform(...dr(this.suspendedCtx)),Jv(this.suspendedCtx,o),b4e(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){let o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,o,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,o,s,a,l,d,h,f){let m=e.canvas,v=l-h,_=d-f;if(s){let T=Ke.makeHexColor(...s);if(v<0||_<0||v+r>m.width||_+i>m.height){let M=this.cachedCanvases.getCanvas("maskExtension",r,i),B=M.context;B.drawImage(m,-v,-_),B.globalCompositeOperation="destination-atop",B.fillStyle=T,B.fillRect(0,0,r,i),B.globalCompositeOperation="source-over",m=M.canvas,v=_=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let M=new Path2D;M.rect(v,_,r,i),e.clip(M),e.globalCompositeOperation="destination-atop",e.fillStyle=T,e.fillRect(v,_,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));let b=new Path2D;b.rect(l,d,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,v,_,r,i,l,d,r,i),t.restore()}save(){this.inSMaskMode?(Jv(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Jv(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,o,s){this.ctx.transform(e,t,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let i=this.ctx,o=this.current,s=o.x,a=o.y,l,d,h=dr(i),f=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,m=f?r.slice(0):null;for(let v=0,_=0,b=e.length;v<b;v++)switch(e[v]|0){case ha.rectangle:s=t[_++],a=t[_++];let T=t[_++],M=t[_++],B=s+T,j=a+M;i.moveTo(s,a),T===0||M===0?i.lineTo(B,j):(i.lineTo(B,a),i.lineTo(B,j),i.lineTo(s,j)),f||o.updateRectMinMax(h,[s,a,B,j]),i.closePath();break;case ha.moveTo:s=t[_++],a=t[_++],i.moveTo(s,a),f||o.updatePathMinMax(h,s,a);break;case ha.lineTo:s=t[_++],a=t[_++],i.lineTo(s,a),f||o.updatePathMinMax(h,s,a);break;case ha.curveTo:l=s,d=a,s=t[_+4],a=t[_+5],i.bezierCurveTo(t[_],t[_+1],t[_+2],t[_+3],s,a),o.updateCurvePathMinMax(h,l,d,t[_],t[_+1],t[_+2],t[_+3],s,a,m),_+=6;break;case ha.curveTo2:l=s,d=a,i.bezierCurveTo(s,a,t[_],t[_+1],t[_+2],t[_+3]),o.updateCurvePathMinMax(h,l,d,s,a,t[_],t[_+1],t[_+2],t[_+3],m),s=t[_+2],a=t[_+3],_+=4;break;case ha.curveTo3:l=s,d=a,s=t[_+2],a=t[_+3],i.bezierCurveTo(t[_],t[_+1],s,a,s,a),o.updateCurvePathMinMax(h,l,d,t[_],t[_+1],s,a,s,a,m),_+=4;break;case ha.closePath:i.closePath();break}f&&o.updateScalingPathMinMax(h,m),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&r?.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,Lc(t),_o.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,o=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Lc(t),_o.FILL),o=!0);let s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=M4e}eoClip(){this.pendingClip=SX}beginText(){this.current.textMatrix=TX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||aO,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;let o=r.loadedName||"sans-serif",s=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`,a="normal";r.black?a="900":r.bold&&(a="bold");let l=r.italic?"italic":"normal",d=t;t<yX?d=yX:t>kX&&(d=kX),this.current.fontSizeScale=t/d,this.ctx.font=`${l} ${a} ${d}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,o,s){this.current.textMatrix=[e,t,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){let o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,d=s.fontSize/s.fontSizeScale,h=l&Yi.FILL_STROKE_MASK,f=!!(l&Yi.ADD_TO_PATH_FLAG),m=s.patternFill&&!a.missingFile,v;(a.disableFontFace||f||m)&&(v=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||m?(o.save(),o.translate(t,r),o.beginPath(),v(o,d),i&&o.setTransform(...i),(h===Yi.FILL||h===Yi.FILL_STROKE)&&o.fill(),(h===Yi.STROKE||h===Yi.FILL_STROKE)&&o.stroke(),o.restore()):((h===Yi.FILL||h===Yi.FILL_STROKE)&&o.fillText(e,t,r),(h===Yi.STROKE||h===Yi.FILL_STROKE)&&o.strokeText(e,t,r)),f&&(this.pendingTextPaths||=[]).push({transform:dr(o),x:t,y:r,fontSize:d,addToPath:v})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Jt(this,"isFontSubpixelAAEnabled",r)}showText(e){let t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);let i=t.fontSize;if(i===0)return;let o=this.ctx,s=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,f=e.length,m=r.vertical,v=m?1:-1,_=r.defaultVMetrics,b=i*t.fontMatrix[0],T=t.textRenderingMode===Yi.FILL&&!r.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),d>0?o.scale(h,-1):o.scale(h,1);let M;if(t.patternFill){o.save();let Y=t.fillColor.getPattern(o,this,Lc(o),_o.FILL);M=dr(o),o.restore(),o.fillStyle=Y}let B=t.lineWidth,j=t.textMatrixScale;if(j===0||B===0){let Y=t.textRenderingMode&Yi.FILL_STROKE_MASK;(Y===Yi.STROKE||Y===Yi.FILL_STROKE)&&(B=this.getSinglePixelWidth())}else B/=j;if(s!==1&&(o.scale(s,s),B/=s),o.lineWidth=B,r.isInvalidPDFjsFont){let Y=[],F=0;for(let A of e)Y.push(A.unicode),F+=A.width;o.fillText(Y.join(""),0,0),t.x+=F*b*h,o.restore(),this.compose();return}let H=0,q;for(q=0;q<f;++q){let Y=e[q];if(typeof Y=="number"){H+=v*Y*i/1e3;continue}let F=!1,A=(Y.isSpace?l:0)+a,S=Y.fontChar,L=Y.accent,U,K,z=Y.width;if(m){let ht=Y.vmetric||_,Mt=-(Y.vmetric?ht[1]:z*.5)*b,De=ht[2]*b;z=ht?-ht[0]:z,U=Mt/s,K=(H+De)/s}else U=H/s,K=0;if(r.remeasure&&z>0){let ht=o.measureText(S).width*1e3/i*s;if(z<ht&&this.isFontSubpixelAAEnabled){let Mt=z/ht;F=!0,o.save(),o.scale(Mt,1),U/=Mt}else z!==ht&&(U+=(z-ht)/2e3*i/s)}if(this.contentVisible&&(Y.isInFont||r.missingFile)){if(T&&!L)o.fillText(S,U,K);else if(this.paintChar(S,U,K,M),L){let ht=U+i*L.offset.x/s,Mt=K-i*L.offset.y/s;this.paintChar(L.fontChar,ht,Mt,M)}}let rt=m?z*b-A*d:z*b+A*d;H+=rt,F&&o.restore()}m?t.y-=H:t.x+=H*h,o.restore(),this.compose()}showType3Text(e){let t=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,d=r.wordSpacing,h=r.textHScale*s,f=r.fontMatrix||aO,m=e.length,v=r.textRenderingMode===Yi.INVISIBLE,_,b,T,M;if(!(v||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,s),_=0;_<m;++_){if(b=e[_],typeof b=="number"){M=a*b*o/1e3,this.ctx.translate(M,0),r.x+=M*h;continue}let B=(b.isSpace?d:0)+l,j=i.charProcOperatorList[b.operatorListId];if(!j){zt(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),t.scale(o,o),t.transform(...f),this.executeOperatorList(j),this.restore()),T=Ke.applyTransform([b.width,0],f)[0]*o+B,t.translate(T,0),r.x+=T*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let r=e[1],i=this.baseTransform||dr(this.ctx),o={createCanvasGraphics:s=>new n(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new _4e(e,r,this.ctx,o,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=Ke.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=Ke.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=w4e(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Lc(t),_o.SHADING);let i=Lc(t);if(i){let{width:o,height:s}=t.canvas,[a,l,d,h]=Ke.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,d-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Kn("Should not call beginInlineImage")}beginImageData(){Kn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dr(this.ctx),t)){let r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(dr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||SE("TODO: Support non-isolated groups."),e.knockout&&zt("Knockout groups not supported.");let r=dr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ke.getAxialAlignedBoundingBox(e.bbox,dr(t)),o=[0,0,t.canvas.width,t.canvas.height];i=Ke.intersect(i,o)||[0,0,0,0];let s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),d=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);let f=this.cachedCanvases.getCanvas(h,l,d),m=f.context;m.translate(-s,-a),m.transform(...r),e.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),Jv(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let i=dr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);let o=Ke.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,o){if(this.#e(),L4(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let s=t[2]-t[0],a=t[3]-t[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=a;let[l,d]=Ke.singularValueDecompose2dScale(dr(this.ctx)),{viewportScale:h}=this,f=Math.ceil(s*this.outputScaleX*h),m=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,m);let{canvas:v,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(l,0,0,-d,0,a*d),L4(this.ctx)}else L4(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],s,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new iE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=x4e(e)),i.compiled)){i.compiled(r);return}let o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);let a=this.ctx;a.save();let l=dr(a);a.transform(t,r,i,o,0,0);let d=this._createMaskCanvas(e);a.setTransform(1,0,0,1,d.offsetX-l[4],d.offsetY-l[5]);for(let h=0,f=s.length;h<f;h+=2){let m=Ke.transform(l,[t,r,i,o,s[h],s[h+1]]),[v,_]=Ke.applyTransform([0,0],m);a.drawImage(d.canvas,v,_)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(let o of e){let{data:s,width:a,height:l,transform:d}=o,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),f=h.context;f.save();let m=this.getObject(s,o);EX(f,m),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,Lc(t),_o.FILL):r,f.fillRect(0,0,a,l),f.restore(),t.save(),t.transform(...d),t.scale(1,-1),N4(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;let o=this.getObject(e);if(!o){zt("Dependent image isn't ready yet");return}let s=o.width,a=o.height,l=[];for(let d=0,h=i.length;d<h;d+=2)l.push({transform:[t,0,0,r,i[d],i[d+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,r=e.height,i=this.ctx;if(this.save(),!Xi){let{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{let l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;CX(l,e),o=this.applyTransferMapsToCanvas(l)}let s=this._scaleImage(o,Lc(i));i.imageSmoothingEnabled=MX(dr(i),e.interpolate),N4(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let r=this.ctx,i;if(e.bitmap)i=e.bitmap;else{let o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;CX(l,e),i=this.applyTransferMapsToCanvas(l)}for(let o of t)r.save(),r.transform(...o.transform),r.scale(1,-1),N4(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let r=this.ctx;this.pendingClip&&(t||(this.pendingClip===SX?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=dr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:r,c:i,d:o}=this.ctx.getTransform(),s,a;if(r===0&&i===0){let l=Math.abs(t),d=Math.abs(o);if(l===d)if(e===0)s=a=1/l;else{let h=l*e;s=a=h<1?1/h:1}else if(e===0)s=1/l,a=1/d;else{let h=l*e,f=d*e;s=h<1?1/h:1,a=f<1?1/f:1}}else{let l=Math.abs(t*o-r*i),d=Math.hypot(t,r),h=Math.hypot(i,o);if(e===0)s=h/l,a=d/l;else{let f=e*l;s=h>f?h/f:1,a=d>f?d/f:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&o===1){t.stroke();return}let s=t.getLineDash();if(e&&t.save(),t.scale(i,o),s.length>0){let a=Math.max(i,o);t.setLineDash(s.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in ha)K0.prototype[n]!==void 0&&(K0.prototype[ha[n]]=K0.prototype[n]);var Mp=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},F4={UNKNOWN:0,DATA:1,ERROR:2},Ur={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function is(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Kn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new jc(n.message);case"MissingPDFException":return new Vc(n.message);case"PasswordException":return new rw(n.message,n.code);case"UnexpectedResponseException":return new Q0(n.message,n.status);case"UnknownErrorException":return new iw(n.message,n.details);default:return new iw(n.message,n.toString())}}var xp=class{#e=new AbortController;constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){let r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===F4.DATA)i.resolve(e.data);else if(e.callback===F4.ERROR)i.reject(is(e.reason));else throw new Error("Unexpected callback case");return}let t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){let r=this.sourceName,i=e.sourceName,o=this.comObj;new Promise(function(s){s(t(e.data))}).then(function(s){o.postMessage({sourceName:r,targetName:i,callback:F4.DATA,callbackId:e.callbackId,data:s})},function(s){o.postMessage({sourceName:r,targetName:i,callback:F4.ERROR,callbackId:e.callbackId,reason:is(s)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){let r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){let i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,t,r,i){let o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{let h=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{let h=Promise.withResolvers();return this.streamControllers[o].pullCall=h,l.postMessage({sourceName:s,targetName:a,stream:Ur.PULL,streamId:o,desiredSize:d.desiredSize}),h.promise},cancel:d=>{si(d instanceof Error,"cancel must have a valid reason");let h=Promise.withResolvers();return this.streamControllers[o].cancelCall=h,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:Ur.CANCEL,streamId:o,reason:is(d)}),h.promise}},r)}#n(e){let t=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(d,h=1,f){if(this.isCancelled)return;let m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:Ur.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Ur.CLOSE,streamId:t}),delete s.streamSinks[t])},error(d){si(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Ur.ERROR,streamId:t,reason:is(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(d){d(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Ur.START_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:r,targetName:i,stream:Ur.START_COMPLETE,streamId:t,reason:is(d)})})}#r(e){let t=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ur.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(is(e.reason));break;case Ur.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(is(e.reason));break;case Ur.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:Ur.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Ur.PULL_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Ur.PULL_COMPLETE,streamId:t,reason:is(l)})});break;case Ur.ENQUEUE:if(si(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Ur.CLOSE:if(si(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#o(s,t);break;case Ur.ERROR:si(s,"error should have stream controller"),s.controller.error(is(e.reason)),this.#o(s,t);break;case Ur.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(is(e.reason)),this.#o(s,t);break;case Ur.CANCEL:if(!a)break;new Promise(function(l){l(a.onCancel?.(is(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Ur.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Ur.CANCEL_COMPLETE,streamId:t,reason:is(l)})}),a.sinkCapability.reject(is(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#o(e,t){return x(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.#e?.abort(),this.#e=null}},TO=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return EN(this.#e)}has(e){return this.#e.has(e)}},q0=Symbol("INTERNAL"),DO=class{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:r,usage:i,rbGroups:o}){this.#e=!!(e&os.DISPLAY),this.#t=!!(e&os.PRINT),this.name=t,this.intent=r,this.usage=i,this.rbGroups=o}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,r=!1){e!==q0&&Kn("Internal method `_setVisible` called."),this.#n=r,this.#r=t}},RO=class{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=os.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(let r of e.groups)this.#t.set(r.id,new DO(t,r));if(e.baseState==="OFF")for(let r of this.#t.values())r._setVisible(q0,!1);for(let r of e.on)this.#t.get(r)._setVisible(q0,!0);for(let r of e.off)this.#t.get(r)._setVisible(q0,!1);this.#n=this.getHash()}}#o(e){let t=e.length;if(t<2)return!0;let r=e[0];for(let i=1;i<t;i++){let o=e[i],s;if(Array.isArray(o))s=this.#o(o);else if(this.#t.has(o))s=this.#t.get(o).visible;else return zt(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return SE("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(zt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#o(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return zt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return zt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return zt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return zt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return zt(`Unknown optional content policy ${e.policy}.`),!0}return zt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){let i=this.#t.get(e);if(!i){zt(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(let o of i.rbGroups)for(let s of o)s!==e&&this.#t.get(s)?._setVisible(q0,!1,!0);i._setVisible(q0,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let r;for(let i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}let o=this.#t.get(i);if(o)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!o.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?EN(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new X4;for(let[t,r]of this.#t)e.update(`${t}:${r.visible}`);return this.#e=e.hexdigest()}},PO=class{constructor(e,{disableRange:t=!1,disableStream:r=!1}){si(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,o?.length>0){let l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),e.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{let i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});si(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){si(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new OO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=new NO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},OO=class{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=SN(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return x(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},NO=class{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return x(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function S4e(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=d(h),o(h)}if(t=s(n),t){let h=d(t);return o(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=d(h),o(h)}function r(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{let m=new TextDecoder(h,{fatal:!0}),v=IE(f);f=m.decode(v),e=!1}catch{}}return f}function o(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function s(h){let f=[],m,v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(h))!==null;){let[,b,T,M]=m;if(b=parseInt(b,10),b in f){if(b===0)break;continue}f[b]=[T,M]}let _=[];for(let b=0;b<f.length&&b in f;++b){let[T,M]=f[b];M=a(M),T&&(M=unescape(M),b===0&&(M=l(M))),_.push(M)}return _.join("")}function a(h){if(h.startsWith('"')){let f=h.slice(1).split('\\"');for(let m=0;m<f.length;++m){let v=f[m].indexOf('"');v!==-1&&(f[m]=f[m].slice(0,v),f.length=m+1),f[m]=f[m].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function l(h){let f=h.indexOf("'");if(f===-1)return h;let m=h.slice(0,f),_=h.slice(f+1).replace(/^[^']*'/,"");return i(m,_)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,m,v,_){if(v==="q"||v==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,T){return String.fromCharCode(parseInt(T,16))}),i(m,_);try{_=atob(_)}catch{}return i(m,_)})}return""}function AN(n,e){let t=new Headers;if(!n||!e||typeof e!="object")return t;for(let r in e){let i=e[r];i!==void 0&&t.append(r,i)}return t}function TN({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){let i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function DN(n){let e=n.get("Content-Disposition");if(e){let t=S4e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(SN(t))return t}return null}function DE(n,e){return n===404||n===0&&e.startsWith("file:")?new Vc('Missing PDF "'+e+'".'):new Q0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function PX(n){return n===200||n===206}function OX(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function NX(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(zt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var oE=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AN(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return si(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new LO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=new FO(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},LO=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;let r=new Headers(e.headers),i=t.url;fetch(i,OX(r,this._withCredentials,this._abortController)).then(o=>{if(!PX(o.status))throw DE(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();let s=o.headers,{allowRangeRequests:a,suggestedLength:l}=TN({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=DN(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new jc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return x(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:NX(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},FO=class{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;let i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;let o=new Headers(e.headers);o.append("Range",`bytes=${t}-${r-1}`);let s=i.url;fetch(s,OX(o,this._withCredentials,this._abortController)).then(a=>{if(!PX(a.status))throw DE(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return x(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:NX(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},oO=200,sO=206;function I4e(n){let e=n.response;return typeof e!="string"?e:IE(e).buffer}var BO=class{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AN(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){let i={begin:e,end:t};for(let o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let[o,s]of this.headers)t.setRequestHeader(o,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=sO):i.expectedStatus=oO,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){let r=this.pendingRequests[e];r&&r.onProgress?.(t)}onStateChange(e,t){let r=this.pendingRequests[e];if(!r)return;let i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError?.(i.status);return}let o=i.status||oO;if(!(o===oO&&r.expectedStatus===sO)&&o!==r.expectedStatus){r.onError?.(i.status);return}let a=I4e(i);if(o===sO){let l=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);r.onDone({begin:parseInt(d[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):r.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},VO=class{constructor(e){this._source=e,this._manager=new BO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return si(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let r=new HO(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},jO=class{constructor(e,t){this._manager=e;let r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{let[a,...l]=s.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:o}=TN({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=DN(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=DE(e,this._url),this._headersCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return x(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},HO=class{constructor(e,t,r){this._manager=e;let i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=DE(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return x(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},A4e=/^[a-z][a-z0-9\-+.]+:/i;function T4e(n){if(A4e.test(n))return new URL(n);let e=fl.get("url");return new URL(e.pathToFileURL(n))}function LX(n,e,t){return n.protocol==="http:"?fl.get("http").request(n,{headers:e},t):fl.get("https").request(n,{headers:e},t)}var UO=class{constructor(e){this.source=e,this.url=T4e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=AN(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return si(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new WO(this):new zO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let r=this.isFsUrl?new GO(this,e,t):new $O(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},sE=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return x(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new jc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},aE=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return x(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},zO=class extends sE{constructor(e){super(e);let t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){let l=new Vc(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);let o=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:a}=TN({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=DN(o)};this._request=LX(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}},$O=class extends aE{constructor(e,t,r){super(e);let i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;let o=s=>{if(s.statusCode===404){let a=new Vc(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};this._request=LX(this._url,i,o),this._request.on("error",s=>{this._storedError=s}),this._request.end()}},WO=class extends sE{constructor(e){super(e);let t=fl.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Vc(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}},GO=class extends aE{constructor(e,t,r){super(e);let i=fl.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}},D4e=1e5,Fo=30,R4e=.8,uw=class n{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#o=null;#i=null;#l=0;#c=0;#d=null;#a=null;#u=0;#s=0;#h=Object.create(null);#f=[];#p=null;#g=[];#v=new WeakMap;#m=null;static#w=new Map;static#y=new Map;static#x=new WeakMap;static#k=null;static#b=new Set;constructor({textContentSource:e,container:t,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#a=t,this.#s=r.scale*(globalThis.devicePixelRatio||1),this.#u=r.rotation,this.#i={div:null,properties:null,ctx:null};let{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;this.#m=[1,0,0,-1,-s,a+o],this.#c=i,this.#l=o,n.#D(),Sp(t,r),this.#e.promise.finally(()=>{n.#b.delete(this),this.#i=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:e,isFirefox:t}=Oi.platform;return Jt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){let e=()=>{this.#d.read().then(({value:t,done:r})=>{if(r){this.#e.resolve();return}this.#o??=t.lang,Object.assign(this.#h,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),n.#b.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==this.#u&&(t?.(),this.#u=i,Sp(this.#a,{rotation:i})),r!==this.#s){t?.(),this.#s=r;let o={div:null,properties:null,ctx:n.#I(this.#o)};for(let s of this.#g)o.properties=this.#v.get(s),o.div=s,this.#C(o)}}cancel(){let e=new jc("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#f}#T(e){if(this.#n)return;this.#i.ctx??=n.#I(this.#o);let t=this.#g,r=this.#f;for(let i of e){if(t.length>D4e){zt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){let o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),o.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#S(i)}}#S(e){let t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#g.push(t);let i=Ke.transform(this.#m,e.transform),o=Math.atan2(i[1],i[0]),s=this.#h[e.fontName];s.vertical&&(o+=Math.PI/2);let a=this.#r&&s.fontSubstitution||s.fontFamily;a=n.fontFamilyMap.get(a)||a;let l=Math.hypot(i[2],i[3]),d=l*n.#P(a,this.#o),h,f;o===0?(h=i[4],f=i[5]-d):(h=i[4]+d*Math.sin(o),f=i[5]-d*Math.cos(o));let m="calc(var(--scale-factor)*",v=t.style;this.#t===this.#a?(v.left=`${(100*h/this.#c).toFixed(2)}%`,v.top=`${(100*f/this.#l).toFixed(2)}%`):(v.left=`${m}${h.toFixed(2)}px)`,v.top=`${m}${f.toFixed(2)}px)`),v.fontSize=`${m}${(n.#k*l).toFixed(2)}px)`,v.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let _=!1;if(e.str.length>1)_=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let b=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);b!==T&&Math.max(b,T)/Math.min(b,T)>1.5&&(_=!0)}if(_&&(r.canvasWidth=s.vertical?e.height:e.width),this.#v.set(t,r),this.#i.div=t,this.#i.properties=r,this.#C(this.#i),r.hasText&&this.#t.append(t),r.hasEOL){let b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#C(e){let{div:t,properties:r,ctx:i}=e,{style:o}=t,s="";if(n.#k>1&&(s=`scale(${1/n.#k})`),r.canvasWidth!==0&&r.hasText){let{fontFamily:a}=o,{canvasWidth:l,fontSize:d}=r;n.#M(i,d*this.#s,a);let{width:h}=i.measureText(t.textContent);h>0&&(s=`scaleX(${l*this.#s/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(o.transform=s)}static cleanup(){if(!(this.#b.size>0)){this.#w.clear();for(let{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#I(e=null){let t=this.#y.get(e||="");if(!t){let r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#M(e,t,r){let i=this.#x.get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)}static#D(){if(this.#k!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#k=e.getBoundingClientRect().height,e.remove()}static#P(e,t){let r=this.#w.get(e);if(r)return r;let i=this.#I(t);i.canvas.width=i.canvas.height=Fo,this.#M(i,Fo,e);let o=i.measureText(""),s=o.fontBoundingBoxAscent,a=Math.abs(o.fontBoundingBoxDescent);if(s){let h=s/(s+a);return this.#w.set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,Fo,Fo),i.strokeText("g",0,0);let l=i.getImageData(0,0,Fo,Fo).data;a=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){a=Math.ceil(h/4/Fo);break}i.clearRect(0,0,Fo,Fo),i.strokeText("A",0,Fo),l=i.getImageData(0,0,Fo,Fo).data,s=0;for(let h=0,f=l.length;h<f;h+=4)if(l[h]>0){s=Fo-Math.floor(h/4/Fo);break}i.canvas.width=i.canvas.height=0;let d=s?s/(s+a):R4e;return this.#w.set(e,d),d}},hw=class n{static textContent(e){let t=[],r={items:t,styles:Object.create(null)};function i(o){if(!o)return;let s=null,a=o.name;if(a==="#text")s=o.value;else if(n.shouldBuildText(a))o?.attributes?.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&t.push({str:s}),!!o.children)for(let l of o.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},P4e=65536,O4e=100,N4e=5e3,L4e=Xi?bO:_O,F4e=Xi?xO:eE,B4e=Xi?kO:yO,V4e=Xi?CO:rE;function j4e(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new qO,{docId:t}=e,r=n.url?H4e(n.url):null,i=n.data?U4e(n.data):null,o=n.httpHeaders||null,s=n.withCredentials===!0,a=n.password??null,l=n.range instanceof lE?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:P4e,h=n.worker instanceof Y0?n.worker:null,f=n.verbosity,m=typeof n.docBaseUrl=="string"&&!TE(n.docBaseUrl)?n.docBaseUrl:null,v=typeof n.cMapUrl=="string"?n.cMapUrl:null,_=n.cMapPacked!==!1,b=n.CMapReaderFactory||F4e,T=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,M=n.StandardFontDataFactory||V4e,B=n.stopAtErrors!==!0,j=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,H=n.isEvalSupported!==!1,q=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Xi,Y=typeof n.isChrome=="boolean"?n.isChrome:!Oi.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,F=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,A=typeof n.disableFontFace=="boolean"?n.disableFontFace:Xi,S=n.fontExtraProperties===!0,L=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,K=n.disableRange===!0,z=n.disableStream===!0,rt=n.disableAutoFetch===!0,ht=n.pdfBug===!0,Mt=n.CanvasFactory||L4e,De=n.FilterFactory||B4e,ye=n.enableHWA===!0,Vn=l?l.length:n.length??NaN,Qi=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Xi&&!A,zr=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===eE&&M===rE&&v&&T&&tw(v,document.baseURI)&&tw(T,document.baseURI);n.canvasFactory&&mX("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&mX("`filterFactory`-instance option, please use `FilterFactory` instead.");let an=null;t4e(f);let ze={canvasFactory:new Mt({ownerDocument:U,enableHWA:ye}),filterFactory:new De({docId:t,ownerDocument:U}),cMapReaderFactory:zr?null:new b({baseUrl:v,isCompressed:_}),standardFontDataFactory:zr?null:new M({baseUrl:T})};if(!h){let rr={verbosity:f,port:Mp.workerPort};h=rr.port?Y0.fromPort(rr):new Y0(rr),e._worker=h}let Pn={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:rt,rangeChunkSize:d,length:Vn,docBaseUrl:m,enableXfa:L,evaluatorOptions:{maxImageSize:j,disableFontFace:A,ignoreErrors:B,isEvalSupported:H,isOffscreenCanvasSupported:q,isChrome:Y,canvasMaxAreaInBytes:F,fontExtraProperties:S,useSystemFonts:Qi,cMapUrl:zr?v:null,standardFontDataUrl:zr?T:null}},ai={disableFontFace:A,fontExtraProperties:S,ownerDocument:U,pdfBug:ht,styleElement:an,loadingParams:{disableAutoFetch:rt,enableXfa:L}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");let rr=h.messageHandler.sendWithPromise("GetDocRequest",Pn,i?[i.buffer]:null),Qe;if(l)Qe=new PO(l,{disableRange:K,disableStream:z});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Ni;Xi?Ni=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&tw(r)?oE:UO:Ni=tw(r)?oE:VO,Qe=new Ni({url:r,length:Vn,httpHeaders:o,withCredentials:s,rangeChunkSize:d,disableRange:K,disableStream:z})}return rr.then(Ni=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");let Ji=new xp(t,Ni,h.port),Li=new ZO(Ji,e,Qe,ai,ze);e._transport=Li,Ji.send("Ready",null)})}).catch(e._capability.reject),e}function H4e(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Xi&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function U4e(n){if(Xi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return IE(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function IX(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var qO=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return x(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},lE=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Kn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},KO=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},YO=class{#e=null;#t=!1;constructor(e,t,r,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new q4:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new cE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new ow({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return x(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=wu.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1}){this._stats?.time("Overall");let m=this._transport.getRenderingIntent(r,i,h,f),{renderingIntent:v,cacheKey:_}=m;this.#t=!1,this.#r(),a||=this._transport.getOptionalContentConfig(v);let b=this._intentStates.get(_);b||(b=Object.create(null),this._intentStates.set(_,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);let T=!!(v&os.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));let M=H=>{b.renderTasks.delete(B),(this._maybeCleanupAfterRender||T)&&(this.#t=!0),this.#n(!T),H?(B.capability.reject(H),this._abortOperatorList({intentState:b,reason:H instanceof Error?H:new Error(H)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},B=new JO({callback:M,params:{canvasContext:e,viewport:t,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d});(b.renderTasks||=new Set).add(B);let j=B.task;return Promise.all([b.displayReadyCapability.promise,a]).then(([H,q])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");B.initializeGraphics({transparency:H,optionalContentConfig:q}),B.operatorListChanged()}).catch(M),j}getOperatorList({intent:e="display",annotationMode:t=wu.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function o(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let s=this._transport.getRenderingIntent(e,t,r,i,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>hw.textContent(r));let t=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:d}){if(d){r(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}let s=t.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new q4),t}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},N4e),!1;for(let{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let r=this._intentStates.get(t);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){let{map:o,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:i},s).getReader(),d=this._intentStates.get(t);d.streamReader=l;let h=()=>{l.read().then(({value:f,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,d),h())},f=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(let m of d.renderTasks)m.operatorListChanged();this.#n(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(f);else if(d.opListReadCapability)d.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof sw){let i=O4e;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new jc(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}},XO=class{#e=new Map;#t=Promise.resolve();postMessage(e,t){let r={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let[i]of this.#e)i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){let{signal:o}=r;if(o.aborted){zt("LoopbackPort - cannot use an `aborted` signal.");return}let s=()=>this.removeEventListener(e,t);i=()=>o.removeEventListener("abort",s),o.addEventListener("abort",s)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(let[,e]of this.#e)e?.();this.#e.clear()}},CE,Cp,Ep,X0,$4,Z0,W4,nr=class nr{constructor({name:e=null,port:t=null,verbosity:r=n4e()}={}){ud(this,X0);if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(ki(nr,Ep)?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(ki(nr,Ep)||Wm(nr,Ep,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Xi?Promise.all([fl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new xp("main","worker",e),this._messageHandler.on("ready",function(){}),K_(this,X0,$4).call(this)}_initialize(){if(ki(nr,Cp)||ki(nr,Z0,W4)){this._setupFakeWorker();return}let{workerSrc:e}=nr;try{nr._isSameOrigin(window.location.href,e)||(e=nr._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),r=new xp("main","worker",t),i=()=>{o.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,K_(this,X0,$4).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{SE("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ki(nr,Cp)||(zt("Setting up fake worker."),Wm(nr,Cp,!0)),nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new XO;this._port=t;let r=`fake${CF(nr,CE)._++}`,i=new xp(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new xp(r,r+"_worker",t),K_(this,X0,$4).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ki(nr,Ep)?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=ki(this,Ep)?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nr(e)}static get workerSrc(){if(Mp.workerSrc)return Mp.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Jt(this,"_setupFakeWorkerGlobal",x(this,null,function*(){return ki(this,Z0,W4)?ki(this,Z0,W4):(yield import(this.workerSrc)).WorkerMessageHandler}))}};CE=new WeakMap,Cp=new WeakMap,Ep=new WeakMap,X0=new WeakSet,$4=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Z0=new WeakSet,W4=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ud(nr,Z0),ud(nr,CE,0),ud(nr,Cp,!1),ud(nr,Ep),Xi&&(Wm(nr,Cp,!0),Mp.workerSrc||="./pdf.worker.mjs"),nr._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}let i=new URL(t,r);return r.origin===i.origin},nr._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var Y0=nr,ZO=class{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#o=null;constructor(e,t,r,i,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new cE,this.fontLoader=new vO({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,t=null){let r=this.#e.get(e);if(r)return r;let i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return Jt(this,"annotationStorage",new cw)}getRenderingIntent(e,t=wu.ENABLE,r=null,i=!1,o=!1){let s=os.DISPLAY,a=mO;switch(e){case"any":s=os.ANY;break;case"display":break;case"print":s=os.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${e}`)}let l=s&os.PRINT&&r instanceof Z4?r:this.annotationStorage;switch(t){case wu.DISABLE:s+=os.ANNOTATIONS_DISABLE;break;case wu.ENABLE:break;case wu.ENABLE_FORMS:s+=os.ANNOTATIONS_FORMS;break;case wu.ENABLE_STORAGE:s+=os.ANNOTATIONS_STORAGE,a=l.serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=os.IS_EDITING),o&&(s+=os.OPLIST);let{ids:d,hash:h}=l.modifiedIds,f=[s,a.hash,h];return{renderingIntent:s,cacheKey:f.join("_"),annotationStorageSerializable:a,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#o?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),uw.cleanup(),this._networkStream?.cancelAllRequests(new jc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{si(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}si(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>x(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:i,isRangeSupported:o,contentLength:s}=this._fullReader;return(!i||!o)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{t.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:s}})),e.on("GetRangeReader",(r,i)=>{si(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}si(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new KO(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new rw(r.message,r.code);break;case"InvalidPDFException":i=new G4(r.message);break;case"MissingPDFException":i=new Vc(r.message);break;case"UnexpectedResponseException":i=new Q0(r.message,r.status);break;case"UnknownErrorException":i=new iw(r.message,r.details);break;default:Kn("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(this.#o=Promise.withResolvers(),t.onPassword){let i=o=>{o instanceof Error?this.#o.reject(o):this.#o.resolve({password:o})};try{t.onPassword(i,r.code)}catch(o){this.#o.reject(o)}}else this.#o.reject(new rw(r.message,r.code));return this.#o.promise}),e.on("DataLoaded",r=>{t.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":let{disableFontFace:s,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in o){let m=o.error;zt(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}let d=l&&globalThis.FontInspector?.enabled?(m,v)=>globalThis.FontInspector.fontAdded(m,v):null,h=new wO(o,{disableFontFace:s,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!a&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":let{imageRef:f}=o;si(f,"The imageRef must be defined.");for(let m of this.#t.values())for(let[,v]of m.objs)if(v?.ref===f)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{if(this.destroyed)return;let a=this.#t.get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){s?.bitmap?.close();return}switch(o){case"Image":a.objs.resolve(r,s),s?.dataLen>XCe&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{this.destroyed||t.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>x(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)})),e.on("FetchStandardFontData",r=>x(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,r=this.#n.get(t);if(r)return r;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#r.set(o.refStr,e);let s=new YO(t,o,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#n.set(t,i),i}getPageIndex(e){return IX(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new RO(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new TO(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return x(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),uw.cleanup()}})}cachedPageNumber(e){if(!IX(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}},B4=Symbol("INITIAL_DATA"),cE=class{#e=Object.create(null);#t(e){return this.#e[e]||=Se(X({},Promise.withResolvers()),{data:B4})}get(e,t=null){if(t){let i=this.#t(e);return i.promise.then(()=>t(i.data)),null}let r=this.#e[e];if(!r||r.data===B4)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){let t=this.#e[e];return!!t&&t.data!==B4}resolve(e,t=null){let r=this.#t(e);r.data=t,r.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==B4&&(yield[e,t])}}},QO=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},JO=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:m=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=f,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new QO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new K0(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new sw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return x(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},z4e="4.8.69",$4e="3634dab10";function AX(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ew(n){return Math.max(0,Math.min(255,255*n))}var dE=class{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ew(e),[e,e,e]}static G_HTML([e]){let t=AX(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(ew)}static RGB_HTML(e){return`#${e.map(AX).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[ew(1-Math.min(1,e+i)),ew(1-Math.min(1,r+i)),ew(1-Math.min(1,t+i))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){let i=1-e,o=1-t,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}},eN=class{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Kn("Abstract method `_createSVG` called.")}},pw=class extends eN{_createSVG(e){return document.createElementNS(Fc,e)}},uE=class{static setupStorage(e,t,r,i,o){let s=i.getValue(t,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(let a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{let l=a.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:o}){let{attributes:s}=t,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(let[l,d]of Object.entries(s))if(d!=null)switch(l){case"class":d.length&&e.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,d)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,t,r)}static render(e){let t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});let a=o!=="richText",l=e.div;if(l.append(s),e.viewport){let f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");let d=[];if(i.children.length===0){if(i.value){let f=document.createTextNode(i.value);s.append(f),a&&hw.shouldBuildText(i.name)&&d.push(f)}return{textDivs:d}}let h=[[i,-1,s]];for(;h.length>0;){let[f,m,v]=h.at(-1);if(m+1===f.children.length){h.pop();continue}let _=f.children[++h.at(-1)[1]];if(_===null)continue;let{name:b}=_;if(b==="#text"){let M=document.createTextNode(_.value);d.push(M),v.append(M);continue}let T=_?.attributes?.xmlns?document.createElementNS(_.attributes.xmlns,b):document.createElement(b);if(v.append(T),_.attributes&&this.setAttributes({html:T,element:_,storage:t,intent:o,linkService:r}),_.children?.length>0)h.push([_,-1,T]);else if(_.value){let M=document.createTextNode(_.value);a&&hw.shouldBuildText(b)&&d.push(M),T.append(M)}}for(let f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},vw=1e3,W4e=9,Ap=new WeakSet;function Bc(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var tN=class{static create(e){switch(e.data.annotationType){case oi.LINK:return new hE(e);case oi.TEXT:return new nN(e);case oi.WIDGET:switch(e.data.fieldType){case"Tx":return new rN(e);case"Btn":return e.data.radioButton?new pE(e):e.data.checkBox?new oN(e):new sN(e);case"Ch":return new aN(e);case"Sig":return new iN(e)}return new Hc(e);case oi.POPUP:return new fw(e);case oi.FREETEXT:return new fE(e);case oi.LINE:return new cN(e);case oi.SQUARE:return new dN(e);case oi.CIRCLE:return new uN(e);case oi.POLYLINE:return new gE(e);case oi.CARET:return new pN(e);case oi.INK:return new gw(e);case oi.POLYGON:return new hN(e);case oi.HIGHLIGHT:return new mE(e);case oi.UNDERLINE:return new fN(e);case oi.SQUIGGLY:return new gN(e);case oi.STRIKEOUT:return new mN(e);case oi.STAMP:return new vE(e);case oi.FILEATTACHMENT:return new vN(e);default:return new Tr(e)}}},Tr=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e?.str||t?.str||r?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#r(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){let{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r?.splice(0,4,...e);let{width:d,height:h}=Bc(e);t.left=`${100*(e[0]-a)/o}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*d/o}%`,t.height=`${100*h/s}%`):this.setRotation(i)}_createContainer(e){let{data:t,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Hc||(o.tabIndex=vw);let{style:s}=o;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof fw){let{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,o),o}let{width:a,height:l}=Bc(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;let b=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(b>0||T>0){let B=`calc(${b}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;s.borderRadius=B}else if(this instanceof pE){let B=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=B}switch(t.borderStyle.style){case Qv.SOLID:s.borderStyle="solid";break;case Qv.DASHED:s.borderStyle="dashed";break;case Qv.BEVELED:zt("Unimplemented border style: beveled");break;case Qv.INSET:zt("Unimplemented border style: inset");break;case Qv.UNDERLINE:s.borderBottomStyle="solid";break;default:break}let M=t.borderColor||null;M?(this.#t=!0,s.borderColor=Ke.makeHexColor(M[0]|0,M[1]|0,M[2]|0)):s.borderWidth=0}let d=Ke.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:f,pageX:m,pageY:v}=i.rawDims;s.left=`${100*(d[0]-m)/h}%`,s.top=`${100*(d[1]-v)/f}%`;let{rotation:_}=t;return t.hasOwnCanvas||_===0?(s.width=`${100*a/h}%`,s.height=`${100*l/f}%`):this.setRotation(_,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Bc(this.data.rect),a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,r,i)=>{let o=i.detail[t],s=o[0],a=o.slice(1);i.target.style[r]=dE[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:dE[`${s}_rgb`](a)})};return Jt(this,"_commonActions",{display:t=>{let{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){let r=this._commonActions;for(let i of Object.keys(t.detail))(e[i]||r[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let r=this._commonActions;for(let[i,o]of Object.entries(t)){let s=r[i];if(s){let a={detail:{[i]:o},target:e};s(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,r,i,o]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){let[b,T,M,B]=e.subarray(2,6);if(i===b&&o===T&&t===M&&r===B)return}let{style:s}=this.container,a;if(this.#t){let{borderColor:b,borderWidth:T}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}let l=i-t,d=o-r,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);let m=h.createElement("defs");f.append(m);let v=h.createElement("clipPath"),_=`clippath_${this.data.id}`;v.setAttribute("id",_),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(let b=2,T=e.length;b<T;b+=8){let M=e[b],B=e[b+1],j=e[b+2],H=e[b+3],q=h.createElement("rect"),Y=(j-t)/l,F=(o-B)/d,A=(M-j)/l,S=(B-H)/d;q.setAttribute("x",Y),q.setAttribute("y",F),q.setAttribute("width",A),q.setAttribute("height",S),v.append(q),a?.push(`<rect vector-effect="non-scaling-stroke" x="${Y}" y="${F}" width="${A}" height="${S}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${_})`}_createPopup(){let{data:e}=this,t=this.#n=new fw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){Kn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let r=[];if(this._fieldObjects){let i=this._fieldObjects[e];if(i)for(let{page:o,id:s,exportValues:a}of i){if(o===-1||s===t)continue;let l=typeof a=="string"?a:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!Ap.has(d)){zt(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:d})}return r}for(let i of document.getElementsByName(e)){let{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==t&&Ap.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},hE=class extends Tr{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action),i=!0):e.attachment?(this.#t(r,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(r,e.setOCGState),i=!0):e.dest?(this._bindLink(r,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,r=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let i of Object.keys(t.actions)){let o=r.get(i);o&&(e[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();let{fields:i,refs:o,include:s}=t,a=[];if(i.length!==0||o.length!==0){let h=new Set(o);for(let f of i){let m=this._fieldObjects[f]||[];for(let{id:v}of m)h.add(v)}for(let f of Object.values(this._fieldObjects))for(let m of f)h.has(m.id)===s&&a.push(m)}else for(let h of Object.values(this._fieldObjects))a.push(...h);let l=this.annotationStorage,d=[];for(let h of a){let{id:f}=h;switch(d.push(f),h.type){case"text":{let v=h.defaultValue||"";l.setValue(f,{value:v});break}case"checkbox":case"radiobutton":{let v=h.defaultValue===h.exportValues;l.setValue(f,{value:v});break}case"combobox":case"listbox":{let v=h.defaultValue||"";l.setValue(f,{value:v});break}default:continue}let m=document.querySelector(`[data-element-id="${f}"]`);if(m){if(!Ap.has(m)){zt(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}},nN=class extends Tr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},Hc=class extends Tr{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Oi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{if(r==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}})})}_setEventListeners(e,t,r,i){for(let[o,s]of r)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,o,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||W4e,o=e.style,s,a=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){let d=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(d/(j4*i))||1,f=d/h;s=Math.min(i,l(f/j4))}else{let d=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(d/j4))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Ke.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},rN=class extends Hc{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){let o=this.annotationStorage;for(let s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=r),o.setValue(s.id,{[i]:r})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){let i=e.getValue(t,{value:this.data.fieldValue}),o=i.value||"",s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&o.length>s&&(o=o.slice(0,s));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:o,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=a??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",a??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ap.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=vw,this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",h=>{let f=this.data.defaultFieldValue??"";r.value=l.userValue=f,l.formattedValue=null});let d=h=>{let{formattedValue:f}=l;f!=null&&(h.target.value=f),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{if(l.focused)return;let{target:m}=f;l.userValue&&(m.value=l.userValue),l.lastCommittedValue=m.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);let m={value(v){l.userValue=v.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){let{formattedValue:_}=v.detail;l.formattedValue=_,_!=null&&v.target!==document.activeElement&&(v.target.value=_),e.setValue(t,{formattedValue:_})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{let{charLimit:_}=v.detail,{target:b}=v;if(_===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",_);let T=l.userValue;!T||T.length<=_||(T=T.slice(0,_),b.value=l.userValue=T,e.setValue(t,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("keydown",f=>{l.commitKey=1;let m=-1;if(f.key==="Escape"?m=0:f.key==="Enter"&&!this.data.multiLine?m=2:f.key==="Tab"&&(l.commitKey=3),m===-1)return;let{value:v}=f.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});let h=d;d=null,r.addEventListener("blur",f=>{if(!l.focused||!f.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:m}=f.target;l.userValue=m,l.lastCommittedValue!==m&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:l.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}),h(f)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",f=>{l.lastCommittedValue=null;let{data:m,target:v}=f,{value:_,selectionStart:b,selectionEnd:T}=v,M=b,B=T;switch(f.inputType){case"deleteWordBackward":{let j=_.substring(0,b).match(/\w*[^\w]*$/);j&&(M-=j[0].length);break}case"deleteWordForward":{let j=_.substring(b).match(/^[^\w]*\w*/);j&&(B+=j[0].length);break}case"deleteContentBackward":b===T&&(M-=1);break;case"deleteContentForward":b===T&&(B+=1);break}f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:m||"",willCommit:!1,selStart:M,selEnd:B}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){let f=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},iN=class extends Hc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},oN=class extends Hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,r=t.id,i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return Ap.add(o),o.setAttribute("data-element-id",r),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=vw,o.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let d of this._getElementsByName(a,r)){let h=l&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue||"Off";s.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{let a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},pE=class extends Hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,r=t.id,i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(let s of this._getElementsByName(t.fieldName,r))e.setValue(s.id,{value:!1});let o=document.createElement("input");if(Ap.add(o),o.setAttribute("data-element-id",r),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=vw,o.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let d of this._getElementsByName(a,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{let a=t.defaultFieldValue;s.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){let s=t.buttonValue;o.addEventListener("updatefromsandbox",a=>{let l={value:d=>{let h=s===d.detail.value;for(let f of this._getElementsByName(d.target.name)){let m=h&&f.id===r;f.domElement&&(f.domElement.checked=m),e.setValue(f.id,{value:m})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},sN=class extends hE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}},aN=class extends Hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ap.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=vw;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{let f=this.data.defaultFieldValue;for(let m of i.options)m.selected=m.value===f});for(let h of this.data.options){let f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,r.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),o=!1),i.append(f)}let s=null;if(o){let h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),s=()=>{h.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}let a=h=>{let f=h?"value":"textContent",{options:m,multiple:v}=i;return v?Array.prototype.filter.call(m,_=>_.selected).map(_=>_[f]):m.selectedIndex===-1?null:m[m.selectedIndex][f]},l=a(!1),d=h=>{let f=h.target.options;return Array.prototype.map.call(f,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{let f={value(m){s?.();let v=m.detail.value,_=new Set(Array.isArray(v)?v:[v]);for(let b of i.options)b.selected=_.has(b.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(m){i.multiple=!0},remove(m){let v=i.options,_=m.detail.remove;v[_].selected=!1,i.remove(_),v.length>0&&Array.prototype.findIndex.call(v,T=>T.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:a(!0),items:d(m)}),l=a(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(m){let{index:v,displayValue:_,exportValue:b}=m.detail.insert,T=i.children[v],M=document.createElement("option");M.textContent=_,M.value=b,T?T.before(M):i.append(M),e.setValue(t,{value:a(!0),items:d(m)}),l=a(!1)},items(m){let{items:v}=m.detail;for(;i.length!==0;)i.remove(0);for(let _ of v){let{displayValue:b,exportValue:T}=_,M=document.createElement("option");M.textContent=b,M.value=T,i.append(M)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:d(m)}),l=a(!1)},indices(m){let v=new Set(m.detail.indices);for(let _ of m.target.options)_.selected=v.has(_.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{let f=a(!0),m=a(!1);e.setValue(t,{value:f}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:m,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},fw=class extends Tr{constructor(e){let{data:t,elements:r}=e;super(e,{isRenderable:Tr._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new lN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${MN}${r}`).join(",")),this.container}},lN=class{#e=this.#T.bind(this);#t=this.#M.bind(this);#n=this.#I.bind(this);#r=this.#C.bind(this);#o=null;#i=null;#l=null;#c=null;#d=null;#a=null;#u=null;#s=!1;#h=null;#f=null;#p=null;#g=null;#v=null;#m=null;#w=!1;constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:d,parentRect:h,open:f}){this.#i=e,this.#v=i,this.#l=s,this.#g=a,this.#a=l,this.#o=t,this.#p=d,this.#u=h,this.#d=r,this.#c=K4.toDateObject(o),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(let m of this.trigger)m.addEventListener("click",this.#r),m.addEventListener("mouseenter",this.#n),m.addEventListener("mouseleave",this.#t),m.classList.add("popupTriggerArea");for(let m of r)m.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,f&&this.#C()}render(){if(this.#h)return;let e=this.#h=document.createElement("div");if(e.className="popup",this.#o){let o=e.style.outlineColor=Ke.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ke.makeHexColor(...this.#o.map(a=>Math.floor(.7*(255-a)+a)))}let t=document.createElement("span");t.className="header";let r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=this.#v,e.append(t),this.#c){let o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),t.append(o)}let i=this.#y;if(i)uE.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let o=this._formatContents(this.#l);e.append(o)}this.#i.append(e)}get#y(){let e=this.#g,t=this.#l;return e?.str&&(!t?.str||t.str===e.str)&&this.#g.html||null}get#x(){return this.#y?.attributes?.style?.fontSize||0}get#k(){return this.#y?.attributes?.style?.color||null}#b(e){let t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#k,fontSize:this.#x?`calc(${this.#x}px * var(--scale-factor))`:""}};for(let o of e.split(`
`))t.push({name:"span",value:o,attributes:i});return r}_formatContents({str:e,dir:t}){let r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;let i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){let a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#s)&&this.#C()}updateEdited({rect:e,popupContent:t}){this.#m||={contentsObj:this.#l,richText:this.#g},e&&(this.#f=null),t&&(this.#g=this.#b(t),this.#l=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&({contentsObj:this.#l,richText:this.#g}=this.#m,this.#m=null,this.#h?.remove(),this.#h=null,this.#f=null)}#S(){if(this.#f!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:o}}}=this.#a,s=!!this.#u,a=s?this.#u:this.#p;for(let _ of this.#d)if(!a||Ke.intersect(_.data.rect,a)!==null){a=_.data.rect,s=!0;break}let l=Ke.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=s?a[2]-a[0]+5:0,f=l[0]+h,m=l[1];this.#f=[100*(f-i)/t,100*(m-o)/r];let{style:v}=this.#i;v.left=`${this.#f[0]}%`,v.top=`${this.#f[1]}%`}#C(){this.#s=!this.#s,this.#s?(this.#I(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#M(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#I(){this.#h||this.render(),this.isVisible?this.#s&&this.#i.classList.add("focused"):(this.#S(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#M(){this.#i.classList.remove("focused"),!(this.#s||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#w=this.isVisible,this.#w&&(this.#i.hidden=!0)}maybeShow(){this.#w&&(this.#h||this.#I(),this.#w=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}},fE=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},cN=class extends Tr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},dN=class extends Tr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),o=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",o/2),s.setAttribute("y",o/2),s.setAttribute("width",t-o),s.setAttribute("height",r-o),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},uN=class extends Tr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),o=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",r/2),s.setAttribute("rx",t/2-o/2),s.setAttribute("ry",r/2-o/2),s.setAttribute("stroke-width",o||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},gE=class extends Tr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:r,popupRef:i}}=this;if(!t)return this.container;let{width:o,height:s}=Bc(e),a=this.svgFactory.create(o,s,!0),l=[];for(let h=0,f=t.length;h<f;h+=2){let m=t[h]-e[0],v=e[3]-t[h+1];l.push(`${m},${v}`)}l=l.join(" ");let d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",l),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),a.append(d),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},hN=class extends gE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},pN=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},gw=class extends Tr{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Bt.HIGHLIGHT:Bt.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:r,popupRef:i}}=this,{width:o,height:s}=Bc(e),a=this.svgFactory.create(o,s,!0);for(let l of t){let d=[];for(let f=0,m=l.length;f<m;f+=2){let v=l[f]-e[0],_=e[3]-l[f+1];d.push(`${v},${_}`)}d=d.join(" ");let h=this.svgFactory.createElement(this.svgElementName);this.#e.push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),a.append(h)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},mE=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Bt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},fN=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},gN=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},mN=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},vE=class extends Tr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Bt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},vN=class extends Tr{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",X({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;let{isMac:i}=Oi.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},wN=class{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s,structTreeLayer:a}){this.div=e,this.#e=t,this.#t=r,this.#r=a||null,this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}#o(e,t){return x(this,null,function*(){let r=e.firstChild||e,i=r.id=`${MN}${t}`,o=yield this.#r?.getAriaAttributes(i);if(o)for(let[s,a]of o)r.setAttribute(s,a);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,r,!1)})}render(e){return x(this,null,function*(){let{annotations:t}=e,r=this.div;Sp(r,this.viewport);let i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new pw,annotationStorage:e.annotationStorage||new cw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let s of t){if(s.noHTML)continue;let a=s.annotationType===oi.POPUP;if(a){let h=i.get(s.id);if(!h)continue;o.elements=h}else{let{width:h,height:f}=Bc(s.rect);if(h<=0||f<=0)continue}o.data=s;let l=tN.create(o);if(!l.isRenderable)continue;if(!a&&s.popupRef){let h=i.get(s.popupRef);h?h.push(l):i.set(s.popupRef,[l])}let d=l.render();s.hidden&&(d.style.visibility="hidden"),yield this.#o(d,s.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()})}update({viewport:e}){let t=this.div;this.viewport=e,Sp(t,{rotation:e.rotation}),this.#i(),t.hidden=!1}#i(){if(!this.#t)return;let e=this.div;for(let[t,r]of this.#t){let i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";let{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},V4=/\r\n?|\n/g,_N=class n extends In{#e;#t="";#n=`${this.id}-editor`;#r=null;#o;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=o=>o.isEmpty(),r=lw.TRANSLATE_SMALL,i=lw.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Ip([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Bt.FREETEXT;constructor(e){super(Se(X({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||In._defaultLineColor,this.#o=e.fontSize||n._defaultFontSize}static initialize(e,t){In.initialize(e,t);let r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case kt.FREETEXT_SIZE:n._defaultFontSize=t;break;case kt.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case kt.FREETEXT_SIZE:this.#i(t);break;case kt.FREETEXT_COLOR:this.#l(t);break}}static get defaultPropertiesToUpdate(){return[[kt.FREETEXT_SIZE,n._defaultFontSize],[kt.FREETEXT_COLOR,n._defaultColor||In._defaultLineColor]]}get propertiesToUpdate(){return[[kt.FREETEXT_SIZE,this.#o],[kt.FREETEXT_COLOR,this.#e]]}#i(e){let t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-this.#o)*this.parentScale),this.#o=i,this.#d()},r=this.#o;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){let t=i=>{this.#e=this.editorDiv.style.color=i},r=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#o)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;let e=this._uiManager.combinedSignal(this.#r);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){let e=[];this.editorDiv.normalize();let t=null;for(let r of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(n.#a(r)),t=r);return e.join(`
`)}#d(){let[e,t]=this.parentDimensions,r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{let{currentLayer:i,div:o}=this,s=o.style.display,a=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=s,o.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#c().trimEnd();if(e===t)return;let r=i=>{if(this.#t=i,!i){this.remove();return}this.#u(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#o}px * var(--scale-factor))`,r.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Y4(this,this.div,["dblclick","keydown"]),this.width){let[i,o]=this.parentDimensions;if(this.annotationElementId){let{position:s}=this._initialData,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[d,h]=this.pageDimensions,[f,m]=this.pageTranslation,v,_;switch(this.rotation){case 0:v=e+(s[0]-f)/d,_=t+this.height-(s[1]-m)/h;break;case 90:v=e+(s[0]-f)/d,_=t-(s[1]-m)/h,[a,l]=[l,-a];break;case 180:v=e-this.width+(s[0]-f)/d,_=t-(s[1]-m)/h,[a,l]=[-a,-l];break;case 270:v=e+(s[0]-f-this.height*h)/d,_=t+(s[1]-m-this.width*d)/h,[a,l]=[-l,a];break}this.setAt(v*i,_*o,a,l)}else this.setAt(e*i,t*o,this.width*i,this.height*o);this.#u(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#a(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(V4,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:r}=t;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();let i=n.#h(t.getData("text")||"").replaceAll(V4,`
`);if(!i)return;let o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();let s=o.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}let{startContainer:a,startOffset:l}=s,d=[],h=[];if(a.nodeType===Node.TEXT_NODE){let v=a.parentElement;if(h.push(a.nodeValue.slice(l).replaceAll(V4,"")),v!==this.editorDiv){let _=d;for(let b of this.editorDiv.childNodes){if(b===v){_=h;continue}_.push(n.#a(b))}}d.push(a.nodeValue.slice(0,l).replaceAll(V4,""))}else if(a===this.editorDiv){let v=d,_=0;for(let b of this.editorDiv.childNodes)_++===l&&(v=h),v.push(n.#a(b))}this.#t=`${d.join(`
`)}${i}${h.join(`
`)}`,this.#u();let f=new Range,m=d.reduce((v,_)=>v+_.length,0);for(let{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){let _=v.nodeValue.length;if(m<=_){f.setStart(v,m),f.setEnd(v,m);break}m-=_}o.removeAllRanges(),o.addRange(f)}#u(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#s(){return this.#t.replaceAll("\xA0"," ")}static#h(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,r){return x(this,null,function*(){let i=null;if(e instanceof fE){let{data:{defaultAppearanceData:{fontSize:s,fontColor:a},rect:l,rotation:d,id:h,popupRef:f},textContent:m,textPosition:v,parent:{page:{pageNumber:_}}}=e;if(!m||m.length===0)return null;i=e={annotationType:Bt.FREETEXT,color:Array.from(a),fontSize:s,value:m.join(`
`),position:v,pageIndex:_-1,rect:l.slice(0),rotation:d,id:h,deleted:!1,popupRef:f}}let o=yield Mo(n,this,"deserialize").call(this,e,t,r);return o.#o=e.fontSize,o.#e=Ke.makeHexColor(...e.color),o.#t=n.#h(e.value),o.annotationElementId=e.id||null,o._initialData=i,o})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let t=n._internalPadding*this.parentScale,r=this.getRect(t,t),i=In._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:Bt.FREETEXT,color:i,fontSize:this.#o,value:this.#s(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!this.#f(o)?null:(o.id=this.annotationElementId,o)}#f(e){let{value:t,fontSize:r,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((s,a)=>s!==i[a])||e.pageIndex!==o}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:r}=t;r.fontSize=`calc(${this.#o}px * var(--scale-factor))`,r.color=this.#e,t.replaceChildren();for(let o of this.#t.split(`
`)){let s=document.createElement("div");s.append(o?document.createTextNode(o):document.createElement("br")),t.append(s)}let i=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},wE=class{toSVGPath(){Kn("Abstract method `toSVGPath` must be implemented.")}get box(){Kn("Abstract getter `box` must be implemented.")}serialize(e,t){Kn("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Kn("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Kn("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}},_E=class n{#e;#t=[];#n;#r;#o=[];#i=new Float64Array(18);#l;#c;#d;#a;#u;#s;#h=[];static#f=8;static#p=2;static#g=n.#f+n.#p;constructor({x:e,y:t},r,i,o,s,a=0){this.#e=r,this.#s=o*i,this.#r=s,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#a=n.#f*i,this.#d=n.#g*i,this.#u=i,this.#h.push(e,t)}isEmpty(){return isNaN(this.#i[8])}#v(){let e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[r,i,o,s]=this.#e;return[(this.#l+(e[0]-t[0])/2-r)/o,(this.#c+(e[1]-t[1])/2-i)/s,(this.#l+(t[0]-e[0])/2-r)/o,(this.#c+(t[1]-e[1])/2-i)/s]}add({x:e,y:t}){this.#l=e,this.#c=t;let[r,i,o,s]=this.#e,[a,l,d,h]=this.#i.subarray(8,12),f=e-d,m=t-h,v=Math.hypot(f,m);if(v<this.#d)return!1;let _=v-this.#a,b=_/v,T=b*f,M=b*m,B=a,j=l;a=d,l=h,d+=T,h+=M,this.#h?.push(e,t);let H=-M/_,q=T/_,Y=H*this.#s,F=q*this.#s;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([d+Y,h+F],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([d-Y,h-F],16),isNaN(this.#i[6])?(this.#o.length===0&&(this.#i.set([a+Y,l+F],2),this.#o.push(NaN,NaN,NaN,NaN,(a+Y-r)/o,(l+F-i)/s),this.#i.set([a-Y,l-F],14),this.#t.push(NaN,NaN,NaN,NaN,(a-Y-r)/o,(l-F-i)/s)),this.#i.set([B,j,a,l,d,h],6),!this.isEmpty()):(this.#i.set([B,j,a,l,d,h],6),Math.abs(Math.atan2(j-l,B-a)-Math.atan2(M,T))<Math.PI/2?([a,l,d,h]=this.#i.subarray(2,6),this.#o.push(NaN,NaN,NaN,NaN,((a+d)/2-r)/o,((l+h)/2-i)/s),[a,l,B,j]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((B+a)/2-r)/o,((j+l)/2-i)/s),!0):([B,j,a,l,d,h]=this.#i.subarray(0,6),this.#o.push(((B+5*a)/6-r)/o,((j+5*l)/6-i)/s,((5*a+d)/6-r)/o,((5*l+h)/6-i)/s,((a+d)/2-r)/o,((l+h)/2-i)/s),[d,h,a,l,B,j]=this.#i.subarray(12,18),this.#t.push(((B+5*a)/6-r)/o,((j+5*l)/6-i)/s,((5*a+d)/6-r)/o,((5*l+h)/6-i)/s,((a+d)/2-r)/o,((l+h)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#o,t=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#m();let r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#w(r),r.join(" ")}#m(){let[e,t,r,i]=this.#e,[o,s,a,l]=this.#v();return`M${(this.#i[2]-e)/r} ${(this.#i[3]-t)/i} L${(this.#i[4]-e)/r} ${(this.#i[5]-t)/i} L${o} ${s} L${a} ${l} L${(this.#i[16]-e)/r} ${(this.#i[17]-t)/i} L${(this.#i[14]-e)/r} ${(this.#i[15]-t)/i} Z`}#w(e){let t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){let[t,r,i,o]=this.#e,s=this.#i.subarray(4,6),a=this.#i.subarray(16,18),[l,d,h,f]=this.#v();e.push(`L${(s[0]-t)/i} ${(s[1]-r)/o} L${l} ${d} L${h} ${f} L${(a[0]-t)/i} ${(a[1]-r)/o}`)}newFreeDrawOutline(e,t,r,i,o,s){return new yE(e,t,r,i,o,s)}getOutlines(){let e=this.#o,t=this.#t,r=this.#i,[i,o,s,a]=this.#e,l=new Float64Array((this.#h?.length??0)+2);for(let f=0,m=l.length-2;f<m;f+=2)l[f]=(this.#h[f]-i)/s,l[f+1]=(this.#h[f+1]-o)/a;if(l[l.length-2]=(this.#l-i)/s,l[l.length-1]=(this.#c-o)/a,isNaN(r[6])&&!this.isEmpty())return this.#x(l);let d=new Float64Array(this.#o.length+24+this.#t.length),h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){d[f]=d[f+1]=NaN;continue}d[f]=e[f],d[f+1]=e[f+1]}h=this.#b(d,h);for(let f=t.length-6;f>=6;f-=6)for(let m=0;m<6;m+=2){if(isNaN(t[f+m])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[f+m],d[h+1]=t[f+m+1],h+=2}return this.#k(d,h),this.newFreeDrawOutline(d,l,this.#e,this.#u,this.#n,this.#r)}#x(e){let t=this.#i,[r,i,o,s]=this.#e,[a,l,d,h]=this.#v(),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-r)/o,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-r)/o,(t[5]-i)/s,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-r)/o,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-r)/o,(t[15]-i)/s],0),this.newFreeDrawOutline(f,e,this.#e,this.#u,this.#n,this.#r)}#k(e,t){let r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6}#b(e,t){let r=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[o,s,a,l]=this.#e,[d,h,f,m]=this.#v();return e.set([NaN,NaN,NaN,NaN,(r[0]-o)/a,(r[1]-s)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(i[0]-o)/a,(i[1]-s)/l],t),t+=24}},yE=class extends wE{#e;#t=null;#n;#r;#o;#i;#l;constructor(e,t,r,i,o,s){super(),this.#l=e,this.#o=t,this.#e=r,this.#i=i,this.#n=o,this.#r=s,this.#a(s);let{x:a,y:l,width:d,height:h}=this.#t;for(let f=0,m=e.length;f<m;f+=2)e[f]=(e[f]-a)/d,e[f+1]=(e[f+1]-l)/h;for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-a)/d,t[f+1]=(t[f+1]-l)/h}toSVGPath(){let e=[`M${this.#l[4]} ${this.#l[5]}`];for(let t=6,r=this.#l.length;t<r;t+=6){if(isNaN(this.#l[t])){e.push(`L${this.#l[t+4]} ${this.#l[t+5]}`);continue}e.push(`C${this.#l[t]} ${this.#l[t+1]} ${this.#l[t+2]} ${this.#l[t+3]} ${this.#l[t+4]} ${this.#l[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,i],o){let s=r-e,a=i-t,l,d;switch(o){case 0:l=this.#c(this.#l,e,i,s,-a),d=this.#c(this.#o,e,i,s,-a);break;case 90:l=this.#d(this.#l,e,t,s,a),d=this.#d(this.#o,e,t,s,a);break;case 180:l=this.#c(this.#l,r,t,-s,a),d=this.#c(this.#o,r,t,-s,a);break;case 270:l=this.#d(this.#l,r,i,-s,-a),d=this.#d(this.#o,r,i,-s,-a);break}return{outline:Array.from(l),points:[Array.from(d)]}}#c(e,t,r,i,o){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a]*i,s[a+1]=r+e[a+1]*o;return s}#d(e,t,r,i,o){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a+1]*i,s[a+1]=r+e[a]*o;return s}#a(e){let t=this.#l,r=t[4],i=t[5],o=r,s=i,a=r,l=i,d=r,h=i,f=e?Math.max:Math.min;for(let T=6,M=t.length;T<M;T+=6){if(isNaN(t[T]))o=Math.min(o,t[T+4]),s=Math.min(s,t[T+5]),a=Math.max(a,t[T+4]),l=Math.max(l,t[T+5]),h<t[T+5]?(d=t[T+4],h=t[T+5]):h===t[T+5]&&(d=f(d,t[T+4]));else{let B=Ke.bezierBoundingBox(r,i,...t.slice(T,T+6));o=Math.min(o,B[0]),s=Math.min(s,B[1]),a=Math.max(a,B[2]),l=Math.max(l,B[3]),h<B[3]?(d=B[2],h=B[3]):h===B[3]&&(d=f(d,B[2]))}r=t[T+4],i=t[T+5]}let m=o-this.#n,v=s-this.#n,_=a-o+2*this.#n,b=l-s+2*this.#n;this.#t={x:m,y:v,width:_,height:b,lastPoint:[d,h]}}get box(){return this.#t}newOutliner(e,t,r,i,o,s=0){return new _E(e,t,r,i,o,s)}getNewOutline(e,t){let{x:r,y:i,width:o,height:s}=this.#t,[a,l,d,h]=this.#e,f=o*d,m=s*h,v=r*d+a,_=i*h+l,b=this.newOutliner({x:this.#o[0]*f+v,y:this.#o[1]*m+_},this.#e,this.#i,e,this.#r,t??this.#n);for(let T=2;T<this.#o.length;T+=2)b.add({x:this.#o[T]*f+v,y:this.#o[T+1]*m+_});return b.getOutlines()}get mustRemoveSelfIntersections(){return!0}},kE=class{#e;#t=[];#n=[];constructor(e,t=0,r=0,i=!0){let o=1/0,s=-1/0,a=1/0,l=-1/0,h=10**-4;for(let{x:M,y:B,width:j,height:H}of e){let q=Math.floor((M-t)/h)*h,Y=Math.ceil((M+j+t)/h)*h,F=Math.floor((B-t)/h)*h,A=Math.ceil((B+H+t)/h)*h,S=[q,F,A,!0],L=[Y,F,A,!1];this.#t.push(S,L),o=Math.min(o,q),s=Math.max(s,Y),a=Math.min(a,F),l=Math.max(l,A)}let f=s-o+2*r,m=l-a+2*r,v=o-r,_=a-r,b=this.#t.at(i?-1:-2),T=[b[0],b[2]];for(let M of this.#t){let[B,j,H]=M;M[0]=(B-v)/f,M[1]=(j-_)/m,M[2]=(H-_)/m}this.#e={x:v,y:_,width:f,height:m,lastPoint:T}}getOutlines(){this.#t.sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#c(t)),this.#i(t)):(this.#l(t),e.push(...this.#c(t)));return this.#r(e)}#r(e){let t=[],r=new Set;for(let s of e){let[a,l,d]=s;t.push([a,l,s],[a,d,s])}t.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=t.length;s<a;s+=2){let l=t[s][2],d=t[s+1][2];l.push(d),d.push(l),r.add(l),r.add(d)}let i=[],o;for(;r.size>0;){let s=r.values().next().value,[a,l,d,h,f]=s;r.delete(s);let m=a,v=l;for(o=[a,d],i.push(o);;){let _;if(r.has(h))_=h;else if(r.has(f))_=f;else break;r.delete(_),[a,l,d,h,f]=_,m!==a&&(o.push(m,v,a,v===l?l:d),m=a),v=v===l?d:l}o.push(m,v)}return new yN(i,this.#e)}#o(e){let t=this.#n,r=0,i=t.length-1;for(;r<=i;){let o=r+i>>1,s=t[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1}#i([,e,t]){let r=this.#o(e);this.#n.splice(r,0,[e,t])}#l([,e,t]){let r=this.#o(e);for(let i=r;i<this.#n.length;i++){let[o,s]=this.#n[i];if(o!==e)break;if(o===e&&s===t){this.#n.splice(i,1);return}}for(let i=r-1;i>=0;i--){let[o,s]=this.#n[i];if(o!==e)break;if(o===e&&s===t){this.#n.splice(i,1);return}}}#c(e){let[t,r,i]=e,o=[[t,r,i]],s=this.#o(i);for(let a=0;a<s;a++){let[l,d]=this.#n[a];for(let h=0,f=o.length;h<f;h++){let[,m,v]=o[h];if(!(d<=m||v<=l)){if(m>=l){if(v>d)o[h][1]=d;else{if(f===1)return[];o.splice(h,1),h--,f--}continue}o[h][2]=l,v>d&&o.push([t,d,v])}}}return o}},yN=class extends wE{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[r,i]=t;e.push(`M${r} ${i}`);for(let o=2;o<t.length;o+=2){let s=t[o],a=t[o+1];s===r?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,t,r,i],o){let s=[],a=r-e,l=i-t;for(let d of this.#t){let h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=e+d[f]*a,h[f+1]=i-d[f+1]*l;s.push(h)}return s}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}},mw=class extends _E{newFreeDrawOutline(e,t,r,i,o,s){return new kN(e,t,r,i,o,s)}get classNamesForDrawing(){return["highlight","free"]}},kN=class extends yE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,o,s=0){return new mw(e,t,r,i,o,s)}},bE=class n{#e=null;#t=null;#n;#r=null;#o=!1;#i=!1;#l=null;#c;#d=null;#a=null;#u;static#s=null;static get _keyboardManager(){return Jt(this,"_keyboardManager",new Ip([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#i=!1,this.#u=kt.HIGHLIGHT_COLOR,this.#l=e):(this.#i=!0,this.#u=kt.HIGHLIGHT_DEFAULT_COLOR),this.#a=e?._uiManager||t,this.#c=this.#a._eventBus,this.#n=e?.color||this.#a?.highlightColors.values().next().value||"#FFFF98",n.#s||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#a._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});let r=this.#t=document.createElement("span");return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=this.#n,e.append(r),e}renderMainDropdown(){let e=this.#r=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){let e=document.createElement("div"),t=this.#a._signal;e.addEventListener("contextmenu",Ds,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[r,i]of this.#a.highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",n.#s[r]);let s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===this.#n),o.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(o)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#u,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}let t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#g(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#g(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#g(e);return}this.#r.lastChild?.focus()}#p(e){n._keyboardManager.exec(this,e)}#g(e){if(this.#m){this.hideDropdown();return}if(this.#o=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#v.bind(this),{signal:this.#a.combinedSignal(this.#d)})),this.#r){this.#r.classList.remove("hidden");return}let t=this.#r=this.#h();this.#e.append(t)}#v(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#m){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;let t=this.#a.highlightColors.values();for(let r of this.#r.children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}},xE=class n extends In{#e=null;#t=0;#n;#r=null;#o=null;#i=null;#l=null;#c=0;#d=null;#a=null;#u=null;#s=!1;#h=null;#f;#p=null;#g="";#v;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Bt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return Jt(this,"_keyboardManager",new Ip([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Se(X({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#v=e.thickness||n._defaultThickness,this.#f=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#m=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#s=!0,this.#y(e),this.#S()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#l=e.focusNode,this.#c=e.focusOffset,this.#w(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#s?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#w(){let e=new kE(this.#n,.001);this.#a=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#a.box;let t=new kE(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=t.getOutlines();let{lastPoint:r}=this.#i.box;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#a=e;let i=1.5;if(this.#i=e.getNewOutline(this.#v/2+i,.0025),t>=0)this.#u=t,this.#r=r,this.parent.drawLayer.finalizeLine(t,e),this.#p=this.parent.drawLayer.drawOutline(this.#i);else if(this.parent){let h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,n.#C(this.#a.box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#p,this.#i),this.parent.drawLayer.updateBox(this.#p,n.#C(this.#i.box,h))}let{x:o,y:s,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=o,this.y=s,this.width=a,this.height=l;break;case 90:{let[h,f]=this.parentDimensions;this.x=s,this.y=1-o,this.width=a*f/h,this.height=l*h/f;break}case 180:this.x=1-o,this.y=1-s,this.width=a,this.height=l;break;case 270:{let[h,f]=this.parentDimensions;this.x=1-s,this.y=o,this.width=a*f/h,this.height=l*h/f;break}}let{lastPoint:d}=this.#i.box;this.#h=[(d[0]-o)/a,(d[1]-s)/l]}static initialize(e,t){In.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case kt.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case kt.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#h}updateParams(e,t){switch(e){case kt.HIGHLIGHT_COLOR:this.#x(t);break;case kt.HIGHLIGHT_THICKNESS:this.#k(t);break}}static get defaultPropertiesToUpdate(){return[[kt.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[kt.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[kt.HIGHLIGHT_COLOR,this.color||n._defaultColor],[kt.HIGHLIGHT_THICKNESS,this.#v||n._defaultThickness],[kt.HIGHLIGHT_FREE,this.#s]]}#x(e){let t=(o,s)=>{this.color=o,this.parent?.drawLayer.changeColor(this.#u,o),this.#o?.updateColor(o),this.#f=s,this.parent?.drawLayer.changeOpacity(this.#u,s)},r=this.color,i=this.#f;this.addCommands({cmd:t.bind(this,e,n._defaultOpacity),undo:t.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#k(e){let t=this.#v,r=i=>{this.#v=i,this.#b(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return x(this,null,function*(){let e=yield Mo(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#o=new bE({editor:this}),e.addColorPicker(this.#o)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#D())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#b(e){if(!this.#s)return;this.#y({highlightOutlines:this.#a.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,r]=this.parentDimensions;this.setDims(this.width*t,this.height*r)}#T(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#r}=e.drawLayer.draw(this.#a,this.color,this.#f),this.#p=e.drawLayer.drawOutline(this.#i),this.#d&&(this.#d.style.clipPath=this.#r))}static#C({x:e,y:t,width:r,height:i},o){switch(o){case 90:return{x:1-t-i,y:e,width:i,height:r};case 180:return{x:1-e-r,y:1-t-i,width:r,height:i};case 270:return{x:t,y:1-e-r,width:i,height:r}}return{x:e,y:t,width:r,height:i}}rotate(e){let{drawLayer:t}=this.parent,r;this.#s?(e=(e-this.rotation+360)%360,r=n.#C(this.#a.box,e)):r=n.#C(this,e),t.rotate(this.#u,e),t.rotate(this.#p,e),t.updateBox(this.#u,r),t.updateBox(this.#p,n.#C(this.#i.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#s?e.classList.add("free"):this.div.addEventListener("keydown",this.#I.bind(this),{signal:this._uiManager._signal});let t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r;let[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),Y4(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#p,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#p,"hovered")}#I(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#l,this.#c)}select(){super.select(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"hovered"),this.parent?.drawLayer.addClass(this.#p,"selected"))}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"selected"),this.#s||this.#M(!1))}get _mustFixPosition(){return!this.#s}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#p,e))}#D(){return this.#s?this.rotation:0}#P(){if(this.#s)return null;let[e,t]=this.pageDimensions,[r,i]=this.pageTranslation,o=this.#n,s=new Float32Array(o.length*8),a=0;for(let{x:l,y:d,width:h,height:f}of o){let m=l*e+r,v=(1-d-f)*t+i;s[a]=s[a+4]=m,s[a+1]=s[a+3]=v,s[a+2]=s[a+6]=m+h*e,s[a+5]=s[a+7]=v+f*t,a+=8}return s}#E(e){return this.#a.serialize(e,this.#D())}static startHighlighting(e,t,{target:r,x:i,y:o}){let{x:s,y:a,width:l,height:d}=r.getBoundingClientRect(),h=new AbortController,f=e.combinedSignal(h),m=_=>{_.preventDefault(),_.stopPropagation()},v=_=>{h.abort(),this.#A(e,_)};window.addEventListener("blur",v,{signal:f}),window.addEventListener("pointerup",v,{signal:f}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ds,{signal:f}),r.addEventListener("pointermove",this.#_.bind(this,e),{signal:f}),this._freeHighlight=new mw({x:i,y:o},[s,a,l,d],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#_(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#A(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,r){return x(this,null,function*(){let i=null;if(e instanceof mE){let{data:{quadPoints:_,rect:b,rotation:T,id:M,color:B,opacity:j,popupRef:H},parent:{page:{pageNumber:q}}}=e;i=e={annotationType:Bt.HIGHLIGHT,color:Array.from(B),opacity:j,quadPoints:_,boxes:null,pageIndex:q-1,rect:b.slice(0),rotation:T,id:M,deleted:!1,popupRef:H}}else if(e instanceof gw){let{data:{inkLists:_,rect:b,rotation:T,id:M,color:B,borderStyle:{rawWidth:j},popupRef:H},parent:{page:{pageNumber:q}}}=e;i=e={annotationType:Bt.HIGHLIGHT,color:Array.from(B),thickness:j,inkLists:_,boxes:null,pageIndex:q-1,rect:b.slice(0),rotation:T,id:M,deleted:!1,popupRef:H}}let{color:o,quadPoints:s,inkLists:a,opacity:l}=e,d=yield Mo(n,this,"deserialize").call(this,e,t,r);d.color=Ke.makeHexColor(...o),d.#f=l||1,a&&(d.#v=e.thickness),d.annotationElementId=e.id||null,d._initialData=i;let[h,f]=d.pageDimensions,[m,v]=d.pageTranslation;if(s){let _=d.#n=[];for(let b=0;b<s.length;b+=8)_.push({x:(s[b]-m)/h,y:1-(s[b+1]-v)/f,width:(s[b+2]-s[b])/h,height:(s[b+1]-s[b+5])/f});d.#w(),d.#S(),d.rotate(d.rotation)}else if(a){d.#s=!0;let _=a[0],b={x:_[0]-m,y:f-(_[1]-v)},T=new mw(b,[0,0,h,f],1,d.#v/2,!0,.001);for(let j=0,H=_.length;j<H;j+=2)b.x=_[j]-m,b.y=f-(_[j+1]-v),T.add(b);let{id:M,clipPathId:B}=t.drawLayer.draw(T,d.color,d._defaultOpacity,!0);d.#y({highlightOutlines:T.getOutlines(),highlightId:M,clipPathId:B}),d.#S()}return d})}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();let t=this.getRect(0,0),r=In._colorManager.convert(this.color),i={annotationType:Bt.HIGHLIGHT,color:r,opacity:this.#f,thickness:this.#v,quadPoints:this.#P(),outlines:this.#E(t),pageIndex:this.pageIndex,rect:t,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#R(i)?null:(i.id=this.annotationElementId,i)}#R(e){let{color:t}=this._initialData;return e.color.some((r,i)=>r!==t[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},bN=class n extends In{#e=0;#t=0;#n=null;#r=new Path2D;#o=!1;#i=null;#l=!1;#c=!1;#d=null;#a=null;#u=0;#s=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Bt.INK;constructor(e){super(Se(X({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){In.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case kt.INK_THICKNESS:n._defaultThickness=t;break;case kt.INK_COLOR:n._defaultColor=t;break;case kt.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case kt.INK_THICKNESS:this.#f(t);break;case kt.INK_COLOR:this.#p(t);break;case kt.INK_OPACITY:this.#g(t);break}}static get defaultPropertiesToUpdate(){return[[kt.INK_THICKNESS,n._defaultThickness],[kt.INK_COLOR,n._defaultColor||In._defaultLineColor],[kt.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[kt.INK_THICKNESS,this.thickness||n._defaultThickness],[kt.INK_COLOR,this.color||n._defaultColor||In._defaultLineColor],[kt.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#f(e){let t=i=>{this.thickness=i,this.#O()},r=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#p(e){let t=i=>{this.color=i,this.#C()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(e){let t=i=>{this.opacity=i,this.#C()};e/=100;let r=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#O()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,r=this.width*e,i=this.height*t;this.setDimensions(r,i)}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#I())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#M())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#v(){let{parentRotation:e,parentDimensions:[t,r]}=this;switch(e){case 90:return[0,r,r,t];case 180:return[t,r,t,r];case 270:return[t,0,r,t];default:return[0,0,t,r]}}#m(){let{ctx:e,color:t,opacity:r,thickness:i,parentScale:o,scaleFactor:s}=this;e.lineWidth=i*o/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${m4e(r)}`}#w(e,t){this.canvas.addEventListener("contextmenu",Ds,{signal:this._uiManager._signal}),this.#M(),this.#i=new AbortController;let r=this._uiManager.combinedSignal(this.#i);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,this.#c||(this.#c=!0,this.#_(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||In._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#l=!1,this.#m(),this.#h=()=>{this.#b(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#y(e,t){let[r,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&t===i)return;let o=this.currentPath,s=this.#r;if(o.push([e,t]),this.#l=!0,o.length<=2){s.moveTo(...o[0]),s.lineTo(e,t);return}o.length===3&&(this.#r=s=new Path2D,s.moveTo(...o[0])),this.#T(s,...o.at(-3),...o.at(-2),e,t)}#x(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#r.lineTo(...e)}#k(e,t){this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#y(e,t),this.#x();let r;if(this.currentPath.length!==1)r=this.#S();else{let l=[e,t];r=[[l,l.slice(),l.slice(),l]]}let i=this.#r,o=this.currentPath;this.currentPath=[],this.#r=new Path2D;let s=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#E()),this.#O())};this.addCommands({cmd:s,undo:a,mustExec:!0})}#b(){if(!this.#l)return;this.#l=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),r=t.map(h=>h[0]),i=t.map(h=>h[1]),o=Math.min(...r)-e,s=Math.max(...r)+e,a=Math.min(...i)-e,l=Math.max(...i)+e,{ctx:d}=this;d.save(),d.clearRect(0,0,this.canvas.width,this.canvas.height);for(let h of this.bezierPath2D)d.stroke(h);d.stroke(this.#r),d.restore()}#T(e,t,r,i,o,s,a){let l=(t+i)/2,d=(r+o)/2,h=(i+s)/2,f=(o+a)/2;e.bezierCurveTo(l+2*(i-l)/3,d+2*(o-d)/3,h+2*(i-h)/3,f+2*(o-f)/3,h,f)}#S(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],r,[i,o]=e[0];for(r=1;r<e.length-2;r++){let[m,v]=e[r],[_,b]=e[r+1],T=(m+_)/2,M=(v+b)/2,B=[i+2*(m-i)/3,o+2*(v-o)/3],j=[T+2*(m-T)/3,M+2*(v-M)/3];t.push([[i,o],B,j,[T,M]]),[i,o]=[T,M]}let[s,a]=e[r],[l,d]=e[r+1],h=[i+2*(s-i)/3,o+2*(a-o)/3],f=[l+2*(s-l)/3,d+2*(a-d)/3];return t.push([[i,o],h,f,[l,d]]),t}#C(){if(this.isEmpty()){this.#R();return}this.#m();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#R();for(let r of this.bezierPath2D)t.stroke(r)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#O(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#I(){if(this.#a)return;this.#a=new AbortController;let e=this._uiManager.combinedSignal(this.#a);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#M(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#w(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#y(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#D(e)}canvasPointerleave(e){this.#D(e)}#D(e){this.#i?.abort(),this.#i=null,this.#I(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Ds)},10),this.#k(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#d=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[r,i,o,s]=this.#v();if(this.setAt(r,i,0,0),this.setDims(o,s),this.#P(),this.width){let[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#c=!0,this.#_(),this.setDims(this.width*a,this.height*l),this.#C(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#_(){if(!this.#c)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#R()}setDimensions(e,t){let r=Math.round(e),i=Math.round(t);if(this.#u===r&&this.#s===i)return;this.#u=r,this.#s=i,this.canvas.style.visibility="hidden";let[o,s]=this.parentDimensions;this.width=e/o,this.height=t/s,this.fixAndSetPosition(),this.#o&&this.#A(e,t),this.#_(),this.#C(),this.canvas.style.visibility="visible",this.fixDims()}#A(e,t){let r=this.#V(),i=(e-r)/this.#t,o=(t-r)/this.#e;this.scaleFactor=Math.min(i,o)}#R(){let e=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#F(e){let t=new Path2D;for(let r=0,i=e.length;r<i;r++){let[o,s,a,l]=e[r];r===0&&t.moveTo(...o),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}return t}static#H(e,t,r){let[i,o,s,a]=t;switch(r){case 0:for(let l=0,d=e.length;l<d;l+=2)e[l]+=i,e[l+1]=a-e[l+1];break;case 90:for(let l=0,d=e.length;l<d;l+=2){let h=e[l];e[l]=e[l+1]+i,e[l+1]=h+o}break;case 180:for(let l=0,d=e.length;l<d;l+=2)e[l]=s-e[l],e[l+1]+=o;break;case 270:for(let l=0,d=e.length;l<d;l+=2){let h=e[l];e[l]=s-e[l+1],e[l+1]=a-h}break;default:throw new Error("Invalid rotation")}return e}static#j(e,t,r){let[i,o,s,a]=t;switch(r){case 0:for(let l=0,d=e.length;l<d;l+=2)e[l]-=i,e[l+1]=a-e[l+1];break;case 90:for(let l=0,d=e.length;l<d;l+=2){let h=e[l];e[l]=e[l+1]-o,e[l+1]=h-i}break;case 180:for(let l=0,d=e.length;l<d;l+=2)e[l]=s-e[l],e[l+1]-=o;break;case 270:for(let l=0,d=e.length;l<d;l+=2){let h=e[l];e[l]=a-e[l+1],e[l+1]=s-h}break;default:throw new Error("Invalid rotation")}return e}#L(e,t,r,i){let o=[],s=this.thickness/2,a=e*t+s,l=e*r+s;for(let d of this.paths){let h=[],f=[];for(let m=0,v=d.length;m<v;m++){let[_,b,T,M]=d[m];if(_[0]===M[0]&&_[1]===M[1]&&v===1){let L=e*_[0]+a,U=e*_[1]+l;h.push(L,U),f.push(L,U);break}let B=e*_[0]+a,j=e*_[1]+l,H=e*b[0]+a,q=e*b[1]+l,Y=e*T[0]+a,F=e*T[1]+l,A=e*M[0]+a,S=e*M[1]+l;m===0&&(h.push(B,j),f.push(B,j)),h.push(H,q,Y,F,A,S),f.push(H,q),m===v-1&&f.push(A,S)}o.push({bezier:n.#H(h,i,this.rotation),points:n.#H(f,i,this.rotation)})}return o}#B(){let e=1/0,t=-1/0,r=1/0,i=-1/0;for(let o of this.paths)for(let[s,a,l,d]of o){let h=Ke.bezierBoundingBox(...s,...a,...l,...d);e=Math.min(e,h[0]),r=Math.min(r,h[1]),t=Math.max(t,h[2]),i=Math.max(i,h[3])}return[e,r,t,i]}#V(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#O(e=!1){if(this.isEmpty())return;if(!this.#o){this.#C();return}let t=this.#B(),r=this.#V();this.#t=Math.max(In.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(In.MIN_SIZE,t[3]-t[1]);let i=Math.ceil(r+this.#t*this.scaleFactor),o=Math.ceil(r+this.#e*this.scaleFactor),[s,a]=this.parentDimensions;this.width=i/s,this.height=o/a,this.setAspectRatio(i,o);let l=this.translationX,d=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#_(),this.#C(),this.#u=i,this.#s=o,this.setDims(i,o);let h=e?r/this.scaleFactor/2:0;this.translate(l-this.translationX-h,d-this.translationY-h)}static deserialize(e,t,r){return x(this,null,function*(){if(e instanceof gw)return null;let i=yield Mo(n,this,"deserialize").call(this,e,t,r);i.thickness=e.thickness,i.color=Ke.makeHexColor(...e.color),i.opacity=e.opacity;let[o,s]=i.pageDimensions,a=i.width*o,l=i.height*s,d=i.parentScale,h=e.thickness/2;i.#o=!0,i.#u=Math.round(a),i.#s=Math.round(l);let{paths:f,rect:m,rotation:v}=e;for(let{bezier:b}of f){b=n.#j(b,m,v);let T=[];i.paths.push(T);let M=d*(b[0]-h),B=d*(b[1]-h);for(let H=2,q=b.length;H<q;H+=6){let Y=d*(b[H]-h),F=d*(b[H+1]-h),A=d*(b[H+2]-h),S=d*(b[H+3]-h),L=d*(b[H+4]-h),U=d*(b[H+5]-h);T.push([[M,B],[Y,F],[A,S],[L,U]]),M=L,B=U}let j=this.#F(T);i.bezierPath2D.push(j)}let _=i.#B();return i.#t=Math.max(In.MIN_SIZE,_[2]-_[0]),i.#e=Math.max(In.MIN_SIZE,_[3]-_[1]),i.#A(a,l),i})}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=In._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Bt.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#L(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},xN=class n extends In{#e=null;#t=null;#n=null;#r=null;#o=null;#i="";#l=null;#c=null;#d=null;#a=!1;#u=!1;static _type="stamp";static _editorType=Bt.STAMP;constructor(e){super(Se(X({},e),{name:"stampEditor"})),this.#r=e.bitmapUrl,this.#o=e.bitmapFile}static initialize(e,t){In.initialize(e,t)}static get supportedTypes(){return Jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return Jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Bt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#s(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#a=e.isSvg),e.file&&(this.#i=e.file.name),this.#p()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return x(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!(yield r.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:i,width:o,height:s}=e||this.copyCanvas(null,null,!0).imageData,a=yield r.guess({name:"altText",request:{data:i,width:o,height:s,channels:i.length/(o*s)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");let l=a.output;return yield this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#s(r,!0)).finally(()=>this.#h());return}if(this.#r){let r=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#s(i)).finally(()=>this.#h());return}if(this.#o){let r=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#s(i)).finally(()=>this.#h());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(r=>{e.addEventListener("change",()=>x(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let i=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#s(i)}r()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#c?.disconnect(),this.#c=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#p():this.#f(),this.width&&!this.annotationElementId){let[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i)}return this.div}#p(){let{div:e}=this,{width:t,height:r}=this.#e,[i,o]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,r=this.height*o;else if(t>s*i||r>s*o){let h=Math.min(s*i/t,s*o/r);t*=h,r*=h}let[a,l]=this.parentDimensions;this.setDims(t*a/i,r*l/o),this._uiManager.enableWaiting(!1);let d=this.#l=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(t,r),this.#y(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&d.setAttribute("aria-label",this.#i)}copyCanvas(e,t,r=!1){e||(e=224);let{width:i,height:o}=this.#e,s=new aw,a=this.#e,l=i,d=o,h=null;if(t){if(i>t||o>t){let Y=Math.min(t/i,t/o);l=Math.floor(i*Y),d=Math.floor(o*Y)}h=document.createElement("canvas");let m=h.width=Math.ceil(l*s.sx),v=h.height=Math.ceil(d*s.sy);this.#a||(a=this.#v(m,v));let _=h.getContext("2d");_.filter=this._uiManager.hcmFilter;let b="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",T="#42414d");let M=15,B=M*s.sx,j=M*s.sy,H=new OffscreenCanvas(B*2,j*2),q=H.getContext("2d");q.fillStyle=b,q.fillRect(0,0,B*2,j*2),q.fillStyle=T,q.fillRect(0,0,B,j),q.fillRect(B,j,B,j),_.fillStyle=_.createPattern(H,"repeat"),_.fillRect(0,0,m,v),_.drawImage(a,0,0,a.width,a.height,0,0,m,v)}let f=null;if(r){let m,v;if(s.symmetric&&a.width<e&&a.height<e)m=a.width,v=a.height;else if(a=this.#e,i>e||o>e){let T=Math.min(e/i,e/o);m=Math.floor(i*T),v=Math.floor(o*T),this.#a||(a=this.#v(m,v))}let b=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});b.drawImage(a,0,0,a.width,a.height,0,0,m,v),f={width:m,height:v,data:b.getImageData(0,0,m,v).data}}return{canvas:h,width:l,height:d,imageData:f}}#g(e,t){let[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);let o=200;this.#d=setTimeout(()=>{this.#d=null,this.#m(e,t)},o)}#v(e,t){let{width:r,height:i}=this.#e,o=r,s=i,a=this.#e;for(;o>2*e||s>2*t;){let l=o,d=s;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));let h=new OffscreenCanvas(o,s);h.getContext("2d").drawImage(a,0,0,l,d,0,0,o,s),a=h.transferToImageBitmap()}return a}#m(e,t){let r=new aw,i=Math.ceil(e*r.sx),o=Math.ceil(t*r.sy),s=this.#l;if(!s||s.width===i&&s.height===o)return;s.width=i,s.height=o;let a=this.#a?this.#e:this.#v(i,o),l=s.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(a,0,0,a.width,a.height,0,0,i,o)}getImageForAltText(){return this.#l}#w(e){if(e){if(this.#a){let i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#a){let[t,r]=this.pageDimensions,i=Math.round(this.width*t*_u.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*_u.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,o);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,o),s.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this._uiManager._signal&&(this.#c=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static deserialize(e,t,r){return x(this,null,function*(){let i=null;if(e instanceof vE){let{data:{rect:_,rotation:b,id:T,structParent:M,popupRef:B},container:j,parent:{page:{pageNumber:H}}}=e,q=j.querySelector("canvas"),Y=r.imageManager.getFromCanvas(j.id,q);q.remove();let F=(yield t._structTree.getAriaAttributes(`${MN}${T}`))?.get("aria-label")||"";i=e={annotationType:Bt.STAMP,bitmapId:Y.id,bitmap:Y.bitmap,pageIndex:H-1,rect:_.slice(0),rotation:b,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:F},isSvg:!1,structParent:M,popupRef:B}}let o=yield Mo(n,this,"deserialize").call(this,e,t,r),{rect:s,bitmap:a,bitmapUrl:l,bitmapId:d,isSvg:h,accessibilityData:f}=e;d&&r.imageManager.isValidId(d)?(o.#t=d,a&&(o.#e=a)):o.#r=l,o.#a=h;let[m,v]=o.pageDimensions;return o.width=(s[2]-s[0])/m,o.height=(s[3]-s[1])/v,o.annotationElementId=e.id||null,f&&(o.altTextData=f),o._initialData=i,o.#u=!!i,o})}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let r={annotationType:Bt.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#a,structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=this.#w(!0),r.accessibilityData=this.serializeAltText(!0),r;let{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){let a=this.#x(r);if(a.isSame)return null;a.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,t===null)return r;t.stamps||=new Map;let s=this.#a?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#w(!1);else if(this.#a){let a=t.stamps.get(this.#t);s>a.area&&(a.area=s,a.serialized.bitmap.close(),a.serialized.bitmap=this.#w(!1))}return r}#x(e){let{rect:t,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,o=e.rect.every((l,d)=>Math.abs(l-t[d])<1),s=e.pageIndex===r,a=(e.accessibilityData?.alt||"")===i;return{isSame:o&&s&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}},G4e=(()=>{class n{#e;#t=!1;#n=null;#r=null;#o=null;#i=new Map;#l=!1;#c=!1;#d=!1;#a=null;#u=null;#s;static _initialized=!1;static#h=new Map([_N,bN,xN,xE].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:r,div:i,structTreeLayer:o,accessibilityManager:s,annotationLayer:a,drawLayer:l,textLayer:d,viewport:h,l10n:f}){let m=[...n.#h.values()];if(!n._initialized){n._initialized=!0;for(let v of m)v.initialize(f,t)}t.registerEditorTypes(m),this.#s=t,this.pageIndex=r,this.div=i,this.#e=s,this.#n=a,this.viewport=h,this.#a=d,this.drawLayer=l,this._structTree=o,this.#s.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#s.getMode()===Bt.NONE}updateToolbar(t){this.#s.updateToolbar(t)}updateMode(t=this.#s.getMode()){switch(this.#m(),t){case Bt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Bt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:r}=this.div;for(let i of n.#h.values())r.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#a?.div}addInkEditorIfNeeded(t){if(this.#s.getMode()!==Bt.INK)return;if(!t){for(let i of this.#i.values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#s.setEditingState(t)}addCommands(t){this.#s.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){return x(this,null,function*(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let i of this.#i.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#s.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n)return;let r=this.#n.getEditableAnnotations();for(let i of r){if(i.hide(),this.#s.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;let o=yield this.deserialize(i);o&&(this.addOrRebuild(o),o.enableEditing())}})}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,r=new Map;for(let o of this.#i.values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else r.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}if(this.#n){let o=this.#n.getEditableAnnotations();for(let s of o){let{id:a}=s.data;if(this.#s.isDeletedAnnotationElement(a))continue;let l=r.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=t.get(a),l&&(this.#s.addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}this.#m(),this.isEmpty&&(this.div.hidden=!0);let{classList:i}=this.div;for(let o of n.#h.values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#s.getActive()!==t&&this.#s.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#a?.div&&!this.#u){this.#u=new AbortController;let t=this.#s.combinedSignal(this.#u);this.#a.div.addEventListener("pointerdown",this.#f.bind(this),{signal:t}),this.#a.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#a?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#a.div.classList.remove("highlighting"))}#f(t){this.#s.unselectAll();let{target:r}=t;if(r===this.#a.div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&this.#a.div.contains(r)){let{isMac:i}=Oi.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#s.showAllEditors("highlight",!0,!0),this.#a.div.classList.add("free"),this.toggleDrawing(),xE.startHighlighting(this,this.#s.direction==="ltr",{target:this.#a.div,x:t.x,y:t.y}),this.#a.div.addEventListener("pointerup",()=>{this.#a.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#s._signal}),t.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;let t=this.#s.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#r?.abort(),this.#r=null}attach(t){this.#i.set(t.id,t);let{annotationElementId:r}=t;r&&this.#s.isDeletedAnnotationElement(r)&&this.#s.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#d&&t.annotationElementId&&this.#s.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#s.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#s.addDeletedAnnotationElement(t.annotationElementId),In.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#s.addEditor(t),this.attach(t),!t.isAttachedToDOM){let r=t.render();this.div.append(r),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#s.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:r}=document;t.div.contains(r)&&!this.#o&&(t._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#s._signal}),r.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let r=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:r,undo:i,mustExec:!1})}getNextId(){return this.#s.getId()}get#p(){return n.#h.get(this.#s.getMode())}combinedSignal(t){return this.#s.combinedSignal(t)}#g(t){let r=this.#p;return r?new r.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#p?.canCreateNewEmptyEditor()}pasteEditor(t,r){this.#s.updateToolbar(t),this.#s.updateMode(t);let{offsetX:i,offsetY:o}=this.#v(),s=this.getNextId(),a=this.#g(X({parent:this,id:s,x:i,y:o,uiManager:this.#s,isCentered:!0},r));a&&this.add(a)}deserialize(t){return x(this,null,function*(){return(yield n.#h.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#s))||null})}createAndAddNewEditor(t,r,i={}){let o=this.getNextId(),s=this.#g(X({parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:this.#s,isCentered:r},i));return s&&this.add(s),s}#v(){let{x:t,y:r,width:i,height:o}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,r),l=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,r+o),h=(s+l)/2-t,f=(a+d)/2-r,[m,v]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:m,offsetY:v}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#s.setSelected(t)}toggleSelected(t){this.#s.toggleSelected(t)}unselect(t){this.#s.unselect(t)}pointerup(t){let{isMac:r}=Oi.platform;if(!(t.button!==0||t.ctrlKey&&r)&&t.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#s.getMode()===Bt.STAMP){this.#s.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#s.getMode()===Bt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}let{isMac:r}=Oi.platform;if(t.button!==0||t.ctrlKey&&r||t.target!==this.div)return;this.#l=!0;let i=this.#s.getActive();this.#t=!i||i.isEmpty()}findNewParent(t,r,i){let o=this.#s.findParent(r,i);return o===null||o===this?!1:(o.changeParent(t),!0)}destroy(){this.#s.getActive()?.parent===this&&(this.#s.commitOrRemove(),this.#s.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(let t of this.#i.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#s.removeLayer(this)}#m(){this.#c=!0;for(let t of this.#i.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,Sp(this.div,t);for(let r of this.#s.getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:t}){this.#s.commitOrRemove(),this.#m();let r=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Sp(this.div,{rotation:i}),r!==i)for(let o of this.#i.values())o.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:r}=this.viewport.rawDims;return[t,r]}get scale(){return this.#s.viewParameters.realScale}}return n})(),CN=class n{#e=null;#t=0;#n=new Map;#r=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Jt(this,"_svgFactory",new pw)}static#o(e,{x:t=0,y:r=0,width:i=1,height:o=1}={}){let{style:s}=e;s.top=`${100*r}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*o}%`}#i(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#o(t,e),t}#l(e,t){let r=n._svgFactory.createElement("clipPath");e.append(r);let i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");let o=n._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),i}draw(e,t,r,i=!1){let o=this.#t++,s=this.#i(e.box);s.classList.add(...e.classNamesForDrawing);let a=n._svgFactory.createElement("defs");s.append(a);let l=n._svgFactory.createElement("path");a.append(l);let d=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",d),l.setAttribute("d",e.toSVGPath()),i&&this.#r.set(o,l);let h=this.#l(a,d),f=n._svgFactory.createElement("use");return s.append(f),s.setAttribute("fill",t),s.setAttribute("fill-opacity",r),f.setAttribute("href",`#${d}`),this.#n.set(o,s),{id:o,clipPathId:`url(#${h})`}}drawOutline(e){let t=this.#t++,r=this.#i(e.box);r.classList.add(...e.classNamesForOutlining);let i=n._svgFactory.createElement("defs");r.append(i);let o=n._svgFactory.createElement("path");i.append(o);let s=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){let h=n._svgFactory.createElement("mask");i.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");let f=n._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");let m=n._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${s}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}let l=n._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);let d=l.cloneNode();return r.append(d),l.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.#n.set(t,r),t}finalizeLine(e,t){let r=this.#r.get(e);this.#r.delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#r.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#o(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}getSVGRoot(e){return this.#n.get(e)}remove(e){this.#r.delete(e),this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear(),this.#r.clear()}};var q4e=Et.AbortException,K4e=Et.AnnotationEditorLayer,Y4e=Et.AnnotationEditorParamsType,RN=Et.AnnotationEditorType,X4e=Et.AnnotationEditorUIManager,Z4e=Et.AnnotationLayer,Q4e=Et.AnnotationMode,J4e=Et.ColorPicker,eEe=Et.DOMSVGFactory,tEe=Et.DrawLayer,nEe=Et.FeatureTest,PN=Et.GlobalWorkerOptions,rEe=Et.ImageKind,iEe=Et.InvalidPDFException,oEe=Et.MissingPDFException,sEe=Et.OPS,aEe=Et.OutputScale,lEe=Et.PDFDataRangeTransport,cEe=Et.PDFDateString,dEe=Et.PDFWorker,uEe=Et.PasswordResponses,hEe=Et.PermissionFlag,pEe=Et.PixelsPerInch,fEe=Et.RenderingCancelledException,gEe=Et.TextLayer,mEe=Et.UnexpectedResponseException,vEe=Et.Util,ON=Et.VerbosityLevel,wEe=Et.XfaLayer,_Ee=Et.build,yEe=Et.createValidAbsoluteUrl,kEe=Et.fetchData,NN=Et.getDocument,bEe=Et.getFilenameFromUrl,xEe=Et.getPdfFilenameFromUrl,CEe=Et.getXfaPageViewport,EEe=Et.isDataScheme,MEe=Et.isPdfFile,SEe=Et.noContextMenu,IEe=Et.normalizeUnicode,AEe=Et.setLayerDimensions,TEe=Et.shadow,ww=Et.version;var x8={};bF(x8,{AnnotationLayerBuilder:()=>vSe,DownloadManager:()=>wSe,EventBus:()=>_Se,FindState:()=>ySe,GenericL10n:()=>w8,LinkTarget:()=>Pp,PDFFindController:()=>_8,PDFHistory:()=>kSe,PDFLinkService:()=>y8,PDFPageView:()=>bSe,PDFScriptingManager:()=>xSe,PDFSinglePageViewer:()=>k8,PDFViewer:()=>b8,ProgressBar:()=>CSe,RenderingStates:()=>ESe,ScrollMode:()=>MSe,SimpleLinkService:()=>SSe,SpreadMode:()=>ISe,StructTreeLayerBuilder:()=>ASe,TextLayerBuilder:()=>TSe,XfaLayerBuilder:()=>DSe,parseQueryString:()=>RSe});var yw={};yw.d=(n,e)=>{for(var t in e)yw.o(e,t)&&!yw.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};yw.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ur=globalThis.pdfjsViewer={};yw.d(ur,{AnnotationLayerBuilder:()=>HE,DownloadManager:()=>KN,EventBus:()=>UE,FindState:()=>ku,GenericL10n:()=>rm,LinkTarget:()=>Tp,PDFFindController:()=>GN,PDFHistory:()=>o8,PDFLinkService:()=>VE,PDFPageView:()=>KE,PDFScriptingManager:()=>f8,PDFSinglePageViewer:()=>v8,PDFViewer:()=>YE,ProgressBar:()=>WN,RenderingStates:()=>mr,ScrollMode:()=>sn,SimpleLinkService:()=>xw,SpreadMode:()=>Zi,StructTreeLayerBuilder:()=>WE,TextLayerBuilder:()=>GE,XfaLayerBuilder:()=>qE,parseQueryString:()=>XE});var DEe="auto",mZ=1,FX=1.1,REe=.1,PEe=10,LN=0,OEe=1.25,BX=40,VX=5,mr={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},em={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var ml={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},sn={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Zi={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function vZ(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,o=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,o+=r.offsetLeft,r=r.offsetParent,!r)return;e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0&&(o+=e.left,r.scrollLeft=o)),r.scrollTop=i}function NEe(n,e,t=void 0){let r=function(s){o||(o=window.requestAnimationFrame(function(){o=null;let l=n.scrollLeft,d=i.lastX;l!==d&&(i.right=l>d),i.lastX=l;let h=n.scrollTop,f=i.lastY;h!==f&&(i.down=h>f),i.lastY=h,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r},o=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(o),{once:!0}),i}function XE(n){let e=new Map;for(let[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}var jX=/[\x00-\x1F]/g;function kw(n,e=!1){return jX.test(n)?e?n.replaceAll(jX,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function bw(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){let o=r+i>>1,s=n[o];e(s)?i=o:r=o+1}return r}function HX(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let r=n>1?e:n,i=0,o=1,s=1,a=1;for(;;){let d=i+s,h=o+a;if(h>t)break;r<=d/h?(s=d,a=h):(i=d,o=h)}let l;return r-i/o<s/a-r?l=r===n?[i,o]:[o,i]:l=r===n?[s,a]:[a,s],l}function RE(n,e){return n-n%e}function LEe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let o=n-2;o>=0&&(r=e[o].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--o)n=o;return n}function FEe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){let o=n.scrollTop,s=o+n.clientHeight,a=n.scrollLeft,l=a+n.clientWidth;function d(B){let j=B.div;return j.offsetTop+j.clientTop+j.clientHeight>o}function h(B){let j=B.div,H=j.offsetLeft+j.clientLeft,q=H+j.clientWidth;return i?H<l:q>a}let f=[],m=new Set,v=e.length,_=bw(e,r?h:d);_>0&&_<v&&!r&&(_=LEe(_,e,o));let b=r?l:-1;for(let B=_;B<v;B++){let j=e[B],H=j.div,q=H.offsetLeft+H.clientLeft,Y=H.offsetTop+H.clientTop,F=H.clientWidth,A=H.clientHeight,S=q+F,L=Y+A;if(b===-1)L>=s&&(b=L);else if((r?q:Y)>b)break;if(L<=o||Y>=s||S<=a||q>=l)continue;let U=Math.max(0,o-Y)+Math.max(0,L-s),K=Math.max(0,a-q)+Math.max(0,S-l),z=(A-U)/A,rt=(F-K)/F,ht=z*rt*100|0;f.push({id:j.id,x:q,y:Y,view:j,percent:ht,widthPercent:rt*100|0}),m.add(j.id)}let T=f[0],M=f.at(-1);return t&&f.sort(function(B,j){let H=B.percent-j.percent;return Math.abs(H)>.001?-H:B.id-j.id}),{first:T,last:M,views:f,ids:m}}function wZ(n){return Number.isInteger(n)&&n%90===0}function BEe(n){return Number.isInteger(n)&&Object.values(sn).includes(n)&&n!==sn.UNKNOWN}function VEe(n){return Number.isInteger(n)&&Object.values(Zi).includes(n)&&n!==Zi.UNKNOWN}function UX(n){return n.width<=n.height}var Jdt=new Promise(function(n){window.requestAnimationFrame(n)}),jEe=document.documentElement.style;function HEe(n,e,t){return Math.min(Math.max(n,e),t)}var WN=class{#e=null;#t=null;#n=0;#r=null;#o=!0;constructor(e){this.#e=e.classList,this.#r=e.style}get percent(){return this.#n}set percent(e){if(this.#n=HEe(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#r.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&this.#r.setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#o&&(this.#o=!1,this.#e.add("hidden"))}show(){this.#o||(this.#o=!0,this.#e.remove("hidden"))}};function UEe(n){let e=sn.VERTICAL,t=Zi.NONE;switch(n){case"SinglePage":e=sn.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=sn.PAGE;case"TwoColumnLeft":t=Zi.ODD;break;case"TwoPageRight":e=sn.PAGE;case"TwoColumnRight":t=Zi.EVEN;break}return{scrollMode:e,spreadMode:t}}var PE=(function(){let n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),pa={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function zEe(n){return n<11904}function $Ee(n){return(n&65408)===0}function WEe(n){return n>=97&&n<=122||n>=65&&n<=90}function GEe(n){return n>=48&&n<=57}function qEe(n){return n===32||n===9||n===13||n===10}function KEe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function YEe(n){return n>=12448&&n<=12543}function XEe(n){return n>=12352&&n<=12447}function ZEe(n){return n>=65376&&n<=65439}function QEe(n){return(n&65408)===3584}function OE(n){return zEe(n)?$Ee(n)?qEe(n)?pa.SPACE:WEe(n)||GEe(n)||n===95?pa.ALPHA_LETTER:pa.PUNCT:QEe(n)?pa.THAI_LETTER:n===160?pa.SPACE:pa.ALPHA_LETTER:KEe(n)?pa.HAN_LETTER:YEe(n)?pa.KATAKANA_LETTER:XEe(n)?pa.HIRAGANA_LETTER:ZEe(n)?pa.HALFWIDTH_KATAKANA_LETTER:pa.ALPHA_LETTER}var zX;function JEe(){return zX||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",zX}var ku={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},eMe=250,tMe=-50,nMe=-400,$X={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},WX=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),GX,rMe=new RegExp("\\p{M}+","gu"),iMe=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),oMe=new RegExp("([^\\p{M}])\\p{M}*$","u"),sMe=new RegExp("^\\p{M}*([^\\p{M}])","u"),aMe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,qX=new Map,lMe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",KX=new Map,FN=null,BN=null;function VN(n){let e=[],t;for(;(t=aMe.exec(n))!==null;){let{index:v}=t;for(let _ of t[0]){let b=qX.get(_);b||(b=_.normalize("NFD").length,qX.set(_,b)),e.push([b,v++])}}let r;if(e.length===0&&FN)r=FN;else if(e.length>0&&BN)r=BN;else{let v=Object.keys($X).join(""),_=JEe(),B=`([${v}])|([${_}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?r=FN=new RegExp(B+"|(\\u0000)","gum"):r=BN=new RegExp(B+`|(${lMe})`,"gum")}let i=[];for(;(t=rMe.exec(n))!==null;)i.push([t[0].length,t.index]);let o=n.normalize("NFD"),s=[[0,0]],a=0,l=0,d=0,h=0,f=0,m=!1;return o=o.replace(r,(v,_,b,T,M,B,j,H,q,Y,F)=>{if(F-=h,_){let A=$X[_],S=A.length;for(let L=1;L<S;L++)s.push([F-d+L,d-L]);return d-=S-1,A}if(b){let A=KX.get(b);A||(A=b.normalize("NFKC"),KX.set(b,A));let S=A.length;for(let L=1;L<S;L++)s.push([F-d+L,d-L]);return d-=S-1,A}if(T)return m=!0,F+f===i[a]?.[1]?++a:(s.push([F-1-d+1,d-1]),d-=1,h+=1),s.push([F-d+1,d]),h+=1,f+=1,T.charAt(0);if(M){let A=M.endsWith(`
`),S=A?M.length-2:M.length;m=!0;let L=S;F+f===i[a]?.[1]&&(L-=i[a][0],++a);for(let U=1;U<=L;U++)s.push([F-1-d+U,d-U]);return d-=L,h+=L,A?(F+=S-1,s.push([F-d+1,1+d]),d+=1,h+=1,f+=1,M.slice(0,S)):M}if(B)return s.push([F-d+3,1+d]),d+=1,h+=1,f+=1,B.replace(`
`,"");if(j){let A=j.length-2;return s.push([F-d+A,1+d]),d+=1,h+=1,f+=1,j.slice(0,-2)}if(H){let A=H.length-1;return s.push([F-d+A,d]),h+=1,f+=1,H.slice(0,-1)}if(q)return s.push([F-d+1,d-1]),d-=1,h+=1,f+=1," ";if(F+f===e[l]?.[1]){let A=e[l][0]-1;++l;for(let S=1;S<=A;S++)s.push([F-(d-S),d-S]);d-=A,h+=A}return Y}),s.push([o.length,d]),[o,s,m]}function cMe(n,e,t){if(!n)return[e,t];let r=e,i=e+t-1,o=bw(n,h=>h[0]>=r);n[o][0]>r&&--o;let s=bw(n,h=>h[0]>=i,o);n[s][0]>i&&--s;let a=r+n[o][1],d=i+n[s][1]+1-a;return[a,d]}var GN=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){this._linkService=e,this._eventBus=t,this.#t=r,this.onIsPageVisible=null,this.#o(),t._on("find",this.#r.bind(this)),t._on("findbarclose",this.#w.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#o(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#r(e){if(!e)return;let t=this._pdfDocument,{type:r}=e;(this.#e===null||this.#l(e))&&(this._dirtyMatch=!0),this.#e=e,r!=="highlightallchange"&&this.#k(ku.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();let i=!this._highlightMatches,o=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?this.#f():r==="again"?(this.#f(),i&&this.#e.highlightAll&&this.#h()):r==="highlightallchange"?(o?this.#f():this._highlightMatches=!0,this.#h()):this.#f():this._findTimeout=setTimeout(()=>{this.#f(),this._findTimeout=null},eMe)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1;let o={top:tMe,left:t+nMe};vZ(e,o,!0)}#o(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#i(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=VN(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>VN(t)[0])}#l(e){let t=e.query,r=this.#e.query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":let s=this._selected.pageIdx+1,a=this._linkService;return s>=1&&s<=a.pagesCount&&s!==a.page&&!(this.onIsPageVisible?.(s)??!0);case"highlightallchange":return!1}return!0}#c(e,t,r){let i=e.slice(0,t).match(oMe);if(i){let o=e.charCodeAt(t),s=i[1].charCodeAt(0);if(OE(o)===OE(s))return!1}if(i=e.slice(t+r).match(sMe),i){let o=e.charCodeAt(t+r-1),s=i[1].charCodeAt(0);if(OE(o)===OE(s))return!1}return!0}#d(e,t){let{matchDiacritics:r}=this.#e,i=!1;e=e.replaceAll(iMe,(s,a,l,d,h,f)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:d?"[ ]+":r?h||f:h?WX.has(h.charCodeAt(0))?h:"":t?(i=!0,`${f}\\p{M}*`):f);let o="[ ]*";return e.endsWith(o)&&(e=e.slice(0,e.length-o.length)),r&&t&&(GX||=String.fromCharCode(...WX),i=!0,e=`${e}(?=[${GX}]|[^\\p{M}]|$)`),[i,e]}#a(e){let t=this.#i;if(t.length===0)return;let r=this._pageContents[e],i=this.match(t,r,e),o=this._pageMatches[e]=[],s=this._pageMatchesLength[e]=[],a=this._pageDiffs[e];i?.forEach(({index:d,length:h})=>{let[f,m]=cMe(a,d,h);m&&(o.push(f),s.push(m))}),this.#e.highlightAll&&this.#s(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());let l=o.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#x():++this.#n===this._linkService.pagesCount&&this.#x()}match(e,t,r){let i=this._hasDiacritics[r],o=!1;if(typeof e=="string"?[o,e]=this.#d(e,i):e=e.sort().reverse().map(f=>{let[m,v]=this.#d(f,i);return o||=m,`(${v})`}).join("|"),!e)return;let{caseSensitive:s,entireWord:a}=this.#e,l=`g${o?"u":""}${s?"":"i"}`;e=new RegExp(e,l);let d=[],h;for(;(h=e.exec(t))!==null;)a&&!this.#c(t,h.index,h[0].length)||d.push({index:h.index,length:h[0].length});return d}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let r=0,i=this._linkService.pagesCount;r<i;r++){let{promise:o,resolve:s}=Promise.withResolvers();this._extractTextPromises[r]=o,e=e.then(()=>this._pdfDocument.getPage(r+1).then(a=>a.getTextContent(t)).then(a=>{let l=[];for(let d of a.items)l.push(d.str),d.hasEOL&&l.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=VN(l.join("")),s()},a=>{console.error(`Unable to get text content for page ${r+1}`,a),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,s()}))}}#s(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#f(){let e=this.#e.findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let s=0;s<r;s++)this._pendingFindMatches.has(s)||(this._pendingFindMatches.add(s),this._extractTextPromises[s].then(()=>{this._pendingFindMatches.delete(s),this.#a(s)}))}if(this.#i.length===0){this.#k(ku.FOUND);return}if(this._resumePageIdx)return;let o=this._offset;if(this._pagesToSearch=r,o.matchIdx!==null){let s=this._pageMatches[o.pageIdx].length;if(!e&&o.matchIdx+1<s||e&&o.matchIdx>0){o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,this.#m(!0);return}this.#v(e)}this.#g()}#p(e){let t=this._offset,r=e.length,i=this.#e.findPrevious;return r?(t.matchIdx=i?r-1:0,this.#m(!0),!0):(this.#v(i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#g(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#p(e))}#v(e){let t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)}#m(e=!1){let t=ku.NOT_FOUND,r=this._offset.wrapped;if(this._offset.wrapped=!1,e){let i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?ku.WRAPPED:ku.FOUND,i!==-1&&i!==this._selected.pageIdx&&this.#s(i)}this.#k(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#s(this._selected.pageIdx))}#w(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#k(ku.FOUND),this._highlightMatches=!1,this.#h())})}#y(){let{pageIdx:e,matchIdx:t}=this._selected,r=0,i=this._matchesCountTotal;if(t!==-1){for(let o=0;o<e;o++)r+=this._pageMatches[o]?.length||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}#x(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#y()})}#k(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===ku.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#y(),rawQuery:this.#e?.query??null})}},dMe="noopener noreferrer nofollow",Tp={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},VE=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return x(this,null,function*(){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=yield this.pdfDocument.getDestination(e)):(t=null,r=yield e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}let[o]=r;if(o&&typeof o=="object"){if(i=this.pdfDocument.cachedPageNumber(o),!i)try{i=(yield this.pdfDocument.getPageIndex(o))+1}catch{console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(o)&&(i=o+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let i=r?Tp.BLANK:this.externalLinkTarget,o=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let s="";switch(i){case Tp.NONE:break;case Tp.SELF:s="_self";break;case Tp.BLANK:s="_blank";break;case Tp.PARENT:s="_parent";break;case Tp.TOP:s="_top";break}e.target=s,e.rel=typeof o=="string"?o:dMe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){let i=XE(e);if(i.has("search")){let o=i.get("search").replaceAll('"',""),s=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:s?o:o.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){let o=i.get("zoom").split(","),s=o[0],a=parseFloat(s);s.includes("Fit")?s==="Fit"||s==="FitB"?r=[null,{name:s}]:s==="FitH"||s==="FitBH"||s==="FitV"||s==="FitBV"?r=[null,{name:s},o.length>1?o[1]|0:null]:s==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:s},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${s}" is not a valid zoom value.`):r=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,a?a/100:s]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||n.#e(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return x(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,r=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,r,...i]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof r=="object"&&typeof r?.name=="string"))return!1;let o=i.length,s=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;s=!1;break;default:return!1}for(let a of i)if(!(typeof a=="number"||s&&a===null))return!1;return!0}},xw=class extends VE{setDocument(e,t=null){}},{AbortException:uMe,AnnotationEditorLayer:hMe,AnnotationEditorParamsType:eut,AnnotationEditorType:ss,AnnotationEditorUIManager:pMe,AnnotationLayer:fMe,AnnotationMode:zc,build:tut,ColorPicker:nut,createValidAbsoluteUrl:gMe,DOMSVGFactory:rut,DrawLayer:mMe,FeatureTest:iut,fetchData:YX,getDocument:out,getFilenameFromUrl:sut,getPdfFilenameFromUrl:vMe,getXfaPageViewport:aut,GlobalWorkerOptions:lut,ImageKind:cut,InvalidPDFException:dut,isDataScheme:uut,isPdfFile:wMe,MissingPDFException:hut,noContextMenu:put,normalizeUnicode:_Me,OPS:fut,OutputScale:yMe,PasswordResponses:gut,PDFDataRangeTransport:mut,PDFDateString:vut,PDFWorker:wut,PermissionFlag:NE,PixelsPerInch:Uc,RenderingCancelledException:qN,setLayerDimensions:kMe,shadow:jE,TextLayer:bMe,UnexpectedResponseException:_ut,Util:yut,VerbosityLevel:kut,version:XX,XfaLayer:jN}=globalThis.pdfjsLib,HE=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:o="",renderForms:s=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:d=null,annotationCanvasMap:h=null,accessibilityManager:f=null,annotationEditorUIManager:m=null,onAppend:v=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=o,this.renderForms=s,this.annotationStorage=i,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=d||Promise.resolve(null),this._annotationCanvasMap=h,this._accessibilityManager=f,this._annotationEditorUIManager=m,this.#e=v,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t,r="display"){return x(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[i,o,s]=yield Promise.all([this.pdfPage.getAnnotations({intent:r}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let a=this.div=document.createElement("div");if(a.className="annotationLayer",this.#e?.(a),i.length===0){this.hide();return}this.annotationLayer=new fMe({div:a,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t?.structTreeLayer||null}),yield this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:o,fieldObjects:s}),this.linkService.isInPresentationMode&&this.#n(em.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",l=>{this.#n(l.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case em.FULLSCREEN:t=!0;break;case em.NORMAL:break;default:return}for(let r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)}};function ZX(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var KN=class{#e=new WeakMap;downloadData(e,t,r){let i=URL.createObjectURL(new Blob([e],{type:r}));ZX(i,t)}openOrDownloadData(e,t,r=null){let o=wMe(t)?"application/pdf":"";return this.downloadData(e,t,o),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!gMe(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}ZX(i,r)}},QX={EVENT:"event",TIMEOUT:"timeout"};function xMe(r){return x(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:i,resolve:o}=Promise.withResolvers(),s=new AbortController;function a(h){s.abort(),clearTimeout(d),o(h)}let l=n instanceof UE?"_on":"addEventListener";n[l](e,a.bind(null,QX.EVENT),{signal:s.signal});let d=setTimeout(a.bind(null,QX.TIMEOUT),t);return i})}var UE=class{#e=Object.create(null);on(e,t,r=null){this._on(e,t,{external:!0,once:r?.once,signal:r?.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){let r=this.#e[e];if(!r||r.length===0)return;let i;for(let{listener:o,external:s,once:a}of r.slice(0)){if(a&&this._off(e,o),s){(i||=[]).push(o);continue}o(t)}if(i){for(let o of i)o(t);i=null}}_on(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){let{signal:s}=r;if(s.aborted){console.error("Cannot use an `aborted` signal.");return}let a=()=>this._off(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:r?.external===!0,once:r?.once===!0,rmAbort:i})}_off(e,t,r=null){let i=this.#e[e];if(i)for(let o=0,s=i.length;o<s;o++){let a=i[o];if(a.listener===t){a.rmAbort?.(),i.splice(o,1);return}}}};var tm=class{constructor(e){this.value=e}valueOf(){return this.value}},vr=class extends tm{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},fa=class extends tm{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},Rp=class extends tm{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},JX=100,CMe="\u2068",EMe="\u2069";function MMe(n,e,t){if(t===e||t instanceof fa&&e instanceof fa&&t.value===e.value)return!0;if(e instanceof fa&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function eZ(n,e,t){return e[t]?nm(n,e[t].value):(n.reportError(new RangeError("No default")),new vr)}function YN(n,e){let t=[],r=Object.create(null);for(let i of e)i.type==="narg"?r[i.name]=Cw(n,i.value):t.push(Cw(n,i));return{positional:t,named:r}}function Cw(n,e){switch(e.type){case"str":return e.value;case"num":return new fa(e.value,{minimumFractionDigits:e.precision});case"var":return SMe(n,e);case"mesg":return IMe(n,e);case"term":return AMe(n,e);case"func":return TMe(n,e);case"select":return DMe(n,e);default:return new vr}}function SMe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new vr(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new vr(`$${e}`);if(t instanceof tm)return t;switch(typeof t){case"string":return t;case"number":return new fa(t);case"object":if(t instanceof Date)return new Rp(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new vr(`$${e}`)}}function IMe(n,{name:e,attr:t}){let r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new vr(e);if(t){let i=r.attributes[t];return i?nm(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new vr(`${e}.${t}`))}return r.value?nm(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new vr(e))}function AMe(n,{name:e,attr:t,args:r}){let i=`-${e}`,o=n.bundle._terms.get(i);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new vr(i);if(t){let a=o.attributes[t];if(a){n.params=YN(n,r).named;let l=nm(n,a);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new vr(`${i}.${t}`)}n.params=YN(n,r).named;let s=nm(n,o.value);return n.params=null,s}function TMe(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new vr(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new vr(`${e}()`);try{let i=YN(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new vr(`${e}()`)}}function DMe(n,{selector:e,variants:t,star:r}){let i=Cw(n,e);if(i instanceof vr)return eZ(n,t,r);for(let o of t){let s=Cw(n,o.key);if(MMe(n,i,s))return nm(n,o.value)}return eZ(n,t,r)}function _Z(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new vr;n.dirty.add(e);let t=[],r=n.bundle._useIsolating&&e.length>1;for(let i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>JX)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${JX}`);r&&t.push(CMe),t.push(Cw(n,i).toString(n)),r&&t.push(EMe)}return n.dirty.delete(e),t.join("")}function nm(n,e){return typeof e=="string"?n.bundle._transform(e):_Z(n,e)}var XN=class{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}};function zE(n,e){let t=Object.create(null);for(let[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}var tZ=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function RMe(n,e){let t=n[0];if(t instanceof vr)return new vr(`NUMBER(${t.valueOf()})`);if(t instanceof fa)return new fa(t.valueOf(),X(X({},t.opts),zE(e,tZ)));if(t instanceof Rp)return new fa(t.valueOf(),X({},zE(e,tZ)));throw new TypeError("Invalid argument to NUMBER")}var nZ=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function PMe(n,e){let t=n[0];if(t instanceof vr)return new vr(`DATETIME(${t.valueOf()})`);if(t instanceof Rp)return new Rp(t.valueOf(),X(X({},t.opts),zE(e,nZ)));if(t instanceof fa)return new Rp(t.valueOf(),X({},zE(e,nZ)));throw new TypeError("Invalid argument to DATETIME")}var rZ=new Map;function OMe(n){let e=Array.isArray(n)?n.join(" "):n,t=rZ.get(e);return t===void 0&&(t=new Map,rZ.set(e,t)),t}var ZN=class{constructor(e,{functions:t,useIsolating:r=!0,transform:i=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=X({NUMBER:RMe,DATETIME:PMe},t),this._useIsolating=r,this._transform=i,this._intls=OMe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let r=[];for(let i=0;i<e.body.length;i++){let o=e.body[i];if(o.id.startsWith("-")){if(t===!1&&this._terms.has(o.id)){r.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(t===!1&&this._messages.has(o.id)){r.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new XN(this,r,t);try{return _Z(i,e).toString(i)}catch(o){if(i.errors&&o instanceof Error)return i.errors.push(o),new vr().toString(i);throw o}}},HN=/^(-?[a-zA-Z][\w-]*) *= */gm,iZ=/\.([a-zA-Z][\w-]*) *= */y,NMe=/\*?\[/y,UN=/(-?[0-9]+(?:\.([0-9]+))?)/y,LMe=/([a-zA-Z][\w-]*)/y,oZ=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,FMe=/^[A-Z][A-Z0-9_-]*$/,LE=/([^{}\n\r]+)/y,BMe=/([^\\"\n\r]*)/y,sZ=/\\([\\"])/y,aZ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,VMe=/^\n+/,lZ=/ +$/,jMe=/ *\r?\n/g,HMe=/( *)$/,UMe=/{\s*/y,cZ=/\s*}/y,zMe=/\[\s*/y,$Me=/\s*] */y,WMe=/\s*\(\s*/y,GMe=/\s*->\s*/y,qMe=/\s*:\s*/y,KMe=/\s*,?\s*/y,YMe=/\s+/y,QN=class{constructor(e){this.body=[],HN.lastIndex=0;let t=0;for(;;){let S=HN.exec(e);if(S===null)break;t=HN.lastIndex;try{this.body.push(l(S[1]))}catch(L){if(L instanceof SyntaxError)continue;throw L}}function r(S){return S.lastIndex=t,S.test(e)}function i(S,L){if(e[t]===S)return t++,!0;if(L)throw new L(`Expected ${S}`);return!1}function o(S,L){if(r(S))return t=S.lastIndex,!0;if(L)throw new L(`Expected ${S.toString()}`);return!1}function s(S){S.lastIndex=t;let L=S.exec(e);if(L===null)throw new SyntaxError(`Expected ${S.toString()}`);return t=S.lastIndex,L}function a(S){return s(S)[1]}function l(S){let L=h(),U=d();if(L===null&&Object.keys(U).length===0)throw new SyntaxError("Expected message value or attributes");return{id:S,value:L,attributes:U}}function d(){let S=Object.create(null);for(;r(iZ);){let L=a(iZ),U=h();if(U===null)throw new SyntaxError("Expected attribute value");S[L]=U}return S}function h(){let S;if(r(LE)&&(S=a(LE)),e[t]==="{"||e[t]==="}")return f(S?[S]:[],1/0);let L=Y();return L?S?f([S,L],L.length):(L.value=F(L.value,VMe),f([L],L.length)):S?F(S,lZ):null}function f(S=[],L){for(;;){if(r(LE)){S.push(a(LE));continue}if(e[t]==="{"){S.push(m());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let rt=Y();if(rt){S.push(rt),L=Math.min(L,rt.length);continue}break}let U=S.length-1,K=S[U];typeof K=="string"&&(S[U]=F(K,lZ));let z=[];for(let rt of S)rt instanceof $E&&(rt=rt.value.slice(0,rt.value.length-L)),rt&&z.push(rt);return z}function m(){o(UMe,SyntaxError);let S=v();if(o(cZ))return S;if(o(GMe)){let L=T();return o(cZ,SyntaxError),X({type:"select",selector:S},L)}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return m();if(r(oZ)){let[,S,L,U=null]=s(oZ);if(S==="$")return{type:"var",name:L};if(o(WMe)){let K=_();if(S==="-")return{type:"term",name:L,attr:U,args:K};if(FMe.test(L))return{type:"func",name:L,args:K};throw new SyntaxError("Function names must be all upper-case")}return S==="-"?{type:"term",name:L,attr:U,args:[]}:{type:"mesg",name:L,attr:U}}return B()}function _(){let S=[];for(;;){switch(e[t]){case")":return t++,S;case void 0:throw new SyntaxError("Unclosed argument list")}S.push(b()),o(KMe)}}function b(){let S=v();return S.type!=="mesg"?S:o(qMe)?{type:"narg",name:S.name,value:B()}:S}function T(){let S=[],L=0,U;for(;r(NMe);){i("*")&&(U=L);let K=M(),z=h();if(z===null)throw new SyntaxError("Expected variant value");S[L++]={key:K,value:z}}if(L===0)return null;if(U===void 0)throw new SyntaxError("Expected default variant");return{variants:S,star:U}}function M(){o(zMe,SyntaxError);let S;return r(UN)?S=j():S={type:"str",value:a(LMe)},o($Me,SyntaxError),S}function B(){if(r(UN))return j();if(e[t]==='"')return H();throw new SyntaxError("Invalid expression")}function j(){let[,S,L=""]=s(UN),U=L.length;return{type:"num",value:parseFloat(S),precision:U}}function H(){i('"',SyntaxError);let S="";for(;;){if(S+=a(BMe),e[t]==="\\"){S+=q();continue}if(i('"'))return{type:"str",value:S};throw new SyntaxError("Unclosed string literal")}}function q(){if(r(sZ))return a(sZ);if(r(aZ)){let[,S,L]=s(aZ),U=parseInt(S||L,16);return U<=55295||57344<=U?String.fromCodePoint(U):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function Y(){let S=t;switch(o(YMe),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return A(e.slice(S,t))}return e[t-1]===" "?A(e.slice(S,t)):!1}function F(S,L){return S.replace(L,"")}function A(S){let L=S.replace(jMe,`
`),U=HMe.exec(S)[1].length;return new $E(L,U)}}},$E=class{constructor(e,t){this.value=e,this.length=t}},XMe=/<|&#?\w+;/,ZMe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},QMe={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function JMe(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!XMe.test(t))n.textContent=t;else{let r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,eSe(r.content,n)}yZ(e,n)}function eSe(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let r=nSe(e,t);n.replaceChild(r,t);continue}if(iSe(t)){let r=rSe(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(JN(t),t)}e.textContent="",e.appendChild(n)}function tSe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function yZ(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(let r of Array.from(e.attributes))dZ(r.name,e,t)&&!tSe(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(let r of Array.from(n.attributes))dZ(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function nSe(n,e){let t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),JN(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),JN(e);n.removeChild(r);let i=r.cloneNode(!1);return kZ(e,i)}function rSe(n){let e=n.ownerDocument.createElement(n.localName);return kZ(n,e)}function JN(n){return n.ownerDocument.createTextNode(n.textContent)}function iSe(n){let e=ZMe[n.namespaceURI];return e&&e.includes(n.localName)}function dZ(n,e,t=null){if(t&&t.includes(n))return!0;let r=QMe[e.namespaceURI];if(!r)return!1;let i=n.toLowerCase(),o=e.localName;if(r.global.includes(i))return!0;if(!r[o])return!1;if(r[o].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&o==="input"&&i==="value"){let s=e.type.toLowerCase();if(s==="submit"||s==="button"||s==="reset")return!0}return!1}function kZ(n,e){return e.textContent=n.textContent,yZ(n,e),e}var e8=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var t8=class extends e8{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return x(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return x(this,null,function*(){let t=0;for(;t++<e;){let r=this[this.length-1];if(r&&(yield r).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},n8=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return x(this,null,function*(){let r=[],i=!1;try{for(var o=EF(this.bundles),s,a,l;s=!(a=yield o.next()).done;s=!1){let d=a.value;i=!0;let h=aSe(t,d,e,r);if(h.size===0)break;if(typeof console<"u"){let f=d.locales[0],m=Array.from(h).join(", ");console.warn(`[fluent] Missing translations in ${f}: ${m}`)}}}catch{l=[a]}finally{try{s&&(a=o.return)&&(yield a.call(o))}finally{if(l)throw l[0]}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r})}formatMessages(e){return this.formatWithFallback(e,sSe)}formatValues(e){return this.formatWithFallback(e,oSe)}formatValue(e,t){return x(this,null,function*(){let[r]=yield this.formatValues([{id:e,args:t}]);return r})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=t8.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function oSe(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function sSe(n,e,t,r){let i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let o=Object.keys(t.attributes);if(o.length>0){i.attributes=new Array(o.length);for(let[s,a]of o.entries()){let l=n.formatPattern(t.attributes[a],r,e);i.attributes[s]={name:a,value:l}}}return i}function aSe(n,e,t,r){let i=[],o=new Set;return t.forEach(({id:s,args:a},l)=>{if(r[l]!==void 0)return;let d=e.getMessage(s);if(d){if(i.length=0,r[l]=n(e,i,d,a),i.length>0&&typeof console<"u"){let h=e.locales[0],f=i.join(", ");console.warn(`[fluent][resolver] errors in ${h}/${s}: ${f}.`)}}else o.add(s)}),o}var Dp="data-l10n-id",_w="data-l10n-args",lSe=`[${Dp}]`,r8=class extends n8{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Dp,_w]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(Dp,t),r?e.setAttribute(_w,JSON.stringify(r)):e.removeAttribute(_w),e}getAttributes(e){return{id:e.getAttribute(Dp),args:JSON.parse(e.getAttribute(_w)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(let i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(Dp)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return x(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),r=yield this.formatMessages(t);return this.applyTranslations(e,r)})}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&JMe(e[r],t[r]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(lSe));return typeof e.hasAttribute=="function"&&e.hasAttribute(Dp)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Dp),args:JSON.parse(e.getAttribute(_w)||null)}}},i8=class n{#e;#t;#n;#r;constructor({lang:e,isRTL:t},r=null){this.#n=n.#o(e),this.#r=r,this.#e=t??n.#i(this.#n)?"rtl":"ltr"}_setL10n(e){this.#r=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,r){return x(this,null,function*(){return Array.isArray(e)?(e=e.map(s=>({id:s})),(yield this.#r.formatMessages(e)).map(s=>s.value)):(yield this.#r.formatMessages([{id:e,args:t}]))[0]?.value||r})}translate(e){return x(this,null,function*(){(this.#t||=new Set).add(e);try{this.#r.connectRoot(e),yield this.#r.translateRoots()}catch{}})}translateOnce(e){return x(this,null,function*(){try{yield this.#r.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return x(this,null,function*(){if(this.#t){for(let e of this.#t)this.#r.disconnectRoot(e);this.#t.clear(),this.#t=null}this.#r.pauseObserving()})}pause(){this.#r.pauseObserving()}resume(){this.#r.resumeObserving()}static#o(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#i(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function uZ(n,e){let t=new QN(e),r=new ZN(n),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var rm=class n extends i8{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#r.bind(n,this.getLanguage());this._setL10n(new r8([],t))}static#e(e,t){return xS(this,null,function*(){let{baseURL:r,paths:i}=yield new Y_(this.#n()),o=[t];if(e!==t){let s=t.split("-",1)[0];s!==t&&o.push(s),o.push(e)}for(let s of o){let a=yield new Y_(this.#t(s,r,i));a?yield a:s==="en-us"&&(yield this.#o(s))}})}static#t(e,t,r){return x(this,null,function*(){let i=r[e];if(!i)return null;let o=new URL(i,t),s=yield YX(o,"text");return uZ(e,s)})}static#n(){return x(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield YX(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#r(e){return xS(this,null,function*(){yield this.#o(e)})}static#o(e){return x(this,null,function*(){return uZ(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},cSe=1e3,zN=50,hZ=1e3;function $N(){return document.location.hash}var o8=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,this.#u();let o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=$N(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#o(o,!0)||t){let{hash:a,page:l,rotation:d}=this.#l(!0);if(!a||i||t){this.#t(null,!0);return}this.#t({hash:a,page:l,rotation:d},!0);return}let s=o.destination;this.#i(s,o.uid,!0),s.rotation!==void 0&&(this._initialRotation=s.rotation),s.dest?(this._initialBookmark=JSON.stringify(s.dest),this._destination.page=null):s.hash?this._initialBookmark=s.hash:s.page&&(this._initialBookmark=`page=${s.page}`)}reset(){this._initialized&&(this.#a(),this._initialized=!1,this.#s()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#r(r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let i=e||JSON.stringify(t);if(!i)return;let o=!1;if(this._destination&&(dSe(this._destination.hash,i)||uSe(this._destination.dest,t))){if(this._destination.page)return;o=!0}this._popStateInProgress&&!o||(this.#t({dest:t,hash:i,page:r,rotation:this.linkService.rotation},o),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#r(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#o(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#o(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};this.#i(e,i.uid);let o;if(this._updateUrl&&e?.hash){let s=document.location.href.split("#",1)[0];s.startsWith("file://")||(o=`${s}#${e.hash}`)}r?window.history.replaceState(i,"",o):window.history.pushState(i,"",o)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(zN<=0||this._numPositionUpdates<=zN))return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}this.#t(t,r)}#r(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#o(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[r]=performance.getEntriesByType("navigation");if(r?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#i(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#l(e=!1){let t=unescape($N()).substring(1),r=XE(t),i=r.get("nameddest")||"",o=r.get("page")|0;return(!this.#r(o)||e&&i.length>0)&&(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}#c({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(zN>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,hZ>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},hZ)))}#d({state:e}){let t=$N(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:o,page:s,rotation:a}=this.#l();this.#t({hash:o,page:s,rotation:a},!0);return}if(!this.#o(e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,xMe({target:window,name:"hashchange",delay:cSe}).then(()=>{this._blockHashChange--}));let i=e.destination;this.#i(i,e.uid,!0),wZ(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#a(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#c.bind(this),{signal:e}),window.addEventListener("popstate",this.#d.bind(this),{signal:e}),window.addEventListener("pagehide",this.#a.bind(this),{signal:e})}#s(){this.#e?.abort(),this.#e=null}};function dSe(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||XE(n).get("nameddest")===e}function uSe(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(let o in r)if(!t(r[o],i[o]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var s8=class{#e=null;#t=null;#n=null;#r=null;#o=null;#i;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new rm,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#i=e.uiManager,this.#e=e.annotationLayer||null,this.#o=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null,this.#r=e.structTreeLayer||null}render(e,t="display"){return x(this,null,function*(){if(t!=="display"||this._cancelled)return;let r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}let i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=this.#i.direction,this.#n?.(i),this.annotationEditorLayer=new hMe({uiManager:this.#i,div:i,structTreeLayer:this.#r,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:this.#e,textLayer:this.#o,drawLayer:this.#t});let o={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(o),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{BE=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,r=/Android/.test(n),i=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(i||r)&&BE.set("maxCanvasPixels",5242880)})(),(function(){r&&BE.set("useSystemFonts",!1)})()}var BE,ge={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},a8={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},vl={allowedGlobalEvents:{value:null,kind:ge.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ge.BROWSER+ge.API},isInAutomation:{value:!1,kind:ge.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ge.BROWSER},nimbusDataStr:{value:"",kind:ge.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ge.BROWSER},supportsDocumentFonts:{value:!0,kind:ge.BROWSER},supportsIntegratedFind:{value:!1,kind:ge.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ge.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ge.BROWSER},supportsPinchToZoom:{value:!0,kind:ge.BROWSER},toolbarDensity:{value:0,kind:ge.BROWSER+ge.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ge.VIEWER+ge.PREFERENCE},annotationEditorMode:{value:0,kind:ge.VIEWER+ge.PREFERENCE},annotationMode:{value:2,kind:ge.VIEWER+ge.PREFERENCE},cursorToolOnLoad:{value:0,kind:ge.VIEWER+ge.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ge.VIEWER},defaultZoomDelay:{value:400,kind:ge.VIEWER+ge.PREFERENCE},defaultZoomValue:{value:"",kind:ge.VIEWER+ge.PREFERENCE},disableHistory:{value:!1,kind:ge.VIEWER},disablePageLabels:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableAltText:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ge.VIEWER+ge.PREFERENCE+ge.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:ge.VIEWER+ge.PREFERENCE+ge.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enablePermissions:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enableScripting:{value:!0,kind:ge.VIEWER+ge.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ge.VIEWER},externalLinkTarget:{value:0,kind:ge.VIEWER+ge.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:ge.VIEWER+ge.PREFERENCE},historyUpdateUrl:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ge.VIEWER},maxCanvasPixels:{value:2**25,kind:ge.VIEWER},forcePageColors:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ge.VIEWER+ge.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ge.VIEWER+ge.PREFERENCE},pdfBugEnabled:{value:!1,kind:ge.VIEWER+ge.PREFERENCE},printResolution:{value:150,kind:ge.VIEWER},sidebarViewOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ge.VIEWER+ge.PREFERENCE},textLayerMode:{value:1,kind:ge.VIEWER+ge.PREFERENCE},viewOnLoad:{value:0,kind:ge.VIEWER+ge.PREFERENCE},cMapPacked:{value:!0,kind:ge.API},cMapUrl:{value:"../web/cmaps/",kind:ge.API},disableAutoFetch:{value:!1,kind:ge.API+ge.PREFERENCE},disableFontFace:{value:!1,kind:ge.API+ge.PREFERENCE},disableRange:{value:!1,kind:ge.API+ge.PREFERENCE},disableStream:{value:!1,kind:ge.API+ge.PREFERENCE},docBaseUrl:{value:"",kind:ge.API},enableHWA:{value:!0,kind:ge.API+ge.VIEWER+ge.PREFERENCE},enableXfa:{value:!0,kind:ge.API+ge.PREFERENCE},fontExtraProperties:{value:!1,kind:ge.API},isEvalSupported:{value:!0,kind:ge.API},isOffscreenCanvasSupported:{value:!0,kind:ge.API},maxImageSize:{value:-1,kind:ge.API},pdfBug:{value:!1,kind:ge.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ge.API},useSystemFonts:{value:void 0,kind:ge.API,type:a8.BOOLEAN+a8.UNDEFINED},verbosity:{value:1,kind:ge.API},workerPort:{value:null,kind:ge.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ge.WORKER}};vl.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ge.VIEWER},vl.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ge.VIEWER},vl.viewerCssTheme={value:0,kind:ge.VIEWER+ge.PREFERENCE},vl.enableFakeMLManager={value:!0,kind:ge.VIEWER};vl.disablePreferences={value:!1,kind:ge.VIEWER};var bu,gl=class gl{static get(e){return ki(this,bu).get(e)}static getAll(e=null,t=!1){let r=Object.create(null);for(let i in vl){let o=vl[i];e&&!(e&o.kind)||(r[i]=t?o.value:ki(this,bu).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let r;for(let i in e){let o=vl[i],s=e[i];if(!o||!(typeof s==typeof o.value||a8[(typeof s).toUpperCase()]&o.type))continue;let{kind:a}=o;t&&!(a&ge.BROWSER||a&ge.PREFERENCE)||(this.eventBus&&a&ge.EVENT_DISPATCH&&(r||=new Map).set(i,s),ki(this,bu).set(i,s))}if(r)for(let[i,o]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:o})}};bu=new WeakMap,xF(gl,"eventBus"),ud(gl,bu,new Map),(()=>{for(let e in vl)ki(gl,bu).set(e,vl[e].value);for(let[e,t]of BE)ki(gl,bu).set(e,t);gl._hasInvokedSet=!1,gl._checkDisablePreferences=()=>gl.get("disablePreferences")?!0:(gl._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();var l8=gl,c8=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return x(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new mMe({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},pZ={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},hSe=/^H(\d+)$/,WE=class{#e;#t=null;#n;#r=new Map;#o;#i=null;constructor(e,t){this.#e=e.getStructTree(),this.#o=t}render(){return x(this,null,function*(){if(this.#n)return this.#n;let{promise:e,resolve:t,reject:r}=Promise.withResolvers();this.#n=e;try{this.#t=this.#d(yield this.#e)}catch(i){r(i)}return this.#e=null,this.#t?.classList.add("structTree"),t(this.#t),e})}getAriaAttributes(e){return x(this,null,function*(){try{return yield this.render(),this.#r.get(e)}catch{}return null})}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#l(e,t){let{alt:r,id:i,lang:o}=e;if(r!==void 0){let s=!1,a=kw(r);for(let l of e.children)if(l.type==="annotation"){let d=this.#r.get(l.id);d||(d=new Map,this.#r.set(l.id,d)),d.set("aria-label",a),s=!0}s||t.setAttribute("aria-label",a)}i!==void 0&&t.setAttribute("aria-owns",i),o!==void 0&&t.setAttribute("lang",kw(o,!0))}#c(e,t){let{alt:r,bbox:i,children:o}=e,s=o?.[0];if(!this.#o||!r||!i||s?.type!=="content")return!1;let{id:a}=s;if(!a)return!1;t.setAttribute("aria-owns",a);let l=document.createElement("span");(this.#i||=new Map).set(a,l),l.setAttribute("role","img"),l.setAttribute("aria-label",kw(r));let{pageHeight:d,pageX:h,pageY:f}=this.#o,m="calc(var(--scale-factor)*",{style:v}=l;return v.width=`${m}${i[2]-i[0]}px)`,v.height=`${m}${i[3]-i[1]}px)`,v.left=`${m}${i[0]-h}px)`,v.top=`${m}${d-i[3]+f}px)`,!0}addElementsToTextLayer(){if(this.#i){for(let[e,t]of this.#i)document.getElementById(e)?.append(t);this.#i.clear(),this.#i=null}}#d(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:r}=e,i=r.match(hSe);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):pZ[r]&&t.setAttribute("role",pZ[r]),r==="Figure"&&this.#c(e,t))return t}if(this.#l(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#l(e.children[0],t);else for(let r of e.children)t.append(this.#d(r));return t}},d8=class n{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(e){this.#t=e}static#o(e,t){let r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;let o=r.y,s=r.y+r.height,a=r.y+r.height/2,l=i.y,d=i.y+i.height,h=i.y+i.height/2;if(a<=l&&h>=s)return-1;if(h<=o&&a>=d)return 1;let f=r.x+r.width/2,m=i.x+i.width/2;return f-m}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#o),this.#n.size>0){let e=this.#t;for(let[t,r]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#i(t,e[r])}}for(let[e,t]of this.#r)this.addPointerInTextLayer(e,t);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#r.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:r}=e,i=this.#n.get(r);if(i===void 0)return;let o=t[i];this.#n.delete(r);let s=o.getAttribute("aria-owns");s?.includes(r)&&(s=s.split(" ").filter(a=>a!==r).join(" "),s?o.setAttribute("aria-owns",s):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}#i(e,t){let r=t.getAttribute("aria-owns");r?.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:r}=e;if(!r)return null;if(!this.#e)return this.#r.set(e,t),null;t&&this.removePointerInTextLayer(e);let i=this.#t;if(!i||i.length===0)return null;let o=bw(i,d=>n.#o(e,d)<0),s=Math.max(0,o-1),a=i[s];this.#i(r,a),this.#n.set(r,s);let l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){let o=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),o;let s=Array.from(e.childNodes).filter(d=>d!==t);if(s.length===0)return o;let a=r||t,l=bw(s,d=>n.#o(a,d)<0);return l===0?s[0].before(t):s[l-1].after(t),o}},u8=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:r}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:r}=this,i=0,o=0,s=r.length-1,a=[];for(let l=0,d=e.length;l<d;l++){let h=e[l];for(;i!==s&&h>=o+r[i].length;)o+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");let f={begin:{divIdx:i,offset:h-o}};for(h+=t[l];i!==s&&h>o+r[i].length;)o+=r[i].length,i++;f.end={divIdx:i,offset:h-o},a.push(f)}return a}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:o}=this,s=r===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll,d=null,h={divIdx:-1,offset:void 0};function f(M,B){let j=M.divIdx;return o[j].textContent="",m(j,0,M.offset,B)}function m(M,B,j,H){let q=o[M];if(q.nodeType===Node.TEXT_NODE){let A=document.createElement("span");q.before(A),A.append(q),o[M]=A,q=A}let Y=i[M].substring(B,j),F=document.createTextNode(Y);if(H){let A=document.createElement("span");return A.className=`${H} appended`,A.append(F),q.append(A),H.includes("selected")?A.offsetLeft:0}return q.append(F),0}let v=a,_=v+1;if(l)v=0,_=e.length;else if(!s)return;let b=-1,T=-1;for(let M=v;M<_;M++){let B=e[M],j=B.begin;if(j.divIdx===b&&j.offset===T)continue;b=j.divIdx,T=j.offset;let H=B.end,q=s&&M===a,Y=q?" selected":"",F=0;if(!d||j.divIdx!==d.divIdx?(d!==null&&m(d.divIdx,d.offset,h.offset),f(j)):m(d.divIdx,d.offset,j.offset),j.divIdx===H.divIdx)F=m(j.divIdx,j.offset,H.offset,"highlight"+Y);else{F=m(j.divIdx,j.offset,h.offset,"highlight begin"+Y);for(let A=j.divIdx+1,S=H.divIdx;A<S;A++)o[A].className="highlight middle"+Y;f(H,"highlight end"+Y)}d=H,q&&t.scrollMatchIntoView({element:o[j.divIdx],selectedLeft:F,pageIndex:r,matchIndex:a})}d&&m(d.divIdx,d.offset,h.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:o,textDivs:s}=this,a=-1;for(let h of r){let f=Math.max(a,h.begin.divIdx);for(let m=f,v=h.end.divIdx;m<=v;m++){let _=s[m];_.textContent=o[m],_.className=""}a=h.end.divIdx+1}if(!t?.highlightMatches||e)return;let l=t.pageMatches[i]||null,d=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,d),this._renderMatches(this.matches)}},GE=class n{#e=!1;#t=null;#n=!1;#r=null;static#o=new Map;static#i=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:o=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,this.#e=i===!0,this.#t=o,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return x(this,null,function*(){if(this.#n&&this.#r){this.#r.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#r=new bMe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:r,textContentItemsStr:i}=this.#r;this.highlighter?.setTextMapping(r,i),this.accessibilityManager?.setTextMapping(r),yield this.#r.render(),this.#n=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#l(o),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#r?.cancel(),this.#r=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#c(this.div)}#l(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!this.#e){let i=document.getSelection();r.clipboardData.setData("text/plain",kw(_Me(i.toString())))}r.preventDefault(),r.stopPropagation()}),n.#o.set(t,e),n.#d()}static#c(e){this.#o.delete(e),this.#o.size===0&&(this.#i?.abort(),this.#i=null)}static#d(){if(this.#i)return;this.#i=new AbortController;let{signal:e}=this.#i,t=(s,a)=>{a.append(s),s.style.width="",s.style.height="",a.classList.remove("selecting")},r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,this.#o.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,this.#o.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||this.#o.forEach(t)},{signal:e});var i,o;document.addEventListener("selectionchange",()=>{let s=document.getSelection();if(s.rangeCount===0){this.#o.forEach(t);return}let a=new Set;for(let v=0;v<s.rangeCount;v++){let _=s.getRangeAt(v);for(let b of this.#o.keys())!a.has(b)&&_.intersectsNode(b)&&a.add(b)}for(let[v,_]of this.#o)a.has(v)?v.classList.add("selecting"):t(_,v);if(i??=getComputedStyle(this.#o.values().next().value).getPropertyValue("-moz-user-select")==="none",i)return;let l=s.getRangeAt(0),d=o&&(l.compareBoundaryPoints(Range.END_TO_END,o)===0||l.compareBoundaryPoints(Range.START_TO_END,o)===0),h=d?l.startContainer:l.endContainer;h.nodeType===Node.TEXT_NODE&&(h=h.parentNode);let f=h.parentElement?.closest(".textLayer"),m=this.#o.get(f);m&&(m.style.width=f.style.width,m.style.height=f.style.height,h.parentElement.insertBefore(m,d?h:h.nextSibling)),o=l.cloneRange()},{signal:e})}},qE=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}render(e,t="display"){return x(this,null,function*(){if(t==="print"){let o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),o.div=this.div,jN.render(o)}let r=yield this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};let i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?jN.update(i):(this.div=document.createElement("div"),i.div=this.div,jN.render(i))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},pSe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new xw}},fSe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),KE=class{#e=zc.ENABLE_FORMS;#t=!1;#n=!1;#r=!1;#o=null;#i=null;#l=null;#c=1;#d=1;#a=null;#u=mr.INITIAL;#s=ml.ENABLE;#h={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#f=new WeakMap;#p=[null,null,null,null];constructor(e){let t=e.container,r=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#o=e.layerProperties||pSe,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||mZ,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#s=e.textLayerMode??ml.ENABLE,this.#e=e.annotationMode??zc.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??l8.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new rm,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let i=document.createElement("div");if(i.className="page",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),i.setAttribute("data-l10n-id","pdfjs-page-landmark"),i.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=i,this.#v(),t?.append(i),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*Uc.PDF_TO_CSS_UNITS),this.pageColors?.background&&t?.style.setProperty("--page-bg-color",this.pageColors.background);let{optionalContentConfigPromise:o}=e;o&&o.then(s=>{o===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=s.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#g(e,t){let r=fSe.get(t),i=this.#p[r];if(this.#p[r]=e,i){i.replaceWith(e);return}for(let o=r-1;o>=0;o--){let s=this.#p[o];if(s){s.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#u}set renderingState(e){if(e!==this.#u)switch(this.#u=e,this.#i&&(clearTimeout(this.#i),this.#i=null),e){case mr.PAUSED:this.div.classList.remove("loading");break;case mr.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case mr.INITIAL:case mr.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#v(){let{viewport:e}=this;if(this.pdfPage){if(this.#l===e.rotation)return;this.#l=e.rotation}kMe(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*Uc.PDF_TO_CSS_UNITS,rotation:t}),this.#v(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return jE(this,"_textHighlighter",new u8({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#o.findController}))}#m(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#w(){return x(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#m("annotationlayerrendered",e)}})}#y(){return x(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#m("annotationeditorlayerrendered",e)}})}#x(){return x(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#k(){return x(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#S(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#g(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#m("xfalayerrendered",e)}})}#b(){return x(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof uMe)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#m("textlayerrendered",e),this.#T()})}#T(){return x(this,null,function*(){if(!this.textLayer)return;let e=yield this.structTreeLayer?.render();e&&(this.l10n.pause(),this.structTreeLayer?.addElementsToTextLayer(),this.canvas&&e.parentNode!==this.canvas&&this.canvas.append(e),this.l10n.resume()),this.structTreeLayer?.show()})}#S(e){return x(this,null,function*(){let t=yield this.pdfPage.getTextContent(),r=[];for(let i of t.items)r.push(i.str);this._textHighlighter.setTextMapping(e,r),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#f.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:o=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:o}),this.renderingState=mr.INITIAL;let s=this.div,a=s.childNodes,l=e&&this.zoomLayer||null,d=t&&this.annotationLayer?.div||null,h=r&&this.annotationEditorLayer?.div||null,f=i&&this.xfaLayer?.div||null,m=o&&this.textLayer?.div||null;for(let v=a.length-1;v>=0;v--){let _=a[v];switch(_){case l:case d:case h:case f:case m:continue}_.remove();let b=this.#p.indexOf(_);b>=0&&(this.#p[b]=null)}s.removeAttribute("data-loaded"),d&&this.annotationLayer.hide(),h&&this.annotationEditorLayer.hide(),f&&this.xfaLayer.hide(),m&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#f.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#r=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:r=null,drawingDelay:i=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(s=>{r===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=s.hasInitialVisibility)})),this.#h.directDrawing=!0;let o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Uc.PDF_TO_CSS_UNITS,rotation:o}),this.#v(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let s=!1;if(this.#n){if(this.maxCanvasPixels===0)s=!0;else if(this.maxCanvasPixels>0){let{width:l,height:d}=this.viewport,{sx:h,sy:f}=this.outputScale;s=(Math.floor(l)*h|0)*(Math.floor(d)*f|0)>this.maxCanvasPixels}}let a=i>=0&&i<1e3;if(a||s){if(a&&!s&&this.renderingState!==mr.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:i}),this.renderingState=mr.FINISHED,this.#h.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:r=!1,keepTextLayer:i=!1,cancelExtraDelay:o=0}={}){this.renderTask&&(this.renderTask.cancel(o),this.renderTask=null),this.resume=null,this.textLayer&&(!i||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:o=!1,hideTextLayer:s=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:l}=e;l.width=l.height=""}let a=this.#f.get(e);if(this.viewport!==a){let l=this.viewport.rotation-a.rotation,d=Math.abs(l),h=1,f=1;if(d===90||d===270){let{width:m,height:v}=this.viewport;h=v/m,f=m/v}e.style.transform=`rotate(${l}deg) scale(${h}, ${f})`}t&&this.annotationLayer&&this.#w(),r&&this.annotationEditorLayer&&(this.drawLayer&&this.#x(),this.#y()),i&&this.xfaLayer&&this.#k(),this.textLayer&&(s?(this.textLayer.hide(),this.structTreeLayer?.hide()):o&&this.#b())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#C(e,t=null){return x(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof qN){this.#a=null;return}if(this.#a=t,this.renderingState=mr.FINISHED,this._resetZoomLayer(!0),this.#h.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#a}),t)throw t})}draw(){return x(this,null,function*(){this.renderingState!==mr.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:r,pdfPage:i,viewport:o}=this;if(!i)throw this.renderingState=mr.FINISHED,new Error("pdfPage is not loaded");this.renderingState=mr.RUNNING;let s=document.createElement("div");if(s.classList.add("canvasWrapper"),this.#g(s,"canvasWrapper"),!this.textLayer&&this.#s!==ml.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||=new d8,this.textLayer=new GE({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#s===ml.ENABLE_PERMISSIONS,onAppend:S=>{this.l10n.pause(),this.#g(S,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==zc.DISABLE){let{annotationStorage:S,annotationEditorUIManager:L,downloadManager:U,enableScripting:K,fieldObjectsPromise:z,hasJSActionsPromise:rt,linkService:ht}=this.#o;this._annotationCanvasMap||=new Map,this.annotationLayer=new HE({pdfPage:i,annotationStorage:S,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===zc.ENABLE_FORMS,linkService:ht,downloadManager:U,enableScripting:K,hasJSActionsPromise:rt,fieldObjectsPromise:z,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:L,onAppend:Mt=>{this.#g(Mt,"annotationLayer")}})}let a=S=>{if(m?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=mr.PAUSED,this.resume=()=>{this.renderingState=mr.RUNNING,S()};return}S()},{width:l,height:d}=o,h=document.createElement("canvas");h.setAttribute("role","presentation"),h.hidden=!0;let f=!!(r?.background&&r?.foreground),m=S=>{(!f||S)&&(h.hidden=!1,m=null)};s.append(h),this.canvas=h;let v=h.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),_=this.outputScale=new yMe;if(this.maxCanvasPixels===0){let S=1/this.scale;_.sx*=S,_.sy*=S,this.#n=!0}else if(this.maxCanvasPixels>0){let S=l*d,L=Math.sqrt(this.maxCanvasPixels/S);_.sx>L||_.sy>L?(_.sx=L,_.sy=L,this.#n=!0):this.#n=!1}let b=HX(_.sx),T=HX(_.sy),M=h.width=RE(PE(l*_.sx),b[0]),B=h.height=RE(PE(d*_.sy),T[0]),j=RE(PE(l),b[1]),H=RE(PE(d),T[1]);_.sx=M/j,_.sy=B/H,this.#c!==b[1]&&(e.style.setProperty("--scale-round-x",`${b[1]}px`),this.#c=b[1]),this.#d!==T[1]&&(e.style.setProperty("--scale-round-y",`${T[1]}px`),this.#d=T[1]),this.#f.set(h,o);let q=_.scaled?[_.sx,0,0,_.sy,0,0]:null,Y={canvasContext:v,transform:q,viewport:o,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:r,isEditing:this.#r},F=this.renderTask=i.render(Y);F.onContinue=a;let A=F.promise.then(()=>x(this,null,function*(){m?.(!0),yield this.#C(F),this.structTreeLayer||=new WE(i,o.rawDims),this.#b(),this.annotationLayer&&(yield this.#w());let{annotationEditorUIManager:S}=this.#o;S&&(this.drawLayer||=new c8({pageIndex:this.id}),yield this.#x(),this.drawLayer.setParent(s),this.annotationEditorLayer||=new s8({uiManager:S,pdfPage:i,l10n:t,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:L=>{this.#g(L,"annotationEditorLayer")}}),this.#y())}),S=>(S instanceof qN||m?.(!0),this.#C(F,S)));if(i.isPureXfa){if(!this.xfaLayer){let{annotationStorage:S,linkService:L}=this.#o;this.xfaLayer=new qE({pdfPage:i,annotationStorage:S,linkService:L})}this.#k()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),A})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:r}=this.#h;return e&&t&&r?this.canvas:null}};function gSe(n){return x(this,null,function*(){let t="".split("#",1)[0],{info:r,metadata:i,contentDispositionFilename:o,contentLength:s}=yield n.getMetadata();if(!s){let{length:a}=yield n.getDownloadInfo();s=a}return Se(X({},r),{baseURL:t,filesize:s,filename:o||vMe(""),metadata:i?.getRaw(),authors:i?.get("dc:creator"),numPages:n.numPages,URL:""})})}var h8=class{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(o=>{t(o.QuickJSSandbox())}).catch(r)})}createSandbox(e){return x(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return x(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return x(this,null,function*(){(yield this._ready).nukeSandbox()})}},p8=class{#e=null;#t=null;#n=null;#r=null;#o=null;#i=null;#l=null;#c=null;#d=!1;#a=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){this.#o=e,this.#i=t,this.#n=r}setViewer(e){this.#c=e}setDocument(e){return x(this,null,function*(){if(this.#l&&(yield this.#g()),this.#l=e,!e)return;let[t,r,i]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){yield this.#g();return}if(e!==this.#l)return;try{this.#a=this.#p()}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}let o=this.#o;this.#r=new AbortController;let{signal:s}=this.#r;o._on("updatefromsandbox",a=>{a?.source===window&&this.#s(a.detail)},{signal:s}),o._on("dispatcheventinsandbox",a=>{this.#a?.dispatchEventInSandbox(a.detail)},{signal:s}),o._on("pagechanging",({pageNumber:a,previous:l})=>{a!==l&&(this.#f(l),this.#h(a))},{signal:s}),o._on("pagerendered",({pageNumber:a})=>{this._pageOpenPending.has(a)&&a===this.#c.currentPageNumber&&this.#h(a)},{signal:s}),o._on("pagesdestroy",()=>x(this,null,function*(){yield this.#f(this.#c.currentPageNumber),yield this.#a?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:s});try{let a=yield this.#n(e);if(e!==this.#l)return;yield this.#a.createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Se(X({},a),{actions:i})}),o.dispatch("sandboxcreated",{source:this})}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#g();return}yield this.#a?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#h(this.#c.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#l&&(this.#d=!0)})})}dispatchWillSave(){return x(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return x(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return x(this,null,function*(){if(this.#a){yield this.#u?.promise,this.#u=Promise.withResolvers();try{yield this.#a.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#u.resolve(),this.#u=null,e}yield this.#u.promise}})}dispatchDidPrint(){return x(this,null,function*(){return this.#a?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return jE(this,"_pageOpenPending",new Set)}get _visitedPages(){return jE(this,"_visitedPages",new Map)}#s(e){return x(this,null,function*(){let t=this.#c,r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:o,command:s,value:a}=e;if(!i){switch(s){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(!r){let d=UEe(a);t.spreadMode=d.spreadMode}break;case"page-num":t.currentPageNumber=a+1;break;case"print":yield t.pagesPromise,this.#o.dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":r||(t.currentScaleValue=a);break;case"SaveAs":this.#o.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;let l=o?[i,...o]:[i];for(let d of l){let h=document.querySelector(`[data-element-id="${d}"]`);h?h.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#l?.annotationStorage.setValue(d,e)}})}#h(e,t=!1){return x(this,null,function*(){let r=this.#l,i=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let o=this.#c.getPageView(e-1);if(o?.renderingState!==mr.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let s=x(this,null,function*(){let a=yield i.has(e)?null:o.pdfPage?.getJSActions();r===this.#l&&(yield this.#a?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))});i.set(e,s)})}#f(e){return x(this,null,function*(){let t=this.#l,r=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let i=r.get(e);i&&(r.set(e,null),yield i,t===this.#l&&(yield this.#a?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#p(){if(this.#t=Promise.withResolvers(),this.#a)throw new Error("#initScripting: Scripting already exists.");return this.#i.createScripting()}#g(){return x(this,null,function*(){if(!this.#a){this.#l=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#l=null;try{yield this.#a.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null,this.#r?.abort(),this.#r=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#a=null,this.#d=!1,this.#t?.resolve()})}},f8=class extends p8{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new h8(e.sandboxBundleSrc)},e.docProperties||=t=>gSe(t),super(e)}},mSe=3e4,g8=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),mSe)))}getHighestPriority(e,t,r,i=!1){let o=e.views,s=o.length;if(s===0)return null;for(let f=0;f<s;f++){let m=o[f].view;if(!this.isViewFinished(m))return m}let a=e.first.id,l=e.last.id;if(l-a+1>s){let f=e.ids;for(let m=1,v=l-a;m<v;m++){let _=r?a+m:l-m;if(f.has(_))continue;let b=t[_-1];if(!this.isViewFinished(b))return b}}let d=r?l:a-2,h=t[d];return h&&!this.isViewFinished(h)||i&&(d+=r?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===mr.FINISHED}renderView(e){switch(e.renderingState){case mr.FINISHED:return!1;case mr.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case mr.RUNNING:this.highestPriorityPage=e.renderingId;break;case mr.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof qN||console.error(`renderView: "${t}"`)});break}return!0}},fZ=10,FE={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function gZ(n){return Object.values(ss).includes(n)&&n!==ss.DISABLE}var m8=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let r=this.#e;if(t){let i=r.size,o=1;for(let s of r)if(t.has(s.id)&&(r.delete(s),r.add(s)),++o>i)break}for(;r.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},YE=class{#e=null;#t=null;#n=null;#r=ss.NONE;#o=null;#i=zc.ENABLE_FORMS;#l=null;#c=!1;#d=!1;#a=!1;#u=!1;#s=!1;#h=null;#f=null;#p=null;#g=null;#v=!1;#m=null;#w=!1;#y=0;#x=new ResizeObserver(this.#B.bind(this));#k=null;#b=null;#T=ml.ENABLE;constructor(e){let t="4.8.69";if(XX!==t)throw new Error(`The API version "${XX}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#x.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new xw,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=i=>this._getVisiblePages().ids.has(i)),this._scriptingManager=e.scriptingManager||null,this.#T=e.textLayerMode??ml.ENABLE,this.#i=e.annotationMode??zc.ENABLE_FORMS,this.#r=e.annotationEditorMode??ss.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#d=e.enableHighlightFloatingButton===!0,this.#u=e.enableUpdatedAddImage===!0,this.#s=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new rm,this.#a=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#f=e.mlManager||null,this.#c=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new g8,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:r}=e;r?.addEventListener("abort",()=>{this.#x.disconnect(),this.#x=null},{once:!0}),this.scroll=NEe(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=em.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#L(),this.eventBus._on("thumbnailrendered",({pageNumber:i,pdfPage:o})=>{let s=this._pages[i-1];this.#e.has(s)||o?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#i===zc.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#R(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:r}),t&&this.#R(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==LN?this._currentScale:mZ}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#A(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#A(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!wZ(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#A(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return jE(this,"_layerProperties",{get annotationEditorUIManager(){return e.#o},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#S(e){let t={annotationEditorMode:this.#r,annotationMode:this.#i,textLayerMode:this.#T};return e&&(!e.includes(NE.COPY)&&this.#T===ml.ENABLE&&(t.textLayerMode=ml.ENABLE_PERMISSIONS),e.includes(NE.MODIFY_CONTENTS)||(t.annotationEditorMode=ss.DISABLE),!e.includes(NE.MODIFY_ANNOTATIONS)&&!e.includes(NE.FILL_INTERACTIVE_FORMS)&&this.#i===zc.ENABLE_FORMS&&(t.annotationMode=zc.ENABLE)),t}#C(e){return x(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([e,r.signal]):e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()})}getAllText(){return x(this,null,function*(){let e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(this.#w)return null;t.length=0;let o=yield this.pdfDocument.getPage(r),{items:s}=yield o.getTextContent();for(let a of s)a.str&&t.push(a.str),a.hasEOL&&t.push(`
`);e.push(kw(t.join("")))}return e.join(`
`)})}#I(e,t){let r=document.getSelection(),{focusNode:i,anchorNode:o}=r;if(o&&i&&r.containsNode(this.#m)){if(this.#v||e===ml.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#v=!0;let{classList:s}=this.viewer;s.add("copyAll");let a=new AbortController;window.addEventListener("keydown",l=>this.#w=l.key==="Escape",{signal:a.signal}),this.getAllText().then(l=>x(this,null,function*(){l!==null&&(yield navigator.clipboard.writeText(l))})).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#v=!1,this.#w=!1,a.abort(),s.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#o?.destroy(),this.#o=null),this.pdfDocument=e,!e)return;let t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),o=this.#a?e.getPermissions():Promise.resolve(),{eventBus:s,pageColors:a,viewer:l}=this;this.#h=new AbortController;let{signal:d}=this.#h;if(t>FE.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let m=this._scrollMode=sn.PAGE;s.dispatch("scrollmodechanged",{source:this,mode:m})}this._pagesCapability.promise.then(()=>{s.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let h=m=>{let v=this._pages[m.pageNumber-1];v&&this.#e.push(v)};s._on("pagerender",h,{signal:d});let f=m=>{m.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:m.timestamp}),s._off("pagerendered",f))};s._on("pagerendered",f,{signal:d}),Promise.all([r,o]).then(([m,v])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(m),this._optionalContentConfigPromise=i;let{annotationEditorMode:_,annotationMode:b,textLayerMode:T}=this.#S(v);if(T!==ml.DISABLE){let H=this.#m=document.createElement("div");H.id="hiddenCopyElement",l.before(H)}if(typeof AbortSignal.any=="function"&&_!==ss.DISABLE){let H=_;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):gZ(H)?(this.#o=new pMe(this.container,l,this.#t,s,e,a,this.#n,this.#d,this.#u,this.#s,this.#f),s.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#o}),H!==ss.NONE&&(H===ss.STAMP&&this.#f?.loadModel("altText"),this.#o.updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}let M=this._scrollMode===sn.PAGE?null:l,B=this.currentScale,j=m.getViewport({scale:B*Uc.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",j.scale),a?.background&&l.style.setProperty("--page-bg-color",a.background),(a?.foreground==="CanvasText"||a?.background==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){let q=new KE({container:M,eventBus:s,id:H,scale:B,defaultViewport:j.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:b,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:a,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#c});this._pages.push(q)}this._pages[0]?.setPdfPage(m),this._scrollMode===sn.PAGE?this.#M():this._spreadMode!==Zi.NONE&&this._updateSpreadMode(),this.#C(d).then(()=>x(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#m&&document.addEventListener("copy",this.#I.bind(this,T),{signal:d}),this.#o&&s.dispatch("annotationeditormodechanged",{source:this,mode:this.#r}),e.loadingParams.disableAutoFetch||t>FE.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let q=2;q<=t;++q){let Y=e.getPage(q).then(F=>{let A=this._pages[q-1];A.pdfPage||A.setPdfPage(F),--H===0&&this._pagesCapability.resolve()},F=>{console.error(`Unable to get page ${q} to initialize viewer`,F),--H===0&&this._pagesCapability.resolve()});q%FE.PAUSE_EAGER_PAGE_INIT===0&&(yield Y)}})),s.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(m=>{console.error("Unable to initialize viewer",m),this._pagesCapability.reject(m)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,r=this._pages.length;t<r;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=LN,this._currentScaleValue=null,this._pageLabels=null,this.#e=new m8(fZ),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=sn.VERTICAL,this._previousScrollMode=sn.UNKNOWN,this._spreadMode=Zi.NONE,this.#k={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#V()}#M(){if(this._scrollMode!==sn.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#k,r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===Zi.NONE&&!this.isInPresentationMode){let i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{let i=new Set,o=this._spreadMode-1;o===-1?i.add(e-1):e%2!==o?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));let s=document.createElement("div");if(s.className="spread",this.isInPresentationMode){let a=document.createElement("div");a.className="dummyPage",s.append(a)}for(let a of i){let l=this._pages[a];l&&(s.append(l.div),t.pages.push(l))}r.append(s)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#D(e,t=null){let{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===sn.PAGE&&(this.#M(),this.update()),!t&&!this.isInPresentationMode){let o=r.offsetLeft+r.clientLeft,s=o+r.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===sn.HORIZONTAL||o<a||s>a+l)&&(t={left:0,top:0})}vZ(r,t),!this._currentScaleValue&&this._location&&(this._location=null)}#P(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#E(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:o=-1,origin:s=null}){if(this._currentScaleValue=t.toString(),this.#P(e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Uc.PDF_TO_CSS_UNITS);let a=o>=0&&o<1e3;this.refresh(!0,{scale:e,drawingDelay:a?o:-1}),a&&(this.#b=setTimeout(()=>{this.#b=null,this.refresh()},o));let l=this._currentScale;if(this._currentScale=e,!r){let d=this._currentPageNumber,h;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(d=this._location.pageNumber,h=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:d,destArray:h,allowNegativeOffset:!0}),Array.isArray(s)){let f=e/l-1,[m,v]=this.containerTopLeft;this.container.scrollLeft+=(s[0]-v)*f,this.container.scrollTop+=(s[1]-m)*f}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()}get#_(){return this._spreadMode!==Zi.NONE&&this._scrollMode!==sn.HORIZONTAL?2:1}#A(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,this.#E(r,e,t);else{let i=this._pages[this._currentPageNumber-1];if(!i)return;let o=BX,s=VX;this.isInPresentationMode?(o=s=4,this._spreadMode!==Zi.NONE&&(o*=2)):this.removePageBorders?o=s=0:this._scrollMode===sn.HORIZONTAL&&([o,s]=[s,o]);let a=(this.container.clientWidth-o)/i.width*i.scale/this.#_,l=(this.container.clientHeight-s)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=a;break;case"page-height":r=l;break;case"page-fit":r=Math.min(a,l);break;case"auto":let d=UX(i)?a:Math.min(l,a);r=Math.min(OEe,d);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#E(r,e,t)}}#R(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#A(this._currentScaleValue,{noScroll:!0}),this.#D(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1}){if(!this.pdfDocument)return;let o=Number.isInteger(e)&&this._pages[e-1];if(!o){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let s=0,a=0,l=0,d=0,h,f,m=o.rotation%180!==0,v=(m?o.height:o.width)/o.scale/Uc.PDF_TO_CSS_UNITS,_=(m?o.width:o.height)/o.scale/Uc.PDF_TO_CSS_UNITS,b=0;switch(t[1].name){case"XYZ":s=t[2],a=t[3],b=t[4],s=s!==null?s:0,a=a!==null?a:_;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":a=t[2],b="page-width",a===null&&this._location?(s=this._location.left,a=this._location.top):(typeof a!="number"||a<0)&&(a=_);break;case"FitV":case"FitBV":s=t[2],l=v,d=_,b="page-height";break;case"FitR":s=t[2],a=t[3],l=t[4]-s,d=t[5]-a;let j=BX,H=VX;this.removePageBorders&&(j=H=0),h=(this.container.clientWidth-j)/l/Uc.PDF_TO_CSS_UNITS,f=(this.container.clientHeight-H)/d/Uc.PDF_TO_CSS_UNITS,b=Math.min(Math.abs(h),Math.abs(f));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===LN&&(this.currentScaleValue=DEe)),b==="page-fit"&&!t[4]){this.#D(o);return}let T=[o.viewport.convertToViewportPoint(s,a),o.viewport.convertToViewportPoint(s+l,a+d)],M=Math.min(T[0][0],T[1][0]),B=Math.min(T[0][1],T[1][1]);r||(M=Math.max(M,0),B=Math.max(B,0)),this.#D(o,{left:M,top:B})}_updateLocation(e){let t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,o=e.id,s=this._pages[o-1],a=this.container,l=s.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),d=Math.round(l[0]),h=Math.round(l[1]),f=`#page=${o}`;this.isInPresentationMode||(f+=`&zoom=${i},${d},${h}`),this._location={pageNumber:o,scale:i,top:h,left:d,rotation:this._pagesRotation,pdfOpenParams:f}}update(){let e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;let i=Math.max(fZ,2*r+1);this.#e.resize(i,e.ids),this.renderingQueue.renderHighestPriority(e);let o=this._spreadMode===Zi.NONE&&(this._scrollMode===sn.PAGE||this._scrollMode===sn.VERTICAL),s=this._currentPageNumber,a=!1;for(let l of t){if(l.percent<100)break;if(l.id===s&&o){a=!0;break}}this._setCurrentPageNumber(a?s:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#F(){let e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(let o of i){let{view:s}=o;if(!s.hasEditableAnnotations()){r.delete(s.id);continue}t.push(o)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===em.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===em.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===sn.PAGE?this.#k.pages:this._pages,t=this._scrollMode===sn.HORIZONTAL,r=t&&this._isContainerRtl;return FEe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(let e of this._pages)e.renderingState!==mr.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#H(e){return x(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#j(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case sn.PAGE:return this.#k.scrollDown;case sn.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),r=this.#j(t),i=this._spreadMode!==Zi.NONE&&this._scrollMode!==sn.HORIZONTAL,o=this.renderingQueue.getHighestPriority(t,this._pages,r,i);return o?(this.#H(o).then(()=>{this.renderingQueue.renderView(o)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){let i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let r=t.pdfPage.getViewport({scale:1}),i=UX(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!BEe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>FE.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===sn.HORIZONTAL),r.classList.toggle("scrollWrapped",t===sn.WRAPPED),!(!this.pdfDocument||!e)&&(t===sn.PAGE?this.#M():this._previousScrollMode===sn.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#A(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!VEe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,r=this._pages;if(this._scrollMode===sn.PAGE)this.#M();else if(t.textContent="",this._spreadMode===Zi.NONE)for(let i of this._pages)t.append(i.div);else{let i=this._spreadMode-1,o=null;for(let s=0,a=r.length;s<a;++s)o===null?(o=document.createElement("div"),o.className="spread",t.append(o)):s%2===i&&(o=o.cloneNode(!1),t.append(o)),o.append(r[s].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#A(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case sn.WRAPPED:{let{views:r}=this._getVisiblePages(),i=new Map;for(let{id:o,y:s,percent:a,widthPercent:l}of r){if(a===0||l<100)continue;let d=i.get(s);d||i.set(s,d||=[]),d.push(o)}for(let o of i.values()){let s=o.indexOf(e);if(s===-1)continue;let a=o.length;if(a===1)break;if(t)for(let l=s-1,d=0;l>=d;l--){let h=o[l],f=o[l+1]-1;if(h<f)return e-f}else for(let l=s+1,d=a;l<d;l++){let h=o[l],f=o[l-1]+1;if(h>f)return f-e}if(t){let l=o[0];if(l<e)return e-l+1}else{let l=o[a-1];if(l>e)return l-e+1}break}break}case sn.HORIZONTAL:break;case sn.PAGE:case sn.VERTICAL:{if(this._spreadMode===Zi.NONE)break;let r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;let{views:i}=this._getVisiblePages(),o=t?e-1:e+1;for(let{id:s,percent:a,widthPercent:l}of i)if(s===o){if(a>0&&l===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let o=this._currentScale;if(t>0&&t!==1)o=Math.round(o*t*100)/100;else if(r){let s=r>0?FX:1/FX,a=r>0?Math.ceil:Math.floor;r=Math.abs(r);do o=a((o*s).toFixed(2)*10)/10;while(--r>0)}o=Math.max(REe,Math.min(PEe,o)),this.#A(o,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale(Se(X({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(Se(X({},e),{steps:-(e.steps??1)}))}#L(e=this.container.clientHeight){e!==this.#y&&(this.#y=e,jEe.setProperty("--viewer-container-height",`${e}px`))}#B(e){for(let t of e)if(t.target===this.container){this.#L(Math.floor(t.borderBoxSize[0].blockSize)),this.#l=null;break}}get containerTopLeft(){return this.#l||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#p?.abort(),this.#p=null,this.#g!==null&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#o?this.#r:ss.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1}){if(!this.#o)throw new Error("The AnnotationEditor is not enabled.");if(this.#r===e)return;if(!gZ(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===ss.STAMP&&this.#f?.loadModel("altText");let{eventBus:i}=this,o=()=>{this.#V(),this.#r=e,this.#o.updateMode(e,t,r),i.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ss.NONE||this.#r===ss.NONE){let s=e!==ss.NONE;s||this.pdfDocument.annotationStorage.resetModifiedIds();for(let l of this._pages)l.toggleEditingMode(s);let a=this.#F();if(s&&a){this.#V(),this.#p=new AbortController;let l=AbortSignal.any([this.#h.signal,this.#p.signal]);i._on("pagerendered",({pageNumber:d})=>{a.delete(d),a.size===0&&(this.#g=setTimeout(o,0))},{signal:l});return}}o()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let r of this._pages)r.update(t);this.#b!==null&&(clearTimeout(this.#b),this.#b=null),e||this.update()}}},v8=class extends YE{_resetView(){super._resetView(),this._scrollMode=sn.PAGE,this._spreadMode=Zi.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var vSe=ur.AnnotationLayerBuilder,wSe=ur.DownloadManager,_Se=ur.EventBus,ySe=ur.FindState,w8=ur.GenericL10n,Pp=ur.LinkTarget,_8=ur.PDFFindController,kSe=ur.PDFHistory,y8=ur.PDFLinkService,bSe=ur.PDFPageView,xSe=ur.PDFScriptingManager,k8=ur.PDFSinglePageViewer,b8=ur.PDFViewer,CSe=ur.ProgressBar,ESe=ur.RenderingStates,MSe=ur.ScrollMode,SSe=ur.SimpleLinkService,ISe=ur.SpreadMode,ASe=ur.StructTreeLayerBuilder,TSe=ur.TextLayerBuilder,DSe=ur.XfaLayerBuilder,RSe=ur.parseQueryString;var PSe=["pdfViewerContainer"];function OSe(n,e){let t=new n.EventBus;return NSe(t,e),t}function NSe(n,e){en(n,"documentload").pipe(Ue(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),en(n,"pagerendered").pipe(Ue(e)).subscribe(({pageNumber:t,cssTransform:r,source:i})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:r}),i.div.dispatchEvent(o)}),en(n,"textlayerrendered").pipe(Ue(e)).subscribe(({pageNumber:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),r.textLayerDiv?.dispatchEvent(i)}),en(n,"pagechanging").pipe(Ue(e)).subscribe(({pageNumber:t,source:r})=>{let i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=t,r.container.dispatchEvent(i)}),en(n,"pagesinit").pipe(Ue(e)).subscribe(({source:t})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(r)}),en(n,"pagesloaded").pipe(Ue(e)).subscribe(({pagesCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(i)}),en(n,"scalechange").pipe(Ue(e)).subscribe(({scale:t,presetValue:r,source:i})=>{let o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=t,o.presetValue=r,i.container.dispatchEvent(o)}),en(n,"updateviewarea").pipe(Ue(e)).subscribe(({location:t,source:r})=>{let i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=t,r.container.dispatchEvent(i)}),en(n,"find").pipe(Ue(e)).subscribe(({source:t,type:r,query:i,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l})=>{if(t===window)return;let d=document.createEvent("CustomEvent");d.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l}),window.dispatchEvent(d)}),en(n,"attachmentsloaded").pipe(Ue(e)).subscribe(({attachmentsCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),r.container.dispatchEvent(i)}),en(n,"sidebarviewchanged").pipe(Ue(e)).subscribe(({view:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),r.outerContainer.dispatchEvent(i)}),en(n,"pagemode").pipe(Ue(e)).subscribe(({mode:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:t}),r.pdfViewer.container.dispatchEvent(i)}),en(n,"namedaction").pipe(Ue(e)).subscribe(({action:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:t}),r.pdfViewer.container.dispatchEvent(i)}),en(n,"presentationmodechanged").pipe(Ue(e)).subscribe(({active:t,switchInProgress:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:r}),window.dispatchEvent(i)}),en(n,"outlineloaded").pipe(Ue(e)).subscribe(({outlineCount:t,source:r})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),r.container.dispatchEvent(i)})}function C8(n,e,t){n[e]=t}function Ew(){return typeof window>"u"}Ew()||C8(J0,"verbosity",ON.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}});var E8=(function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n})(E8||{}),ZE=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof J0<"u"?`https://unpkg.com/pdfjs-dist@${ww}/cmaps/`:null;_imageResourcesPath=typeof J0<"u"?`https://unpkg.com/pdfjs-dist@${ww}/web/images/`:void 0;_renderText=!0;_renderTextMode=E8.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Te;afterLoadComplete=new it;pageRendered=new it;pageInitialized=new it;textLayerRendered=new it;onError=new it;onProgress=new it;pageChange=new it(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let r=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,r!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Pp.BLANK;case"none":return Pp.NONE;case"self":return Pp.SELF;case"parent":return Pp.PARENT;case"top":return Pp.TOP}return null}constructor(t,r){if(this.element=t,this.ngZone=r,Ew())return;let i,o=ww,s=window[`pdfWorkerSrc${o}`];s?i=s:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?i=window.pdfWorkerSrc:i=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.mjs`,C8(PN,"workerSrc",i)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(Ew()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:r}=t;if(r.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){Tn(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Ue(this.destroy$)).subscribe({next:t=>{let r=this._rotation+t.rotate,i=t.getViewport({scale:this._zoom,rotation:r}).width*n.CSS_UNITS,o=this._zoom,s=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){let a=t.getViewport({scale:1,rotation:r});o=this.getScale(a.width,a.height),s=!this._stickToPage}this.pdfViewer.currentScale=o,s&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=OSe(x8,this.destroy$),en(this.eventBus,"pagerendered").pipe(Ue(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),en(this.eventBus,"pagesinit").pipe(Ue(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),en(this.eventBus,"pagechanging").pipe(Ue(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),en(this.eventBus,"textlayerrendered").pipe(Ue(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new y8(X({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new _8({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:E8.DISABLED,findController:this.pdfFindController,l10n:new w8("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:RN.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),C8(J0,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new b8(this.getPDFOptions()):this.pdfViewer=new k8(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let r={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return r.isEvalSupported=!1,t==="string"?r.url=this.src:t==="object"&&(this.src.byteLength!==void 0?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=NN(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};let t=this.src;Tn(this.loadingTask.promise).pipe(Ue(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=t,this.afterLoadComplete.emit(r),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{let t=this.pageInitialized.subscribe(()=>{this.updateSize(),t.unsubscribe()})}}getScale(t,r){let i=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-i,s=this.pdfViewerContainer.nativeElement.clientHeight-i;if(s===0||r===0||o===0||t===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(s/r,o/t);break;case"page-height":a=s/r;break;case"page-width":default:a=o/t;break}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Ew()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Ew()||this.ngZone.runOutsideAngular(()=>{en(window,"resize").pipe(Vl(100),Qt(()=>this._canAutoResize&&!!this._pdf),Ue(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(r){return new(r||n)(Re(at),Re(Fe))};static \u0275cmp=de({type:n,selectors:[["pdf-viewer"]],viewQuery:function(r,i){if(r&1&&ks(PSe,5),r&2){let o;Ko(o=Yo())&&(i.pdfViewerContainer=o.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[ei],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(r,i){r&1&&(D(0,"div",1,0),se(2,"div",2),I())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),QE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jt({type:n});static \u0275inj=Lt({})}return n})();function LSe(n,e){if(n&1&&se(0,"pdf-viewer",0),n&2){let t=ae();ve("src",t.pdfURL)("render-text",!0)("original-size",!0)}}function FSe(n,e){if(n&1&&(D(0,"div",1)(1,"h1"),V(2,"No resume found"),I()()),n&2){let t=ae();P(),te(t.h1Style)}}var JE=class n extends Hn{resumePDFService=C(G0);route=C(Oo);email;pdfURL="";preloaderService=C(Un);hlmDialogService=C(Jn);fetchPDFFromEmail(){return x(this,null,function*(){this.preloaderService.show();try{let e=yield this.resumePDFService.getPDFFromEmail(this.email);this.pdfURL=window.URL.createObjectURL(e)}catch{this.hlmDialogService.open(Xt,{context:{error:"Unable to find resume of the user",desc:"Check if user is valid or url is correct, or try again later!"}})}finally{this.preloaderService.hide()}})}ngOnInit(){this.route.paramMap.subscribe(e=>x(this,null,function*(){this.email=e.get("email"),yield this.fetchPDFFromEmail()}))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-resume-viewer"]],features:[Ne([]),ft],decls:2,vars:2,consts:[[1,"h-[100vh]",3,"src","render-text","original-size"],[1,"flex","items-center","justify-center","flex-col","h-[100vh]"]],template:function(t,r){t&1&&(ne(0,LSe,1,3,"pdf-viewer",0),ne(1,FSe,3,2,"div",1)),t&2&&(re(r.pdfURL!==""?0:-1),P(),re(r.pdfURL===""?1:-1))},dependencies:[QE,ZE],encapsulation:2})};var BSe=["editor"],xZ=new pe("EDITOR_SETTINGS"),wl=(()=>{let e=class e{get monaco(){return this._monaco}constructor(r){this.typingsLoaded=new Te,this.loaded=new Xn({monaco:null}),this.loadingTypings=new Xn(!1);let i=r?.editorVersion||"latest";this.baseUrl=r?.baseUrl||`https://cdn.jsdelivr.net/npm/monaco-editor@${i}/min`,this.typingsWorkerUrl=r?.typingsWorkerUrl||""}loadTypingsWorker(){if(!this.typingsWorker&&window.Worker){if(this.typingsWorkerUrl.startsWith("http")){let r=`importScripts('${this.typingsWorkerUrl}');`,i=URL.createObjectURL(new Blob([r],{type:"text/javascript"}));this.typingsWorker=new Worker(i)}else this.typingsWorker=new Worker(this.typingsWorkerUrl);this.typingsWorker.addEventListener("message",r=>{this.loadingTypings.next(!1),this.typingsLoaded.next(r.data)})}return this.typingsWorker}loadTypings(r){if(r&&r.length>0){let i=this.loadTypingsWorker();i&&(this.loadingTypings.next(!0),i.postMessage({dependencies:r}))}}loadEditor(){return new Promise(r=>{let i=()=>{if(window.require.config({paths:{vs:`${this.baseUrl}/vs`}}),this.baseUrl.startsWith("http")){let o=`
            self.MonacoEnvironment = {
              baseUrl: "${this.baseUrl}"
            };
            importScripts('${this.baseUrl}/vs/base/worker/workerMain.js');
          `,s=URL.createObjectURL(new Blob([o],{type:"text/javascript"}));window.MonacoEnvironment={getWorkerUrl:function(){return s}}}window.require(["vs/editor/editor.main"],()=>{this._monaco=window.monaco,this.loaded.next({monaco:this._monaco}),r()})};if(window.require)i();else{let o=document.createElement("script");o.type="text/javascript",o.src=`${this.baseUrl}/vs/loader.js`,o.addEventListener("load",i),document.body.appendChild(o)}})}setTheme(r){this.monaco.editor.setTheme(r)}createEditor(r,i){return this.monaco.editor.create(r,i)}createModel(r,i,o){return this.monaco.editor.createModel(r,i,this.monaco.Uri.file(o))}setModelLanguage(r,i){this.monaco&&r&&this.monaco.editor.setModelLanguage(r,i)}};e.\u0275fac=function(i){return new(i||e)(Ie(xZ,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CZ=(()=>{let e=class e{constructor(r){r.loaded.subscribe(i=>{this.setup(i.monaco)}),r.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(r){if(!r)return;this.monaco=r;let i=r.languages.typescript.typescriptDefaults;i.setCompilerOptions({target:r.languages.typescript.ScriptTarget.ES6,module:"commonjs",noEmit:!0,noLib:!0,emitDecoratorMetadata:!0,experimentalDecorators:!0,allowNonTsExtensions:!0,declaration:!0,lib:["es2017","dom"],baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(r){r&&(this.addExtraLibs(r.files),this.addLibraryPaths(r.entryPoints))}addExtraLibs(r=[]){if(!this.monaco||!r||r.length===0)return;let i=this.monaco.languages.typescript.typescriptDefaults,o=i.getExtraLibs();r.forEach(s=>{o[s.path]||(i._extraLibs[s.path]=s.content)}),i._onDidChange.fire(i)}addLibraryPaths(r={}){if(!this.monaco)return;let o=this.monaco.languages.typescript.typescriptDefaults.getCompilerOptions();o.paths=o.paths||{},Object.keys(r).forEach(s=>{o.paths[s]=[r[s]]})}};e.\u0275fac=function(i){return new(i||e)(Ie(wl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),EZ=(()=>{let e=class e{constructor(r){r.loaded.subscribe(i=>{this.setup(i.monaco)}),r.typingsLoaded.subscribe(i=>{this.updateTypings(i)})}setup(r){if(!r)return;this.monaco=r;let i=r.languages.typescript.javascriptDefaults;i.setCompilerOptions({target:r.languages.typescript.ScriptTarget.ES6,module:"commonjs",allowNonTsExtensions:!0,baseUrl:".",paths:{}}),i.setMaximumWorkerIdleTime(-1),i.setEagerModelSync(!0)}updateTypings(r){r&&(this.addExtraLibs(r.files),this.addLibraryPaths(r.entryPoints))}addExtraLibs(r=[]){if(!this.monaco||!r||r.length===0)return;let i=this.monaco.languages.typescript.javascriptDefaults,o=i.getExtraLibs();r.forEach(s=>{o[s.path]||(i._extraLibs[s.path]=s.content)}),i._onDidChange.fire(i)}addLibraryPaths(r={}){if(!this.monaco)return;let o=this.monaco.languages.typescript.javascriptDefaults.getCompilerOptions();o.paths=o.paths||{},Object.keys(r).forEach(s=>{o.paths[s]=[r[s]]})}};e.\u0275fac=function(i){return new(i||e)(Ie(wl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),MZ=(()=>{let e=class e{constructor(r){r.loaded.subscribe(i=>{this.setup(i.monaco)})}setup(r){if(!r)return;this.monaco=r;let i=r.languages.json.jsonDefaults;i.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[...i._diagnosticsOptions.schemas,{uri:"http://myserver/foo-schema.json",schema:{type:"object",properties:{p1:{enum:["v1","v2"]},p2:{$ref:"http://myserver/bar-schema.json"}}}},{uri:"http://myserver/bar-schema.json",schema:{type:"object",properties:{q1:{enum:["x1","x2"]}}}}]})}addSchemas(r,i=[]){let o=this.monaco.languages.json.jsonDefaults,s=o.diagnosticsOptions,a={};s&&s.schemas&&s.schemas.length>0&&s.schemas.forEach(l=>{a[l.uri]=l});for(let{uri:l,schema:d}of i)a[l]={uri:l,schema:d,fileMatch:[r||"*.json"]};s.schemas=Object.values(a),o.setDiagnosticsOptions(s)}};e.\u0275fac=function(i){return new(i||e)(Ie(wl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),eM=(()=>{let e=class e{constructor(){this.defaultOptions={lineNumbers:"on",contextmenu:!1,minimap:{enabled:!1}},this.theme="vs",this.options={},this.readOnly=!1,this.valueChanged=new it,this.codeModelChanged=new it,this.modelContentChanged=new it,this.loaded=new it,this.editorService=C(wl),this.typescriptDefaults=C(CZ),this.javascriptDefaults=C(EZ),this.jsonDefaults=C(MZ)}get editor(){return this._editor}set editor(r){this._editor=r}ngOnDestroy(){this.editor&&(this.editor.dispose(),this.editor=null),this._model&&(this._model.dispose(),this._model=null)}ngOnChanges(r){let i=r.codeModel,o=r.readOnly,s=r.theme;i&&!i.firstChange&&this.updateModel(i.currentValue),o&&!o.firstChange&&this.editor&&this.editor.updateOptions({readOnly:o.currentValue}),s&&!s.firstChange&&this.editorService.setTheme(s.currentValue)}onResize(){this.editor&&this.editor.layout()}ngAfterViewInit(){return x(this,null,function*(){this.setupEditor(),this.loaded.emit(this)})}setupEditor(){let r=this.editorContent.nativeElement,i=X({value:"",language:"text",uri:`code-${Date.now()}`},this.codeModel);this._model=this.editorService.createModel(i.value,i.language,i.uri);let o=Object.assign({},this.defaultOptions,this.options,{readOnly:this.readOnly,theme:this.theme,model:this._model});this.editor=this.editorService.createEditor(r,o),this._model.onDidChangeContent(s=>{this.modelContentChanged.emit(s);let a=this._model.getValue();this.codeModel&&(this.codeModel.value=a),this.valueChanged.emit(a)}),this.setupDependencies(this.codeModel),this.codeModelChanged.emit({sender:this,value:this.codeModel})}runEditorAction(r,i){this.editor.getAction(r)?.run(i)}formatDocument(){this.runEditorAction("editor.action.formatDocument")}setupDependencies(r){if(!r)return;let{language:i}=r;if(i)switch(i.toLowerCase()){case"typescript":r.dependencies&&this.editorService.loadTypings(r.dependencies);break;case"javascript":r.dependencies&&this.editorService.loadTypings(r.dependencies);break;case"json":r.schemas&&this.jsonDefaults.addSchemas(r.uri,r.schemas);break;default:break}}setEditorValue(r){setTimeout(()=>{this._model&&this._model.setValue(r)})}updateModel(r){r&&(this.setEditorValue(r.value),this.editorService.setModelLanguage(this._model,r.language),this.setupDependencies(r),this.codeModelChanged.emit({sender:this,value:r}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=de({type:e,selectors:[["ngs-code-editor"]],viewQuery:function(i,o){if(i&1&&ks(BSe,7),i&2){let s;Ko(s=Yo())&&(o.editorContent=s.first)}},hostAttrs:[1,"ngs-code-editor"],hostBindings:function(i,o){i&1&&we("resize",function(){return o.onResize()},R1)},inputs:{codeModel:"codeModel",theme:"theme",options:"options",readOnly:"readOnly"},outputs:{valueChanged:"valueChanged",codeModelChanged:"codeModelChanged",modelContentChanged:"modelContentChanged",loaded:"loaded"},features:[ei],decls:2,vars:0,consts:[["editor",""],["id","editor",1,"monaco-editor","editor"]],template:function(i,o){i&1&&Ci(0,"div",1,0)},styles:[`.editor{width:100%;height:inherit;min-height:200px}
`],encapsulation:2,changeDetection:0});let n=e;return n})();function VSe(n){return()=>n.loadEditor()}function SZ(n){return[{provide:xZ,useValue:n},wl,CZ,EZ,MZ,{provide:$k,useFactory:VSe,deps:[wl],multi:!0}]}var tM=class n{isBrowser;constructor(e){this.isBrowser=Wi(e)}setItem(e,t){this.isBrowser&&localStorage.setItem(e,t)}getItem(e){return this.isBrowser?localStorage.getItem(e):null}removeItem(e){this.isBrowser&&localStorage.removeItem(e)}clear(){this.isBrowser&&localStorage.clear()}static \u0275fac=function(t){return new(t||n)(Ie(Qn))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var _l=class n{constructor(e,t){this.document=e;this.localStorageService=t}getCurrentMode(){return this.localStorageService.getItem("mode")=="dark"?"dark":this.localStorageService.getItem("mode")=="light"?"light":this.document.documentElement.classList.contains("dark")?"dark":"light"}setMode(){let e=this.document.documentElement;this.localStorageService.getItem("mode")=="dark"?e.classList.add("dark"):this.localStorageService.getItem("mode")=="light"?e.classList.remove("dark"):(e.classList.add("dark"),this.localStorageService.setItem("mode","dark"))}toggleMode(){let e=this.document.documentElement;this.localStorageService.getItem("mode")=="dark"?(e.classList.remove("dark"),this.localStorageService.setItem("mode","light")):this.localStorageService.getItem("mode")=="light"?(e.classList.add("dark"),this.localStorageService.setItem("mode","dark")):e.classList.contains("dark")?(e.classList.remove("dark"),this.localStorageService.setItem("mode","dark")):(e.classList.add("dark"),this.localStorageService.setItem("mode","light"))}static \u0275fac=function(t){return new(t||n)(Ie(vt),Ie(tM))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var AZ=q_(D4());function HSe(n,e){if(n&1&&se(0,"pdf-viewer",15),n&2){let t=ae();ve("src",t.pdfSource)("render-text",!0)("original-size",!1)}}function USe(n,e){if(n&1&&(D(0,"div",16)(1,"h3"),V(2," Click on Compile button to see your resume. "),I(),D(3,"p",17),V(4," The PDF will appear here after compilation "),I()()),n&2){let t=ae();P(),te(It("",t.h3Style," text-base sm:text-lg"))}}var nM=class n extends Hn{apiService=C(Fr);userCacheManager=C(vu);resumeDataService=C(ol);userService=C(er);preloaderService=C(Un);codeService=C(wl);resumePDFService=C(G0);themeService=C(_l);hlmDialogService=C(Jn);location=C(Ro);username=this.userService.getCurrentUserObject().displayName;latex="";pdfSource="";theme=this.themeService.getCurrentMode()==="dark"?"vs-dark":"vs-light";isPDFSaved=!1;pdfContainsError=!1;texURL="";initialTex="";codeModel={language:"latex",value:"",uri:"resume.tex"};codeOption={automaticLayout:!0,wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,lineNumbers:"on",folding:!0,bracketPairColorization:{enabled:!0},suggest:{showKeywords:!0,showSnippets:!0}};getLatex(){return x(this,null,function*(){this.preloaderService.show();try{let e=yield this.resumePDFService.getSaveTexContent();this.latex=e,this.isPDFSaved=!0,this.initialTex=this.latex}catch{kp("No saved Tex found",{description:"Please save your generated Tex, we were not able to locate any saved Tex"});try{let t=null;if(this.userCacheManager.getCache()?t=this.userCacheManager.getCache():t=yield this.resumeDataService.getResumeDataFirebase(),t===null){this.hlmDialogService.open(Xt,{context:{error:"Can not get your profile Details",desc:"Make sure you go to analytics page to check if your profile data is valid and save!"}}).closed$.subscribe(()=>{this.location.back()});return}this.latex=(yield this.apiService.post(Sn.GETLATEXFROMUSERPROFILE,t,yield this.userService.getCurrentUserObject().getIdToken())).latex,this.initialTex=this.latex}catch(t){this.hlmDialogService.open(Xt,{context:{error:"Error fetching your data",desc:`Internet issue, please try again, after verifying your internet 
 ${t}`}})}}this.codeModel={language:"latex",value:this.latex,uri:"resume.tex"},yield this.getPDF(),this.preloaderService.hide()})}regeneratePDF(){return x(this,null,function*(){this.preloaderService.show();try{let e;this.userCacheManager.getCache()?e=this.userCacheManager.getCache():e=yield this.resumeDataService.getResumeDataFirebase(),this.latex=(yield this.apiService.post(Sn.GETLATEXFROMUSERPROFILE,e,yield this.userService.getCurrentUserObject().getIdToken())).latex,this.initialTex=this.latex,this.codeModel={language:"latex",value:this.latex,uri:"resume.tex"},yield this.getPDF(),this.isPDFSaved=!1}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Error generating PDF",desc:`Incorrect syntax or internal issue, please try again, after verifying your latex code ${e}`}}),this.pdfContainsError=!0}finally{this.preloaderService.hide()}})}ngOnInit(){this.codeService.monaco.languages.register({id:"latex"}),this.codeService.monaco.languages.setMonarchTokensProvider("latex",{tokenizer:{root:[[/\\[a-zA-Z@]+/,"keyword"],[/\\[^a-zA-Z@]/,"keyword"],[/\{/,"delimiter.bracket","@bracket"],[/\}/,"delimiter.bracket","@pop"],[/%/,"comment","@comment"],[/[^\\{}%]+/,"text"]],bracket:[[/\{/,"delimiter.bracket","@bracket"],[/\}/,"delimiter.bracket","@pop"],[/[^{}]+/,"text"]],comment:[[/$/,"comment","@pop"],[/.*/,"comment"]]}}),window.scrollTo(0,0),this.getLatex()}contentChange(e){this.latex=e,(0,AZ.isEqual)(this.latex,this.initialTex)||(this.isPDFSaved=!1)}recompilePDF(){return x(this,null,function*(){this.latex&&(this.preloaderService.show(),yield this.getPDF(),this.preloaderService.hide())})}handleBack(){this.isPDFSaved?this.location.back():this.hlmDialogService.open(au,{context:{title:"Your Resume is not saved!",desc:"Your resume pdf is not saved on cloud navigating back will cause in loss of data!, do you confirm to discard the data?"}}).closed$.subscribe(t=>{if(t==="yes")this.location.back();else return})}savePDF(){return x(this,null,function*(){this.preloaderService.show();try{this.texURL=yield this.resumePDFService.saveTex(this.latex),this.isPDFSaved=!0,this.initialTex=this.latex}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Error saving PDF",desc:`Error saving the PDF please check your internet or try again later ${e}`}})}finally{this.preloaderService.hide()}})}getPDF(){return x(this,null,function*(){if(this.latex)try{let e=yield this.resumePDFService.generatePDFFromLatex(this.latex);this.pdfSource=window.URL.createObjectURL(e)}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Error generating PDF",desc:`Incorrect syntax or internal issue, please try again, after verifying your latex code ${e}`}}),this.pdfContainsError=!0}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-resume-screen"]],features:[Ne([Yt({lucideArrowLeft:kg})]),ft],decls:23,vars:10,consts:[[3,"duration","closeButton"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","w-full","p-3","sm:p-4","gap-3","sm:gap-4"],[1,"flex-shrink-0"],["hlmBtn","",1,"text-sm","sm:text-base",3,"click"],["size","20px",0,"sm","size","25px","name","lucideArrowLeft"],[1,"text-center","sm:text-left","text-lg","sm:text-xl","font-semibold","flex-1","px-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-2","w-full","sm:w-auto"],["hlmBtn","","variant","link",1,"w-full","sm:w-auto","text-sm"],["target","_blank","rel","noopener noreferrer",3,"href"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click"],["hlmBtn","",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],[1,"flex","flex-col","lg:flex-row","h-[calc(100vh-120px)]","sm:h-[calc(100vh-140px)]"],[1,"flex-1","min-h-[400px]","lg:min-h-0","order-2","lg:order-1"],[1,"h-full",3,"valueChanged","options","theme","codeModel"],[1,"flex","flex-1","items-center","justify-center","text-center","border","border-l-0","lg:border-l","lg:border-t-0","order-1","lg:order-2","min-h-[300px]","lg:min-h-0"],[1,"w-full","h-full",3,"src","render-text","original-size"],[1,"p-6","text-center"],[1,"text-sm","text-muted-foreground","mt-2"]],template:function(t,r){t&1&&(se(0,"hlm-toaster",0),D(1,"div",1)(2,"div",2)(3,"button",3),we("click",function(){return r.handleBack()}),se(4,"ng-icon",4),I()(),D(5,"div",5),V(6),I(),D(7,"div",6)(8,"button",7)(9,"a",8),V(10,"Download PDF"),I()(),D(11,"button",9),we("click",function(){return r.regeneratePDF()}),V(12," Regenerate "),I(),D(13,"button",9),we("click",function(){return r.recompilePDF()}),V(14," Compile "),I(),D(15,"button",10),we("click",function(){return r.savePDF()}),V(16," Save "),I()()(),D(17,"div",11)(18,"div",12)(19,"ngs-code-editor",13),we("valueChanged",function(o){return r.contentChange(o)}),I()(),D(20,"div",14),ne(21,HSe,1,3,"pdf-viewer",15),ne(22,USe,5,3,"div",16),I()()),t&2&&(ve("duration",5e3)("closeButton",!0),P(6),yt(" ",r.username,"'s Resume "),P(3),ve("href",r.pdfSource,ti),P(6),ve("disabled",r.isPDFSaved),P(4),ve("options",r.codeOption)("theme",r.theme)("codeModel",r.codeModel),P(2),re(r.pdfSource?21:-1),P(),re(r.pdfSource?-1:22))},dependencies:[eM,QE,ZE,bn,nn,bp],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh;overflow:hidden}ngs-code-editor[_ngcontent-%COMP%]{height:100%;display:block;border-radius:.5rem}@media (max-width: 1024px){ngs-code-editor[_ngcontent-%COMP%]{border-radius:0}}pdf-viewer[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.header-section[_ngcontent-%COMP%]{background:hsl(var(--background));border-bottom:1px solid hsl(var(--border));-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:sticky;top:0;z-index:10}.hlm-btn[_ngcontent-%COMP%]{transition:all .2s ease}.hlm-btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 12px -2px #00000026}.hlm-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 640px){.hlm-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;min-height:2.5rem}}@media (max-width: 640px){.action-buttons[_ngcontent-%COMP%]   .hlm-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 1024px){.main-content[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]   .code-editor-section[_ngcontent-%COMP%]{order:2;min-height:400px}.main-content[_ngcontent-%COMP%]   .pdf-viewer-section[_ngcontent-%COMP%]{order:1;min-height:300px;border-left:none;border-top:1px solid hsl(var(--border))}}@media (min-width: 1025px){.main-content[_ngcontent-%COMP%]{flex-direction:row}.main-content[_ngcontent-%COMP%]   .code-editor-section[_ngcontent-%COMP%]{order:1;border-right:1px solid hsl(var(--border))}.main-content[_ngcontent-%COMP%]   .pdf-viewer-section[_ngcontent-%COMP%]{order:2;border-left:1px solid hsl(var(--border))}}.pdf-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;color:hsl(var(--muted-foreground))}.pdf-placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;color:hsl(var(--foreground))}.pdf-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5}@media (max-width: 640px){.mobile-p-3[_ngcontent-%COMP%]{padding:.75rem}.mobile-gap-3[_ngcontent-%COMP%]{gap:.75rem}}@media (min-width: 641px) and (max-width: 1024px){.tablet-p-4[_ngcontent-%COMP%]{padding:1rem}.tablet-gap-4[_ngcontent-%COMP%]{gap:1rem}}@media (min-width: 1025px){.desktop-p-6[_ngcontent-%COMP%]{padding:1.5rem}.desktop-gap-6[_ngcontent-%COMP%]{gap:1.5rem}}*[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible{outline:2px solid hsl(var(--primary));outline-offset:2px}.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.error[_ngcontent-%COMP%]{border-color:hsl(var(--destructive));background-color:hsl(var(--destructive)/.1)}.success[_ngcontent-%COMP%]{border-color:hsl(var(--success));background-color:hsl(var(--success)/.1)}"]})};var zSe=["bentoGrid"],$Se=n=>({"mt-[80px]":n}),WSe=(n,e)=>[n,e];function GSe(n,e){n&1&&se(0,"app-static-top-bar")}function qSe(n,e){if(n&1&&(D(0,"div",6),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.icon)}}function KSe(n,e){if(n&1&&(D(0,"span",15),V(1),I()),n&2){let t=e.$implicit;P(),qe(t)}}function YSe(n,e){if(n&1&&(D(0,"div",8),yn(1,KSe,2,1,"span",15,Js),I()),n&2){let t=ae().$implicit;P(),kn(t.tags)}}function XSe(n,e){if(n&1&&(D(0,"div",18)(1,"div",19),V(2),I(),D(3,"div",20),V(4),I()()),n&2){let t=e.$implicit;P(2),qe(t.value),P(2),qe(t.label)}}function ZSe(n,e){if(n&1&&(D(0,"div",17),yn(1,XSe,5,2,"div",18,Js),I()),n&2){let t=ae(2).$implicit;P(),kn(t.stats)}}function QSe(n,e){if(n&1&&(D(0,"div",9)(1,"p",16),V(2),I(),ne(3,ZSe,3,0,"div",17),I()),n&2){let t=ae().$implicit;P(2),qe(t.content),P(),re(t.stats!=null&&t.stats.length?3:-1)}}function JSe(n,e){if(n&1&&(D(0,"div",21),se(1,"img",23),I()),n&2){let t=ae(2).$implicit;P(),ve("src",t.image,ti)("alt",t.heading)}}function eIe(n,e){if(n&1&&(D(0,"div",10),ne(1,JSe,2,2,"div",21),D(2,"div",22)(3,"p",16),V(4),I()()()),n&2){let t=ae().$implicit;P(),re(t.image?1:-1),P(3),qe(t.content)}}function tIe(n,e){if(n&1&&(D(0,"p"),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.content)}}function nIe(n,e){if(n&1&&(D(0,"span",29),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.badge)}}function rIe(n,e){if(n&1&&(D(0,"div",26),se(1,"div",27),D(2,"div",28)(3,"h4"),V(4),I(),ne(5,tIe,2,1,"p"),ne(6,nIe,2,1,"span",29),I()()),n&2){let t=e.$implicit,r=e.$index,i=e.$count;sr("last-item",r===i-1),P(4),qe(t.heading),P(),re(t.content?5:-1),P(),re(t.badge?6:-1)}}function iIe(n,e){if(n&1&&(D(0,"p",16),V(1),I(),D(2,"div",24),yn(3,rIe,7,5,"div",25,Js),I()),n&2){let t=ae(2).$implicit;P(),qe(t.content),P(2),kn(t.innerBentos)}}function oIe(n,e){if(n&1&&(D(0,"span",29),V(1),I()),n&2){let t=ae(3).$implicit;P(),qe(t.badge)}}function sIe(n,e){if(n&1&&(D(0,"div",24)(1,"div",30),se(2,"div",27),D(3,"div",28)(4,"h4"),V(5),I(),D(6,"p"),V(7),I(),ne(8,oIe,2,1,"span",29),I()()()),n&2){let t=ae(2).$implicit;P(5),qe(t.heading),P(2),qe(t.content),P(),re(t.badge?8:-1)}}function aIe(n,e){if(n&1&&(D(0,"div",11),ne(1,iIe,5,1)(2,sIe,9,3,"div",24),I()),n&2){let t=ae().$implicit;P(),re(t.innerBentos!=null&&t.innerBentos.length?1:2)}}function lIe(n,e){if(n&1&&(D(0,"div",33),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.icon)}}function cIe(n,e){if(n&1&&(D(0,"div",32),ne(1,lIe,2,1,"div",33),D(2,"h4"),V(3),I()()),n&2){let t=e.$implicit;P(),re(t.icon?1:-1),P(2),qe(t.heading)}}function dIe(n,e){if(n&1&&(D(0,"div",31),yn(1,cIe,4,2,"div",32,Js),I()),n&2){let t=ae(2).$implicit;P(),kn(t.innerBentos)}}function uIe(n,e){if(n&1&&(D(0,"div",12)(1,"p",16),V(2),I(),ne(3,dIe,3,0,"div",31),I()),n&2){let t=ae().$implicit;P(2),qe(t.content),P(),re(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function hIe(n,e){if(n&1&&(D(0,"span",36),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.icon)}}function pIe(n,e){if(n&1&&(D(0,"a",37),V(1),I()),n&2){let t=ae().$implicit;ve("href",t.link,ti),P(),qe(t.heading)}}function fIe(n,e){if(n&1&&(D(0,"span"),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.heading)}}function gIe(n,e){if(n&1&&(D(0,"div",35),ne(1,hIe,2,1,"span",36),ne(2,pIe,2,2,"a",37)(3,fIe,2,1,"span"),I()),n&2){let t=e.$implicit;P(),re(t.icon?1:-1),P(),re(t.link?2:3)}}function mIe(n,e){if(n&1&&(D(0,"div",34),yn(1,gIe,4,2,"div",35,Js),I()),n&2){let t=ae(2).$implicit;P(),kn(t.innerBentos)}}function vIe(n,e){if(n&1&&(D(0,"div",13)(1,"p",16),V(2),I(),ne(3,mIe,3,0,"div",34),I()),n&2){let t=ae().$implicit;P(2),qe(t.content),P(),re(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function wIe(n,e){if(n&1&&(D(0,"span",40),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.icon)}}function _Ie(n,e){if(n&1&&(D(0,"p"),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.content)}}function yIe(n,e){if(n&1&&(D(0,"span",41),V(1),I()),n&2){let t=ae().$implicit;P(),qe(t.badge)}}function kIe(n,e){if(n&1&&(D(0,"div",39),ne(1,wIe,2,1,"span",40),D(2,"h4"),V(3),I(),ne(4,_Ie,2,1,"p"),ne(5,yIe,2,1,"span",41),I()),n&2){let t=e.$implicit;P(),re(t.icon?1:-1),P(2),qe(t.heading),P(),re(t.content?4:-1),P(),re(t.badge?5:-1)}}function bIe(n,e){if(n&1&&(D(0,"div",38),yn(1,kIe,6,4,"div",39,Js),I()),n&2){let t=ae(2).$implicit;P(),kn(t.innerBentos)}}function xIe(n,e){if(n&1&&(D(0,"div",14)(1,"p",16),V(2),I(),ne(3,bIe,3,0,"div",38),I()),n&2){let t=ae().$implicit;P(2),qe(t.content),P(),re(t.innerBentos!=null&&t.innerBentos.length?3:-1)}}function CIe(n,e){if(n&1&&(D(0,"div",4)(1,"div",5),ne(2,qSe,2,1,"div",6),D(3,"h2",7),V(4),I(),ne(5,YSe,3,0,"div",8),I(),ne(6,QSe,4,2,"div",9)(7,eIe,5,2,"div",10)(8,aIe,3,1,"div",11)(9,uIe,4,2,"div",12)(10,vIe,4,2,"div",13)(11,xIe,4,2,"div",14),I()),n&2){let t,r=e.$implicit,i=e.$index;te(FT(22,WSe,r.layout||"default",r.size||"medium")),To("--stagger-delay",i*.1+"s"),sr("hero",r.bigBento)("accent-primary",r.accent==="primary")("accent-secondary",r.accent==="secondary")("accent-success",r.accent==="success")("accent-warning",r.accent==="warning")("accent-info",r.accent==="info")("staggered",!0),P(2),re(r.icon?2:-1),P(2),qe(r.heading),P(),re(r.tags!=null&&r.tags.length?5:-1),P(),re((t=r.layout)==="stats"?6:t==="featured"?7:t==="timeline"?8:t==="gallery"?9:t==="contact"?10:11)}}function EIe(n,e){if(n&1&&(D(0,"div",1,0),yn(2,CIe,12,25,"div",3,Js),I()),n&2){let t=ae();P(2),kn(t.website.elements)}}function MIe(n,e){if(n&1&&(se(0,"app-only-back-nav-bar"),D(1,"div",42)(2,"h1"),V(3,"No bento found"),I()()),n&2){let t=ae();P(2),te(t.h1Style)}}function SIe(n,e){n&1&&se(0,"app-promotion-footer",2)}var im=class n extends Hn{bentoGrid;route=C(Oo);email;preloaderService=C(Un);apiService=C(Fr);hlmDialogService=C(Jn);zone=C(Fe);inViewMode=!1;website=null;resizeTimeout;ngOnInit(){this.route.paramMap.subscribe(e=>x(this,null,function*(){this.email=e.get("email"),yield this.loadBento()}))}ngAfterViewInit(){CSS.supports("grid-template-rows","masonry")||this.zone.onStable.subscribe(()=>{this.initMasonryFallback()})}ngOnDestroy(){this.resizeTimeout&&clearTimeout(this.resizeTimeout)}onResize(e){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{CSS.supports("grid-template-rows","masonry")||this.initMasonryFallback()},250)}initMasonryFallback(){if(this.bentoGrid){let e=this.bentoGrid.nativeElement,t=Array.from(e.children);t.forEach(s=>{s.style.position="static",s.style.top="auto",s.style.left="auto"});let r=this.getColumnCount(),i=new Array(r).fill(0),o=16;t.forEach(s=>{let a=i.indexOf(Math.min(...i)),l=s.offsetHeight;s.style.position="absolute",s.style.top=`${i[a]}px`,s.style.left=`${a*(100/r)}%`,s.style.width=`${100/r-1}%`,i[a]+=l+o}),e.style.height=`${Math.max(...i)}px`,e.style.position="relative"}}getColumnCount(){let e=window.innerWidth;return e>=1200?4:e>=900?3:e>=600?2:1}loadBento(){return x(this,null,function*(){if(this.email){this.inViewMode=!0;try{this.preloaderService.show(),this.website=yield this.apiService.get(Sn.GET_BENTO_FROM_EMAIL,{email:this.email},null),console.log("Website loaded for email:",this.email,this.website)}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Unable to load website",desc:e}})}finally{this.preloaderService.hide()}}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-bento-viewer"]],viewQuery:function(t,r){if(t&1&&ks(zSe,5),t&2){let i;Ko(i=Yo())&&(r.bentoGrid=i.first)}},hostBindings:function(t,r){t&1&&we("resize",function(o){return r.onResize(o)},R1)},inputs:{website:"website"},features:[ft],decls:5,vars:8,consts:[["bentoGrid",""],[1,"bento-grid"],["title","Want to create your own bento portfolio page?"],[1,"bento","minimalist",3,"class","hero","accent-primary","accent-secondary","accent-success","accent-warning","accent-info","staggered","--stagger-delay"],[1,"bento","minimalist"],[1,"bento-header"],[1,"bento-icon"],[1,"bento-title"],[1,"bento-tags"],[1,"stats-layout"],[1,"featured-layout"],[1,"timeline-layout"],[1,"gallery-layout"],[1,"contact-layout"],[1,"default-layout"],[1,"tag"],[1,"bento-content"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"featured-image"],[1,"featured-content"],[3,"src","alt"],[1,"timeline-items"],[1,"timeline-item",3,"last-item"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[1,"timeline-badge"],[1,"timeline-item","last-item"],[1,"gallery-grid"],[1,"gallery-item"],[1,"gallery-icon"],[1,"contact-items"],[1,"contact-item"],[1,"contact-icon"],["target","_blank",3,"href"],[1,"bento-inner-grid"],[1,"inner-bento"],[1,"inner-icon"],[1,"inner-badge"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"]],template:function(t,r){t&1&&(ne(0,GSe,1,0,"app-static-top-bar"),D(1,"div"),ne(2,EIe,4,0,"div",1),ne(3,MIe,4,2),I(),ne(4,SIe,1,0,"app-promotion-footer",2)),t&2&&(re(r.inViewMode?0:-1),P(),te(ec(6,$Se,r.inViewMode)),P(),re(r.website?2:-1),P(),re(r.website?-1:3),P(),re(r.inViewMode?4:-1))},dependencies:[sl,z0,$0],styles:['.bento-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));grid-template-rows:masonry;gap:16px;padding:16px;max-width:1400px;margin:0 auto;min-height:100vh;align-content:start}@supports not (grid-template-rows: masonry){.bento-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start}.bento[_ngcontent-%COMP%]{flex:1 1 280px;max-width:calc(50% - 8px);margin-bottom:16px}.bento.hero[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.bento.large[_ngcontent-%COMP%]{flex:1 1 calc(50% - 8px);max-width:calc(50% - 8px)}.bento.xl[_ngcontent-%COMP%]{flex:1 1 calc(66.666% - 8px);max-width:calc(66.666% - 8px)}}.bento[_ngcontent-%COMP%]{border-radius:16px;padding:24px;transition:all .35s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;height:fit-content}.bento.small[_ngcontent-%COMP%]{min-height:200px}.bento.medium[_ngcontent-%COMP%]{min-height:250px}.bento.large[_ngcontent-%COMP%]{min-height:300px}.bento.xl[_ngcontent-%COMP%]{min-height:350px}.bento.hero[_ngcontent-%COMP%]{min-height:400px}.bento-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap;min-height:2rem}.bento-icon[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.8;flex-shrink:0;line-height:1;display:flex;align-items:center}.bento-title[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:600;flex:1;line-height:1.2;display:flex;align-items:center;word-wrap:break-word;overflow-wrap:break-word}.bento-tags[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.tag[_ngcontent-%COMP%]{background:var(--accent);color:var(--accent-foreground);padding:2px 8px;border-radius:12px;font-size:.75rem;font-weight:500}.bento-content[_ngcontent-%COMP%]{line-height:1.6;margin-bottom:16px;color:var(--muted-foreground);flex-grow:1;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.stats-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:16px;margin-top:auto}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--primary);line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--muted-foreground);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.featured-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.featured-image[_ngcontent-%COMP%]{width:100%;height:120px;border-radius:8px;overflow:hidden;margin-bottom:12px}.featured-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.timeline-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.timeline-items[_ngcontent-%COMP%]{flex-grow:1;position:relative;padding-left:4px}.timeline-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:20px;position:relative;transition:all .2s ease}.timeline-item[_ngcontent-%COMP%]:hover{transform:translate(2px)}.timeline-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:var(--primary);margin-top:6px;margin-right:16px;flex-shrink:0;border:2px solid var(--background);box-shadow:0 0 0 2px var(--primary);position:relative;z-index:1}.timeline-item[_ngcontent-%COMP%]:not(.last-item)   .timeline-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;top:10px;left:4px;width:2px;height:calc(100% + 10px);background:linear-gradient(to bottom,var(--primary),var(--border));z-index:0}.timeline-content[_ngcontent-%COMP%]{flex:1;min-width:0;padding:4px 0}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;font-size:.95rem;font-weight:600;line-height:1.3;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;color:var(--foreground)}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:var(--muted-foreground);line-height:1.4;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.timeline-badge[_ngcontent-%COMP%]{display:inline-block;background:var(--accent);color:var(--accent-foreground);padding:3px 8px;border-radius:12px;font-size:.75rem;font-weight:500;margin-top:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;border:1px solid var(--border)}.timeline-item.last-item[_ngcontent-%COMP%]{margin-bottom:0}.timeline-item.last-item[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]:after{display:none}.gallery-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:12px;flex-grow:1}.gallery-item[_ngcontent-%COMP%]{text-align:center;padding:8px;border:1px solid var(--border);border-radius:8px;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60px;overflow:hidden}.gallery-item[_ngcontent-%COMP%]:hover{border-color:var(--ring);transform:translateY(-2px)}.gallery-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:4px;flex-shrink:0;line-height:1}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:500;line-height:1.2;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.contact-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.contact-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;flex-grow:1}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:8px;transition:all .2s ease;min-height:44px;overflow:hidden}.contact-item[_ngcontent-%COMP%]:hover{border-color:var(--ring);background:var(--muted)}.contact-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.8;flex-shrink:0;line-height:1}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--card-foreground);text-decoration:none;font-weight:500;word-wrap:break-word;overflow-wrap:break-word;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1}.bento-inner-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:auto}.inner-bento[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--border);border-radius:8px;text-align:center;transition:all .2s ease;display:flex;flex-direction:column;min-height:0;overflow:hidden}.inner-bento[_ngcontent-%COMP%]:hover{border-color:var(--ring);transform:translateY(-1px)}.inner-icon[_ngcontent-%COMP%]{display:block;font-size:1.2rem;margin-bottom:4px;opacity:.8;flex-shrink:0;line-height:1}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.85rem;font-weight:600;line-height:1.2;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;flex-shrink:0}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.75rem;color:var(--muted-foreground);line-height:1.3;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;flex-grow:1;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical}.inner-badge[_ngcontent-%COMP%]{display:inline-block;background:var(--primary);color:var(--primary-foreground);padding:1px 4px;border-radius:3px;font-size:.6rem;margin-top:4px;flex-shrink:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bento.accent-primary[_ngcontent-%COMP%]{border-left:4px solid var(--primary)}.bento.accent-secondary[_ngcontent-%COMP%]{border-left:4px solid var(--secondary)}.bento.accent-success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.bento.accent-warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.bento.accent-info[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}@media (min-width: 1200px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 900px) and (max-width: 1199px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 600px) and (max-width: 899px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 599px){.bento-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@supports not (grid-template-rows: masonry){@media (min-width: 1200px){.bento[_ngcontent-%COMP%]{max-width:calc(25% - 12px)}.bento.large[_ngcontent-%COMP%]{max-width:calc(50% - 8px)}.bento.xl[_ngcontent-%COMP%]{max-width:calc(75% - 4px)}}@media (min-width: 900px) and (max-width: 1199px){.bento[_ngcontent-%COMP%]{max-width:calc(33.333% - 11px)}.bento.large[_ngcontent-%COMP%]{max-width:calc(66.666% - 8px)}.bento.xl[_ngcontent-%COMP%]{max-width:calc(100% + -0px)}}@media (min-width: 600px) and (max-width: 899px){.bento[_ngcontent-%COMP%]{max-width:calc(50% - 8px)}.bento.large[_ngcontent-%COMP%], .bento.xl[_ngcontent-%COMP%]{max-width:calc(100% + -0px)}}}.bento.staggered[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards;animation-delay:var(--stagger-delay, 0s);opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.bento[_ngcontent-%COMP%]:nth-child(odd){transform:translateY(0)}.bento[_ngcontent-%COMP%]:nth-child(2n){transform:translateY(5px)}.bento[_ngcontent-%COMP%]:nth-child(3n){transform:translateY(-3px)}.bento[_ngcontent-%COMP%]:nth-child(4n){transform:translateY(8px)}.bento.staggered[_ngcontent-%COMP%]:nth-child(odd), .bento.staggered[_ngcontent-%COMP%]:nth-child(2n), .bento.staggered[_ngcontent-%COMP%]:nth-child(3n), .bento.staggered[_ngcontent-%COMP%]:nth-child(4n){transform:translateY(20px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}@media (max-width: 768px){.bento-grid[_ngcontent-%COMP%]{gap:12px;padding:12px;grid-template-columns:1fr}.bento[_ngcontent-%COMP%]{transform:none!important}.bento-title[_ngcontent-%COMP%]{font-size:1.1rem}.bento-content[_ngcontent-%COMP%]{font-size:.9rem}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;-webkit-line-clamp:2;line-clamp:2}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.85rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@supports not (grid-template-rows: masonry){@media (max-width: 599px){.bento[_ngcontent-%COMP%]{max-width:100%;flex:1 1 100%}}}@media (max-width: 480px){.bento[_ngcontent-%COMP%]{padding:16px}.bento-title[_ngcontent-%COMP%]{font-size:1rem}.bento-content[_ngcontent-%COMP%]{font-size:.85rem}.inner-bento[_ngcontent-%COMP%]{padding:8px}.inner-bento[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem}.inner-bento[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.65rem;-webkit-line-clamp:1;line-clamp:1}.gallery-item[_ngcontent-%COMP%]{padding:6px;min-height:50px}.gallery-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.7rem}.contact-item[_ngcontent-%COMP%]{padding:6px 8px;min-height:40px}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);color:var(--card-foreground);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:var(--card-foreground)}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:var(--muted-foreground)}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px;stroke:var(--muted-foreground);margin-bottom:8px}.bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000014;border-color:var(--ring)}html.dark[_ngcontent-%COMP%]   .bento-grid[_ngcontent-%COMP%]   .bento.minimalist[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000004d}@media only screen and (max-width: 900px){.bento[_ngcontent-%COMP%]{min-width:270px}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]{align-items:center}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]   .bento[_ngcontent-%COMP%]{width:80%;min-width:unset;max-width:unset;max-height:unset;height:unset;min-height:50px}.bento-grid[_ngcontent-%COMP%]   .bento-inner-vertical[_ngcontent-%COMP%]   .bento[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:12px}}']})};var DZ=q_(D4());var IIe=["*"],iM=(()=>{class n{static _itemIdGenerator=0;_accordion=C(om);isOpened=W(!1,{transform:Lz});id=++n._itemIdGenerator;state=ee(()=>this._accordion.openItemIds().includes(this.id)?"open":"closed");constructor(){if(!this._accordion)throw Error("Accordion trigger can only be used inside an Accordion. Add brnAccordion to ancestor.");xt(()=>{let t=this.isOpened();Dt(()=>{t?this._accordion.openItem(this.id):this._accordion.closeItem(this.id)})})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnAccordionItem",""]],hostVars:1,hostBindings:function(r,i){r&2&&ut("data-state",i.state())},inputs:{isOpened:[1,"isOpened"]},exportAs:["brnAccordionItem"]})}return n})(),rM=(()=>{class n{_accordion=C(om);_item=C(iM);_elementRef=C(at);state=this._item.state;id=`brn-accordion-trigger-${this._item.id}`;ariaControls=`brn-accordion-content-${this._item.id}`;constructor(){if(!this._accordion)throw Error("Accordion trigger can only be used inside an Accordion. Add brnAccordion to ancestor.");if(!this._item)throw Error("Accordion trigger can only be used inside an AccordionItem. Add brnAccordionItem to parent.");en(this._elementRef.nativeElement,"focus").pipe(Wd()).subscribe(()=>{this._accordion.setActiveItem(this)})}toggle(t){t.preventDefault(),this._accordion.toggleItem(this._item.id)}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnAccordionTrigger",""]],hostAttrs:["role","heading","aria-level","3"],hostVars:4,hostBindings:function(r,i){r&1&&we("click",function(s){return i.toggle(s)})("keyup.space",function(s){return i.toggle(s)})("keyup.enter",function(s){return i.toggle(s)}),r&2&&(gr("id",i.id),ut("data-state",i.state())("aria-expanded",i.state()==="open")("aria-controls",i.ariaControls))}})}return n})(),AIe=["ArrowLeft","ArrowRight","PageDown","PageUp","Home","End"," ","Enter"],TIe=["ArrowUp","ArrowDown","PageDown","PageUp","Home","End"," ","Enter"],om=(()=>{class n{_el=C(at);_keyManager;_focusMonitor=C(lc);_focused=Me(!1);_openItemIds=Me([]);openItemIds=this._openItemIds.asReadonly();state=ee(()=>this._openItemIds().length>0?"open":"closed");triggers=ta(rM,{descendants:!0});type=W("single");dir=W(null);orientation=W("vertical");ngAfterContentInit(){this._keyManager=new qa(this.triggers()).withHomeAndEnd().withPageUpDown().withWrap(),this.orientation()==="horizontal"&&this._keyManager.withHorizontalOrientation(this.dir()??"ltr").withVerticalOrientation(!1),this._el.nativeElement.addEventListener("keydown",t=>{t.target.tagName!=="INPUT"&&(this._keyManager?.onKeydown(t),this.preventDefaultEvents(t))}),this._focusMonitor.monitor(this._el,!0).subscribe(t=>this._focused.set(t!==null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._el)}setActiveItem(t){this._keyManager?.setActiveItem(t)}toggleItem(t){if(this._openItemIds().includes(t)){this.closeItem(t);return}this.openItem(t)}openItem(t){if(this.type()==="single"){this._openItemIds.set([t]);return}this._openItemIds.update(r=>[...r,t])}closeItem(t){this._openItemIds.update(r=>r.filter(i=>t!==i))}preventDefaultEvents(t){if(!this._focused()||!("key"in t))return;(this.orientation()==="horizontal"?AIe:TIe).includes(t.key)&&t.code!=="NumpadEnter"&&t.preventDefault()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=he({type:n,selectors:[["","brnAccordion",""]],contentQueries:function(r,i,o){r&1&&Er(o,i.triggers,rM,5),r&2&&qn()},hostVars:2,hostBindings:function(r,i){r&2&&ut("data-state",i.state())("data-orientation",i.orientation())},inputs:{type:[1,"type"],dir:[1,"dir"],orientation:[1,"orientation"]},exportAs:["brnAccordion"]})}return n})(),TZ=(()=>{class n{_item=C(iM);state=this._item.state;id=`brn-accordion-content-${this._item.id}`;ariaLabeledBy=`brn-accordion-trigger-${this._item.id}`;_addInert=ee(()=>this.state()==="closed"?!0:void 0);contentClass=W("");_contentClass=Nr(()=>this.contentClass());constructor(){if(!this._item)throw Error("Accordion Content can only be used inside an AccordionItem. Add brnAccordionItem to parent.")}setClassToCustomElement(t){this._contentClass.set(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["brn-accordion-content"]],hostAttrs:["role","region"],hostVars:3,hostBindings:function(r,i){r&2&&(gr("id",i.id),ut("data-state",i.state())("aria-labelledby",i.ariaLabeledBy))},inputs:{contentClass:[1,"contentClass"]},ngContentSelectors:IIe,decls:3,vars:3,consts:[[2,"overflow","hidden"]],template:function(r,i){r&1&&(Ft(),Rn(0,"div",0)(1,"p"),Xe(2),Fn()()),r&2&&(ut("inert",i._addInert()),P(),te(i._contentClass()))},encapsulation:2,changeDetection:0})}return n})();var Mw=class n{_brn=C(om);userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex",this._brn.orientation()==="horizontal"?"flex-row":"flex-col",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmAccordion",""],["hlm-accordion"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([{directive:om,inputs:["type","type","dir","dir","orientation","orientation"]}])]})};var DIe=["*"],Sw=class n extends TZ{userClass=W("",{alias:"class"});_computedClass=ee(()=>{let e=this.state()==="open"?"grid-rows-[1fr]":"grid-rows-[0fr]";return be("text-sm transition-all grid",e,this.userClass())});static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["hlm-accordion-content"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ft],ngContentSelectors:DIe,decls:3,vars:1,consts:[[2,"overflow","hidden"],[1,"flex","flex-col","gap-4","text-balance","pb-4","pt-0"]],template:function(t,r){t&1&&(Ft(),Rn(0,"div",0)(1,"p",1),Xe(2),Fn()()),t&2&&ut("inert",r._addInert())},encapsulation:2,changeDetection:0})};var Iw=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["ng-icon","hlmAccordionIcon",""],["ng-icon","hlmAccIcon",""]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[Ne([Yt({lucideChevronDown:$d}),fz({size:"sm"})])]})};var Aw=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("flex flex-1 flex-col border-b border-border",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmAccordionItem",""],["brn-accordion-item","hlm",""],["hlm-accordion-item"]],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[ln([{directive:iM,inputs:["isOpened","isOpened"]}])]})};var Tw=class n{userClass=W("",{alias:"class"});_computedClass=ee(()=>be("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>[hlmAccIcon]]:rotate-180",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275dir=he({type:n,selectors:[["","hlmAccordionTrigger",""]],hostVars:4,hostBindings:function(t,r){t&2&&(te(r._computedClass()),To("--tw-ring-offset-shadow","0 0 #000"))},inputs:{userClass:[1,"class","userClass"]},features:[ln([rM])]})};function PIe(n,e){if(n&1){let t=tn();D(0,"button",17),we("click",function(){We(t);let i=ae();return Ge(i.buildIt())}),V(1," Generate "),I()}}function OIe(n,e){if(n&1&&se(0,"app-bento-viewer",15),n&2){let t=ae();ve("website",t.website)}}function NIe(n,e){if(n&1&&(D(0,"div",16)(1,"h1"),V(2,"No bento found"),I()()),n&2){let t=ae();P(),te(t.h1Style)}}var oM=class n extends Hn{colorArray=[];website=null;apiService=C(Fr);userService=C(er);initialValue=null;hlmDialogService=C(Jn);preloaderService=C(Un);location=C(Ro);themeService=C(_l);isBentoSaved=!1;isWebsiteGenerated=!1;codeService=C(wl);minimalColor=["#007BFF","#FF6B6B","#4CAF50","#FFC107","#00BCD4","#6C757D","#9C27B0"];retroColors=["#FF6B6B","#FFC107","#9C27B0","#FF5722","#795548"];modernColors=["#007BFF","#00BCD4","#4CAF50","#03A9F4","#E91E63"];professionalColors=["#007BFF","#6C757D","#4CAF50","#343A40","#212529"];username=this.userService.getCurrentUserObject().displayName;codeModel={language:"json",value:"",uri:"bento.json"};theme=this.themeService.getCurrentMode()==="dark"?"vs-dark":"vs-light";codeOption={automaticLayout:!0,wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,lineNumbers:"on",folding:!0,bracketPairColorization:{enabled:!0},suggest:{showKeywords:!0,showSnippets:!0}};ngOnInit(){return x(this,null,function*(){this.codeService.monaco.languages.register({id:"json"}),this.codeService.monaco.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[{uri:"http://bento-schema.json",fileMatch:["*"],schema:this.bentoSchema}]}),yield this.loadSavedBento()})}bentoSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Website",type:"object",properties:{elements:{type:"array",items:{$ref:"#/definitions/Bento"}}},required:["elements"],definitions:{InnerBento:{type:"object",properties:{heading:{type:"string"},content:{type:["string","null"]},icon:{type:["string","null"]},badge:{type:["string","null"]},link:{type:["string","null"],format:"uri"}},required:["heading"]},Bento:{type:"object",properties:{heading:{type:"string"},content:{type:"string"},innerBentos:{type:["array","null"],items:{$ref:"#/definitions/InnerBento"}},bigBento:{type:["boolean","null"]},layout:{type:["string","null"],enum:["default","featured","stats","timeline","gallery","contact",null]},size:{type:["string","null"],enum:["small","medium","large","xl",null]},accent:{type:["string","null"],enum:["primary","secondary","success","warning","info",null]},icon:{type:["string","null"]},image:{type:["string","null"],format:"uri"},tags:{type:["array","null"],items:{type:"string"}},stats:{type:["array","null"],items:{type:"object",properties:{label:{type:"string"},value:{type:"string"}},required:["label","value"]}},badge:{type:["string","null"]}},required:["heading","content"]}}};contentChange(e){try{this.website=JSON.parse(e),(0,DZ.isEqual)(this.website,this.initialValue)?this.isBentoSaved=!0:this.isBentoSaved=!1}catch{kp.error("Please correct syntax error")}}handleBack(){this.isBentoSaved?this.location.back():this.hlmDialogService.open(au,{context:{title:"Your Bento is not saved!",desc:"Your Bento pdf is not saved on cloud navigating back will cause in loss of data!, do you confirm to discard the data?"}}).closed$.subscribe(t=>{if(t==="yes")this.location.back();else return})}buildIt(){return x(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Sn.GET_BENTO_FROM_PORTFOLIO_DATA,null,yield this.userService.getCurrentUserObject().getIdToken()),console.log(this.website),localStorage.setItem("website",JSON.stringify(this.website)),this.isWebsiteGenerated=!0,this.isBentoSaved=!1}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Unable to generate the website",desc:e}})}finally{this.preloaderService.hide()}})}regenerateBento(){return x(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Sn.GET_BENTO_FROM_PORTFOLIO_DATA,null,yield this.userService.getCurrentUserObject().getIdToken()),this.codeModel={language:"json",value:JSON.stringify(this.website,null,2),uri:"bento.json"},this.isWebsiteGenerated=!0,this.isBentoSaved=!1}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Unable to regenerate the website",desc:e}})}finally{this.preloaderService.hide()}})}saveBento(){return x(this,null,function*(){if(!this.website){this.hlmDialogService.open(Xt,{context:{error:"No website to save",desc:"Please generate a website first"}});return}try{this.preloaderService.show(),yield this.apiService.post(Sn.SAVE_BENTO,this.website,yield this.userService.getCurrentUserObject().getIdToken()),this.isBentoSaved=!0,console.log("Website saved successfully")}catch(e){this.hlmDialogService.open(Xt,{context:{error:"Unable to save the website",desc:e}})}finally{this.preloaderService.hide()}})}loadSavedBento(){return x(this,null,function*(){try{this.preloaderService.show(),this.website=yield this.apiService.get(Sn.GET_BENTO_FROM_EMAIL,{email:this.userService.getCurrentUserObject().email},null),this.codeModel={language:"json",value:JSON.stringify(this.website,null,2),uri:"bento.json"},this.isWebsiteGenerated=!0,this.isBentoSaved=!0,this.initialValue=this.website}catch{console.log("No saved website found, user can generate a new one")}finally{this.preloaderService.hide()}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_n(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["app-bento-screen"]],features:[Ne([Yt({lucideArrowLeft:kg,lucideChevronDown:$d})]),ft],decls:22,vars:10,consts:[[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","w-full","p-3","sm:p-4","gap-3","sm:gap-4"],[1,"flex-shrink-0"],["hlmBtn","",1,"text-sm","sm:text-base",3,"click"],["size","20px",0,"sm","size","25px","name","lucideArrowLeft"],[1,"text-center","sm:text-left","text-lg","sm:text-xl","font-semibold","flex-1","px-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-2","w-full","sm:w-auto"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],["hlmBtn","",1,"w-full","sm:w-auto","text-sm",3,"click","disabled"],["hlmAccordion","",1,"mx-2","mb-4"],["hlmAccordionItem",""],[1,"contents"],["hlmAccordionTrigger",""],["name","lucideChevronDown","hlm","","hlmAccIcon",""],[1,"h-[500px]",3,"valueChanged","options","theme","codeModel"],[3,"website"],[1,"flex","items-center","justify-center","flex-col","h-[80vh]"],["hlmBtn","","variant","secondary",1,"w-full","sm:w-auto","text-sm",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"button",2),we("click",function(){return r.handleBack()}),se(3,"ng-icon",3),I()(),D(4,"div",4),V(5),I(),D(6,"div",5),ne(7,PIe,2,0,"button",6),D(8,"button",7),we("click",function(){return r.regenerateBento()}),V(9," Regenerate "),I(),D(10,"button",8),we("click",function(){return r.saveBento()}),V(11),I()()(),D(12,"div",9)(13,"div",10)(14,"h3",11)(15,"button",12),V(16," Code for bento "),se(17,"ng-icon",13),I()(),D(18,"hlm-accordion-content")(19,"ngs-code-editor",14),we("valueChanged",function(o){return r.contentChange(o)}),I()()()(),ne(20,OIe,1,1,"app-bento-viewer",15),ne(21,NIe,3,2,"div",16)),t&2&&(P(5),yt(" ",r.username,"'s Bento "),P(2),re(r.website?-1:7),P(),ve("disabled",!r.isWebsiteGenerated),P(2),ve("disabled",r.isBentoSaved),P(),yt(" ",r.isBentoSaved?"Saved":"Save"," "),P(8),ve("options",r.codeOption)("theme",r.theme)("codeModel",r.codeModel),P(),re(r.website?20:-1),P(),re(r.website?-1:21))},dependencies:[bn,o3,za,Mw,Aw,Tw,Iw,Sw,nn,im,eM],encapsulation:2})};var RZ=[{path:"register",component:cC,canActivate:[E6]},{path:"login",component:dC,canActivate:[E6]},{path:"home",component:hC,canActivate:[gp]},{path:"social-links",component:f4,canActivate:[gp]},{path:"analytics",component:P4,canActivate:[gp]},{path:"analytics-viewer",component:O4,canActivate:[gp]},{path:"resume-viewer/:email",component:JE},{path:"resume",component:nM,canActivate:[gp]},{path:"bento",component:oM,canActivate:[gp]},{path:"bento-viewer/:email",component:im},{path:"social-links/:email",component:T4},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}];var PZ={providers:[pD(),XI(),zT({eventCoalescing:!0}),BD(RZ),y$(()=>k$(ou.firebase)),IW(()=>TW()),gK(()=>wK()),TK(()=>DK()),SZ({baseUrl:"assets/monaco",typingsWorkerUrl:"assets/workers/typings-worker.js"})]};var sM=class n{constructor(e){this.themeService=e}toggleIcon="lucideSun";updateToggleIcon(){this.themeService.getCurrentMode()=="dark"?this.toggleIcon="lucideSun":this.toggleIcon="lucideMoon"}ngOnInit(){this.updateToggleIcon()}toggleTheme(){this.themeService.toggleMode(),this.updateToggleIcon()}static \u0275fac=function(t){return new(t||n)(Re(_l))};static \u0275cmp=de({type:n,selectors:[["app-theme-toggle"]],features:[Ne([Yt({lucideSun:$U,lucideMoon:VU})])],decls:2,vars:1,consts:[["id","themeToggleBtn","hlmBtn","",1,"px-2",3,"click"],["hlm","",3,"name"]],template:function(t,r){t&1&&(D(0,"button",0),we("click",function(){return r.toggleTheme()}),se(1,"ng-icon",1),I()),t&2&&(P(),ve("name",r.toggleIcon))},dependencies:[bn,jn,nn],encapsulation:2})};var LIe=["*"],Dw=class n{userClass=W("size-8",{alias:"class"});_computedClass=ee(()=>be("inline-block [&>svg]:text-foreground/30 [&>svg]:fill-accent",this.userClass()));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["hlm-spinner"]],hostAttrs:["role","status"],hostVars:2,hostBindings:function(t,r){t&2&&te(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:LIe,decls:5,vars:0,consts:[["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"motion-safe:animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"]],template:function(t,r){t&1&&(Ft(),ys(),Rn(0,"svg",0),Ci(1,"path",1)(2,"path",2),Fn(),Zy(),Rn(3,"span",3),Xe(4),Fn())},encapsulation:2,changeDetection:0})};function FIe(n,e){n&1&&(D(0,"div",0),se(1,"hlm-spinner",1),I())}var aM=class n{preloaderService=C(Un);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-preloader"]],decls:2,vars:3,consts:[[1,"preloader-frosty-bg"],[1,"size-15"]],template:function(t,r){t&1&&(ne(0,FIe,2,0,"div",0),Xo(1,"async")),t&2&&re(bs(1,1,r.preloaderService.loading$)?0:-1)},dependencies:[Po,Dw,JT],styles:[".preloader-frosty-bg[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background:#181a2059;backdrop-filter:blur(4px) saturate(1.5);-webkit-backdrop-filter:blur(4px) saturate(1.5)}"]})};var lM=class n{constructor(e){this.themeService=e}ngOnInit(){this.themeService.setMode()}title="Socially";static \u0275fac=function(t){return new(t||n)(Re(_l))};static \u0275cmp=de({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"theme-toggle-container"]],template:function(t,r){t&1&&(D(0,"router-outlet"),se(1,"app-preloader"),D(2,"div",0),se(3,"app-theme-toggle"),I()())},dependencies:[m2,sM,aM],encapsulation:2})};dD(lM,PZ).catch(n=>console.error(n));
